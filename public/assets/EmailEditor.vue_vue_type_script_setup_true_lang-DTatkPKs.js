import{P as Hq}from"./permission-CXLcAQMS.js";import{O as c9,w as wP,i as CP,a9 as Vq,r as Kp,W as OF,o as $q,b as Uq,aI as jq,aJ as Zq,ac as AF,N as uR,$ as d9,l as SP,n as fR,F as u9,M as f9,q as Ks,h as Wr,v as P3,C as NF,D as Wq,H as qq,A as Gq,G as Tm,x as $w,m as yP}from"./index-DWoJBaAj.js";import{u as Kq}from"./useConventionForms-BuKmEUF4.js";import{u as Yq,b as Xq}from"./useConventionSlug-CkFQ5rCe.js";import{e as Jq,V as Qq,a as eG,b as tG,c as oG,d as nG}from"./VCard-Bh0GtTSC.js";import{V as B3,a as vb}from"./VRow-t6XUObGt.js";import{V as rG}from"./VTextField-DEVkKC1W.js";import{V as dR}from"./VSelect-CyajT2HP.js";import{V as L3,d as xP}from"./VGrid-BjgFpAZn.js";import{V as sG}from"./VSpacer-qSTNPCcP.js";import{V as aG}from"./VDialog-yG2h32Ey.js";import{a as vP}from"./VList-BQEmKFTx.js";var Rf=(Tt=>(Tt.TARGET_TYPE_SYSTEM="SYSTEM",Tt.TARGET_TYPE_ORGANISATION="ORGANISATION",Tt.TARGET_TYPE_CONVENTION="CONVENTION",Tt))(Rf||{});const gK=[{title:"Convention",value:"CONVENTION"},{title:"Organisation",value:"ORGANISATION"},{title:"System",value:"SYSTEM"}],iG=1e3*60,RF=new Map;function lG(){const Tt=c9(),zo=async No=>{let Ot=RF.get(No);if(!Ot||Ot.timestamp<Date.now()-iG){const{Conventions:uo,Organisations:qt}=await Tt.getPermissionAccessList(No);Ot={conventions:uo,organisations:qt,timestamp:Date.now()},RF.set(No,Ot)}const So=Ot.conventions,Ro=Ot.organisations;return{Conventions:So,Organisations:Ro}};return{getConventionsWithPermission:async No=>{const{Conventions:Ot}=await zo(No);return Ot},getOrganisationsWithPermission:async No=>{const{Organisations:Ot}=await zo(No);return Ot}}}const cG=1e3*30,cR={templates:[],timestamp:0};function hK(){const Tt=c9(),{getConventionsWithPermission:zo}=lG();return{getEmailTemplateList:async(Qo,No,Ot)=>{let So=cR.templates;cR.timestamp<Date.now()-cG&&(So=await Tt.getEmailTemplates(),cR.templates=So,cR.timestamp=Date.now());const Ro=await zo(Hq.PERMISSION_TYPE_EDIT_CONVENTION);return(()=>{switch(Qo){case Rf.TARGET_TYPE_SYSTEM:return So.filter(qt=>qt.OwnerType===Rf.TARGET_TYPE_SYSTEM);case Rf.TARGET_TYPE_ORGANISATION:return No?So.filter(qt=>qt.OwnerType===Rf.TARGET_TYPE_ORGANISATION&&qt.OwnerUUID===No):So.filter(qt=>qt.OwnerType===Rf.TARGET_TYPE_ORGANISATION);case Rf.TARGET_TYPE_CONVENTION:return Ot?So.filter(qt=>qt.OwnerType===Rf.TARGET_TYPE_CONVENTION&&qt.OwnerUUID===Ot):No?So.filter(qt=>qt.OwnerType===Rf.TARGET_TYPE_CONVENTION&&!!Ro.find(bn=>bn.OrganisationUUID===No)):So.filter(qt=>qt.OwnerType===Rf.TARGET_TYPE_CONVENTION)}return[]})().sort((qt,bn)=>qt.Title.localeCompare(bn.Title))}}}var _P={exports:{}},DF;function dG(){return DF||(DF=1,function(Tt){(function(){var zo=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},Lo=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Qo=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},No=function(e,t){return Ot(function(n,r){return e.eq(t(n),t(r))})},Ot=function(e){return{eq:e}},So=Ot(function(e,t){return e===t}),Ro=So,uo=function(e){return Ot(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],n[i]))return!1;return!0})},qt=function(e,t){return No(uo(e),function(n){return Qo(n,t)})},bn=function(e){return Ot(function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!qt(Ro).eq(r,i))return!1;for(var c=r.length,u=0;u<c;u++){var g=r[u];if(!e.eq(t[g],n[g]))return!1}return!0})},hr=Ot(function(e,t){if(e===t)return!0;var n=zo(e),r=zo(t);return n!==r?!1:Lo(n)?e===t:n==="array"?uo(hr).eq(e,t):n==="object"?bn(hr).eq(e,t):!1});const Vr=Object.getPrototypeOf,Ht=(e,t,n)=>{var r;return n(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},Yt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Ht(e,String,(n,r)=>r.isPrototypeOf(n))?"string":t},sn=e=>t=>Yt(t)===e,Nn=e=>t=>typeof t===e,et=e=>t=>e===t,Ut=(e,t)=>ue(e)&&Ht(e,t,(n,r)=>Vr(n)===r),ht=sn("string"),ue=sn("object"),Ct=e=>Ut(e,Object),pe=sn("array"),qe=et(null),Zn=Nn("boolean"),ar=et(void 0),Po=e=>e==null,Le=e=>!Po(e),jt=Nn("function"),O=Nn("number"),To=(e,t)=>{if(pe(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},io=()=>{},Do=(e,t)=>(...n)=>e(t.apply(null,n)),qr=(e,t)=>n=>e(t(n)),Je=e=>()=>e,un=e=>e,Li=(e,t)=>e===t;function De(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const Se=e=>t=>!e(t),ot=e=>()=>{throw new Error(e)},$o=e=>e(),Eo=e=>{e()},bo=Je(!1),fo=Je(!0);class H{constructor(t,n){this.tag=t,this.value=n}static some(t){return new H(!0,t)}static none(){return H.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?H.some(t(this.value)):H.none()}bind(t){return this.tag?t(this.value):H.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:H.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Le(t)?H.some(t):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const ls=Array.prototype.slice,ir=Array.prototype.indexOf,Go=Array.prototype.push,gi=(e,t)=>ir.call(e,t),dl=(e,t)=>{const n=gi(e,t);return n===-1?H.none():H.some(n)},en=(e,t)=>gi(e,t)>-1,Cn=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const i=e[n];if(t(i,n))return!0}return!1},Ko=(e,t)=>{const n=e.length,r=new Array(n);for(let i=0;i<n;i++){const c=e[i];r[i]=t(c,i)}return r},Ne=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const i=e[n];t(i,n)}},yt=(e,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];t(r,n)}},it=(e,t)=>{const n=[],r=[];for(let i=0,c=e.length;i<c;i++){const u=e[i];(t(u,i)?n:r).push(u)}return{pass:n,fail:r}},Ke=(e,t)=>{const n=[];for(let r=0,i=e.length;r<i;r++){const c=e[r];t(c,r)&&n.push(c)}return n},to=(e,t,n)=>(yt(e,(r,i)=>{n=t(n,r,i)}),n),mo=(e,t,n)=>(Ne(e,(r,i)=>{n=t(n,r,i)}),n),Wo=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){const c=e[r];if(t(c,r))return H.some(c);if(n(c,r))break}return H.none()},zn=(e,t)=>Wo(e,t,bo),er=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const i=e[n];if(t(i,n))return H.some(n)}return H.none()},Rn=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!pe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Go.apply(t,e[n])}return t},Yn=(e,t)=>Rn(Ko(e,t)),ts=(e,t)=>{for(let n=0,r=e.length;n<r;++n){const i=e[n];if(t(i,n)!==!0)return!1}return!0},Vs=e=>{const t=ls.call(e,0);return t.reverse(),t},Fn=(e,t)=>Ke(e,n=>!en(t,n)),$r=(e,t)=>{const n={};for(let r=0,i=e.length;r<i;r++){const c=e[r];n[String(c)]=t(c,r)}return n},Yo=(e,t)=>{const n=ls.call(e,0);return n.sort(t),n},Ys=(e,t)=>t>=0&&t<e.length?H.some(e[t]):H.none(),ut=e=>Ys(e,0),ko=e=>Ys(e,e.length-1),Io=jt(Array.from)?Array.from:e=>ls.call(e),Xs=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return H.none()},hi=(e,t)=>{const n=[],r=jt(t)?i=>Cn(n,c=>t(c,i)):i=>en(n,i);for(let i=0,c=e.length;i<c;i++){const u=e[i];r(u)||n.push(u)}return n},rt=Object.keys,Ka=Object.hasOwnProperty,Fo=(e,t)=>{const n=rt(e);for(let r=0,i=n.length;r<i;r++){const c=n[r],u=e[c];t(u,c)}},Ii=(e,t)=>Wn(e,(n,r)=>({k:r,v:t(n,r)})),Wn=(e,t)=>{const n={};return Fo(e,(r,i)=>{const c=t(r,i);n[c.k]=c.v}),n},bs=e=>(t,n)=>{e[n]=t},El=(e,t,n,r)=>{Fo(e,(i,c)=>{(t(i,c)?n:r)(i,c)})},zl=(e,t)=>{const n={},r={};return El(e,t,bs(n),bs(r)),{t:n,f:r}},Ji=(e,t)=>{const n={};return El(e,t,bs(n),io),n},Oa=(e,t)=>{const n=[];return Fo(e,(r,i)=>{n.push(t(r,i))}),n},Tl=e=>Oa(e,un),Hn=(e,t)=>go(e,t)?H.from(e[t]):H.none(),go=(e,t)=>Ka.call(e,t),Ya=(e,t)=>go(e,t)&&e[t]!==void 0&&e[t]!==null,Os=(e,t,n=hr)=>bn(n).eq(e,t),kc=e=>{const t={};return Ne(e,n=>{t[n]={}}),rt(t)},_t=e=>e.length!==void 0,Qi=Array.isArray,Xa=e=>{if(Qi(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},Dr=(e,t,n)=>{if(!e)return!1;if(n=n||e,_t(e)){for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(go(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},Ad=(e,t)=>{const n=[];return Dr(e,(r,i)=>{n.push(t(r,i,e))}),n},Ia=(e,t)=>{const n=[];return Dr(e,(r,i)=>{(!t||t(r,i,e))&&n.push(r)}),n},bi=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},Fi=(e,t,n,r)=>{let i=ar(n)?e[0]:n;for(let c=0;c<e.length;c++)i=t.call(r,i,e[c],c);return i},dr=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},ma=e=>e[e.length-1],Ja=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},ru=(e,t,n,r)=>{const i=e.isiOS()&&/ipad/i.test(n)===!0,c=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),g=u||r("(pointer:coarse)"),x=i||!c&&u&&r("(min-device-width:768px)"),C=c||u&&!x,R=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,B=!C&&!x&&!R;return{isiPad:Je(i),isiPhone:Je(c),isTablet:Je(x),isPhone:Je(C),isTouch:Je(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Je(R),isDesktop:Je(B)}},Gl=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}},Hi=(e,t)=>{const n=Gl(e,t);if(!n)return{major:0,minor:0};const r=i=>Number(t.replace(n,"$"+i));return yn(r(1),r(2))},Nd=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Rd():Hi(e,n)},Rd=()=>yn(0,0),yn=(e,t)=>({major:e,minor:t}),ys={nu:yn,detect:Nd,unknown:Rd},pa=(e,t)=>Xs(t.brands,n=>{const r=n.brand.toLowerCase();return zn(e,i=>{var c;return r===((c=i.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(i=>({current:i.name,version:ys.nu(parseInt(n.version,10),0)}))}),Dd=(e,t)=>{const n=String(t).toLowerCase();return zn(e,r=>r.search(n))},Uu=(e,t)=>Dd(e,t).map(n=>{const r=ys.detect(n.versionRegexes,t);return{current:n.name,version:r}}),Md=(e,t)=>Dd(e,t).map(n=>{const r=ys.detect(n.versionRegexes,t);return{current:n.name,version:r}}),os=(e,t)=>e.substring(t),yi=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,xi=(e,t)=>ur(e,t)?os(e,t.length):e,br=(e,t,n=0,r)=>{const i=e.indexOf(t,n);return i!==-1?ar(r)?!0:i+t.length<=r:!1},ur=(e,t)=>yi(e,t,0),Vi=(e,t)=>yi(e,t,e.length-t.length),Qa=e=>t=>t.replace(e,""),ga=Qa(/^\s+|\s+$/g),el=Qa(/^\s+/g),cs=Qa(/\s+$/g),yr=e=>e.length>0,vi=e=>!yr(e),$s=(e,t)=>t<=0?"":new Array(t+1).join(e),qn=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?H.none():H.some(n)},ha=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ei=e=>t=>br(t,e),su=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>br(e,"edge/")&&br(e,"chrome")&&br(e,"safari")&&br(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ha],search:e=>br(e,"chrome")&&!br(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>br(e,"msie")||br(e,"trident")},{name:"Opera",versionRegexes:[ha,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ei("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ei("firefox")},{name:"Safari",versionRegexes:[ha,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(br(e,"safari")||br(e,"mobile/"))&&br(e,"applewebkit")}],lo=[{name:"Windows",search:ei("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>br(e,"iphone")||br(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ei("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ei("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ei("linux"),versionRegexes:[]},{name:"Solaris",search:ei("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ei("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ei("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ws={browsers:Je(su),oses:Je(lo)},ds="Edge",us="Chromium",au="IE",Ur="Opera",Kl="Firefox",Ol="Safari",Zt=()=>ti({current:void 0,version:ys.unknown()}),ti=e=>{const t=e.current,n=e.version,r=i=>()=>t===i;return{current:t,version:n,isEdge:r(ds),isChromium:r(us),isIE:r(au),isOpera:r(Ur),isFirefox:r(Kl),isSafari:r(Ol)}},_i={unknown:Zt,nu:ti},Us="Windows",wc="iOS",wr="Android",$i="Linux",ki="macOS",an="Solaris",ul="FreeBSD",Al="ChromeOS",Bd=()=>Cr({current:void 0,version:ys.unknown()}),Cr=e=>{const t=e.current,n=e.version,r=i=>()=>t===i;return{current:t,version:n,isWindows:r(Us),isiOS:r(wc),isAndroid:r(wr),isMacOS:r(ki),isLinux:r($i),isSolaris:r(an),isFreeBSD:r(ul),isChromeOS:r(Al)}},Aa={unknown:Bd,nu:Cr},Dn={detect:(e,t,n)=>{const r=ws.browsers(),i=ws.oses(),c=t.bind(x=>pa(r,x)).orThunk(()=>Uu(r,e)).fold(_i.unknown,_i.nu),u=Md(i,e).fold(Aa.unknown,Aa.nu),g=ru(u,c,e,n);return{browser:c,os:u,deviceType:g}}},Yl=e=>window.matchMedia(e).matches;let Gr=Ja(()=>Dn.detect(window.navigator.userAgent,H.from(window.navigator.userAgentData),Yl));const js=()=>Gr(),q=window.navigator.userAgent,ae=js(),_e=ae.browser,He=ae.os,dt=ae.deviceType,It=q.indexOf("Windows Phone")!==-1,Rt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:_e.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!_e.isIE(),windowsPhone:It,browser:{current:_e.current,version:_e.version,isChromium:_e.isChromium,isEdge:_e.isEdge,isFirefox:_e.isFirefox,isIE:_e.isIE,isOpera:_e.isOpera,isSafari:_e.isSafari},os:{current:He.current,version:He.version,isAndroid:He.isAndroid,isChromeOS:He.isChromeOS,isFreeBSD:He.isFreeBSD,isiOS:He.isiOS,isLinux:He.isLinux,isMacOS:He.isMacOS,isSolaris:He.isSolaris,isWindows:He.isWindows},deviceType:{isDesktop:dt.isDesktop,isiPad:dt.isiPad,isiPhone:dt.isiPhone,isPhone:dt.isPhone,isTablet:dt.isTablet,isTouch:dt.isTouch,isWebView:dt.isWebView}},Sr=/^\s*|\s*$/g,fn=e=>Po(e)?"":(""+e).replace(Sr,""),xr=(e,t)=>t?t==="array"&&Qi(e)?!0:typeof e===t:e!==void 0,fr=(e,t,n={})=>{const r=ht(e)?e.split(t||","):e||[];let i=r.length;for(;i--;)n[r[i]]={};return n},Xc=go,oi=(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(go(r,i)){const c=r[i];c!==void 0&&(e[i]=c)}}return e},iu=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Dr(e,(i,c)=>t.call(r,i,c,n)===!1?!1:(iu(i,t,n,r),!0)))},gt={trim:fn,isArray:Qi,is:xr,toArray:Xa,makeMap:fr,each:Dr,map:Ad,grep:Ia,inArray:bi,hasOwn:Xc,extend:oi,walk:iu,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,i=n.length;r<i&&(t=t[n[r]],!!t);r++);return t},explode:(e,t)=>pe(e)?e:e===""?[]:Ad(e.split(t||","),fn),_addCacheSuffix:e=>{const t=Rt.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Pd=(e,t,n=Li)=>e.exists(r=>n(r,t)),Jc=(e,t,n=Li)=>ba(e,t,n).getOr(e.isNone()&&t.isNone()),Mf=e=>{const t=[],n=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return t},ba=(e,t,n)=>e.isSome()&&t.isSome()?H.some(n(e.getOrDie(),t.getOrDie())):H.none(),Ld=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?H.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):H.none(),lu=(e,t)=>e?H.some(t):H.none(),Wg=typeof window<"u"?window:Function("return this;")(),Yp=(e,t)=>{let n=t??Wg;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},qg=(e,t)=>{const n=e.split(".");return Yp(n,t)},_b=(e,t)=>qg(e,t),Gg=(e,t)=>{const n=_b(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Kg=Object.getPrototypeOf,Bf=e=>Gg("HTMLElement",e),Cc=e=>{const t=qg("ownerDocument.defaultView",e);return ue(e)&&(Bf(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Kg(e).constructor.name))},Id=8,Zu=9,Js=11,Qc=1,Xl=3,mn=e=>e.dom.nodeName.toLowerCase(),Fa=e=>e.dom.nodeType,cu=e=>t=>Fa(t)===e,Om=e=>Fa(e)===Id||mn(e)==="#comment",ya=e=>ni(e)&&Cc(e.dom),ni=cu(Qc),Zs=cu(Xl),Nl=cu(Zu),xs=cu(Js),ia=e=>t=>ni(t)&&mn(t)===e,wi=(e,t,n)=>{if(ht(n)||Zn(n)||O(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Tn=(e,t,n)=>{wi(e.dom,t,n)},fl=(e,t)=>{const n=e.dom;Fo(t,(r,i)=>{wi(n,i,r)})},xa=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},As=(e,t)=>H.from(xa(e,t)),tl=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Sn=(e,t)=>{e.dom.removeAttribute(t)},Ns=e=>{const t=e.dom.attributes;return t==null||t.length===0},Rl=e=>mo(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Rs=(e,t)=>{const n=xa(e,t);return n===void 0||n===""?[]:n.split(" ")},Cs=(e,t,n)=>{const i=Rs(e,t).concat([n]);return Tn(e,t,i.join(" ")),!0},Mt=(e,t,n)=>{const r=Ke(Rs(e,t),i=>i!==n);return r.length>0?Tn(e,t,r.join(" ")):Sn(e,t),!1},Dl=e=>e.dom.classList!==void 0,ed=e=>Rs(e,"class"),cn=(e,t)=>Cs(e,"class",t),td=(e,t)=>Mt(e,"class",t),du=(e,t)=>en(ed(e),t)?td(e,t):cn(e,t),Jl=(e,t)=>{Dl(e)?e.dom.classList.add(t):cn(e,t)},Wu=e=>{(Dl(e)?e.dom.classList:ed(e)).length===0&&Sn(e,"class")},Ha=(e,t)=>{Dl(e)?e.dom.classList.remove(t):td(e,t),Wu(e)},Am=(e,t)=>{const n=Dl(e)?e.dom.classList.toggle(t):du(e,t);return Wu(e),n},Fd=(e,t)=>Dl(e)&&e.dom.classList.contains(t),Vn=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const i="HTML does not have a single root node";throw console.error(i,e),new Error(i)}return Sc(r.childNodes[0])},Ui=(e,t)=>{const r=(t||document).createElement(e);return Sc(r)},Hd=(e,t)=>{const r=(t||document).createTextNode(e);return Sc(r)},Sc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},re={fromHtml:Vn,fromTag:Ui,fromText:Hd,fromDom:Sc,fromPoint:(e,t,n)=>H.from(e.dom.elementFromPoint(t,n)).map(Sc)},va=(e,t)=>{const n=[],r=c=>(n.push(c),t(c));let i=t(e);do i=i.bind(r);while(i.isSome());return n},Va=(e,t)=>{const n=e.dom;if(n.nodeType!==Qc)return!1;{const r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Nm=e=>e.nodeType!==Qc&&e.nodeType!==Zu&&e.nodeType!==Js||e.childElementCount===0,Rm=(e,t)=>{const n=t===void 0?document:t.dom;return Nm(n)?[]:Ko(n.querySelectorAll(e),re.fromDom)},Ci=(e,t)=>{const n=t===void 0?document:t.dom;return Nm(n)?H.none():H.from(n.querySelector(e)).map(re.fromDom)},Xo=(e,t)=>e.dom===t.dom,$a=(e,t)=>{const n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},ol=e=>re.fromDom(e.dom.ownerDocument),Ml=e=>Nl(e)?e:ol(e),uu=e=>re.fromDom(Ml(e).dom.documentElement),Er=e=>re.fromDom(Ml(e).dom.defaultView),ri=e=>H.from(e.dom.parentNode).map(re.fromDom),Ql=e=>H.from(e.dom.parentElement).map(re.fromDom),ec=(e,t)=>{const n=jt(t)?t:bo;let r=e.dom;const i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const c=r.parentNode,u=re.fromDom(c);if(i.push(u),n(u)===!0)break;r=c}return i},od=e=>{const t=n=>Ke(n,r=>!Xo(e,r));return ri(e).map(_a).map(t).getOr([])},ml=e=>H.from(e.dom.previousSibling).map(re.fromDom),Vd=e=>H.from(e.dom.nextSibling).map(re.fromDom),fu=e=>Vs(va(e,ml)),tc=e=>va(e,Vd),_a=e=>Ko(e.dom.childNodes,re.fromDom),$d=(e,t)=>{const n=e.dom.childNodes;return H.from(n[t]).map(re.fromDom)},Dm=e=>$d(e,0),mu=e=>$d(e,e.dom.childNodes.length-1),pu=e=>e.dom.childNodes.length,Si=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return re.fromDom(t)},no=e=>xs(e)&&Le(e.dom.host),Ei=e=>re.fromDom(e.dom.getRootNode()),nd=e=>no(e)?e:Si(Ml(e)),gu=e=>no(e)?e:re.fromDom(Ml(e).dom.body),hu=e=>{const t=Ei(e);return no(t)?H.some(t):H.none()},ji=e=>re.fromDom(e.dom.host),rd=e=>{if(Le(e.target)){const t=re.fromDom(e.target);if(ni(t)&&bu(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return ut(n)}}return H.from(e.target)},bu=e=>Le(e.dom.shadowRoot),Mr=e=>{const t=Zs(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return hu(re.fromDom(t)).fold(()=>n.body.contains(t),qr(Mr,ji))};var yu=(e,t,n,r,i)=>e(n,r)?H.some(n):jt(i)&&i(n)?H.none():t(n,r,i);const pl=(e,t,n)=>{let r=e.dom;const i=jt(n)?n:bo;for(;r.parentNode;){r=r.parentNode;const c=re.fromDom(r);if(t(c))return H.some(c);if(i(c))break}return H.none()},Ec=(e,t,n)=>yu((i,c)=>c(i),pl,e,t,n),Pf=(e,t)=>{const n=e.dom;return n.parentNode?oc(re.fromDom(n.parentNode),r=>!Xo(e,r)&&t(r)):H.none()},oc=(e,t)=>{const n=i=>t(re.fromDom(i));return zn(e.dom.childNodes,n).map(re.fromDom)},nc=(e,t)=>{const n=r=>{for(let i=0;i<r.childNodes.length;i++){const c=re.fromDom(r.childNodes[i]);if(t(c))return H.some(c);const u=n(r.childNodes[i]);if(u.isSome())return u}return H.none()};return n(e.dom)},sd=(e,t,n)=>pl(e,r=>Va(r,t),n),tr=(e,t)=>Ci(t,e),la=(e,t,n)=>yu((i,c)=>Va(i,c),sd,e,t,n),ka=e=>la(e,"[contenteditable]"),si=(e,t=!1)=>Mr(e)?e.dom.isContentEditable:ka(e).fold(Je(t),n=>Ua(n)==="true"),Ua=e=>e.dom.contentEditable,zc=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Ss=e=>e.style!==void 0&&jt(e.style.getPropertyValue),ca=(e,t,n)=>{if(!ht(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ss(e)&&e.style.setProperty(t,n)},Lf=(e,t)=>{Ss(e)&&e.style.removeProperty(t)},Ge=(e,t,n)=>{const r=e.dom;ca(r,t,n)},Qs=(e,t)=>{const n=e.dom;Fo(t,(r,i)=>{ca(n,i,r)})},zi=(e,t)=>{const n=e.dom,i=window.getComputedStyle(n).getPropertyValue(t);return i===""&&!Mr(e)?ms(n,t):i},ms=(e,t)=>Ss(e)?e.style.getPropertyValue(t):"",Ws=(e,t)=>{const n=e.dom,r=ms(n,t);return H.from(r).filter(i=>i.length>0)},Ti=e=>{const t={},n=e.dom;if(Ss(n))for(let r=0;r<n.style.length;r++){const i=n.style.item(r);t[i]=n.style[i]}return t},gl=(e,t)=>{const n=e.dom;Lf(n,t),Pd(As(e,"style").map(ga),"")&&Sn(e,"style")},If=e=>e.dom.offsetWidth,jr=(e,t)=>{ri(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Jo=(e,t)=>{Vd(e).fold(()=>{ri(e).each(i=>{Br(i,t)})},r=>{jr(r,t)})},Zi=(e,t)=>{Dm(e).fold(()=>{Br(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Br=(e,t)=>{e.dom.appendChild(t.dom)},Zr=(e,t)=>{jr(e,t),Br(t,e)},Mm=(e,t)=>{Ne(t,(n,r)=>{const i=r===0?e:t[r-1];Jo(i,n)})},Na=(e,t)=>{Ne(t,n=>{Br(e,n)})},rc=e=>{e.dom.textContent="",Ne(_a(e),t=>{dn(t)})},dn=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ee=e=>{const t=_a(e);t.length>0&&Mm(e,t),dn(e)},wa=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,_a(re.fromDom(r))},Ra=e=>Ko(e,re.fromDom),or=e=>e.dom.innerHTML,Ca=(e,t)=>{const r=ol(e).dom,i=re.fromDom(r.createDocumentFragment()),c=wa(t,r);Na(i,c),rc(e),Br(e,i)},ea=e=>{const t=re.fromTag("div"),n=re.fromDom(e.dom.cloneNode(!0));return Br(t,n),or(t)},Xn=(e,t,n,r,i,c,u)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:c,raw:u}),sc=e=>{const t=re.fromDom(rd(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=Do(r,n);return Xn(t,e.clientX,e.clientY,n,r,i,e)},Ff=(e,t)=>n=>{e(n)&&t(sc(n))},S=(e,t,n,r,i)=>{const c=Ff(n,r);return e.dom.addEventListener(t,c,i),{unbind:De(U,e,t,c,i)}},M=(e,t,n,r)=>S(e,t,n,r,!1),U=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},le=(e,t)=>({left:e,top:t,translate:(r,i)=>le(e+r,t+i)}),ge=le,nt=e=>{const t=e.getBoundingClientRect();return ge(t.left,t.top)},ro=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ho=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return ge(n.offsetLeft,n.offsetTop);const c=ro(r==null?void 0:r.pageYOffset,i.scrollTop),u=ro(r==null?void 0:r.pageXOffset,i.scrollLeft),g=ro(i.clientTop,n.clientTop),x=ro(i.clientLeft,n.clientLeft);return _o(e).translate(u-x,c-g)},_o=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?ge(r.offsetLeft,r.offsetTop):Mr(e)?nt(t):ge(0,0)},Dt=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return ge(n,r)},Ln=(e,t,n)=>{const i=(n!==void 0?n.dom:document).defaultView;i&&i.scrollTo(e,t)},ns=(e,t)=>{js().browser.isSafari()&&jt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Wi=e=>{const t=e===void 0?window:e;return js().browser.isFirefox()?H.none():H.from(t.visualViewport)},ai=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Da=e=>{const t=e===void 0?window:e,n=t.document,r=Dt(re.fromDom(n));return Wi(t).fold(()=>{const i=t.document.documentElement,c=i.clientWidth,u=i.clientHeight;return ai(r.left,r.top,c,u)},i=>ai(Math.max(i.pageLeft,r.left),Math.max(i.pageTop,r.top),i.width,i.height))},Bm=(e,t)=>Ke(_a(e),t),Ud=(e,t)=>{let n=[];return Ne(_a(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(Ud(r,t))}),n},Ds=(e,t)=>Rm(t,e),Oi=(e,t,n)=>pl(e,t,n).isSome(),hl=(e,t)=>Pf(e,t).isSome(),Xp=(e,t)=>nc(e,t).isSome();class Kr{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,i){if(t){if(!i&&t[n])return t[n];if(t!==this.rootNode){let c=t[r];if(c)return c;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(c=u[r],c)return c}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let c=r.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return r}const i=t.parentNode;if(i&&i!==this.rootNode)return i}}}const Pm="\uFEFF",rs=" ",Tc=e=>e===Pm,Oc=e=>e.replace(/\uFEFF/g,""),kb=/^[ \t\r\n]*$/,Ac=e=>kb.test(e),Jp=e=>{for(const t of e)if(!Tc(t))return!1;return!0},wb=e=>" \f	\v".indexOf(e)!==-1,ps=e=>e===`
`||e==="\r",O1=(e,t)=>t<e.length&&t>=0?ps(e[t]):!1,Nc=(e,t=4,n=!0,r=!0)=>{const i=$s(" ",t),c=e.replace(/\t/g,i);return mo(c,(g,x)=>wb(x)||x===rs?g.pcIsSpace||g.str===""&&n||g.str.length===c.length-1&&r||O1(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+rs}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:ps(x),str:g.str+x},{pcIsSpace:!1,str:""}).str},bl=e=>t=>!!t&&t.nodeType===e,Hf=e=>!!e&&!Object.getPrototypeOf(e),At=bl(1),ta=e=>At(e)&&ya(re.fromDom(e)),Lm=e=>At(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",ad=e=>{const t=e.toLowerCase();return n=>Le(n)&&n.nodeName.toLowerCase()===t},Bl=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return en(t,r)}return!1}},jd=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(At(r)){const i=r.ownerDocument.defaultView;if(i)for(let c=0;c<n.length;c++){const u=i.getComputedStyle(r,null);if((u?u.getPropertyValue(e):null)===n[c])return!0}}return!1}},Vf=e=>t=>At(t)&&t.hasAttribute(e),ac=e=>At(e)&&e.hasAttribute("data-mce-bogus"),Cb=e=>At(e)&&e.getAttribute("data-mce-bogus")==="all",id=e=>At(e)&&e.tagName==="TABLE",Im=e=>t=>!!(ta(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),xu=Bl(["textarea","input"]),lt=bl(3),ld=bl(4),Gu=bl(7),ic=bl(8),cd=bl(9),Ku=bl(11),ss=ad("br"),Zd=ad("img"),Ai=Im("true"),vr=Im("false"),Fm=e=>ta(e)&&e.isContentEditable&&Le(e.parentElement)&&!e.parentElement.isContentEditable,Vo=Bl(["td","th"]),Vt=Bl(["td","th","caption"]),qi=Bl(["video","audio","object","embed"]),Yu=ad("li"),$f=ad("details"),Yg=ad("summary"),mr={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Sb=(e,t,n)=>{const r=re.fromDom(t),i=re.fromDom(e),c=n.getWhitespaceElements();return Oi(i,g=>go(c,mn(g)),De(Xo,r))},A1=e=>At(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),je=(e,t)=>At(e)&&go(t.getNonEmptyElements(),e.nodeName),Xu=Vf("data-mce-bookmark"),Hm=e=>Ql(re.fromDom(e)).exists(t=>!si(t)),Ju=(e,t,n)=>Ac(e.data)&&!Sb(e,t,n),Qu=(e,t,n,r)=>lt(e)&&!Ju(e,t,n)&&(!r.includeZwsp||!Jp(e.data)),lc=(e,t,n,r)=>jt(r.isContent)&&r.isContent(t)||je(t,e)||Xu(t)||A1(t)||Qu(t,n,e,r)||vr(t)||Ai(t)&&Hm(t),Pl=(e,t,n)=>{const r={...mr,...n};if(r.checkRootAsContent&&lc(e,t,t,r))return!1;let i=t.firstChild,c=0;if(!i)return!0;const u=new Kr(i,t);do{if(r.skipBogus&&At(i)){const g=i.getAttribute("data-mce-bogus");if(g){i=u.next(g==="all");continue}}if(ic(i)){i=u.next(!0);continue}if(ss(i)){c++,i=u.next();continue}if(lc(e,i,t,r))return!1;i=u.next()}while(i);return c<=1},Es=(e,t,n)=>Pl(e,t.dom,{checkRootAsContent:!0,...n}),Jn=(e,t,n)=>lc(e,t,t,{includeZwsp:mr.includeZwsp,...n}),zr=e=>{let t=e;return{get:()=>t,set:i=>{t=i}}},ef=e=>{const t=zr(H.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(H.some(g))}}},Wd=e=>{const t=zr(H.none()),n=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{n(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(H.some(setInterval(g,e)))}}},cc=()=>{const e=ef(io);return{...e,on:n=>e.get().each(n)}},Uf=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},k=e=>Uf(e)!=="html",T=e=>k(e.nodeName),V=e=>Uf(e.nodeName),Q=["svg","math"],ye=()=>{const e=cc(),t=()=>e.get().map(V).getOr("html");return{track:i=>(T(i)?e.set(i):e.get().exists(c=>!c.contains(i))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Ie="data-mce-block",xe=e=>Ke(rt(e),t=>!/[A-Z]/.test(t)),Bt=e=>Ko(xe(e),t=>{const n=CSS.escape(t);return`${n}:`+Ko(Q,r=>`not(${r} ${n})`).join(":")}).join(","),Gt=(e,t)=>Le(t.querySelector(e))?(t.setAttribute(Ie,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Ie),!1),Mo=(e,t)=>{const n=Bt(e.getTransparentElements()),r=Bt(e.getBlockElements());return Ke(t.querySelectorAll(n),i=>Gt(r,i))},nr=(e,t,n)=>{var r;const i=n?"lastChild":"firstChild";for(let c=t[i];c;c=c[i])if(Pl(e,c,{checkRootAsContent:!0})){(r=c.parentNode)===null||r===void 0||r.removeChild(c);return}},rr=(e,t,n)=>{const r=document.createRange(),i=t.parentNode;if(i){r.setStartBefore(t),r.setEndBefore(n);const c=r.extractContents();nr(e,c,!0),r.setStartAfter(n),r.setEndAfter(t);const u=r.extractContents();nr(e,u,!1),Pl(e,c,{checkRootAsContent:!0})||i.insertBefore(c,t),Pl(e,n,{checkRootAsContent:!0})||i.insertBefore(n,t),Pl(e,u,{checkRootAsContent:!0})||i.insertBefore(u,t),i.removeChild(t)}},Pr=(e,t,n)=>{const r=e.getBlockElements(),i=re.fromDom(t),c=g=>mn(g)in r,u=g=>Xo(g,i);Ne(Ra(n),g=>{pl(g,c,u).each(x=>{const C=Bm(g,R=>c(R)&&!e.isValidChild(mn(x),mn(R)));if(C.length>0){const R=Ql(x);Ne(C,B=>{pl(B,c,u).each(L=>{rr(e,L.dom,B.dom)})}),R.each(B=>Mo(e,B.dom))}})})},ja=(e,t,n)=>{Ne([...n,...cr(e,t)?[t]:[]],r=>Ne(Ds(re.fromDom(r),r.nodeName.toLowerCase()),i=>{yl(e,i.dom)&&Ee(i)}))},ii=(e,t)=>{const n=Mo(e,t);Pr(e,t,n),ja(e,t,n)},dc=(e,t)=>{if(lr(e,t)){const n=Bt(e.getBlockElements());Gt(n,t)}},dd=(e,t,n)=>{const r=c=>Xo(c,re.fromDom(t)),i=ec(re.fromDom(n),r);Ys(i,i.length-2).filter(ni).fold(()=>ii(e,t),c=>ii(e,c.dom))},Tr=e=>e.hasAttribute(Ie),zs=(e,t)=>go(e.getTransparentElements(),t),lr=(e,t)=>At(t)&&zs(e,t.nodeName),cr=(e,t)=>lr(e,t)&&Tr(t),yl=(e,t)=>lr(e,t)&&!Tr(t),li=(e,t)=>t.type===1&&zs(e,t.name)&&ht(t.attr(Ie)),jf=js().browser,xl=e=>zn(e,ni),Xg=e=>jf.isFirefox()&&mn(e)==="table"?xl(_a(e)).filter(t=>mn(t)==="caption").bind(t=>xl(tc(t)).map(n=>{const r=n.dom.offsetTop,i=t.dom.offsetTop,c=t.dom.offsetHeight;return r<=i?-c:0})).getOr(0):0,pn=(e,t)=>e.children&&en(e.children,t),as=(e,t,n)=>{let r=0,i=0;const c=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&zi(re.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return r=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,i=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:r,y:i}}let u=t;for(;u&&u!==n&&u.nodeType&&!pn(u,n);){const g=u;r+=g.offsetLeft||0,i+=g.offsetTop||0,u=g.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!pn(u,n);)r-=u.scrollLeft||0,i-=u.scrollTop||0,u=u.parentNode;i+=Xg(re.fromDom(t))}return{x:r,y:i}},ci=(e,t={})=>{let n=0;const r={},i=re.fromDom(e),c=Ml(i),u=me=>{t.referrerPolicy=me},g=me=>{t.contentCssCors=me},x=me=>{Br(nd(i),me)},C=me=>{const Ce=nd(i);tr(Ce,"#"+me).each(dn)},R=me=>Hn(r,me).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),B=me=>new Promise((Ce,ze)=>{let Re;const Xe=gt._addCacheSuffix(me),pt=R(Xe);r[Xe]=pt,pt.count++;const Nt=(Et,Qt)=>{Ne(Et,Eo),pt.status=Qt,pt.passed=[],pt.failed=[],Re&&(Re.onload=null,Re.onerror=null,Re=null)},Ze=()=>Nt(pt.passed,2),Pe=()=>Nt(pt.failed,3);if(Ce&&pt.passed.push(Ce),ze&&pt.failed.push(ze),pt.status===1)return;if(pt.status===2){Ze();return}if(pt.status===3){Pe();return}pt.status=1;const tt=re.fromTag("link",c.dom);fl(tt,{rel:"stylesheet",type:"text/css",id:pt.id}),t.contentCssCors&&Tn(tt,"crossOrigin","anonymous"),t.referrerPolicy&&Tn(tt,"referrerpolicy",t.referrerPolicy),Re=tt.dom,Re.onload=Ze,Re.onerror=Pe,x(tt),Tn(tt,"href",Xe)}),L=(me,Ce)=>{const ze=R(me);r[me]=ze,ze.count++;const Re=re.fromTag("style",c.dom);fl(Re,{rel:"stylesheet",type:"text/css",id:ze.id,"data-mce-key":me}),Re.dom.innerHTML=Ce,x(Re)},W=me=>Promise.allSettled(Ko(me,ze=>B(ze).then(Je(ze)))).then(ze=>{const Re=it(ze,Xe=>Xe.status==="fulfilled");return Re.fail.length>0?Promise.reject(Ko(Re.fail,Xe=>Xe.reason)):Ko(Re.pass,Xe=>Xe.value)}),ee=me=>{const Ce=gt._addCacheSuffix(me);Hn(r,Ce).each(ze=>{--ze.count===0&&(delete r[Ce],C(ze.id))})};return{load:B,loadRawCss:L,loadAll:W,unload:ee,unloadRawCss:me=>{Hn(r,me).each(Ce=>{--Ce.count===0&&(delete r[me],C(Ce.id))})},unloadAll:me=>{Ne(me,Ce=>{ee(Ce)})},_setReferrerPolicy:u,_setContentCssCors:g}},Jg=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const c=Ei(n).dom;return H.from(e.get(c)).getOrThunk(()=>{const u=ci(c,r);return e.set(c,u),u})}}})(),Eb=e=>e.nodeName.toLowerCase()==="span",Rc=(e,t)=>Le(e)&&(Jn(t,e)||t.isInline(e.nodeName.toLowerCase())),Zf=(e,t,n)=>{const r=new Kr(e,t).prev(!1),i=new Kr(e,t).next(!1),c=ar(r)||Rc(r,n),u=ar(i)||Rc(i,n);return c&&u},Qg=e=>Eb(e)&&e.getAttribute("data-mce-type")==="bookmark",zb=(e,t,n)=>lt(e)&&e.data.length>0&&Zf(e,t,n),N1=e=>At(e)?e.childNodes.length>0:!1,R1=e=>Ku(e)||cd(e),Qp=(e,t,n,r)=>{var i;const c=r||t;if(At(t)&&Qg(t))return t;const u=t.childNodes;for(let g=u.length-1;g>=0;g--)Qp(e,u[g],n,c);if(At(t)){const g=t.childNodes;g.length===1&&Qg(g[0])&&((i=t.parentNode)===null||i===void 0||i.insertBefore(g[0],t))}return!R1(t)&&!Jn(n,t)&&!N1(t)&&!zb(t,c,n)&&e.remove(t),t},gv=gt.makeMap,eg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vm=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tb=/[<>&\"\']/g,D1=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,eh={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},tf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Wf={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},tg=e=>{const t=re.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ob=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let i=0;i<r.length;i+=2){const c=String.fromCharCode(parseInt(r[i],t));if(!tf[c]){const u="&"+r[i+1]+";";n[c]=u,n[u]=c}}return n}else return},th=Ob("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),M1=(e,t)=>e.replace(t?eg:Vm,n=>tf[n]||n),og=e=>(""+e).replace(Tb,t=>tf[t]||t),oh=(e,t)=>e.replace(t?eg:Vm,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":tf[n]||"&#"+n.charCodeAt(0)+";"),of=(e,t,n)=>{const r=n||th;return e.replace(t?eg:Vm,i=>tf[i]||r[i]||i)},Dc={encodeRaw:M1,encodeAllRaw:og,encodeNumeric:oh,encodeNamed:of,getEncodeFunc:(e,t)=>{const n=Ob(t)||th,r=(u,g)=>u.replace(g?eg:Vm,x=>tf[x]!==void 0?tf[x]:n[x]!==void 0?n[x]:x.length>1?"&#"+((x.charCodeAt(0)-55296)*1024+(x.charCodeAt(1)-56320)+65536)+";":"&#"+x.charCodeAt(0)+";"),i=(u,g)=>of(u,g,n),c=gv(e.replace(/\+/g,","));return c.named&&c.numeric?r:c.named?t?i:of:c.numeric?oh:M1},decode:e=>e.replace(D1,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):eh[n]||String.fromCharCode(n)):Wf[t]||th[t]||tg(t))},fs=(e,t)=>(e=gt.trim(e),e?e.split(t||" "):[]),B1=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Ab=e=>ue(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Uw=e=>{const t=n=>pe(n)?Ko(n,t):Ab(n)?new RegExp(n.source,n.flags):ue(n)?Ii(n,t):n;return t(e)},Nb=e=>{const t=/^(~)?(.+)$/;return Yn(fs(e,","),n=>{const r=t.exec(n);if(r){const c=r[1]==="~"?"span":"div",u=r[2];return[{cloneName:c,name:u}]}else return[]})},ng=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),bv=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:r}},P1=e=>{const{blockContent:t,phrasingContent:n,flowContent:r}=bv(e),i=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:i(t),phrasingContent:i(n),flowContent:i(r)})},nh={html4:Ja(()=>P1("html4")),html5:Ja(()=>P1("html5")),"html5-strict":Ja(()=>P1("html5-strict"))},nf=(e,t)=>{const{blockContent:n,phrasingContent:r,flowContent:i}=nh[e]();return t==="blocks"?H.some(n):t==="phrasing"?H.some(r):t==="flow"?H.some(i):H.none()},Um=e=>{const t=ng(e),{phrasingContent:n,flowContent:r}=bv(e),i={},c=(x,C,R)=>{i[x]={attributes:$r(C,Je({})),attributesOrder:C,children:$r(R,Je({}))}},u=(x,C="",R="")=>{const B=fs(R),L=fs(x);let W=L.length;const ee=[...t,...fs(C)];for(;W--;)c(L[W],ee.slice(),B)},g=(x,C)=>{const R=fs(x),B=fs(C);let L=R.length;for(;L--;){const W=i[R[L]];for(let ee=0,K=B.length;ee<K;ee++)W.attributes[B[ee]]={},W.attributesOrder.push(B[ee])}};return e!=="html5-strict"&&(Ne(fs("acronym applet basefont big font strike tt"),R=>{u(R,"",n)}),Ne(fs("center dir isindex noframes"),R=>{u(R,"",r)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),u("dd div","",r),u("address dt caption","",e==="html4"?n:r),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),u("blockquote","cite",r),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",r),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?n:r),u("q","cite",n),u("ins del","cite datetime",r),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",r),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),u("param","name value"),u("map","name",[r,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",r),u("th","colspan rowspan headers scope abbr",r),u("form","accept-charset action autocomplete enctype method name novalidate target",r),u("fieldset","disabled form name",[r,"legend"].join(" ")),u("label","form for",n),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:n),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[r,"li"].join(" ")),u("noscript","",r),e!=="html4"&&(u("wbr"),u("ruby","",[n,"rt rp"].join(" ")),u("figcaption","",r),u("mark rt rp bdi","",n),u("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),u("canvas","width height",r),u("data","value",n),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[n,"option"].join(" ")),u("article section nav aside main header footer","",r),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[r,"figcaption"].join(" ")),u("time","datetime",n),u("dialog","open",r),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",n),u("progress","value max",n),u("meter","value min max low high optimum",n),u("details","open",[r,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Ne([i.video,i.audio],x=>{delete x.children.audio,delete x.children.video}),Ne(fs("a form meter progress dfn"),x=>{i[x]&&delete i[x].children[x]}),delete i.caption.children.table,delete i.script,i},Bo=e=>e==="-"?"remove":"add",di=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return H.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},rf=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Yn(fs(e,","),n=>{const r=t.exec(n);if(r){const i=r[1],c=i?Bo(i):"replace",u=r[2],g=Yn(fs(r[3],"|"),x=>di(x).toArray());return[{operation:c,name:u,validChildren:g}]}else return[]})},L1=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:c}=t;return Ne(fs(e,"|"),u=>{const g=n.exec(u);if(g){const x={},C=g[1],R=g[2].replace(/[\\:]:/g,":"),B=g[3],L=g[4];if(C==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(R),x.required=!0),C==="-"){delete i[R],c.splice(gt.inArray(c,R),1);return}if(B&&(B==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:R,value:L}),x.defaultValue=L):B==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:R,value:L}),x.forcedValue=L):B==="<"&&(x.validValues=gt.makeMap(L,"?"))),r.test(R)){const W=x;t.attributePatterns=t.attributePatterns||[],W.pattern=B1(R),t.attributePatterns.push(W)}else i[R]||c.push(R),i[R]=x}})},Yr=(e,t)=>{Fo(e.attributes,(n,r)=>{t.attributes[r]=n}),t.attributesOrder.push(...e.attributesOrder)},yv=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Yn(fs(t,","),r=>{const i=n.exec(r);if(i){const c=i[1],u=i[2],g=i[3],x=i[4],C=i[5],R={attributes:{},attributesOrder:[]};if(e.each(B=>Yr(B,R)),c==="#"?R.paddEmpty=!0:c==="-"&&(R.removeEmpty=!0),x==="!"&&(R.removeEmptyAttrs=!0),C&&L1(C,R),g&&(R.outputName=u),u==="@")if(e.isNone())e=H.some(R);else return[];return[g?{name:u,element:R,aliasName:g}:{name:u,element:R}]}else return[]})},qf={},jm=gt.makeMap,Mn=gt.each,I1=gt.extend,F1=gt.explode,Gf=(e,t={})=>{const n=jm(e," ",jm(e.toUpperCase()," "));return I1(n,t)},uc=e=>Gf("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),rh=(e,t)=>{if(e){const n={};return ht(e)&&(e={"*":e}),Mn(e,(r,i)=>{n[i]=n[i.toUpperCase()]=t==="map"?jm(r,/[, ]/):F1(r,/[, ]/)}),n}else return},wt=(e={})=>{var t;const n={},r={};let i=[];const c={},u={},g=(ao,En,sa)=>{const mi=e[ao];if(mi)return jm(mi,/[, ]/,jm(mi.toUpperCase(),/[, ]/));{let Pi=qf[ao];return Pi||(Pi=Gf(En,sa),qf[ao]=Pi),Pi}},x=(t=e.schema)!==null&&t!==void 0?t:"html5",C=Um(x);e.verify_html===!1&&(e.valid_elements="*[*]");const R=rh(e.valid_styles),B=rh(e.invalid_styles,"map"),L=rh(e.valid_classes,"map"),W=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ee=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),K=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ne=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),me="td th iframe video audio object script code",Ce=g("non_empty_elements",me+" pre svg textarea summary",K),ze=g("move_caret_before_on_enter_elements",me+" table",K),Re="h1 h2 h3 h4 h5 h6",Xe=g("text_block_elements",Re+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),pt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Xe),Nt=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ze=g("transparent_elements","a ins del canvas map"),Pe=g("wrap_block_elements","pre "+Re);Mn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),ao=>{u[ao]=new RegExp("</"+ao+"[^>]*>","gi")});const tt=ao=>{const En=H.from(n["@"]),sa=/[*?+]/;Ne(yv(En,ao??""),({name:mi,element:Pi,aliasName:Ga})=>{if(Ga&&(n[Ga]=Pi),sa.test(mi)){const Fs=Pi;Fs.pattern=B1(mi),i.push(Fs)}else n[mi]=Pi})},Et=ao=>{i=[],Ne(rt(n),En=>{delete n[En]}),tt(ao)},Qt=(ao,En)=>{var sa,mi;delete qf.text_block_elements,delete qf.block_elements;const Pi=En.extends?!vc(En.extends):!1,Ga=En.extends;if(r[ao]=Ga?r[Ga]:{},c[ao]=Ga??ao,Ce[ao.toUpperCase()]={},Ce[ao]={},Pi||(pt[ao.toUpperCase()]={},pt[ao]={}),Ga&&!n[ao]&&n[Ga]){const Fs=Uw(n[Ga]);delete Fs.removeEmptyAttrs,delete Fs.removeEmpty,n[ao]=Fs}else n[ao]={attributesOrder:[],attributes:{}};if(pe(En.attributes)){const Fs=Kc=>{Hs.attributesOrder.push(Kc),Hs.attributes[Kc]={}},Hs=(sa=n[ao])!==null&&sa!==void 0?sa:{};delete Hs.attributesDefault,delete Hs.attributesForced,delete Hs.attributePatterns,delete Hs.attributesRequired,Hs.attributesOrder=[],Hs.attributes={},Ne(En.attributes,Kc=>{const Sm=ng(x);di(Kc).each(({preset:Vg,name:qp})=>{Vg?qp==="global"&&Ne(Sm,Fs):Fs(qp)})}),n[ao]=Hs}if(Zn(En.padEmpty)){const Fs=(mi=n[ao])!==null&&mi!==void 0?mi:{};Fs.paddEmpty=En.padEmpty,n[ao]=Fs}if(pe(En.children)){const Fs={},Hs=Sm=>{Fs[Sm]={}},Kc=Sm=>{nf(x,Sm).each(Vg=>{Ne(Vg,Hs)})};Ne(En.children,Sm=>{di(Sm).each(({preset:Vg,name:qp})=>{Vg?Kc(qp):Hs(qp)})}),r[ao]=Fs}Ga&&Fo(r,(Fs,Hs)=>{Fs[Ga]&&(r[Hs]=Fs=I1({},r[Hs]),Fs[ao]=Fs[Ga])})},on=ao=>{Ne(Nb(ao??""),({name:En,cloneName:sa})=>{Qt(En,{extends:sa})})},rn=ao=>{ue(ao)?Fo(ao,(En,sa)=>Qt(sa,En)):ht(ao)&&on(ao)},jn=ao=>{Ne(rf(ao??""),({operation:En,name:sa,validChildren:mi})=>{const Pi=En==="replace"?{"#comment":{}}:r[sa],Ga=Hs=>{En==="remove"?delete Pi[Hs]:Pi[Hs]={}},Fs=Hs=>{nf(x,Hs).each(Kc=>{Ne(Kc,Ga)})};Ne(mi,({preset:Hs,name:Kc})=>{Hs?Fs(Kc):Ga(Kc)}),r[sa]=Pi})},kr=ao=>{const En=n[ao];if(En)return En;let sa=i.length;for(;sa--;){const mi=i[sa];if(mi.pattern.test(ao))return mi}},fa=()=>{e.valid_elements?(Et(e.valid_elements),Mn(C,(ao,En)=>{r[En]=ao.children})):(Mn(C,(ao,En)=>{n[En]={attributes:ao.attributes,attributesOrder:ao.attributesOrder},r[En]=ao.children}),Mn(fs("strong/b em/i"),ao=>{const En=fs(ao,"/");n[En[1]].outputName=En[0]}),Mn(Nt,(ao,En)=>{n[En]&&(e.padd_empty_block_inline_children&&(n[En].paddInEmptyBlock=!0),n[En].removeEmpty=!0)}),Mn(fs("ol ul blockquote a table tbody"),ao=>{n[ao]&&(n[ao].removeEmpty=!0)}),Mn(fs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),ao=>{n[ao]&&(n[ao].paddEmpty=!0)}),Mn(fs("span"),ao=>{n[ao].removeEmptyAttrs=!0})),delete n.svg,rn(e.custom_elements),jn(e.valid_children),tt(e.extended_valid_elements),jn("+ol[ul|ol],+ul[ul|ol]"),Mn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(ao,En)=>{n[En]&&(n[En].parentsRequired=fs(ao))}),e.invalid_elements&&Mn(F1(e.invalid_elements),ao=>{n[ao]&&delete n[ao]}),kr("span")||tt("span[!data-mce-type|*]")},Mi=Je(R),Bi=Je(B),kt=Je(L),eo=Je(ne),In=Je(pt),zt=Je(Xe),at=Je(Nt),St=Je(Object.seal(K)),Co=Je(ee),Rr=Je(Ce),gn=Je(ze),cl=Je(W),Af=Je(Ze),Hg=Je(Pe),qc=Je(Object.seal(u)),Cm=(ao,En)=>{const sa=r[ao.toLowerCase()];return!!(sa&&sa[En.toLowerCase()])},Vu=(ao,En)=>{const sa=kr(ao);if(sa)if(En){if(sa.attributes[En])return!0;const mi=sa.attributePatterns;if(mi){let Pi=mi.length;for(;Pi--;)if(mi[Pi].pattern.test(En))return!0}}else return!0;return!1},vc=ao=>go(In(),ao),Gc=ao=>!ur(ao,"#")&&Vu(ao)&&!vc(ao),Nf=ao=>go(Hg(),ao)||Gc(ao),E1=Je(c);return fa(),{type:x,children:r,elements:n,getValidStyles:Mi,getValidClasses:kt,getBlockElements:In,getInvalidStyles:Bi,getVoidElements:St,getTextBlockElements:zt,getTextInlineElements:at,getBoolAttrs:eo,getElementRule:kr,getSelfClosingElements:Co,getNonEmptyElements:Rr,getMoveCaretBeforeOnEnterElements:gn,getWhitespaceElements:cl,getTransparentElements:Af,getSpecialElements:qc,isValidChild:Cm,isValid:Vu,isBlock:vc,isInline:Gc,isWrapper:Nf,getCustomElements:E1,addValidElements:tt,setValidElements:Et,addCustomElements:rn,addValidChildren:jn}},Rb=e=>({value:jw(e)}),jw=e=>xi(e,"#").toUpperCase(),H1=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},xv=e=>{const t=H1(e.red)+H1(e.green)+H1(e.blue);return Rb(t)},Db=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,rg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,sg=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),vv=(e,t,n,r)=>{const i=parseInt(e,10),c=parseInt(t,10),u=parseInt(n,10),g=parseFloat(r);return sg(i,c,u,g)},Mb=e=>Db.test(e)?"rgb":rg.test(e)?"rgba":"other",_v=e=>{const t=Db.exec(e);if(t!==null)return H.some(vv(t[1],t[2],t[3],"1"));const n=rg.exec(e);return n!==null?H.some(vv(n[1],n[2],n[3],n[4])):H.none()},Bb=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ag=e=>_v(e).map(xv).map(t=>"#"+t.value).getOr(e),Pb=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let u,g;const x=Pm;t&&(u=t.getValidStyles(),g=t.getInvalidStyles());const C=(`\\" \\' \\; \\: ; : `+x).split(" ");for(let B=0;B<C.length;B++)c[C[B]]=x+B,c[x+B]=C[B];const R={parse:B=>{const L={};let W=!1;const ee=e.url_converter,K=e.url_converter_scope||R,ne=(Ze,Pe,tt)=>{const Et=L[Ze+"-top"+Pe];if(!Et)return;const Qt=L[Ze+"-right"+Pe];if(!Qt)return;const on=L[Ze+"-bottom"+Pe];if(!on)return;const rn=L[Ze+"-left"+Pe];if(!rn)return;const jn=[Et,Qt,on,rn];let kr=jn.length-1;for(;kr--&&jn[kr]===jn[kr+1];);kr>-1&&tt||(L[Ze+Pe]=kr===-1?jn[0]:jn.join(" "),delete L[Ze+"-top"+Pe],delete L[Ze+"-right"+Pe],delete L[Ze+"-bottom"+Pe],delete L[Ze+"-left"+Pe])},me=Ze=>{const Pe=L[Ze];if(!Pe)return;const tt=Pe.indexOf(",")>-1?[Pe]:Pe.split(" ");let Et=tt.length;for(;Et--;)if(tt[Et]!==tt[0])return!1;return L[Ze]=tt[0],!0},Ce=(Ze,Pe,tt,Et)=>{me(Pe)&&me(tt)&&me(Et)&&(L[Ze]=L[Pe]+" "+L[tt]+" "+L[Et],delete L[Pe],delete L[tt],delete L[Et])},ze=Ze=>(W=!0,c[Ze]),Re=(Ze,Pe)=>(W&&(Ze=Ze.replace(/\uFEFF[0-9]/g,tt=>c[tt])),Pe||(Ze=Ze.replace(/\\([\'\";:])/g,"$1")),Ze),Xe=Ze=>String.fromCharCode(parseInt(Ze.slice(1),16)),pt=Ze=>Ze.replace(/\\[0-9a-f]+/gi,Xe),Nt=(Ze,Pe,tt,Et,Qt,on)=>{if(Qt=Qt||on,Qt)return Qt=Re(Qt),"'"+Qt.replace(/\'/g,"\\'")+"'";if(Pe=Re(Pe||tt||Et||""),!e.allow_script_urls){const rn=Pe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(rn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(rn))return""}return ee&&(Pe=ee.call(K,Pe,"style")),"url('"+Pe.replace(/\'/g,"\\'")+"')"};if(B){B=B.replace(/[\u0000-\u001F]/g,""),B=B.replace(/\\[\"\';:\uFEFF]/g,ze).replace(/\"[^\"]+\"|\'[^\']+\'/g,Pe=>Pe.replace(/[;:]/g,ze));let Ze;for(;Ze=r.exec(B);){r.lastIndex=Ze.index+Ze[0].length;let Pe=Ze[1].replace(i,"").toLowerCase(),tt=Ze[2].replace(i,"");if(Pe&&tt){if(Pe=pt(Pe),tt=pt(tt),Pe.indexOf(x)!==-1||Pe.indexOf('"')!==-1||!e.allow_script_urls&&(Pe==="behavior"||/expression\s*\(|\/\*|\*\//.test(tt)))continue;Pe==="font-weight"&&tt==="700"?tt="bold":(Pe==="color"||Pe==="background-color")&&(tt=tt.toLowerCase()),Mb(tt)==="rgb"&&_v(tt).each(Et=>{tt=ag(Bb(Et)).toLowerCase()}),tt=tt.replace(n,Nt),L[Pe]=W?Re(tt,!0):tt}}ne("border","",!0),ne("border","-width"),ne("border","-color"),ne("border","-style"),ne("padding",""),ne("margin",""),Ce("border","border-width","border-style","border-color"),L.border==="medium none"&&delete L.border,L["border-image"]==="none"&&delete L["border-image"]}return L},serialize:(B,L)=>{let W="";const ee=(ne,me)=>{const Ce=me[ne];if(Ce)for(let ze=0,Re=Ce.length;ze<Re;ze++){const Xe=Ce[ze],pt=B[Xe];pt&&(W+=(W.length>0?" ":"")+Xe+": "+pt+";")}},K=(ne,me)=>{if(!g||!me)return!0;let Ce=g["*"];return Ce&&Ce[ne]?!1:(Ce=g[me],!(Ce&&Ce[ne]))};return L&&u?(ee("*",u),ee(L,u)):Fo(B,(ne,me)=>{ne&&K(me,L)&&(W+=(W.length>0?" ":"")+me+": "+ne+";")}),W}};return R},Lb={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},kv=e=>e instanceof Event||jt(e.initEvent),V1=e=>e.isDefaultPrevented===fo||e.isDefaultPrevented===bo,Zw=e=>Po(e.preventDefault)||kv(e),wv=(e,t)=>{const n=t??{};for(const r in e)go(Lb,r)||(n[r]=e[r]);return Le(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Le(e.getModifierState)&&(n.getModifierState=r=>e.getModifierState(r)),Le(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},$1=(e,t,n,r)=>{var i;const c=wv(t,r);return c.type=e,Po(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:n),Zw(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=fo,jt(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=fo,jt(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=fo,c.stopPropagation()},V1(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?fo:bo,c.isPropagationStopped=c.cancelBubble===!0?fo:bo,c.isImmediatePropagationStopped=bo)),c},Ww="mce-data-",Zm=/^(?:mouse|contextmenu)|click/,U1=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Ib=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},sf=e=>Le(e)&&Zm.test(e.type),ud=(e,t)=>{const n=$1(e.type,e,document,t);if(sf(e)&&ar(e.pageX)&&!ar(e.clientX)){const r=n.target.ownerDocument||document,i=r.documentElement,c=r.body,u=n;u.pageX=e.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),u.pageY=e.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return n},j1=(e,t,n)=>{const r=e.document,i={type:"ready"};if(n.domLoaded){t(i);return}const c=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,u=()=>{Ib(e,"DOMContentLoaded",u),Ib(e,"load",u),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};c()?u():U1(e,"DOMContentLoaded",u),n.domLoaded||U1(e,"load",u)};class fc{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Ww+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,i){const c=this;let u;const g=window,x=L=>{c.executeHandlers(ud(L||g.event),C)};if(!t||lt(t)||ic(t))return r;let C;t[c.expando]?C=t[c.expando]:(C=c.count++,t[c.expando]=C,c.events[C]={}),i=i||t;const R=n.split(" ");let B=R.length;for(;B--;){let L=R[B],W=x,ee=!1,K=!1;if(L==="DOMContentLoaded"&&(L="ready"),c.domLoaded&&L==="ready"&&t.readyState==="complete"){r.call(i,ud({type:L}));continue}!c.hasFocusIn&&(L==="focusin"||L==="focusout")&&(ee=!0,K=L==="focusin"?"focus":"blur",W=ne=>{const me=ud(ne||g.event);me.type=me.type==="focus"?"focusin":"focusout",c.executeHandlers(me,C)}),u=c.events[C][L],u?L==="ready"&&c.domLoaded?r(ud({type:L})):u.push({func:r,scope:i}):(c.events[C][L]=u=[{func:r,scope:i}],u.fakeName=K,u.capture=ee,u.nativeHandler=W,L==="ready"?j1(t,W,c):U1(t,K||L,W,ee))}return t=u=null,r}unbind(t,n,r){if(!t||lt(t)||ic(t))return this;const i=t[this.expando];if(i){let c=this.events[i];if(n){const u=n.split(" ");let g=u.length;for(;g--;){const x=u[g],C=c[x];if(C){if(r){let R=C.length;for(;R--;)if(C[R].func===r){const B=C.nativeHandler,L=C.fakeName,W=C.capture,ee=C.slice(0,R).concat(C.slice(R+1));ee.nativeHandler=B,ee.fakeName=L,ee.capture=W,c[x]=ee}}(!r||C.length===0)&&(delete c[x],Ib(t,C.fakeName||x,C.nativeHandler,C.capture))}}}else Fo(c,(u,g)=>{Ib(t,u.fakeName||g,u.nativeHandler,u.capture)}),c={};for(const u in c)if(go(c,u))return this;delete this.events[i];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||lt(t)||ic(t))return this;const i=ud({type:n,target:t},r);do{const c=t[this.expando];c&&this.executeHandlers(i,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return this}clean(t){if(!t||lt(t)||ic(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)t=n[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],i=r&&r[t.type];if(i)for(let c=0,u=i.length;c<u;c++){const g=i[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}fc.Event=new fc;const Wm=gt.each,Ma=gt.grep,Z1="data-mce-style",Cv=gt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),sh=(e,t,n)=>{Po(n)||n===""?Sn(e,t):Tn(e,t,n)},Or=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Kf=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const c=i.nodeType;t&&lt(i)&&(c===r||!i.data.length)||(n++,r=c)}return n},ig=(e,t)=>{const n=xa(t,"style"),r=e.serialize(e.parse(n),mn(t));sh(t,Z1,r)},Fb=(e,t)=>O(e)?go(Cv,t)?e+"":e+"px":e,qs=(e,t,n)=>{const r=Or(t);Po(n)||n===""?gl(e,r):Ge(e,r,Fb(n,r))},Ll=(e,t,n)=>{const r=t.keep_values,i={set:(u,g,x)=>{const C=re.fromDom(u);jt(t.url_converter)&&Le(g)&&(g=t.url_converter.call(t.url_converter_scope||n(),String(g),x,u));const R="data-mce-"+x;sh(C,R,g),sh(C,x,g)},get:(u,g)=>{const x=re.fromDom(u);return xa(x,"data-mce-"+g)||xa(x,g)}},c={style:{set:(u,g)=>{const x=re.fromDom(u);r&&sh(x,Z1,g),Sn(x,"style"),ht(g)&&Qs(x,e.parse(g))},get:u=>{const g=re.fromDom(u),x=xa(g,Z1)||xa(g,"style");return e.serialize(e.parse(x),mn(g))}}};return r&&(c.href=c.src=i),c},Ar=(e,t={})=>{const n={},r=window,i={};let c=0;const u=!0,g=!0,x=Jg.forElement(re.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),C=[],R=t.schema?t.schema:wt({}),B=Pb({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),L=t.ownEvents?new fc:fc.Event,W=R.getBlockElements(),ee=Oe=>ht(Oe)?go(W,Oe):At(Oe)&&(go(W,Oe.nodeName)||cr(R,Oe)),K=Oe=>Oe&&e&&ht(Oe)?e.getElementById(Oe):Oe,ne=Oe=>{const Me=K(Oe);return Le(Me)?re.fromDom(Me):null},me=(Oe,Me,vt="")=>{let bt;const po=ne(Oe);if(Le(po)&&ni(po)){const Pn=lR[Me];Pn&&Pn.get?bt=Pn.get(po.dom,Me):bt=xa(po,Me)}return Le(bt)?bt:vt},Ce=Oe=>{const Me=K(Oe);return Po(Me)?[]:Me.attributes},ze=(Oe,Me,vt)=>{eo(Oe,bt=>{if(At(bt)){const po=re.fromDom(bt),Pn=vt===""?null:vt,aa=xa(po,Me),Gp=lR[Me];Gp&&Gp.set?Gp.set(po.dom,Pn,Me):sh(po,Me,Pn),aa!==Pn&&t.onSetAttrib&&t.onSetAttrib({attrElm:po.dom,attrName:Me,attrValue:Pn})}})},Re=(Oe,Me)=>Oe.cloneNode(Me),Xe=()=>t.root_element||e.body,pt=Oe=>{const Me=Da(Oe);return{x:Me.x,y:Me.y,w:Me.width,h:Me.height}},Nt=(Oe,Me)=>as(e.body,K(Oe),Me),Ze=(Oe,Me,vt)=>{eo(Oe,bt=>{const po=re.fromDom(bt);qs(po,Me,vt),t.update_styles&&ig(B,po)})},Pe=(Oe,Me)=>{eo(Oe,vt=>{const bt=re.fromDom(vt);Fo(Me,(po,Pn)=>{qs(bt,Pn,po)}),t.update_styles&&ig(B,bt)})},tt=(Oe,Me,vt)=>{const bt=K(Oe);if(!(Po(bt)||!ta(bt)&&!Lm(bt)))return vt?zi(re.fromDom(bt),Or(Me)):(Me=Me.replace(/-(\D)/g,(po,Pn)=>Pn.toUpperCase()),Me==="float"&&(Me="cssFloat"),bt.style?bt.style[Me]:void 0)},Et=Oe=>{const Me=K(Oe);if(!Me)return{w:0,h:0};let vt=tt(Me,"width"),bt=tt(Me,"height");return(!vt||vt.indexOf("px")===-1)&&(vt="0"),(!bt||bt.indexOf("px")===-1)&&(bt="0"),{w:parseInt(vt,10)||Me.offsetWidth||Me.clientWidth,h:parseInt(bt,10)||Me.offsetHeight||Me.clientHeight}},Qt=Oe=>{const Me=K(Oe),vt=Nt(Me),bt=Et(Me);return{x:vt.x,y:vt.y,w:bt.w,h:bt.h}},on=(Oe,Me)=>{if(!Oe)return!1;const vt=pe(Oe)?Oe:[Oe];return Cn(vt,bt=>Va(re.fromDom(bt),Me))},rn=(Oe,Me,vt,bt)=>{const po=[];let Pn=K(Oe);bt=bt===void 0;const aa=vt||(Xe().nodeName!=="BODY"?Xe().parentNode:null);if(ht(Me))if(Me==="*")Me=At;else{const Gp=Me;Me=zm=>on(zm,Gp)}for(;Pn&&!(Pn===aa||Po(Pn.nodeType)||cd(Pn)||Ku(Pn));){if(!Me||Me(Pn))if(bt)po.push(Pn);else return[Pn];Pn=Pn.parentNode}return bt?po:null},jn=(Oe,Me,vt)=>{const bt=rn(Oe,Me,vt,!1);return bt&&bt.length>0?bt[0]:null},kr=(Oe,Me,vt)=>{let bt=Me;if(Oe){ht(Me)&&(bt=po=>on(po,Me));for(let po=Oe[vt];po;po=po[vt])if(jt(bt)&&bt(po))return po}return null},fa=(Oe,Me)=>kr(Oe,Me,"nextSibling"),Mi=(Oe,Me)=>kr(Oe,Me,"previousSibling"),Bi=Oe=>jt(Oe.querySelectorAll),kt=(Oe,Me)=>{var vt,bt;const po=(bt=(vt=K(Me))!==null&&vt!==void 0?vt:t.root_element)!==null&&bt!==void 0?bt:e;return Bi(po)?Io(po.querySelectorAll(Oe)):[]},eo=function(Oe,Me,vt){const bt=vt??this;if(pe(Oe)){const po=[];return Wm(Oe,(Pn,aa)=>{const Gp=K(Pn);Gp&&po.push(Me.call(bt,Gp,aa))}),po}else{const po=K(Oe);return po?Me.call(bt,po):!1}},In=(Oe,Me)=>{eo(Oe,vt=>{Fo(Me,(bt,po)=>{ze(vt,po,bt)})})},zt=(Oe,Me)=>{eo(Oe,vt=>{const bt=re.fromDom(vt);Ca(bt,Me)})},at=(Oe,Me,vt,bt,po)=>eo(Oe,Pn=>{const aa=ht(Me)?e.createElement(Me):Me;return Le(vt)&&In(aa,vt),bt&&(!ht(bt)&&bt.nodeType?aa.appendChild(bt):ht(bt)&&zt(aa,bt)),po?aa:Pn.appendChild(aa)}),St=(Oe,Me,vt)=>at(e.createElement(Oe),Oe,Me,vt,!0),Co=Dc.decode,Rr=Dc.encodeAllRaw,gn=(Oe,Me,vt="")=>{let bt="<"+Oe;for(const po in Me)Ya(Me,po)&&(bt+=" "+po+'="'+Rr(Me[po])+'"');return vi(vt)&&go(R.getVoidElements(),Oe)?bt+" />":bt+">"+vt+"</"+Oe+">"},cl=Oe=>{const Me=e.createElement("div"),vt=e.createDocumentFragment();vt.appendChild(Me),Oe&&(Me.innerHTML=Oe);let bt;for(;bt=Me.firstChild;)vt.appendChild(bt);return vt.removeChild(Me),vt},Af=(Oe,Me)=>eo(Oe,vt=>{const bt=re.fromDom(vt);return Me&&Ne(_a(bt),po=>{Zs(po)&&po.dom.length===0?dn(po):jr(bt,po)}),dn(bt),bt.dom}),Hg=Oe=>eo(Oe,Me=>{const vt=Me.attributes;for(let bt=vt.length-1;bt>=0;bt--)Me.removeAttributeNode(vt.item(bt))}),qc=Oe=>B.parse(Oe),Cm=(Oe,Me)=>B.serialize(Oe,Me),Vu=Oe=>{if(T1!==Ar.DOM&&e===document){if(n[Oe])return;n[Oe]=!0}let Me=e.getElementById("mceDefaultStyles");if(!Me){Me=e.createElement("style"),Me.id="mceDefaultStyles",Me.type="text/css";const vt=e.head;vt.firstChild?vt.insertBefore(Me,vt.firstChild):vt.appendChild(Me)}Me.styleSheet?Me.styleSheet.cssText+=Oe:Me.appendChild(e.createTextNode(Oe))},vc=Oe=>{Oe||(Oe=""),Ne(Oe.split(","),Me=>{i[Me]=!0,x.load(Me).catch(io)})},Gc=(Oe,Me,vt)=>{eo(Oe,bt=>{if(At(bt)){const po=re.fromDom(bt),Pn=Me.split(" ");Ne(Pn,aa=>{Le(vt)?(vt?Jl:Ha)(po,aa):Am(po,aa)})}})},Nf=(Oe,Me)=>{Gc(Oe,Me,!0)},E1=(Oe,Me)=>{Gc(Oe,Me,!1)},ao=(Oe,Me)=>{const vt=ne(Oe),bt=Me.split(" ");return Le(vt)&&ts(bt,po=>Fd(vt,po))},En=Oe=>{eo(Oe,Me=>gl(re.fromDom(Me),"display"))},sa=Oe=>{eo(Oe,Me=>Ge(re.fromDom(Me),"display","none"))},mi=Oe=>{const Me=ne(Oe);return Le(Me)&&Pd(Ws(Me,"display"),"none")},Pi=Oe=>(Oe||"mce_")+c++,Ga=Oe=>{const Me=ne(Oe);return Le(Me)?At(Me.dom)?Me.dom.outerHTML:ea(Me):""},Fs=(Oe,Me)=>{eo(Oe,vt=>{At(vt)&&(vt.outerHTML=Me)})},Hs=(Oe,Me)=>{const vt=K(Me);return eo(Oe,bt=>{const po=vt==null?void 0:vt.parentNode,Pn=vt==null?void 0:vt.nextSibling;return po&&(Pn?po.insertBefore(bt,Pn):po.appendChild(bt)),bt})},Kc=(Oe,Me,vt)=>eo(Me,bt=>{var po;const Pn=pe(Me)?Oe.cloneNode(!0):Oe;return vt&&Wm(Ma(bt.childNodes),aa=>{Pn.appendChild(aa)}),(po=bt.parentNode)===null||po===void 0||po.replaceChild(Pn,bt),bt}),Sm=(Oe,Me)=>{if(Oe.nodeName!==Me.toUpperCase()){const vt=St(Me);return Wm(Ce(Oe),bt=>{ze(vt,bt.nodeName,me(Oe,bt.nodeName))}),Kc(vt,Oe,!0),vt}else return Oe},Vg=(Oe,Me)=>{let vt=Oe;for(;vt;){let bt=Me;for(;bt&&vt!==bt;)bt=bt.parentNode;if(vt===bt)break;vt=vt.parentNode}return!vt&&Oe.ownerDocument?Oe.ownerDocument.documentElement:vt},qp=(Oe,Me,vt)=>Ct(Me)?Pl(R,Oe,{...vt,isContent:po=>{const Pn=po.nodeName.toLowerCase();return!!Me[Pn]}}):Pl(R,Oe,vt),Iw=()=>e.createRange(),Fw=(Oe,Me,vt)=>{let bt=Iw(),po,Pn;if(Oe&&Me&&Oe.parentNode&&Me.parentNode){const aa=Oe.parentNode;return bt.setStart(aa,Kf(Oe)),bt.setEnd(Me.parentNode,Kf(Me)),po=bt.extractContents(),bt=Iw(),bt.setStart(Me.parentNode,Kf(Me)+1),bt.setEnd(aa,Kf(Oe)+1),Pn=bt.extractContents(),aa.insertBefore(Qp(T1,po,R),Oe),vt?aa.insertBefore(vt,Oe):aa.insertBefore(Me,Oe),aa.insertBefore(Qp(T1,Pn,R),Oe),Af(Oe),vt||Me}else return},mv=(Oe,Me,vt,bt)=>{if(pe(Oe)){let po=Oe.length;const Pn=[];for(;po--;)Pn[po]=mv(Oe[po],Me,vt,bt);return Pn}else return t.collect&&(Oe===e||Oe===r)&&C.push([Oe,Me,vt,bt]),L.bind(Oe,Me,vt,bt||T1)},Em=(Oe,Me,vt)=>{if(pe(Oe)){let bt=Oe.length;const po=[];for(;bt--;)po[bt]=Em(Oe[bt],Me,vt);return po}else{if(C.length>0&&(Oe===e||Oe===r)){let bt=C.length;for(;bt--;){const[po,Pn,aa]=C[bt];Oe===po&&(!Me||Me===Pn)&&(!vt||vt===aa)&&L.unbind(po,Pn,aa)}}return L.unbind(Oe,Me,vt)}},z1=(Oe,Me,vt)=>L.dispatch(Oe,Me,vt),A3=(Oe,Me,vt)=>L.dispatch(Oe,Me,vt),Hw=Oe=>{if(Oe&&ta(Oe)){const Me=Oe.getAttribute("data-mce-contenteditable");return Me&&Me!=="inherit"?Me:Oe.contentEditable!=="inherit"?Oe.contentEditable:null}else return null},T1={doc:e,settings:t,win:r,files:i,stdMode:u,boxModel:g,styleSheetLoader:x,boundEvents:C,styles:B,schema:R,events:L,isBlock:ee,root:null,clone:Re,getRoot:Xe,getViewPort:pt,getRect:Qt,getSize:Et,getParent:jn,getParents:rn,get:K,getNext:fa,getPrev:Mi,select:kt,is:on,add:at,create:St,createHTML:gn,createFragment:cl,remove:Af,setStyle:Ze,getStyle:tt,setStyles:Pe,removeAllAttribs:Hg,setAttrib:ze,setAttribs:In,getAttrib:me,getPos:Nt,parseStyle:qc,serializeStyle:Cm,addStyle:Vu,loadCSS:vc,addClass:Nf,removeClass:E1,hasClass:ao,toggleClass:Gc,show:En,hide:sa,isHidden:mi,uniqueId:Pi,setHTML:zt,getOuterHTML:Ga,setOuterHTML:Fs,decode:Co,encode:Rr,insertAfter:Hs,replace:Kc,rename:Sm,findCommonAncestor:Vg,run:eo,getAttribs:Ce,isEmpty:qp,createRng:Iw,nodeIndex:Kf,split:Fw,bind:mv,unbind:Em,fire:A3,dispatch:z1,getContentEditable:Hw,getContentEditableParent:Oe=>{const Me=Xe();let vt=null;for(let bt=Oe;bt&&bt!==Me&&(vt=Hw(bt),vt===null);bt=bt.parentNode);return vt},isEditable:Oe=>{if(Le(Oe)){const Me=At(Oe)?Oe:Oe.parentElement;return Le(Me)&&ta(Me)&&si(re.fromDom(Me))}else return!1},destroy:()=>{if(C.length>0){let Oe=C.length;for(;Oe--;){const[Me,vt,bt]=C[Oe];L.unbind(Me,vt,bt)}}Fo(i,(Oe,Me)=>{x.unload(Me),delete i[Me]})},isChildOf:(Oe,Me)=>Oe===Me||Me.contains(Oe),dumpRng:Oe=>"startContainer: "+Oe.startContainer.nodeName+", startOffset: "+Oe.startOffset+", endContainer: "+Oe.endContainer.nodeName+", endOffset: "+Oe.endOffset},lR=Ll(B,t,Je(T1));return T1};Ar.DOM=Ar(document),Ar.nodeIndex=Kf;const ah=Ar.DOM,Sv=0,qm=1,oa=2,vu=3;class Mc{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const i=ah;let c;const u=()=>{i.remove(C),c&&(c.onerror=c.onload=c=null)},g=()=>{u(),n()},x=()=>{u(),r("Failed to load script: "+t)},C=i.uniqueId();c=document.createElement("script"),c.id=C,c.type="text/javascript",c.src=gt._addCacheSuffix(t),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=x,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===oa}markDone(t){this.states[t]=oa}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=Sv),new Promise((i,c)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:i,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(x,C)=>{Hn(n.scriptLoadedCallbacks,C).each(R=>{Ne(R,B=>B[x](C))}),delete n.scriptLoadedCallbacks[C]},i=x=>{const C=Ke(x,R=>R.status==="rejected");return C.length>0?Promise.reject(Yn(C,({reason:R})=>pe(R)?R:[R])):Promise.resolve()},c=x=>Promise.allSettled(Ko(x,C=>n.states[C]===oa?(r("resolve",C),Promise.resolve()):n.states[C]===vu?(r("reject",C),Promise.reject(C)):(n.states[C]=qm,n.loadScript(C).then(()=>{n.states[C]=oa,r("resolve",C);const R=n.queue;return R.length>0?(n.queue=[],c(R).then(i)):Promise.resolve()},()=>(n.states[C]=vu,r("reject",C),Promise.reject(C)))))),u=x=>(n.loading=!0,c(x).then(C=>{n.loading=!1;const R=n.queueLoadedCallbacks.shift();return H.from(R).each(Eo),i(C)})),g=kc(t);return n.loading?new Promise((x,C)=>{n.queueLoadedCallbacks.push(()=>{u(g).then(x,C)})}):u(g)}}Mc.ScriptLoader=new Mc;const Hb=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},Gm=e=>ue(e)&&go(e,"raw"),Km=e=>pe(e)&&e.length>1,Yf={},ih=zr("en"),W1=()=>Hn(Yf,ih.get()),mc={getData:()=>Ii(Yf,e=>({...e})),setCode:e=>{e&&ih.set(e)},getCode:()=>ih.get(),add:(e,t)=>{let n=Yf[e];n||(Yf[e]=n={});const r=Ko(rt(t),i=>i.toLowerCase());Fo(t,(i,c)=>{const u=c.toLowerCase();u!==c&&Hb(r,u)?(go(t,u)||(n[u]=i),n[c]=i):n[u]=i})},translate:e=>{const t=W1().getOr({}),n=u=>jt(u)?Object.prototype.toString.call(u):r(u)?"":""+u,r=u=>u===""||u===null||u===void 0,i=u=>{const g=n(u);return go(t,g)?n(t[g]):Hn(t,g.toLowerCase()).map(n).getOr(g)},c=u=>u.replace(/{context:\w+}$/,"");if(r(e))return"";if(Gm(e))return n(e.raw);if(Km(e)){const u=e.slice(1),g=i(e[0]).replace(/\{([0-9]+)\}/g,(x,C)=>go(u,C)?n(u[C]):x);return c(g)}return c(i(e))},isRtl:()=>W1().bind(e=>Hn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>go(Yf,e)},ui=()=>{const e=[],t={},n={},r=[],i=(K,ne)=>{const me=Ke(r,Ce=>Ce.name===K&&Ce.state===ne);Ne(me,Ce=>Ce.resolve())},c=K=>go(t,K),u=K=>go(n,K),g=K=>{if(n[K])return n[K].instance},x=(K,ne)=>{const me=mc.getCode(),Ce=","+(ne||"")+",";!me||ne&&Ce.indexOf(","+me+",")===-1||Mc.ScriptLoader.add(t[K]+"/langs/"+me+".js")},C=(K,ne)=>{ui.languageLoad!==!1&&(c(K)?x(K,ne):ee(K,"loaded").then(()=>x(K,ne)))},R=(K,ne)=>(e.push(ne),n[K]={instance:ne},i(K,"added"),ne),B=K=>{delete t[K],delete n[K]},L=(K,ne)=>ht(ne)?ht(K)?{prefix:"",resource:ne,suffix:""}:{prefix:K.prefix,resource:ne,suffix:K.suffix}:ne,W=(K,ne)=>{if(t[K])return Promise.resolve();let me=ht(ne)?ne:ne.prefix+ne.resource+ne.suffix;me.indexOf("/")!==0&&me.indexOf("://")===-1&&(me=ui.baseURL+"/"+me),t[K]=me.substring(0,me.lastIndexOf("/"));const Ce=()=>(i(K,"loaded"),Promise.resolve());return n[K]?Ce():Mc.ScriptLoader.add(me).then(Ce)},ee=(K,ne="added")=>ne==="added"&&u(K)||ne==="loaded"&&c(K)?Promise.resolve():new Promise(me=>{r.push({name:K,state:ne,resolve:me})});return{items:e,urls:t,lookup:n,get:g,requireLangPack:C,add:R,remove:B,createUrl:L,load:W,waitFor:ee}};ui.languageLoad=!0,ui.baseURL="",ui.PluginManager=ui(),ui.ThemeManager=ui(),ui.ModelManager=ui();const Ts=(e,t)=>{let n=null;return{cancel:()=>{qe(n)||(clearTimeout(n),n=null)},throttle:(...c)=>{qe(n)&&(n=setTimeout(()=>{n=null,e.apply(null,c)},t))}}},Ms=(e,t)=>{let n=null;const r=()=>{qe(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...c)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,c)},t)}}},Za=(e,t,n)=>sd(e,t,n).isSome(),da=Je("mce-annotation"),vs=Je("data-mce-annotation"),gs=Je("data-mce-annotation-uid"),Xm=Je("data-mce-annotation-active"),af=Je("data-mce-annotation-classes"),lg=Je("data-mce-annotation-attrs"),lh=e=>t=>Xo(t,e),Ri=(e,t)=>{const n=e.selection.getRng(),r=re.fromDom(n.startContainer),i=re.fromDom(e.getBody()),c=t.fold(()=>"."+da(),x=>`[${vs()}="${x}"]`),u=$d(r,n.startOffset).getOr(r);return la(u,c,lh(i)).bind(x=>As(x,`${gs()}`).bind(C=>As(x,`${vs()}`).map(R=>{const B=jb(e,C);return{uid:C,name:R,elements:B}})))},Jm=e=>ni(e)&&Fd(e,da()),Ub=(e,t)=>tl(e,"data-mce-bogus")||Za(e,'[data-mce-bogus="all"]',lh(t)),jb=(e,t)=>{const n=re.fromDom(e.getBody()),r=Ds(n,`[${gs()}="${t}"]`);return Ke(r,i=>!Ub(i,n))},G1=(e,t)=>{const n=re.fromDom(e.getBody()),r=Ds(n,`[${vs()}="${t}"]`),i={};return Ne(r,c=>{if(!Ub(c,n)){const u=xa(c,gs()),g=Hn(i,u).getOr([]);i[u]=g.concat([c])}}),i},Tv=(e,t)=>{const n=zr({}),r=()=>({listeners:[],previous:cc()}),i=(B,L)=>{c(B,W=>(L(W),W))},c=(B,L)=>{const W=n.get(),ee=Hn(W,B).getOrThunk(r),K=L(ee);W[B]=K,n.set(W)},u=(B,L,W)=>{i(B,ee=>{Ne(ee.listeners,K=>K(!0,B,{uid:L,nodes:Ko(W,ne=>ne.dom)}))})},g=B=>{i(B,L=>{Ne(L.listeners,W=>W(!1,B))})},x=(B,L)=>{Ne(jb(e,B),W=>{L?Tn(W,Xm(),"true"):Sn(W,Xm())})},C=Ms(()=>{const B=Yo(t.getNames());Ne(B,L=>{c(L,W=>{const ee=W.previous.get();return Ri(e,H.some(L)).fold(()=>{ee.each(K=>{g(L),W.previous.clear(),x(K,!1)})},({uid:K,name:ne,elements:me})=>{Pd(ee,K)||(ee.each(Ce=>x(Ce,!1)),u(ne,K,me),W.previous.set(K),x(K,!0))}),{previous:W.previous,listeners:W.listeners}})})},30);return e.on("remove",()=>{C.cancel()}),e.on("NodeChange",()=>{C.throttle()}),{addListener:(B,L)=>{c(B,W=>({previous:W.previous,listeners:W.listeners.concat([L])}))}}},K1=(e,t)=>{const n=vs(),r=c=>H.from(c.attr(n)).bind(t.lookup),i=c=>{var u,g;c.attr(gs(),null),c.attr(vs(),null),c.attr(Xm(),null);const x=H.from(c.attr(lg())).map(L=>L.split(",")).getOr([]),C=H.from(c.attr(af())).map(L=>L.split(",")).getOr([]);Ne(x,L=>c.attr(L,null));const R=(g=(u=c.attr("class"))===null||u===void 0?void 0:u.split(" "))!==null&&g!==void 0?g:[],B=Fn(R,[da()].concat(C));c.attr("class",B.length>0?B.join(" "):null),c.attr(af(),null),c.attr(lg(),null)};e.serializer.addTempAttr(Xm()),e.serializer.addAttributeFilter(n,c=>{for(const u of c)r(u).each(g=>{g.persistent===!1&&(u.name==="span"?u.unwrap():i(u))})})},Il=()=>{const e={};return{register:(i,c)=>{e[i]={name:i,settings:c}},lookup:i=>Hn(e,i).map(c=>c.settings),getNames:()=>rt(e)}},ch=(e,t,n)=>Math.min(Math.max(e,t),n),Ba=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let cg=0;const fd=e=>{const n=new Date().getTime(),r=Math.floor(Ba()*1e9);return cg++,e+"_"+r+cg+String(n)},pc=(e,t)=>{Ne(t,n=>{Jl(e,n)})},Di=(e,t)=>{Ne(t,n=>{Ha(e,n)})},dh=(e,t)=>re.fromDom(e.dom.cloneNode(t)),md=e=>dh(e,!1),Zb=e=>dh(e,!0),Wb=(e,t)=>{const n=re.fromTag(t),r=Rl(e);return fl(n,r),n},qb=(e,t)=>{const n=Wb(e,t);Jo(e,n);const r=_a(e);return Na(n,r),dn(e),n},Qm=(e,t,n=bo)=>{const r=new Kr(e,t),i=c=>{let u;do u=r[c]();while(u&&!lt(u)&&!n(u));return H.from(u).filter(lt)};return{current:()=>H.from(r.current()).filter(lt),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},pd=(e,t)=>{const n=t||(u=>e.isBlock(u)||ss(u)||vr(u)),r=(u,g,x,C)=>{if(lt(u)){const R=C(u,g,u.data);if(R!==-1)return H.some({container:u,offset:R})}return x().bind(R=>r(R.container,R.offset,x,C))};return{backwards:(u,g,x,C)=>{const R=Qm(u,C??e.getRoot(),n);return r(u,g,()=>R.prev().map(B=>({container:B,offset:B.length})),x).getOrNull()},forwards:(u,g,x,C)=>{const R=Qm(u,C??e.getRoot(),n);return r(u,g,()=>R.next().map(B=>({container:B,offset:0})),x).getOrNull()}}},Gb=((e,t)=>{const n=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return r(c).getOr("")},r=c=>e(c)?H.from(c.dom.nodeValue):H.none();return{get:n,getOption:r,set:(c,u)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=u}}})(Zs,"text"),lf=e=>Gb.get(e),Y1=e=>Gb.getOption(e),dg=(e,t)=>Gb.set(e,t),Ov=["td","th"],uh=["thead","tbody","tfoot"],Gi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Kb=["li","dd","dt"],fh=["ul","ol","dl"],Av=["pre","script","textarea","style"],gc=e=>{let t;return n=>(t=t||$r(e,fo),go(t,mn(n)))},X1=e=>mn(e)==="table",_u=e=>ni(e)&&mn(e)==="br",J1=gc(Gi),qd=gc(fh),ku=gc(Kb),Nv=gc(uh),Xf=gc(Ov),_l=gc(Av),mh=e=>{const t=[];let n=e.dom;for(;n;)t.push(re.fromDom(n)),n=n.lastChild;return t},ph=e=>{const t=Ds(e,"br"),n=Ke(mh(e).slice(-1),_u);t.length===n.length&&Ne(n,dn)},Fl=()=>{const e=re.fromTag("br");return Tn(e,"data-mce-bogus","1"),e},cf=e=>{rc(e),Br(e,Fl())},df=(e,t)=>{mu(e).each(n=>{ml(n).each(r=>{t.isBlock(mn(e))&&_u(n)&&t.isBlock(mn(r))&&dn(n)})})},Gs=Pm,gh=Tc,Sa=Oc,Yb=e=>e.insertContent(Gs,{preserve_zwsp:!0}),Q1=At,ep=lt,Jf=e=>(ep(e)&&(e=e.parentNode),Q1(e)&&e.hasAttribute("data-mce-caret")),Qf=e=>ep(e)&&gh(e.data),hc=e=>Jf(e)||Qf(e),Xb=e=>e.firstChild!==e.lastChild||!ss(e.firstChild),Rv=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Gs),c=e.parentNode;if(t){const u=e.previousSibling;if(ep(u)){if(hc(u))return u;if(ug(u))return u.splitText(u.data.length-1)}c==null||c.insertBefore(i,e)}else{const u=e.nextSibling;if(ep(u)){if(hc(u))return u;if(uf(u))return u.splitText(1),u}e.nextSibling?c==null||c.insertBefore(i,e.nextSibling):c==null||c.appendChild(i)}return i},e0=e=>{const t=e.container();return lt(t)?t.data.charAt(e.offset())===Gs||e.isAtStart()&&Qf(t.previousSibling):!1},Jb=e=>{const t=e.container();return lt(t)?t.data.charAt(e.offset()-1)===Gs||e.isAtEnd()&&Qf(t.nextSibling):!1},Qb=(e,t,n)=>{var r;const c=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);c.setAttribute("data-mce-caret",n?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Fl().dom);const u=t.parentNode;return n?u==null||u.insertBefore(c,t):t.nextSibling?u==null||u.insertBefore(c,t.nextSibling):u==null||u.appendChild(c),c},uf=e=>ep(e)&&e.data[0]===Gs,ug=e=>ep(e)&&e.data[e.data.length-1]===Gs,qw=e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];ac(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},tp=e=>e&&e.hasAttribute("data-mce-caret")?(qw(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,hh=e=>Jf(e.startContainer),Gd=Math.round,gd=e=>e?{left:Gd(e.left),top:Gd(e.top),bottom:Gd(e.bottom),right:Gd(e.right),width:Gd(e.width),height:Gd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},ff=(e,t)=>(e=gd(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),op=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,t0=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,fg=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:t0(t.top-e.bottom,e,t)},hd=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:t0(t.bottom-e.top,e,t),np=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,bh=e=>mo(e,(t,n)=>t.fold(()=>H.some(n),r=>{const i=Math.min(n.left,r.left),c=Math.min(n.top,r.top),u=Math.max(n.right,r.right),g=Math.max(n.bottom,r.bottom);return H.some({top:c,right:u,bottom:g,left:i,width:u-i,height:g-c})}),H.none()),mg=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-i)*(n-i))},Ki=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),rp=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},mf=(e,t)=>{if(At(e)&&e.hasChildNodes()){const n=e.childNodes,r=ch(t,0,n.length-1);return n[r]}else return e},o0=(e,t)=>{if(!(t<0&&At(e)&&e.hasChildNodes()))return mf(e,t)},Dv=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),pg=e=>ht(e)&&e.charCodeAt(0)>=768&&Dv.test(e),Mv=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},ey=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},ty=Ai,Gw=vr,gg=ss,sp=lt,n0=Bl(["script","style","textarea"]),yh=Bl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),r0=Bl(["table"]),Bv=hc,nl=e=>Bv(e)?!1:sp(e)?!n0(e.parentNode):yh(e)||gg(e)||r0(e)||ny(e),oy=e=>At(e)&&e.getAttribute("unselectable")==="true",ny=e=>!oy(e)&&Gw(e),Pv=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(ny(n))return!1;if(ty(n))return!0}return!0},Lv=e=>ny(e)?!mo(Io(e.getElementsByTagName("*")),(t,n)=>t||ty(n),!1):!1,Iv=e=>yh(e)||Lv(e),Fv=(e,t)=>nl(e)&&Pv(e,t),Hv=At,hg=nl,bg=jd("display","block table"),ry=jd("float","left right"),xh=ey(Hv,hg,Se(ry)),hs=Se(jd("white-space","pre pre-line pre-wrap")),Bc=lt,Kd=ss,yg=Ar.nodeIndex,ap=o0,vh=e=>e?e.createRange():Ar.DOM.createRng(),sy=e=>ht(e)&&/[\r\n\t ]/.test(e),em=e=>!!e.setStart&&!!e.setEnd,ay=e=>{const t=e.startContainer,n=e.startOffset;if(sy(e.toString())&&hs(t.parentNode)&&lt(t)){const r=t.data;if(sy(r[n-1])||sy(r[n+1]))return!0}return!1},s0=e=>{const t=e.ownerDocument,n=vh(t),r=t.createTextNode(rs),i=e.parentNode;i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const c=gd(n.getBoundingClientRect());return i.removeChild(r),c},wu=e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&lt(n)&&r===0&&i===1){const c=e.cloneRange();return c.setEndAfter(n),Pc(c)}else return null},a0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Pc=e=>{var t;let n;const r=e.getClientRects();return r.length>0?n=gd(r[0]):n=gd(e.getBoundingClientRect()),!em(e)&&Kd(e)&&a0(n)?s0(e):a0(n)&&em(e)&&(t=wu(e))!==null&&t!==void 0?t:n},bd=(e,t)=>{const n=ff(e,t);return n.width=1,n.right=n.left+1,n},i0=e=>{const t=[],n=u=>{u.height!==0&&(t.length>0&&op(u,t[t.length-1])||t.push(u))},r=(u,g)=>{const x=vh(u.ownerDocument);if(g<u.data.length){if(pg(u.data[g]))return;if(pg(u.data[g-1])&&(x.setStart(u,g),x.setEnd(u,g+1),!ay(x))){n(bd(Pc(x),!1));return}}g>0&&(x.setStart(u,g-1),x.setEnd(u,g),ay(x)||n(bd(Pc(x),!1))),g<u.data.length&&(x.setStart(u,g),x.setEnd(u,g+1),ay(x)||n(bd(Pc(x),!0)))},i=e.container(),c=e.offset();if(Bc(i))return r(i,c),t;if(Hv(i))if(e.isAtEnd()){const u=ap(i,c);Bc(u)&&r(u,u.data.length),xh(u)&&!Kd(u)&&n(bd(Pc(u),!1))}else{const u=ap(i,c);if(Bc(u)&&r(u,0),xh(u)&&e.isAtEnd())return n(bd(Pc(u),!1)),t;const g=ap(e.container(),e.offset()-1);xh(g)&&!Kd(g)&&(bg(g)||bg(u)||!xh(u))&&n(bd(Pc(g),!1)),xh(u)&&n(bd(Pc(u),!0))}return t},Ve=(e,t,n)=>{const r=()=>(Bc(e),t===0),i=()=>Bc(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const R=vh(e.ownerDocument);return R.setStart(e,t),R.setEnd(e,t),R},u=()=>(n||(n=i0(Ve(e,t))),n),g=()=>u().length>0,x=R=>R&&e===R.container()&&t===R.offset(),C=R=>ap(e,R?t-1:t);return{container:Je(e),offset:Je(t),toRange:c,getClientRects:u,isVisible:g,isAtStart:r,isAtEnd:i,isEqual:x,getNode:C}};Ve.fromRangeStart=e=>Ve(e.startContainer,e.startOffset),Ve.fromRangeEnd=e=>Ve(e.endContainer,e.endOffset),Ve.after=e=>Ve(e.parentNode,yg(e)+1),Ve.before=e=>Ve(e.parentNode,yg(e)),Ve.isAbove=(e,t)=>ba(ut(t.getClientRects()),ko(e.getClientRects()),fg).getOr(!1),Ve.isBelow=(e,t)=>ba(ko(t.getClientRects()),ut(e.getClientRects()),hd).getOr(!1),Ve.isAtStart=e=>e?e.isAtStart():!1,Ve.isAtEnd=e=>e?e.isAtEnd():!1,Ve.isTextPosition=e=>e?lt(e.container()):!1,Ve.isElementPosition=e=>!Ve.isTextPosition(e);const ip=(e,t)=>{lt(t)&&t.data.length===0&&e.remove(t)},l0=(e,t,n)=>{t.insertNode(n),ip(e,n.previousSibling),ip(e,n.nextSibling)},Vv=(e,t,n)=>{const r=H.from(n.firstChild),i=H.from(n.lastChild);t.insertNode(n),r.each(c=>ip(e,c.previousSibling)),i.each(c=>ip(e,c.nextSibling))},xg=(e,t,n)=>{Ku(n)?Vv(e,t,n):l0(e,t,n)},Lc=lt,c0=ac,$v=Ar.nodeIndex,Uv=e=>{const t=e.parentNode;return c0(t)?Uv(t):t},d0=e=>e?Fi(e.childNodes,(t,n)=>(c0(n)&&n.nodeName!=="BR"?t=t.concat(d0(n)):t.push(n),t),[]):[],jv=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Lc(n);)t+=n.data.length;return t},xn=e=>t=>e===t,Cu=e=>{let t,n;t=d0(Uv(e)),n=dr(t,xn(e),e),t=t.slice(0,n+1);const r=Fi(t,(i,c,u)=>(Lc(c)&&Lc(t[u-1])&&i++,i),0);return t=Ia(t,Bl([e.nodeName])),n=dr(t,xn(e),e),n-r},pf=e=>(Lc(e)?"text()":e.nodeName.toLowerCase())+"["+Cu(e)+"]",u0=(e,t,n)=>{const r=[];for(let i=t.parentNode;i&&i!==e;i=i.parentNode)r.push(i);return r},Zv=(e,t)=>{let n=[],r=t.container(),i=t.offset(),c;if(Lc(r))c=jv(r,i);else{const g=r.childNodes;i>=g.length?(c="after",i=g.length-1):c="before",r=g[i]}n.push(pf(r));let u=u0(e,r);return u=Ia(u,Se(ac)),n=n.concat(Ad(u,g=>pf(g))),n.reverse().join("/")+","+c},f0=(e,t,n)=>{let r=d0(e);return r=Ia(r,(i,c)=>!Lc(i)||!Lc(r[c-1])),r=Ia(r,Bl([t])),r[n]},m=(e,t)=>{let n=e,r=0;for(;Lc(n);){const i=n.data.length;if(t>=r&&t<=r+i){e=n,t=t-r;break}if(!Lc(n.nextSibling)){e=n,t=i;break}r+=i,n=n.nextSibling}return Lc(e)&&t>e.data.length&&(t=e.data.length),Ve(e,t)},h=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),i=n.length>1?n[1]:"before",c=Fi(r,(u,g)=>{const x=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return x?(x[1]==="text()"&&(x[1]="#text"),f0(u,x[1],parseInt(x[2],10))):null},e);if(!c)return null;if(!Lc(c)&&c.parentNode){let u;return i==="after"?u=$v(c)+1:u=$v(c),Ve(c.parentNode,u)}return m(c,parseInt(i,10))},v=vr,z=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let i=t.previousSibling;i&&lt(i);i=i.previousSibling)r+=e(i.data).length;return r},N=(e,t,n,r,i)=>{const c=i?r.startContainer:r.endContainer;let u=i?r.startOffset:r.endOffset;const g=[],x=e.getRoot();if(lt(c))g.push(n?z(t,c,u):u);else{let C=0;const R=c.childNodes;u>=R.length&&R.length&&(C=1,u=Math.max(0,R.length-1)),g.push(e.nodeIndex(R[u],n)+C)}for(let C=c;C&&C!==x;C=C.parentNode)g.push(e.nodeIndex(C,n));return g},D=(e,t,n,r)=>{const i=t.dom,c=N(i,e,n,r,!0),u=t.isForward(),g=hh(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:u,...g};{const x=N(i,e,n,r,!1);return{start:c,end:x,forward:u,...g}}},F=(e,t,n)=>{let r=0;return gt.each(e.select(t),i=>{if(i.getAttribute("data-mce-bogus")!=="all"){if(i===n)return!1;r++;return}}),r},$=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(At(n)&&n.nodeName==="TR"){const i=n.childNodes;n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},X=e=>($(e,!0),$(e,!1),e),ie=(e,t)=>{if(At(e)&&(e=mf(e,t),v(e)))return e;if(hc(e)){lt(e)&&Jf(e)&&(e=e.parentNode);let n=e.previousSibling;if(v(n)||(n=e.nextSibling,v(n)))return n}},ve=e=>ie(e.startContainer,e.startOffset)||ie(e.endContainer,e.endOffset),de=(e,t,n)=>{const r=n.getNode(),i=n.getRng();if(r.nodeName==="IMG"||v(r)){const u=r.nodeName;return{name:u,index:F(n.dom,u,r)}}const c=ve(i);if(c){const u=c.tagName;return{name:u,index:F(n.dom,u,c)}}return D(e,n,t,i)},he=e=>{const t=e.getRng();return{start:Zv(e.dom.getRoot(),Ve.fromRangeStart(t)),end:Zv(e.dom.getRoot(),Ve.fromRangeEnd(t)),forward:e.isForward()}},fe=e=>({rng:e.getRng(),forward:e.isForward()}),se=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},ke=(e,t)=>{const n=e.dom;let r=e.getRng();const i=n.uniqueId(),c=e.isCollapsed(),u=e.getNode(),g=u.nodeName,x=e.isForward();if(g==="IMG")return{name:g,index:F(n,g,u)};const C=X(r.cloneRange());if(!c){C.collapse(!1);const B=se(n,i+"_end",t);xg(n,C,B)}r=X(r),r.collapse(!0);const R=se(n,i+"_start",t);return xg(n,r,R),e.moveToBookmark({id:i,keep:!0,forward:x}),{id:i,forward:x}},We=(e,t,n=!1)=>t===2?de(Sa,n,e):t===3?he(e):t?fe(e):ke(e,!1),Fe=De(de,un,!0),Qe=e=>{const t=c=>c(e),n=Je(e),r=()=>i,i={tag:!0,inner:e,fold:(c,u)=>u(e),isValue:fo,isError:bo,map:c=>ct.value(c(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:c=>{c(e)},toOptional:()=>H.some(e)};return i},st=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,i)=>r(e),isValue:bo,isError:fo,map:t,mapError:r=>ct.error(r(e)),bind:t,exists:bo,forall:fo,getOr:un,or:un,getOrThunk:$o,orThunk:$o,getOrDie:ot(String(e)),each:io,toOptional:H.none};return n},ct={value:Qe,error:st,fromOption:(e,t)=>e.fold(()=>st(t),Qe)},Pt={generate:e=>{if(!pe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return Ne(e,(r,i)=>{const c=rt(r);if(c.length!==1)throw new Error("one and only one name per case");const u=c[0],g=r[u];if(n[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!pe(g))throw new Error("case arguments must be an array");t.push(u),n[u]=(...x)=>{const C=x.length;if(C!==g.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+g.length+" ("+g+"), got "+C);return{fold:(...B)=>{if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);return B[i].apply(null,x)},match:B=>{const L=rt(B);if(t.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+L.join(","));if(!ts(t,ee=>en(L,ee)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+t.join(", "));return B[u].apply(null,x)},log:B=>{console.log(B,{constructors:t,constructor:u,params:x})}}}}),n}};Pt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const co=e=>{const t=[],n=[];return Ne(e,r=>{r.fold(i=>{t.push(i)},i=>{n.push(i)})}),{errors:t,values:n}},vn=e=>e.type==="inline-command"||e.type==="inline-format",Oo=e=>e.type==="block-command"||e.type==="block-format",qo=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Ao=e=>{var t;const n=i=>ct.error({message:i,pattern:e}),r=(i,c,u)=>{if(e.format!==void 0){let g;if(pe(e.format)){if(!ts(e.format,ht))return n(i+" pattern has non-string items in the `format` array");g=e.format}else if(ht(e.format))g=[e.format];else return n(i+" pattern has non-string `format` parameter");return ct.value(c(g))}else return e.cmd!==void 0?ht(e.cmd)?ct.value(u(e.cmd,e.value)):n(i+" pattern has non-string `cmd` parameter"):n(i+" pattern is missing both `format` and `cmd` parameters")};if(!ue(e))return n("Raw pattern is not an object");if(!ht(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ht(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let i=e.start,c=e.end;return c.length===0&&(c=i,i=""),r("Inline",u=>({type:"inline-format",start:i,end:c,format:u}),(u,g)=>({type:"inline-command",start:i,end:c,cmd:u,value:g}))}else{if(e.replacement!==void 0)return ht(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):ct.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):r("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:i}),(c,u)=>({type:"block-command",start:e.start,cmd:c,value:u,trigger:i}))}}},Gn=e=>Ke(e,Oo),_s=e=>Ke(e,vn),Wa=(e,t)=>({inlinePatterns:_s(e),blockPatterns:Gn(e),dynamicPatternsLookup:t}),Ea=(e,t)=>({...e,blockPatterns:Ke(e.blockPatterns,n=>qo(n,t))}),Yi=e=>{const t=co(Ko(e,Ao));return Ne(t.errors,n=>console.error(n.message,n.pattern)),t.values},Su=e=>t=>{const n=e(t);return Yi(n)},kl=(e,t)=>e.dispatch("PreProcess",t),lp=(e,t)=>e.dispatch("PostProcess",t),iy=e=>{e.dispatch("remove")},ly=e=>{e.dispatch("detach")},cy=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},_h=(e,t,n,r,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:i})},cp=(e,t,n,r,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:i})},rl=e=>{e.dispatch("PreInit")},Eu=e=>{e.dispatch("PostRender")},Yd=e=>{e.dispatch("Init")},Wv=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},qv=(e,t,n)=>{e.dispatch(t,n)},F3=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Gv=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},Kw=(e,t)=>e.dispatch("BeforeSetContent",t),H3=(e,t)=>e.dispatch("SetContent",t),Yw=(e,t)=>e.dispatch("BeforeGetContent",t),Xw=(e,t)=>e.dispatch("GetContent",t),V3=(e,t)=>{e.dispatch("AutocompleterStart",t)},Jw=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},m0=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},Lr=e=>{e.dispatch("AutocompleterEnd")},vg=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),$3=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Qw=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),U3=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),e2=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),Kv=js().deviceType,t2=Kv.isTouch(),mR=Ar.DOM,j3=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return mo(t,(n,r)=>{const i=r.split("="),c=i[0],u=i.length>1?i[1]:c;return n[ga(c)]=ga(u),n},{})},Yv=e=>Ut(e,RegExp),Lt=e=>t=>t.options.get(e),Xv=e=>ht(e)||ue(e),Z3=(e,t="")=>n=>{const r=ht(n);if(r)if(n.indexOf("=")!==-1){const i=j3(n);return{value:Hn(i,e.id).getOr(t),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},yd=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Z3(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Z3(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const r=ht(n)&&yr(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const r=en(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>Zn(n)?{valid:!0,value:n}:ht(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const r=n===!1||ht(n)||To(n,ht);return r?ht(n)?{value:Ko(n.split(","),ga),valid:r}:pe(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:x0(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const r=ht(n)||To(n,ht);return r?{value:pe(n)?n:Ko(n.split(","),ga),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const r=Zn(n)||ht(n);return r?n===!1||Kv.isiPhone()||Kv.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!t2}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:n=>n===!1||ht(n)||jt(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const r=n===!1||ht(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:n=>Zn(n)?(e.initialized&&Sh(e)!==n&&Promise.resolve().then(()=>{e2(e,n)}),{valid:!0,value:n}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:n=>{const r=To(n,ht);return r?{value:n,valid:r}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Xv}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Xv}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Xv}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Xv}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>ht(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>To(n,ue)||n===!1?{value:Yi(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>jt(n)?{value:Su(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>To(n,Yv)?{value:n,valid:!0}:Yv(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const r=en(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const r=en(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:mc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:mR.getAttrib(e.getElement(),"placeholder")})})},wl=Lt("iframe_attrs"),dy=Lt("doctype"),W3=Lt("document_base_url"),pR=Lt("body_id"),_n=Lt("body_class"),q3=Lt("content_security_policy"),G3=Lt("br_in_pre"),Xi=Lt("forced_root_block"),p0=Lt("forced_root_block_attrs"),gR=Lt("newline_behavior"),hR=Lt("br_newline_selector"),bR=Lt("no_newline_selector"),o2=Lt("keep_styles"),n2=Lt("end_container_on_empty_block"),r2=Lt("automatic_uploads"),K3=Lt("images_reuse_filename"),yR=Lt("images_replace_blob_uris"),Y3=Lt("icons"),Wt=Lt("icons_url"),X3=Lt("images_upload_url"),g0=Lt("images_upload_base_path"),s2=Lt("images_upload_credentials"),J3=Lt("images_upload_handler"),Q3=Lt("content_css_cors"),Jv=Lt("referrer_policy"),a2=Lt("language"),xR=Lt("language_url"),eE=Lt("indent_use_margin"),$n=Lt("indentation"),vR=Lt("content_css"),dp=Lt("content_style"),gf=Lt("font_css"),Qv=Lt("directionality"),Ic=Lt("inline_boundaries_selector"),h0=Lt("object_resizing"),b0=Lt("resize_img_proportional"),e_=Lt("placeholder"),kh=Lt("event_root"),_R=Lt("service_message"),uy=Lt("theme"),kR=Lt("theme_url"),i2=Lt("model"),wn=Lt("model_url"),Fc=Lt("inline_boundaries"),wh=Lt("formats"),wR=Lt("preview_styles"),y0=Lt("format_empty_lines"),On=Lt("format_noneditable_selector"),tE=Lt("custom_ui_selector"),x0=Lt("inline"),CR=Lt("hidden_input"),_g=Lt("submit_patch"),Ch=Lt("add_form_submit_trigger"),oE=Lt("add_unload_trigger"),SR=Lt("custom_undo_redo_levels"),ER=Lt("disable_nodechange"),fy=Lt("readonly"),my=Lt("editable_root"),nE=Lt("content_css_cors"),v0=Lt("plugins"),zR=Lt("external_plugins"),rE=Lt("block_unsupported_drop"),TR=Lt("visual"),sE=Lt("visual_table_class"),t_=Lt("visual_anchor_class"),o_=Lt("iframe_aria_text"),l2=Lt("setup"),aE=Lt("init_instance_callback"),iE=Lt("urlconverter_callback"),lE=Lt("auto_focus"),n_=Lt("browser_spellcheck"),cE=Lt("protect"),dE=Lt("paste_block_drop"),_0=Lt("paste_data_images"),uE=Lt("paste_preprocess"),fE=Lt("paste_postprocess"),mE=Lt("newdocument_content"),OR=Lt("paste_webkit_styles"),AR=Lt("paste_remove_styles_if_webkit"),r_=Lt("paste_merge_formats"),pE=Lt("smart_paste"),gE=Lt("paste_as_text"),hE=Lt("paste_tab_spaces"),NR=Lt("allow_html_data_urls"),RR=Lt("text_patterns"),DR=Lt("text_patterns_lookup"),bE=Lt("noneditable_class"),MR=Lt("editable_class"),yE=Lt("noneditable_regexp"),xE=Lt("preserve_cdata"),s_=Lt("highlight_on_focus"),vE=Lt("xss_sanitization"),c2=Lt("init_content_sync"),BR=e=>e.options.isSet("text_patterns_lookup"),_E=e=>gt.explode(e.options.get("font_size_style_values")),kE=e=>gt.explode(e.options.get("font_size_classes")),wE=e=>e.options.get("encoding")==="xml",CE=e=>gt.explode(e.options.get("images_file_types")),PR=Lt("table_tab_navigation"),a_=Lt("details_initial_state"),SE=Lt("details_serialized_state"),d2=Lt("sandbox_iframes"),i_=e=>e.options.get("sandbox_iframes_exclusions"),EE=Lt("convert_unsafe_embeds"),LR=Lt("license_key"),IR=Lt("api_key"),Sh=Lt("disabled"),zE=At,u2=lt,TE=e=>{const t=e.parentNode;t&&t.removeChild(e)},OE=e=>{const t=Sa(e);return{count:e.length-t.length,text:t}},AE=e=>{let t;for(;(t=e.data.lastIndexOf(Gs))!==-1;)e.deleteData(t,1)},NE=(e,t)=>(kg(e),t),FR=(e,t)=>{const n=OE(e.data.substr(0,t.offset())),r=OE(e.data.substr(t.offset()));return(n.text+r.text).length>0?(AE(e),Ve(e,t.offset()-n.count)):t},HR=(e,t)=>{const n=t.container(),r=dl(Io(n.childNodes),e).map(i=>i<t.offset()?Ve(n,t.offset()-1):t).getOr(t);return kg(e),r},RE=(e,t)=>u2(e)&&t.container()===e?FR(e,t):NE(e,t),VR=(e,t)=>t.container()===e.parentNode?HR(e,t):NE(e,t),DE=(e,t)=>Ve.isTextPosition(t)?RE(e,t):VR(e,t),kg=e=>{zE(e)&&hc(e)&&(Xb(e)?e.removeAttribute("data-mce-caret"):TE(e)),u2(e)&&(AE(e),e.data.length===0&&TE(e))},$R=vr,UR=qi,jR=Vo,ZR="*[contentEditable=false],video,audio,embed,object",ME=(e,t,n)=>{const r=ff(t.getBoundingClientRect(),n);let i,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;i=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();i=e.scrollLeft-g.left,c=e.scrollTop-g.top}r.left+=i,r.right+=i,r.top+=c,r.bottom+=c,r.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),r.left+=u,r.right+=u),r},WR=e=>{var t,n;const r=Ds(re.fromDom(e),ZR);for(let i=0;i<r.length;i++){const c=r[i].dom;let u=c.previousSibling;if(ug(u)){const g=u.data;g.length===1?(t=u.parentNode)===null||t===void 0||t.removeChild(u):u.deleteData(g.length-1,1)}u=c.nextSibling,uf(u)&&(u.data.length===1?(n=u.parentNode)===null||n===void 0||n.removeChild(u):u.deleteData(0,1))}},qR=(e,t,n,r)=>{const i=cc();let c,u;const g=Xi(e),x=e.dom,C=(K,ne)=>{let me;if(R(),jR(ne))return null;if(n(ne)){const Ce=Qb(g,ne,K),ze=ME(t,ne,K);x.setStyle(Ce,"top",ze.top),x.setStyle(Ce,"caret-color","transparent"),u=Ce;const Re=x.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});x.setStyles(Re,{...ze}),x.add(t,Re),i.set({caret:Re,element:ne,before:K}),K&&x.addClass(Re,"mce-visual-caret-before"),B(),me=ne.ownerDocument.createRange(),me.setStart(Ce,0),me.setEnd(Ce,0)}else return u=Rv(ne,K),me=ne.ownerDocument.createRange(),k0(u.nextSibling)?(me.setStart(u,0),me.setEnd(u,0)):(me.setStart(u,1),me.setEnd(u,1)),me;return me},R=()=>{WR(t),u&&(kg(u),u=null),i.on(K=>{x.remove(K.caret),i.clear()}),c&&(clearInterval(c),c=void 0)},B=()=>{c=window.setInterval(()=>{i.on(K=>{r()?x.toggleClass(K.caret,"mce-visual-caret-hidden"):x.addClass(K.caret,"mce-visual-caret-hidden")})},500)};return{show:C,hide:R,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(K=>{const ne=ME(t,K.element,K.before);x.setStyles(K.caret,{...ne})})},destroy:()=>clearInterval(c)}},BE=()=>Rt.browser.isFirefox(),k0=e=>$R(e)||UR(e),w0=e=>(k0(e)||id(e)&&BE())&&Ql(re.fromDom(e)).exists(si),GR=Ai,f2=vr,KR=qi,Kt=jd("display","block table table-cell table-row table-caption list-item"),m2=hc,p2=Jf,YR=At,g2=lt,XR=nl,up=e=>e===1,wg=e=>e===-1,l_=(e,t)=>{let n;for(;n=e(t);)if(!p2(n))return n;return null},yo=(e,t,n,r,i)=>{const c=new Kr(e,r),u=f2(e)||p2(e);let g;if(wg(t)){if(u&&(g=l_(c.prev.bind(c),!0),n(g)))return g;for(;g=l_(c.prev.bind(c),i);)if(n(g))return g}if(up(t)){if(u&&(g=l_(c.next.bind(c),!0),n(g)))return g;for(;g=l_(c.next.bind(c),i);)if(n(g))return g}return null},wo=(e,t)=>{const n=i=>GR(i.dom),r=i=>i.dom===t;return pl(re.fromDom(e),n,r).map(i=>i.dom).getOr(t)},fp=(e,t)=>{for(;e&&e!==t;){if(Kt(e))return e;e=e.parentNode}return null},tm=(e,t,n)=>fp(e.container(),n)===fp(t.container(),n),h2=(e,t)=>{if(!t)return H.none();const n=t.container(),r=t.offset();return YR(n)?H.from(n.childNodes[r+e]):H.none()},PE=(e,t)=>{var n;const i=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),i},ho=(e,t,n)=>fp(t,e)===fp(n,e),py=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let i=n;for(;i&&i!==t;){let c=i[r];if(c&&m2(c)&&(c=c[r]),f2(c)||KR(c)){if(ho(t,c,i))return c;break}if(XR(c))break;i=i.parentNode}return null},gy=De(PE,!0),hy=De(PE,!1),b2=(e,t,n)=>{let r;const i=De(py,!0,t),c=De(py,!1,t),u=n.startContainer,g=n.startOffset;if(Jf(u)){const x=g2(u)?u.parentNode:u,C=x.getAttribute("data-mce-caret");if(C==="before"&&(r=x.nextSibling,w0(r)))return gy(r);if(C==="after"&&(r=x.previousSibling,w0(r)))return hy(r)}if(!n.collapsed)return n;if(lt(u)){if(m2(u)){if(e===1){if(r=c(u),r)return gy(r);if(r=i(u),r)return hy(r)}if(e===-1){if(r=i(u),r)return hy(r);if(r=c(u),r)return gy(r)}return n}if(ug(u)&&g>=u.data.length-1)return e===1&&(r=c(u),r)?gy(r):n;if(uf(u)&&g<=1)return e===-1&&(r=i(u),r)?hy(r):n;if(g===u.data.length)return r=c(u),r?gy(r):n;if(g===0)return r=i(u),r?hy(r):n}return n},LE=(e,t)=>h2(e?0:-1,t).filter(f2),by=(e,t,n)=>{const r=b2(e,t,n);return e===-1?Ve.fromRangeStart(r):Ve.fromRangeEnd(r)},c_=e=>H.from(e.getNode()).map(re.fromDom),Uo=e=>H.from(e.getNode(!0)).map(re.fromDom),C0=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},S0=(e,t)=>{const n=tm(e,t);return!n&&ss(e.getNode())?!0:n},d_=vr,hf=lt,y2=At,u_=ss,Eh=nl,x2=Iv,E0=Fv,JR=(e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},IE=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,FE=(e,t)=>{if(up(e)){if(Eh(t.previousSibling)&&!hf(t.previousSibling))return Ve.before(t);if(hf(t))return Ve(t,0)}if(wg(e)){if(Eh(t.nextSibling)&&!hf(t.nextSibling))return Ve.after(t);if(hf(t))return Ve(t,t.data.length)}return wg(e)?u_(t)?Ve.before(t):Ve.after(t):Ve.before(t)},QR=(e,t)=>{const n=t.nextSibling;return n&&Eh(n)?hf(n)?Ve(n,0):Ve.before(n):v2(1,Ve.after(t),e)},v2=(e,t,n)=>{let r,i,c,u;if(!y2(n)||!t)return null;if(t.isEqual(Ve.after(n))&&n.lastChild){if(u=Ve.after(n.lastChild),wg(e)&&Eh(n.lastChild)&&y2(n.lastChild))return u_(n.lastChild)?Ve.before(n.lastChild):u}else u=t;const g=u.container();let x=u.offset();if(hf(g)){if(wg(e)&&x>0)return Ve(g,--x);if(up(e)&&x<g.length)return Ve(g,++x);r=g}else{if(wg(e)&&x>0&&(i=IE(g,x-1),Eh(i)))return!x2(i)&&(c=yo(i,e,E0,i),c)?hf(c)?Ve(c,c.data.length):Ve.after(c):hf(i)?Ve(i,i.data.length):Ve.before(i);if(up(e)&&x<g.childNodes.length&&(i=IE(g,x),Eh(i)))return u_(i)?QR(n,i):!x2(i)&&(c=yo(i,e,E0,i),c)?hf(c)?Ve(c,0):Ve.before(c):hf(i)?Ve(i,0):Ve.after(i);r=i||u.getNode()}if(r&&(up(e)&&u.isAtEnd()||wg(e)&&u.isAtStart())&&(r=yo(r,e,fo,n,!0),E0(r,n)))return FE(e,r);i=r&&yo(r,e,E0,n);const C=ma(Ke(JR(g,n),d_));return C&&(!i||!C.contains(i))?(up(e)?u=Ve.after(C):u=Ve.before(C),u):i?FE(e,i):null},zu=e=>({next:t=>v2(1,t,e),prev:t=>v2(-1,t,e)}),_2=(e,t,n)=>{const r=e?Ve.before(n):Ve.after(n);return xd(e,t,r)},eD=e=>ss(e)?Ve.before(e):Ve.after(e),HE=e=>Ve.isTextPosition(e)?e.offset()===0:nl(e.getNode()),VE=e=>{if(Ve.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return nl(e.getNode(!0))},$E=(e,t)=>!Ve.isTextPosition(e)&&!Ve.isTextPosition(t)&&e.getNode()===t.getNode(!0),UE=e=>!Ve.isTextPosition(e)&&ss(e.getNode()),mp=(e,t,n)=>e?!$E(t,n)&&!UE(t)&&VE(t)&&HE(n):!$E(n,t)&&HE(t)&&VE(n),xd=(e,t,n)=>{const r=zu(t);return H.from(e?r.next(n):r.prev(n))},zh=(e,t,n)=>xd(e,t,n).bind(r=>tm(n,r,t)&&mp(e,n,r)?xd(e,t,r):H.some(r)),jE=(e,t,n,r)=>zh(e,t,n).bind(i=>r(i)?jE(e,t,i,r):H.some(i)),yy=(e,t)=>{const n=e?t.firstChild:t.lastChild;return lt(n)?H.some(Ve(n,e?0:n.data.length)):n?nl(n)?H.some(e?Ve.before(n):eD(n)):_2(e,t,n):H.none()},Hl=De(xd,!0),bc=De(xd,!1),is=De(yy,!0),Tu=De(yy,!1),pp="_mce_caret",Kn=e=>At(e)&&e.id===pp,sl=(e,t)=>{let n=t;for(;n&&n!==e;){if(Kn(n))return n;n=n.parentNode}return null},z0=e=>ht(e.start),f_=e=>go(e,"rng"),T0=e=>go(e,"id"),ZE=e=>go(e,"name"),Th=e=>gt.isArray(e.start),Qn=e=>!ZE(e)&&Zn(e.forward)?e.forward:!0,xy=(e,t)=>(At(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),WE=(e,t)=>{const n=H.from(h(e.getRoot(),t.start)),r=H.from(h(e.getRoot(),t.end));return ba(n,r,(i,c)=>{const u=e.createRng();return u.setStart(i.container(),i.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:Qn(t)}})},qE=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Gs);e.appendChild(i),t.setStart(i,0),t.setEnd(i,0)},m_=e=>!e.hasChildNodes(),k2=(e,t)=>Tu(e).fold(bo,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),p_=(e,t,n)=>m_(t)&&sl(e,t)?(qE(t,n),!0):!1,g_=(e,t,n,r)=>{const i=n[t?"start":"end"],c=e.getRoot();if(i){let u=c,g=i[0];for(let x=i.length-1;u&&x>=1;x--){const C=u.childNodes;if(p_(c,u,r))return!0;if(i[x]>C.length-1)return p_(c,u,r)?!0:k2(u,r);u=C[i[x]]}lt(u)&&(g=Math.min(i[0],u.data.length)),At(u)&&(g=Math.min(i[0],u.childNodes.length)),t?r.setStart(u,g):r.setEnd(u,g)}return!0},O0=e=>lt(e)&&e.data.length>0,A0=(e,t,n)=>{const r=e.get(n.id+"_"+t),i=r==null?void 0:r.parentNode,c=n.keep;if(r&&i){let u,g;if(t==="start"?c?r.hasChildNodes()?(u=r.firstChild,g=1):O0(r.nextSibling)?(u=r.nextSibling,g=0):O0(r.previousSibling)?(u=r.previousSibling,g=r.previousSibling.data.length):(u=i,g=e.nodeIndex(r)+1):(u=i,g=e.nodeIndex(r)):c?r.hasChildNodes()?(u=r.firstChild,g=1):O0(r.previousSibling)?(u=r.previousSibling,g=r.previousSibling.data.length):(u=i,g=e.nodeIndex(r)):(u=i,g=e.nodeIndex(r)),!c){const x=r.previousSibling,C=r.nextSibling;gt.each(gt.grep(r.childNodes),B=>{lt(B)&&(B.data=B.data.replace(/\uFEFF/g,""))});let R;for(;R=e.get(n.id+"_"+t);)e.remove(R,!0);if(lt(C)&&lt(x)&&!Rt.browser.isOpera()){const B=x.data.length;x.appendData(C.data),e.remove(C),u=x,g=B}}return H.some(Ve(u,g))}else return H.none()},w2=(e,t)=>{const n=e.createRng();return g_(e,!0,t,n)&&g_(e,!1,t,n)?H.some({range:n,forward:Qn(t)}):H.none()},GE=(e,t)=>{const n=A0(e,"start",t),r=A0(e,"end",t);return ba(n,r.or(n),(i,c)=>{const u=e.createRng();return u.setStart(xy(e,i.container()),i.offset()),u.setEnd(xy(e,c.container()),c.offset()),{range:u,forward:Qn(t)}})},KE=(e,t)=>H.from(e.select(t.name)[t.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),YE=(e,t)=>{const n=e.dom;if(t){if(Th(t))return w2(n,t);if(z0(t))return WE(n,t);if(T0(t))return GE(n,t);if(ZE(t))return KE(n,t);if(f_(t))return H.some({range:t.rng,forward:Qn(t)})}return H.none()},XE=(e,t,n)=>We(e,t,n),JE=(e,t)=>{YE(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},Cl=e=>At(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",vy=(e=>t=>e===t)(rs),Oh=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,C2=e=>!Oh(e)&&!vy(e)&&!Tc(e),h_=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},QE=e=>Yn(e,t=>{const n=rp(t);return n?[re.fromDom(n)]:[]}),ez=e=>h_(e).length>1,b_=e=>Ke(QE(e),Xf),tz=e=>Ds(e,"td[data-mce-selected],th[data-mce-selected]"),S2=(e,t)=>{const n=tz(t);return n.length>0?n:b_(e)},Ah=e=>S2(h_(e.selection.getSel()),re.fromDom(e.getBody())),_y=(e,t)=>sd(e,"table",t),oz=e=>{const t=e.startContainer,n=e.startOffset;return lt(t)?n===0?H.some(re.fromDom(t)):H.none():H.from(t.childNodes[n]).map(re.fromDom)},nz=e=>{const t=e.endContainer,n=e.endOffset;return lt(t)?n===t.data.length?H.some(re.fromDom(t)):H.none():H.from(t.childNodes[n-1]).map(re.fromDom)},E2=e=>Dm(e).fold(Je([e]),t=>[e].concat(E2(t))),y_=e=>mu(e).fold(Je([e]),t=>mn(t)==="br"?ml(t).map(n=>[e].concat(y_(n))).getOr([]):[e].concat(y_(t))),x_=(e,t)=>ba(oz(t),nz(t),(n,r)=>{const i=zn(E2(e),De(Xo,n)),c=zn(y_(e),De(Xo,r));return i.isSome()&&c.isSome()}).getOr(!1),v_=(e,t,n,r)=>{const i=n,c=new Kr(n,i),u=Ji(e.schema.getMoveCaretBeforeOnEnterElements(),(x,C)=>!en(["td","th","table"],C.toLowerCase()));let g=n;do{if(lt(g)&&gt.trim(g.data).length!==0){r?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(u[g.nodeName]){r?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=r?c.next():c.prev());i.nodeName==="BODY"&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},ky=e=>{const t=e.selection.getSel();return Le(t)&&t.rangeCount>0},__=(e,t)=>{const n=Ah(e);n.length>0?Ne(n,r=>{const i=r.dom,c=e.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),t(c,!0)}):t(e.selection.getRng(),!1)},z2=(e,t,n)=>{const r=ke(e,t);n(r),e.moveToBookmark(r)},wy=e=>O(e==null?void 0:e.nodeType),k_=e=>At(e)&&!Cl(e)&&!Kn(e)&&!ac(e),rz=(e,t)=>{if(k_(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},T2=(e,t,n)=>{const{selection:r,dom:i}=e,c=r.getNode(),u=vr(c);z2(r,!0,()=>{t()}),u&&vr(c)&&i.isChildOf(c,e.getBody())?e.selection.select(c):n(r.getStart())&&sz(i,r)},sz=(e,t)=>{var n,r;const i=t.getRng(),{startContainer:c,startOffset:u}=i,g=t.getNode();if(!rz(e,g)&&At(c)){const x=c.childNodes,C=e.getRoot();let R;if(u<x.length){const B=x[u];R=new Kr(B,(n=e.getParent(B,e.isBlock))!==null&&n!==void 0?n:C)}else{const B=x[x.length-1];R=new Kr(B,(r=e.getParent(B,e.isBlock))!==null&&r!==void 0?r:C),R.next(!0)}for(let B=R.current();B;B=R.next()){if(e.getContentEditable(B)==="false")return;if(lt(B)&&!C_(B)){i.setStart(B,0),t.setRng(i);return}}}},w_=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(At(e)||!C_(e))return e}},Cy=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||cr(e,t),Nh=(e,t,n)=>e.schema.isValidChild(t,n),C_=(e,t=!1)=>{if(Le(e)&&lt(e)){const n=t?e.data.replace(/ /g," "):e.data;return Ac(n)}else return!1},S_=e=>Le(e)&&lt(e)&&e.length===0,O2=(e,t)=>{const n="[data-mce-cef-wrappable]",r=On(e),i=vi(r)?n:`${n},${r}`;return Va(re.fromDom(t),i)},Sy=(e,t)=>{const n=e.dom;return k_(t)&&n.getContentEditable(t)==="false"&&O2(e,t)&&n.select('[contenteditable="true"]',t).length===0},om=(e,t)=>jt(e)?e(t):(Le(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),E_=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Cg=(e,t)=>{if(Po(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=ag(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Ey=(e,t,n)=>{const r=e.getStyle(t,n);return Cg(r,n)},z_=(e,t)=>{let n;return e.getParent(t,r=>At(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},gp=(e,t,n)=>e.getParents(t,n,e.getRoot()),nm=(e,t,n)=>{const r=e.formatter.get(t);return Le(r)&&Cn(r,n)},az=(e,t)=>nm(e,t,r=>{const i=c=>jt(c)||c.length>1&&c.charAt(0)==="%";return Cn(["styles","attributes"],c=>Hn(r,c).exists(u=>{const g=pe(u)?u:Tl(u);return Cn(g,i)}))}),oD=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],i=c=>Ji(c,(u,g)=>Cn(r,x=>x===g));return nm(e,t,c=>{const u=i(c);return nm(e,n,g=>{const x=i(g);return Os(u,x)})})},rm=e=>Ya(e,"block"),iz=e=>rm(e)&&e.wrapper===!0,lz=e=>rm(e)&&e.wrapper!==!0,vd=e=>Ya(e,"selector"),Bs=e=>Ya(e,"inline"),Rh=e=>vd(e)&&Bs(e)&&Pd(Hn(e,"mixed"),!0),qa=e=>vd(e)&&e.expand!==!1&&!Bs(e),hp=e=>{const t=[];let n=e;for(;n;){if(lt(n)&&n.data!==Gs||n.childNodes.length>1)return[];At(n)&&t.push(n),n=n.firstChild}return t},Bn=e=>hp(e).length>0,A2=e=>Kn(e.dom)&&Bn(e.dom),zy=Cl,_r=gp,N2=C_,N0=Cy,R0=e=>ss(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Ty=(e,t)=>{let n=t;for(;n;){if(At(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},Oy=(e,t,n,r)=>{const i=t.data;if(e){for(let c=n;c>0;c--)if(r(i.charAt(c-1)))return c}else for(let c=n;c<i.length;c++)if(r(i.charAt(c)))return c;return-1},cz=(e,t,n)=>Oy(e,t,n,r=>vy(r)||Oh(r)),nD=(e,t,n)=>Oy(e,t,n,C2),dz=(e,t,n,r,i,c)=>{let u;const g=e.getParent(n,B=>Fm(B)||e.isBlock(B)),x=Le(g)?g:t,C=(B,L,W)=>{const ee=pd(e),K=i?ee.backwards:ee.forwards;return H.from(K(B,L,(ne,me)=>zy(ne.parentNode)?-1:(u=ne,W(i,ne,me)),x))};return C(n,r,cz).bind(B=>c?C(B.container,B.offset+(i?-1:0),nD):H.some(B)).orThunk(()=>u?H.some({container:u,offset:i?0:u.length}):H.none())},uz=(e,t,n,r,i)=>{const c=r[i];lt(r)&&vi(r.data)&&c&&(r=c);const u=_r(e,r);for(let g=0;g<u.length;g++)for(let x=0;x<t.length;x++){const C=t[x];if(!(Le(C.collapsed)&&C.collapsed!==n.collapsed)&&vd(C)&&e.is(u[g],C.selector))return u[g]}return r},fz=(e,t,n,r)=>{var i;let c=n;const u=e.getRoot(),g=t[0];if(rm(g)&&(c=g.wrapper?null:e.getParent(n,g.block,u)),!c){const x=(i=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:u;c=e.getParent(lt(n)?n.parentNode:n,C=>C!==u&&N0(e.schema,C),x)}if(c&&rm(g)&&g.wrapper&&(c=_r(e,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!E_(c,"br")););return c||n},Xr=(e,t,n,r)=>{const i=n.parentNode;return Le(n[r])?!1:i===t||Po(i)||e.isBlock(i)?!0:Xr(e,t,i,r)},D0=(e,t,n,r,i,c)=>{let u=n;const g=i?"previousSibling":"nextSibling",x=e.getRoot();if(lt(n)&&!N2(n)&&(i?r>0:r<n.data.length))return n;for(;u;){if(Fm(u))return n;if(!t[0].block_expand&&e.isBlock(u))return c?u:n;for(let C=u[g];C;C=C[g]){const R=lt(C)&&!Xr(e,x,C,g);if(!zy(C)&&!R0(C)&&!N2(C,R))return u}if(u===x||u.parentNode===x){n=u;break}u=u.parentNode}return n},R2=e=>zy(e.parentNode)||zy(e),Dh=(e,t,n,r={})=>{const{includeTrailingSpace:i=!1,expandToBlock:c=!0}=r,u=e.getParent(t.commonAncestorContainer,W=>Fm(W)),g=Le(u)?u:e.getRoot();let{startContainer:x,startOffset:C,endContainer:R,endOffset:B}=t;const L=n[0];return At(x)&&x.hasChildNodes()&&(x=mf(x,C),lt(x)&&(C=0)),At(R)&&R.hasChildNodes()&&(R=mf(R,t.collapsed?B:B-1),lt(R)&&(B=R.data.length)),x=Ty(e,x),R=Ty(e,R),R2(x)&&(x=zy(x)?x:x.parentNode,t.collapsed?x=x.previousSibling||x:x=x.nextSibling||x,lt(x)&&(C=t.collapsed?x.length:0)),R2(R)&&(R=zy(R)?R:R.parentNode,t.collapsed?R=R.nextSibling||R:R=R.previousSibling||R,lt(R)&&(B=t.collapsed?0:R.length)),t.collapsed&&(dz(e,g,x,C,!0,i).each(({container:K,offset:ne})=>{x=K,C=ne}),dz(e,g,R,B,!1,i).each(({container:K,offset:ne})=>{R=K,B=ne})),(Bs(L)||L.block_expand)&&((!Bs(L)||!lt(x)||C===0)&&(x=D0(e,n,x,C,!0,c)),(!Bs(L)||!lt(R)||B===R.data.length)&&(R=D0(e,n,R,B,!1,c))),qa(L)&&(x=uz(e,n,t,x,"previousSibling"),R=uz(e,n,t,R,"nextSibling")),(rm(L)||vd(L))&&(x=fz(e,n,x,"previousSibling"),R=fz(e,n,R,"nextSibling"),rm(L)&&(e.isBlock(x)||(x=D0(e,n,x,C,!0,c),lt(x)&&(C=0)),e.isBlock(R)||(R=D0(e,n,R,B,!1,c),lt(R)&&(B=R.data.length)))),At(x)&&x.parentNode&&(C=e.nodeIndex(x),x=x.parentNode),At(R)&&R.parentNode&&(B=e.nodeIndex(R)+1,R=R.parentNode),{startContainer:x,startOffset:C,endContainer:R,endOffset:B}},M0=(e,t,n)=>{var r;const i=t.startOffset,c=mf(t.startContainer,i),u=t.endOffset,g=mf(t.endContainer,u-1),x=ne=>{const me=ne[0];lt(me)&&me===c&&i>=me.data.length&&ne.splice(0,1);const Ce=ne[ne.length-1];return u===0&&ne.length>0&&Ce===g&&lt(Ce)&&ne.splice(ne.length-1,1),ne},C=(ne,me,Ce)=>{const ze=[];for(;ne&&ne!==Ce;ne=ne[me])ze.push(ne);return ze},R=(ne,me)=>e.getParent(ne,Ce=>Ce.parentNode===me,me),B=(ne,me,Ce)=>{const ze=Ce?"nextSibling":"previousSibling";for(let Re=ne,Xe=Re.parentNode;Re&&Re!==me;Re=Xe){Xe=Re.parentNode;const pt=C(Re===ne?Re:Re[ze],ze);pt.length&&(Ce||pt.reverse(),n(x(pt)))}};if(c===g)return n(x([c]));const L=(r=e.findCommonAncestor(c,g))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(c,g))return B(c,L,!0);if(e.isChildOf(g,c))return B(g,L);const W=R(c,L)||c,ee=R(g,L)||g;B(c,W,!0);const K=C(W===c?W:W.nextSibling,"nextSibling",ee===g?ee.nextSibling:ee);K.length&&n(x(K)),B(g,ee)},rD=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],Hc=e=>Zs(e)&&lf(e)===Gs,Ou=(e,t,n,r)=>Ql(t).fold(()=>"skipping",i=>r==="br"||Hc(t)?"valid":Jm(t)?"existing":Kn(t.dom)?"caret":Cn(rD,c=>Va(t,c))?"valid-block":!Nh(e,n,r)||!Nh(e,mn(i),n)?"invalid-child":"valid"),mz=(e,t)=>{const n=Dh(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},T_=(e,t,n,r,i,c)=>{const{uid:u=t,...g}=n;Jl(e,da()),Tn(e,`${gs()}`,u),Tn(e,`${vs()}`,r);const{attributes:x={},classes:C=[]}=i(u,g);if(fl(e,x),pc(e,C),c){C.length>0&&Tn(e,`${af()}`,C.join(","));const R=rt(x);R.length>0&&Tn(e,`${lg()}`,R.join(","))}},D2=e=>{Ha(e,da()),Sn(e,`${gs()}`),Sn(e,`${vs()}`),Sn(e,`${Xm()}`);const t=As(e,`${lg()}`).map(r=>r.split(",")).getOr([]),n=As(e,`${af()}`).map(r=>r.split(",")).getOr([]);Ne(t,r=>Sn(e,r)),Di(e,n),Sn(e,`${af()}`),Sn(e,`${lg()}`)},B0=(e,t,n,r,i)=>{const c=re.fromTag("span",e);return T_(c,t,n,r,i,!1),c},sD=(e,t,n,r,i,c)=>{const u=[],g=B0(e.getDoc(),n,c,r,i),x=cc(),C=()=>{x.clear()},R=()=>x.get().getOrThunk(()=>{const ee=md(g);return u.push(ee),x.set(ee),ee}),B=ee=>{Ne(ee,L)},L=ee=>{switch(Ou(e,ee,"span",mn(ee))){case"invalid-child":{C();const ne=_a(ee);B(ne),C();break}case"valid-block":{C(),T_(ee,n,c,r,i,!0);break}case"valid":{const ne=R();Zr(ee,ne);break}}},W=ee=>{const K=Ko(ee,re.fromDom);B(K)};return M0(e.dom,t,ee=>{C(),W(ee)}),u},pz=(e,t,n,r)=>{e.undoManager.transact(()=>{const i=e.selection,c=i.getRng(),u=Ah(e).length>0,g=fd("mce-annotation");if(c.collapsed&&!u&&mz(e,c),i.getRng().collapsed&&!u){const x=B0(e.getDoc(),g,r,t,n.decorate);Ca(x,rs),i.getRng().insertNode(x.dom),i.select(x.dom)}else z2(i,!1,()=>{__(e,x=>{sD(e,x,g,t,n.decorate,r)})})})},Ay=e=>{const t=Il();K1(e,t);const n=Tv(e,t),r=ia("span"),i=c=>{Ne(c,u=>{r(u)?Ee(u):D2(u)})};return{register:(c,u)=>{t.register(c,u)},annotate:(c,u)=>{t.lookup(c).each(g=>{pz(e,c,g,u)})},annotationChanged:(c,u)=>{n.addListener(c,u)},remove:c=>{Ri(e,H.some(c)).each(({elements:u})=>{const g=e.selection.getBookmark();i(u),e.selection.moveToBookmark(g)})},removeAll:c=>{const u=e.selection.getBookmark();Fo(G1(e,c),(g,x)=>{i(g)}),e.selection.moveToBookmark(u)},getAll:c=>{const u=G1(e,c);return Ii(u,g=>Ko(g,x=>x.dom))}}},P0=e=>({getBookmark:De(XE,e),moveToBookmark:De(JE,e)});P0.isBookmarkNode=Cl;const L0=(e,t,n)=>n.collapsed?!1:Cn(n.getClientRects(),r=>np(r,e,t)),O_=()=>re.fromDom(document),M2=(e,t=!1)=>e.dom.focus({preventScroll:t}),Ny=e=>{const t=Ei(e).dom;return e.dom===t.activeElement},B2=(e=O_())=>H.from(e.dom.activeElement).map(re.fromDom),aD=e=>B2(Ei(e)).filter(t=>e.dom.contains(t.dom)),yc={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},Mh=Pt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),gz=(e,t,n,r)=>e.fold(t,n,r),Vc=e=>e.fold(un,un,un),Ir=Mh.before,iD=Mh.on,Bh=Mh.after,Xd={before:Ir,on:iD,after:Bh,cata:gz,getStart:Vc},I0=Pt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),P2=e=>I0.exact(e.start,e.soffset,e.finish,e.foffset),L2=e=>e.match({domRange:t=>re.fromDom(t.startContainer),relative:(t,n)=>Xd.getStart(t),exact:(t,n,r,i)=>t}),lD=I0.domRange,I2=I0.relative,cD=I0.exact,hz=e=>{const t=L2(e);return Er(t)},bz=yc.create,Sg={domRange:lD,relative:I2,exact:cD,exactFromRange:P2,getWin:hz,range:bz},F2=(e,t)=>{const n=Zs(t)?lf(t).length:_a(t).length+1;return e>n?n:e<0?0:e},A_=e=>Sg.range(e.start,F2(e.soffset,e.start),e.finish,F2(e.foffset,e.finish)),yz=(e,t)=>!Hf(t.dom)&&($a(e,t)||Xo(e,t)),xz=e=>t=>yz(e,t.start)&&yz(e,t.finish),dD=e=>e.inline||Rt.browser.isFirefox(),uD=e=>Sg.range(re.fromDom(e.startContainer),e.startOffset,re.fromDom(e.endContainer),e.endOffset),fD=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?H.none():H.from(t.getRangeAt(0))).map(uD)},vz=e=>{const t=Er(e);return fD(t.dom).filter(xz(e))},mD=(e,t)=>H.from(t).filter(xz(e)).map(A_),pD=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),H.some(t)}catch{return H.none()}},F0=e=>{const t=dD(e)?vz(re.fromDom(e.getBody())):H.none();e.bookmark=t.isSome()?t:e.bookmark},H2=e=>(e.bookmark?e.bookmark:H.none()).bind(n=>mD(re.fromDom(e.getBody()),n)).bind(pD),_z=e=>{H2(e).each(t=>e.selection.setRng(t))},kz={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},wz=(e,t)=>(O(t)||(t=0),window.setTimeout(e,t)),Jd=(e,t)=>(O(t)||(t=0),window.setInterval(e,t)),Qd={setEditorTimeout:(e,t,n)=>wz(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=Jd(()=>{e.removed?window.clearInterval(r):t()},n);return r}},Cz=e=>e.type==="nodechange"&&e.selectionChange,V2=(e,t)=>{const n=()=>{t.throttle()};Ar.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Ar.DOM.unbind(document,"mouseup",n)})},$2=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},Sz=(e,t)=>{$2(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{Cz(n)||F0(e)})},Ez=e=>{const t=Ts(()=>{F0(e)},0);e.on("init",()=>{e.inline&&V2(e,t),Sz(e,t)}),e.on("remove",()=>{t.cancel()})};let Ph;const N_=Ar.DOM,_d=e=>At(e)&&kz.isEditorUIElement(e),U2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Ry=(e,t)=>{const n=tE(e);return N_.getParent(t,i=>_d(i)||(n?e.dom.is(i,n):!1))!==null},j2=e=>{try{const t=Ei(re.fromDom(e.getElement()));return B2(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},Z2=(e,t)=>{const n=t.editor;Ez(n);const r=(i,c)=>{if(s_(i)&&i.inline!==!0){const u=re.fromDom(i.getContainer());c(u,"tox-edit-focus")}};n.on("focusin",()=>{const i=e.focusedEditor;U2(j2(n))&&r(n,Jl),i!==n&&(i&&i.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:i}),n.focus(!0))}),n.on("focusout",()=>{Qd.setEditorTimeout(n,()=>{const i=e.focusedEditor;(!U2(j2(n))||i!==n)&&r(n,Ha),!Ry(n,j2(n))&&i===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Ph||(Ph=i=>{const c=e.activeEditor;c&&rd(i).each(u=>{const g=u;g.ownerDocument===document&&g!==document.body&&!Ry(c,g)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},N_.bind(document,"focusin",Ph))},Au=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Ph&&(N_.unbind(document,"focusin",Ph),Ph=null)},W2=e=>{e.on("AddEditor",De(Z2,e)),e.on("RemoveEditor",De(Au,e))},R_=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),zz=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,gD=e=>e.collapsed?H.from(mf(e.startContainer,e.startOffset)).map(re.fromDom):H.none(),q2=(e,t)=>gD(t).bind(n=>Nv(n)?H.some(n):$a(e,n)?H.none():H.some(e)),G2=(e,t)=>{q2(re.fromDom(e.getBody()),t).bind(n=>is(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Dy=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Tz=e=>Ny(e)||aD(e).isSome(),Lh=e=>Le(e.iframeElement)&&Ny(re.fromDom(e.iframeElement)),Oz=e=>{const t=e.getBody();return t&&Tz(re.fromDom(t))},Az=e=>{const t=Ei(re.fromDom(e.getElement()));return B2(t).filter(n=>!U2(n.dom)&&Ry(e,n.dom)).isSome()},Ih=e=>e.inline?Oz(e):Lh(e),K2=e=>Ih(e)||Az(e),Y2=e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const i=u=>{H2(u).each(g=>{u.selection.setRng(g),r=g})};!Ih(e)&&e.hasEditableRoot()&&i(e);const c=R_(e,t.getNode());if(c&&e.dom.isChildOf(c,n)){zz(e,c)||Dy(n),Dy(c),e.hasEditableRoot()||i(e),G2(e,r),am(e);return}e.inline||(Rt.browser.isOpera()||Dy(n),e.getWin().focus()),(Rt.browser.isFirefox()||e.inline)&&(Dy(n),G2(e,r)),am(e)},am=e=>e.editorManager.setActive(e),hD=(e,t)=>{e.removed||(t?am(e):Y2(e))},Ft={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ft.metaKeyPressed(e),metaKeyPressed:e=>Rt.os.isMacOS()||Rt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},im="data-mce-selected",Nz="table,img,figure.image,hr,video,span.mce-preview-object,details",X2=Math.abs,D_=Math.round,M_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},bp=e=>e.type==="longpress"||e.type.indexOf("touch")===0,J2=(e,t)=>{const n=t.dom,r=t.getDoc(),i=document,c=t.getBody();let u,g,x,C,R,B,L,W,ee,K,ne,me,Ce,ze,Re;const Xe=at=>Le(at)&&(Zd(at)||n.is(at,"figure.image")),pt=at=>qi(at)||n.hasClass(at,"mce-preview-object"),Nt=(at,St)=>{if(bp(at)){const Co=at.touches[0];return Xe(at.target)&&!L0(Co.clientX,Co.clientY,St)}else return Xe(at.target)&&!L0(at.clientX,at.clientY,St)},Ze=at=>{const St=at.target;Nt(at,t.selection.getRng())&&!at.isDefaultPrevented()&&t.selection.select(St)},Pe=at=>n.hasClass(at,"mce-preview-object")&&Le(at.firstElementChild)?[at,at.firstElementChild]:n.is(at,"figure.image")?[at.querySelector("img")]:[at],tt=at=>{const St=h0(t);return!St||t.mode.isReadOnly()||at.getAttribute("data-mce-resize")==="false"||at===t.getBody()?!1:n.hasClass(at,"mce-preview-object")&&Le(at.firstElementChild)?Va(re.fromDom(at.firstElementChild),St):Va(re.fromDom(at),St)},Et=(at,St)=>{if(pt(St))return at.create("img",{src:Rt.transparentSrc});if(id(St)){const Rr=ur(C.name,"n")?ut:ko,gn=St.cloneNode(!0);return Rr(at.select("tr",gn)).each(cl=>{const Af=at.select("td,th",cl);at.setStyle(cl,"height",null),Ne(Af,Hg=>at.setStyle(Hg,"height",null))}),gn}else return St.cloneNode(!0)},Qt=(at,St,Co)=>{if(Le(Co)){const Rr=Pe(at);Ne(Rr,gn=>{gn.style[St]||!t.schema.isValid(gn.nodeName.toLowerCase(),St)?n.setStyle(gn,St,Co):n.setAttrib(gn,St,""+Co)})}},on=(at,St,Co)=>{Qt(at,"width",St),Qt(at,"height",Co)},rn=at=>{let St,Co,Rr,gn,cl;St=at.screenX-B,Co=at.screenY-L,me=St*C[2]+W,Ce=Co*C[3]+ee,me=me<5?5:me,Ce=Ce<5?5:Ce,(Xe(u)||pt(u))&&b0(t)!==!1?Rr=!Ft.modifierPressed(at):Rr=Ft.modifierPressed(at),Rr&&(X2(St)>X2(Co)?(Ce=D_(me*K),me=D_(Ce/K)):(me=D_(Ce/K),Ce=D_(me*K))),on(g,me,Ce),gn=C.startPos.x+St,cl=C.startPos.y+Co,gn=gn>0?gn:0,cl=cl>0?cl:0,n.setStyles(x,{left:gn,top:cl,display:"block"}),x.innerHTML=me+" &times; "+Ce,St=c.scrollWidth-ze,Co=c.scrollHeight-Re,St+Co!==0&&n.setStyles(x,{left:gn-St,top:cl-Co}),ne||(_h(t,u,W,ee,"corner-"+C.name),ne=!0)},jn=()=>{const at=ne;ne=!1,at&&(Qt(u,"width",me),Qt(u,"height",Ce)),n.unbind(r,"mousemove",rn),n.unbind(r,"mouseup",jn),i!==r&&(n.unbind(i,"mousemove",rn),n.unbind(i,"mouseup",jn)),n.remove(g),n.remove(x),n.remove(R),kr(u),at&&(cp(t,u,me,Ce,"corner-"+C.name),n.setAttrib(u,"style",n.getAttrib(u,"style"))),t.nodeChanged()},kr=at=>{eo();const St=n.getPos(at,c),Co=St.x,Rr=St.y,gn=at.getBoundingClientRect(),cl=gn.width||gn.right-gn.left,Af=gn.height||gn.bottom-gn.top;u!==at&&(Mi(),u=at,me=Ce=0);const Hg=t.dispatch("ObjectSelected",{target:at});tt(at)&&!Hg.isDefaultPrevented()?Fo(M_,(qc,Cm)=>{const Vu=Gc=>{const Nf=Pe(u)[0];B=Gc.screenX,L=Gc.screenY,W=Nf.clientWidth,ee=Nf.clientHeight,K=ee/W,C=qc,C.name=Cm,C.startPos={x:cl*qc[0]+Co,y:Af*qc[1]+Rr},ze=c.scrollWidth,Re=c.scrollHeight,R=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(R,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=Et(n,u),n.addClass(g,"mce-clonedresizable"),n.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",n.setStyles(g,{left:Co,top:Rr,margin:0}),on(g,cl,Af),g.removeAttribute(im),c.appendChild(g),n.bind(r,"mousemove",rn),n.bind(r,"mouseup",jn),i!==r&&(n.bind(i,"mousemove",rn),n.bind(i,"mouseup",jn)),x=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},W+" &times; "+ee)};let vc=n.get("mceResizeHandle"+Cm);vc&&n.remove(vc),vc=n.add(c,"div",{id:"mceResizeHandle"+Cm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Cm+"-resize; margin:0; padding:0"}),n.bind(vc,"mousedown",Gc=>{Gc.stopImmediatePropagation(),Gc.preventDefault(),Vu(Gc)}),qc.elm=vc,n.setStyles(vc,{left:cl*qc[0]+Co-vc.offsetWidth/2,top:Af*qc[1]+Rr-vc.offsetHeight/2})}):Mi(!1)},fa=Ts(kr,0),Mi=(at=!0)=>{fa.cancel(),eo(),u&&at&&u.removeAttribute(im),Fo(M_,(St,Co)=>{const Rr=n.get("mceResizeHandle"+Co);Rr&&(n.unbind(Rr),n.remove(Rr))})},Bi=(at,St)=>n.isChildOf(at,St),kt=at=>{if(ne||t.removed||t.composing)return;const St=at.type==="mousedown"?at.target:e.getNode(),Co=la(re.fromDom(St),Nz).map(gn=>gn.dom).filter(gn=>n.isEditable(gn.parentElement)||gn.nodeName==="IMG"&&n.isEditable(gn)).getOrUndefined(),Rr=Le(Co)?n.getAttrib(Co,im,"1"):"1";if(Ne(n.select(`img[${im}],hr[${im}]`),gn=>{gn.removeAttribute(im)}),Le(Co)&&Bi(Co,c)&&K2(t)){In();const gn=e.getStart(!0);if(Bi(gn,Co)&&Bi(e.getEnd(!0),Co)){n.setAttrib(Co,im,Rr),fa.throttle(Co);return}}Mi()},eo=()=>{Fo(M_,at=>{at.elm&&(n.unbind(at.elm),delete at.elm)})},In=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{In(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",kt),t.on("keyup compositionend",at=>{u&&u.nodeName==="TABLE"&&kt(at)}),t.on("hide blur",Mi),t.on("contextmenu longpress",Ze,!0)}),t.on("remove",eo),{isResizable:tt,showResizeRect:kr,hideResizeRect:Mi,updateResizeRect:kt,destroy:()=>{fa.cancel(),u=g=R=null}}},Rz=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},Dz=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},H0=(e,t,n)=>{const r=e.document.createRange();return Rz(r,t),Dz(r,n),r},B_=(e,t,n,r,i)=>{const c=e.document.createRange();return c.setStart(t.dom,n),c.setEnd(r.dom,i),c},My=Pt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Mz=(e,t,n)=>t(re.fromDom(n.startContainer),n.startOffset,re.fromDom(n.endContainer),n.endOffset),P_=(e,t)=>t.match({domRange:n=>({ltr:Je(n),rtl:H.none}),relative:(n,r)=>({ltr:Ja(()=>H0(e,n,r)),rtl:Ja(()=>H.some(H0(e,r,n)))}),exact:(n,r,i,c)=>({ltr:Ja(()=>B_(e,n,r,i,c)),rtl:Ja(()=>H.some(B_(e,i,c,n,r)))})}),Bz=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(i=>i.collapsed===!1).map(i=>My.rtl(re.fromDom(i.endContainer),i.endOffset,re.fromDom(i.startContainer),i.startOffset)).getOrThunk(()=>Mz(e,My.ltr,n)):Mz(e,My.ltr,n)},L_=(e,t)=>{const n=P_(e,t);return Bz(e,n)};My.ltr,My.rtl;const Pz=(e,t,n)=>{var r;return H.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,t,n)).bind(i=>{if(i.offsetNode===null)return H.none();const c=e.createRange();return c.setStart(i.offsetNode,i.offset),c.collapse(),H.some(c)})},Q2=(e,t,n)=>{var r;return H.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,t,n))},Lz=(e,t,n)=>e.caretPositionFromPoint?Pz(e,t,n):e.caretRangeFromPoint?Q2(e,t,n):H.none(),V0=(e,t,n)=>{const r=e.document;return Lz(r,t,n).map(i=>yc.create(re.fromDom(i.startContainer),i.startOffset,re.fromDom(i.endContainer),i.endOffset))},kd=(e,t)=>{const n=mn(e);return n==="input"?Xd.after(e):en(["br","img"],n)?t===0?Xd.before(e):Xd.after(e):Xd.on(e,t)},bD=(e,t)=>{const n=e.fold(Xd.before,kd,Xd.after),r=t.fold(Xd.before,kd,Xd.after);return Sg.relative(n,r)},I_=(e,t,n,r)=>{const i=kd(e,t),c=kd(n,r);return Sg.relative(i,c)},Ps=e=>e.match({domRange:t=>{const n=re.fromDom(t.startContainer),r=re.fromDom(t.endContainer);return I_(n,t.startOffset,r,t.endOffset)},relative:bD,exact:I_}),$0=(e,t)=>{const r=document.createDocumentFragment();return Ne(e,i=>{r.appendChild(i.dom)}),re.fromDom(r)},F_=e=>{const t=Sg.getWin(e).dom,n=(i,c,u,g)=>B_(t,i,c,u,g),r=Ps(e);return L_(t,r).match({ltr:n,rtl:n})},yp=(e,t,n)=>V0(e,t,n),eC=(e,t,n)=>{const r=Er(re.fromDom(n));return yp(r.dom,e,t).map(i=>{const c=n.createRange();return c.setStart(i.start.dom,i.soffset),c.setEnd(i.finish.dom,i.foffset),c}).getOrUndefined()},U0=(e,t)=>Le(e)&&Le(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,yD=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},Fh=(e,t,n)=>yD(e,t,n)!==null,xD=(e,t,n)=>Fh(e,t,r=>r.nodeName===n),vD=(e,t)=>hc(e)&&!Fh(e,t,Kn),Hh=(e,t,n)=>{const r=t.parentNode;if(r){const i=new Kr(t,e.getParent(r,e.isBlock)||e.getRoot());let c;for(;c=i[n?"prev":"next"]();)if(ss(c))return!0}return!1},_D=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},Vh=(e,t)=>{let n=t;for(;n&&n!==e;){if(vr(n))return!0;n=n.parentNode}return!1},tC=(e,t,n,r,i)=>{const c=e.getRoot(),u=e.schema.getNonEmptyElements(),g=i.parentNode;let x,C;if(!g)return H.none();const R=e.getParent(g,e.isBlock)||c;if(r&&ss(i)&&t&&e.isEmpty(R))return H.some(Ve(g,e.nodeIndex(i)));const B=new Kr(i,R);for(;C=B[r?"prev":"next"]();){if(e.getContentEditableParent(C)==="false"||vD(C,c))return H.none();if(lt(C)&&C.data.length>0)return xD(C,c,"A")?H.none():H.some(Ve(C,r?C.data.length:0));if(e.isBlock(C)||u[C.nodeName.toLowerCase()])return H.none();x=C}return ic(x)?H.none():n&&x?H.some(Ve(x,0)):H.none()},xp=(e,t,n,r)=>{const i=e.getRoot();let c,u=!1,g=n?r.startContainer:r.endContainer,x=n?r.startOffset:r.endOffset;const C=At(g)&&x===g.childNodes.length,R=e.schema.getNonEmptyElements();let B=n;if(hc(g))return H.none();if(At(g)&&x>g.childNodes.length-1&&(B=!1),cd(g)&&(g=i,x=0),g===i){if(B&&(c=g.childNodes[x>0?x-1:0],c&&(hc(c)||R[c.nodeName]||id(c))))return H.none();if(g.hasChildNodes()){if(x=Math.min(!B&&x>0?x-1:x,g.childNodes.length-1),g=g.childNodes[x],x=lt(g)&&C?g.data.length:0,!t&&g===i.lastChild&&id(g)||Vh(i,g)||hc(g)||$f(g))return H.none();if(g.hasChildNodes()&&!id(g)){c=g;const L=new Kr(g,i);do{if(vr(c)||hc(c)){u=!1;break}if(lt(c)&&c.data.length>0){x=B?0:c.data.length,g=c,u=!0;break}if(R[c.nodeName.toLowerCase()]&&!Vt(c)){x=e.nodeIndex(c),g=c.parentNode,B||x++,u=!0;break}}while(c=B?L.next():L.prev())}}}return t&&(lt(g)&&x===0&&tC(e,C,t,!0,g).each(L=>{g=L.container(),x=L.offset(),u=!0}),At(g)&&(c=g.childNodes[x],c||(c=g.childNodes[x-1]),c&&ss(c)&&!_D(c,"A")&&!Hh(e,c,!1)&&!Hh(e,c,!0)&&tC(e,C,t,!0,c).each(L=>{g=L.container(),x=L.offset(),u=!0}))),B&&!t&&lt(g)&&x===g.data.length&&tC(e,C,t,!1,g).each(L=>{g=L.container(),x=L.offset(),u=!0}),u&&g?H.some(Ve(g,x)):H.none()},H_=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),i=Ve.fromRangeStart(t);return xp(e,n,!0,r).each(c=>{(!n||!Ve.isAbove(i,c))&&r.setStart(c.container(),c.offset())}),n||xp(e,n,!1,r).each(c=>{r.setEnd(c.container(),c.offset())}),n&&r.collapse(!0),U0(t,r)?H.none():H.some(r)},xc=(e,t)=>e.splitText(t),lm=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;if(t===r&&lt(t)){if(n>0&&n<t.data.length)if(r=xc(t,n),t=r.previousSibling,i>n){i=i-n;const c=xc(r,i).previousSibling;t=r=c,i=c.data.length,n=0}else i=0}else if(lt(t)&&n>0&&n<t.data.length&&(t=xc(t,n),n=0),lt(r)&&i>0&&i<r.data.length){const c=xc(r,i).previousSibling;r=c,i=c.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},bf=e=>({walk:(c,u)=>M0(e,c,u),split:lm,expand:(c,u={type:"word"})=>{if(u.type==="word"){const g=Dh(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),x=e.createRng();return x.setStart(g.startContainer,g.startOffset),x.setEnd(g.endContainer,g.endOffset),x}return c},normalize:c=>H_(e,c).fold(bo,u=>(c.setStart(u.startContainer,u.startOffset),c.setEnd(u.endContainer,u.endOffset),!0))});bf.compareRanges=U0,bf.getCaretRangeFromPoint=eC,bf.getSelectedNode=rp,bf.getNode=mf;const kD=((e,t)=>{const n=(g,x)=>{if(!O(x)&&!x.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+x);const C=g.dom;Ss(C)&&(C.style[e]=x+"px")},r=g=>{const x=t(g);if(x<=0||x===null){const C=zi(g,e);return parseFloat(C)||0}return x},i=r,c=(g,x)=>mo(x,(C,R)=>{const B=zi(g,R),L=B===void 0?0:parseInt(B,10);return isNaN(L)?C:C+L},0);return{set:n,get:r,getOuter:i,aggregate:c,max:(g,x,C)=>{const R=c(g,C);return x>R?x-R:0}}})("height",e=>{const t=e.dom;return Mr(e)?t.getBoundingClientRect().height:t.offsetHeight}),By=e=>kD.get(e),Fz=(e,t)=>e.view(t).fold(Je([]),r=>{const i=e.owner(r),c=Fz(e,i);return[r].concat(c)}),Nu=(e,t)=>{const n=t.owner(e);return Fz(t,n)};var nC=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?H.none():H.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(re.fromDom)},owner:e=>Ml(e)});const rC=e=>{const t=O_(),n=Dt(t),r=Nu(e,nC),i=_o(e),c=to(r,(u,g)=>{const x=_o(g);return{left:u.left+x.left,top:u.top+x.top}},{left:0,top:0});return ge(c.left+i.left+n.left,c.top+i.top+n.top)},vp=e=>mn(e)==="textarea",sC=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),Hz=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},CD=(e,t)=>{const n=_a(e);if(n.length===0||vp(e))return{element:e,offset:t};if(t<n.length&&!vp(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return vp(r)?{element:e,offset:t}:mn(r)==="img"?{element:r,offset:1}:Zs(r)?{element:r,offset:lf(r).length}:{element:r,offset:_a(r).length}}},$h=(e,t)=>{const n=Ho(e),r=By(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},SD=(e,t)=>{const n=CD(e,t),r=re.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Gs+"</span>");return jr(n.element,r),$h(r,()=>dn(r))},aC=e=>$h(re.fromDom(e),io),V_=(e,t,n,r)=>{ED(e,(i,c)=>$z(e,t,n,r),n)},Vz=(e,t,n,r,i)=>{const c={elm:r.element.dom,alignToTop:i};if(sC(e,c))return;const u=Dt(t).top;n(e,t,u,r,i),Hz(e,c)},$z=(e,t,n,r)=>{const i=re.fromDom(e.getBody()),c=re.fromDom(e.getDoc());If(i);const u=SD(re.fromDom(n.startContainer),n.startOffset);Vz(e,c,t,u,r),u.cleanup()},j0=(e,t,n,r)=>{const i=re.fromDom(e.getDoc());Vz(e,i,n,aC(t),r)},ED=(e,t,n)=>{const r=n.startContainer,i=n.startOffset,c=n.endContainer,u=n.endOffset;t(re.fromDom(r),re.fromDom(c));const g=e.dom.createRng();g.setStart(r,i),g.setEnd(c,u),e.selection.setRng(n)},iC=(e,t,n,r,i)=>{const c=t.pos,u=30;if(r)Ln(c.left,Math.max(0,c.top-u),i);else{const g=c.top-n+t.height+u;Ln(-e.getBody().getBoundingClientRect().left,g,i)}},Uz=(e,t,n,r,i,c)=>{const u=r+n,g=i.pos.top,x=i.bottom,C=x-g>=r;g<n?iC(e,i,r,c!==!1,t):g>u?iC(e,i,r,C?c!==!1:c===!0,t):x>u&&!C&&iC(e,i,r,c===!0,t)},jz=(e,t,n,r,i)=>{const c=Er(t).dom.innerHeight;Uz(e,t,n,c,r,i)},$_=(e,t,n,r,i)=>{const c=Er(t).dom.innerHeight;Uz(e,t,n,c,r,i);const u=rC(r.element),g=Da(window);u.top<g.y?ns(r.element,i!==!1):u.top>g.bottom&&ns(r.element,i===!0)},zD=(e,t,n)=>V_(e,jz,t,n),TD=(e,t,n)=>j0(e,t,jz,n),OD=(e,t,n)=>V_(e,$_,t,n),AD=(e,t,n)=>j0(e,t,$_,n),ND=(e,t,n)=>{(e.inline?TD:AD)(e,t,n)},Z0=(e,t,n)=>{(e.inline?zD:OD)(e,t,n)},Zz=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),Wz=(e,t,n,r,i)=>{const c=n?t.startContainer:t.endContainer,u=n?t.startOffset:t.endOffset;return H.from(c).map(re.fromDom).map(g=>!r||!t.collapsed?$d(g,i(g,u)).getOr(g):g).bind(g=>ni(g)?H.some(g):ri(g).filter(ni)).map(g=>g.dom).getOr(e)},qz=(e,t,n=!1)=>Wz(e,t,!0,n,(r,i)=>Math.min(pu(r),i)),Gz=(e,t,n=!1)=>Wz(e,t,!1,n,(r,i)=>i>0?i-1:i),Kz=(e,t)=>{const n=e;for(;e&&lt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},Yz=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const i=t.startOffset,c=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(n===r&&c-i<2&&n.hasChildNodes()&&(u=n.childNodes[i]),lt(n)&&lt(r)&&(n.length===i?n=Kz(n.nextSibling,!0):n=n.parentNode,c===0?r=Kz(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(u=n)));const g=lt(u)?u.parentNode:u;return ta(g)?g:e},RD=(e,t,n,r)=>{const i=[],c=e.getRoot(),u=e.getParent(n||qz(c,t,t.collapsed),e.isBlock),g=e.getParent(r||Gz(c,t,t.collapsed),e.isBlock);if(u&&u!==c&&i.push(u),u&&g&&u!==g){let x;const C=new Kr(u,c);for(;(x=C.next())&&x!==g;)e.isBlock(x)&&i.push(x)}return g&&u!==g&&g!==c&&i.push(g),i},Eg=(e,t,n)=>H.from(t).bind(r=>H.from(r.parentNode).map(i=>{const c=e.nodeIndex(r),u=e.createRng();return u.setStart(i,c),u.setEnd(i,c+1),n&&(v_(e,u,r,!0),v_(e,u,r,!1)),u})),lC=(e,t)=>Ko(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),DD={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Py=(e,t,n)=>{const r=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[r])return e[r];if(e!==t){let c=e[i];if(c)return c;for(let u=e.parent;u&&u!==t;u=u.parent)if(c=u[i],c)return c}},MD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Ac(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},Xz=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Vl{static create(t,n){const r=new Vl(t,DD[t]||1);return n&&Fo(n,(i,c)=>{r.attr(c,i)}),r}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!ht(t))return Le(t)&&Fo(t,(c,u)=>{r.attr(u,c)}),r;const i=r.attributes;if(i){if(n!==void 0){if(n===null){if(t in i.map){delete i.map[t];let c=i.length;for(;c--;)if(i[c].name===t)return i.splice(c,1),r}return r}if(t in i.map){let c=i.length;for(;c--;)if(i[c].name===t){i[c].value=n;break}}else i.push({name:t,value:n});return i.map[t]=n,r}return i.map[t]}}clone(){const t=this,n=new Vl(t.name,t.type),r=t.attributes;if(r){const i=[];i.map={};for(let c=0,u=r.length;c<u;c++){const g=r[c];g.name!=="id"&&(i[i.length]={name:g.name,value:g.value},i.map[g.name]=g.value)}n.attributes=i}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,i=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):i&&(i.next=r),n.lastChild===t?(n.lastChild=i,i&&(i.next=null)):r&&(r.prev=i),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const i=n.parent||this;return r?(n===i.firstChild?i.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===i.lastChild?i.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=i,t}getAll(t){const n=this,r=[];for(let i=n.firstChild;i;i=Py(i,n))i.name===t&&r.push(i);return r}children(){const t=this,n=[];for(let r=t.firstChild;r;r=r.next)n.push(r);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let i=t.firstChild;i;i=Py(i,t))n.push(i);let r=n.length;for(;r--;){const i=n[r];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var i;const c=this;let u=c.firstChild;if(Xz(c))return!1;if(u)do{if(u.type===1){if(u.attr("data-mce-bogus"))continue;if(t[u.name]||Xz(u))return!1}if(u.type===8||u.type===3&&!MD(u)||u.type===3&&u.parent&&n[u.parent.name]&&Ac((i=u.value)!==null&&i!==void 0?i:"")||r&&r(u))return!1}while(u=Py(u,c));return!0}walk(t){return Py(this,null,t)}}const BD=gt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Jz=e=>ht(e.nodeValue)&&e.nodeValue.includes(Gs),Qz=e=>`${e.length===0?"":`${Ko(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,PD=(e,t)=>t.querySelectorAll(Qz(e)),eT=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>Jz(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),tT=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(Jz(t)){const n=t.parentNode;return n&&go(BD,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),cC=e=>eT(e).nextNode()!==null,W0=e=>tT(e).nextNode()!==null,oT=(e,t)=>t.querySelector(Qz(e))!==null,q0=(e,t)=>{Ne(PD(e,t),n=>{const r=re.fromDom(n);xa(r,"data-mce-bogus")==="all"?dn(r):Ne(e,i=>{tl(r,i)&&Sn(r,i)})})},dC=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},U_=Do(dC,eT),G0=Do(dC,tT),Ru=(e,t)=>{const n=[{condition:De(oT,t),action:De(q0,t)},{condition:cC,action:U_},{condition:W0,action:G0}];let r=e,i=!1;return Ne(n,({condition:c,action:u})=>{c(r)&&(i||(r=e.cloneNode(!0),i=!0),u(r))}),r},_p=e=>{const t=Ds(e,"[data-mce-bogus]");Ne(t,n=>{xa(n,"data-mce-bogus")==="all"?dn(n):_u(n)?(jr(n,re.fromText(Pm)),dn(n)):Ee(n)})},j_=e=>{const t=Ds(e,"input");Ne(t,n=>{Sn(n,"name")})},nT=(e,t)=>{const n=Xi(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},K0=(e,t)=>{const n=e.getDoc(),r=Ei(re.fromDom(e.getBody())),i=re.fromTag("div",n);Tn(i,"data-mce-bogus","all"),Qs(i,{position:"fixed",left:"-9999999px",top:"0"}),Ca(i,t.innerHTML),_p(i),j_(i);const c=gu(r);Br(c,i);const u=Sa(i.dom.innerText);return dn(i),u},rT=(e,t,n)=>{let r;return t.format==="raw"?r=gt.trim(Sa(Ru(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=K0(e,n):t.format==="tree"?r=e.serializer.serialize(n,t):r=nT(e,e.serializer.serialize(n,t)),t.format!=="text"&&!_l(re.fromDom(n))&&ht(r)?gt.trim(r):r},LD=(e,t)=>H.from(e.getBody()).fold(Je(t.format==="tree"?new Vl("body",11):""),n=>rT(e,t,n)),Ly=gt.makeMap,uC=e=>{const t=[];e=e||{};const n=e.indent,r=Ly(e.indent_before||""),i=Ly(e.indent_after||""),c=Dc.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(g,x,C)=>{if(n&&r[g]&&t.length>0){const R=t[t.length-1];R.length>0&&R!==`
`&&t.push(`
`)}if(t.push("<",g),x)for(let R=0,B=x.length;R<B;R++){const L=x[R];t.push(" ",L.name,'="',c(L.value,!0),'"')}if(!C||u?t[t.length]=">":t[t.length]=" />",C&&n&&i[g]&&t.length>0){const R=t[t.length-1];R.length>0&&R!==`
`&&t.push(`
`)}},end:g=>{let x;t.push("</",g,">"),n&&i[g]&&t.length>0&&(x=t[t.length-1],x.length>0&&x!==`
`&&t.push(`
`))},text:(g,x)=>{g.length>0&&(t[t.length]=x?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,x)=>{x?t.push("<?",g," ",c(x),"?>"):t.push("<?",g,"?>"),n&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Jr=(e={},t=wt())=>{const n=uC(e);return e.validate="validate"in e?e.validate:!0,{serialize:i=>{const c=e.validate,u={3:x=>{var C;n.text((C=x.value)!==null&&C!==void 0?C:"",x.raw)},8:x=>{var C;n.comment((C=x.value)!==null&&C!==void 0?C:"")},7:x=>{n.pi(x.name,x.value)},10:x=>{var C;n.doctype((C=x.value)!==null&&C!==void 0?C:"")},4:x=>{var C;n.cdata((C=x.value)!==null&&C!==void 0?C:"")},11:x=>{let C=x;if(C=C.firstChild)do g(C);while(C=C.next)}};n.reset();const g=x=>{var C;const R=u[x.type];if(R)R(x);else{const B=x.name,L=B in t.getVoidElements();let W=x.attributes;if(c&&W&&W.length>1){const ee=[];ee.map={};const K=t.getElementRule(x.name);if(K){for(let ne=0,me=K.attributesOrder.length;ne<me;ne++){const Ce=K.attributesOrder[ne];if(Ce in W.map){const ze=W.map[Ce];ee.map[Ce]=ze,ee.push({name:Ce,value:ze})}}for(let ne=0,me=W.length;ne<me;ne++){const Ce=W[ne].name;if(!(Ce in ee.map)){const ze=W.map[Ce];ee.map[Ce]=ze,ee.push({name:Ce,value:ze})}}W=ee}}if(n.start(B,W,L),k(B))ht(x.value)&&n.text(x.value,!0),n.end(B);else if(!L){let ee=x.firstChild;if(ee){(B==="pre"||B==="textarea")&&ee.type===3&&((C=ee.value)===null||C===void 0?void 0:C[0])===`
`&&n.text(`
`,!0);do g(ee);while(ee=ee.next)}n.end(B)}}};return i.type===1&&!e.inner?g(i):i.type===3?u[3](i):u[11](i),n.getContent()}}},sT=new Set;Ne(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{sT.add(t)});const aT=new Set;Ne(["background-color"],t=>{aT.add(t)});const Uh=["font","text-decoration","text-emphasis"],jh=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Du=(e,t)=>rt(jh(e,t)),iT=e=>sT.has(e),ID=e=>aT.has(e),Z_=(e,t)=>Cn(Du(e,t),n=>iT(n)),fC=(e,t)=>Z_(e,t)&&Cn(Du(e,t),n=>ID(n)),lT=e=>Ke(e,t=>Cn(Uh,n=>ur(t,n))),cT=(e,t,n)=>{const r=Du(e,t),i=Du(e,n),c=u=>{var g,x;const C=(g=e.getStyle(t,u))!==null&&g!==void 0?g:"",R=(x=e.getStyle(n,u))!==null&&x!==void 0?x:"";return yr(C)&&yr(R)&&C!==R};return Cn(r,u=>{const g=x=>Cn(x,C=>C===u);if(!g(i)&&g(Uh)){const x=lT(i);return Cn(x,c)}else return c(u)})},dT=(e,t,n)=>H.from(n.container()).filter(lt).exists(r=>{const i=e?0:-1;return t(r.data.charAt(n.offset()+i))}),mC=De(dT,!0,Oh),Y0=De(dT,!1,Oh),pC=e=>{const t=e.container();return lt(t)&&(t.data.length===0||gh(t.data)&&P0.isBookmarkNode(t.parentNode))},kp=(e,t)=>n=>h2(e?0:-1,n).filter(t).isSome(),Zh=e=>Zd(e)&&zi(re.fromDom(e),"display")==="block",gC=e=>vr(e)&&!Cb(e),uT=kp(!0,Zh),fT=kp(!1,Zh),Iy=kp(!0,qi),Wh=kp(!1,qi),hC=kp(!0,id),W_=kp(!1,id),wp=kp(!0,gC),Cp=kp(!1,gC),mT=e=>e.slice(0,-1),bC=(e,t,n)=>$a(t,e)?mT(ec(e,r=>n(r)||Xo(r,t))):[],Fy=(e,t)=>bC(e,t,bo),cm=(e,t)=>[e].concat(Fy(e,t)),q_=(e,t,n)=>jE(e,t,n,pC),G_=e=>t=>e.isBlock(mn(t)),pT=(e,t,n)=>zn(cm(re.fromDom(t.container()),e),G_(n)),gT=(e,t,n,r)=>q_(e,t.dom,n).forall(i=>pT(t,n,r).fold(()=>!tm(i,n,t.dom),c=>!tm(i,n,t.dom)&&$a(c,re.fromDom(i.container())))),zg=(e,t,n,r)=>pT(t,n,r).fold(()=>q_(e,t.dom,n).forall(i=>!tm(i,n,t.dom)),i=>q_(e,i.dom,n).isNone()),X0=De(zg,!1),yC=De(zg,!0),J0=De(gT,!1),hT=De(gT,!0),xC=e=>c_(e).exists(_u),Q0=(e,t,n,r)=>{const i=Ke(cm(re.fromDom(n.container()),t),u=>r.isBlock(mn(u))),c=ut(i).getOr(t);return xd(e,c.dom,n).filter(xC)},K_=(e,t,n)=>c_(t).exists(_u)||Q0(!0,e,t,n).isSome(),Hy=(e,t,n)=>Uo(t).exists(_u)||Q0(!1,e,t,n).isSome(),vC=De(Q0,!1),FD=De(Q0,!0),_C=e=>Ve.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),ex=(e,t,n)=>{const r=Ke(cm(re.fromDom(t.container()),e),i=>n.isBlock(mn(i)));return ut(r).getOr(e)},al=(e,t,n)=>_C(t)?Y0(t):Y0(t)||bc(ex(e,t,n).dom,t).exists(Y0),tx=(e,t,n)=>_C(t)?mC(t):mC(t)||Hl(ex(e,t,n).dom,t).exists(mC),qh=e=>en(["pre","pre-wrap"],e),Y_=e=>c_(e).bind(t=>Ec(t,ni)).exists(t=>qh(zi(t,"white-space"))),$c=(e,t)=>bc(e.dom,t).isNone(),Gh=(e,t)=>Hl(e.dom,t).isNone(),bT=(e,t,n)=>$c(e,t)||Gh(e,t)||X0(e,t,n)||yC(e,t,n)||Hy(e,t,n)||K_(e,t,n),yT=e=>Le(e)&&vr(e)&&Kt(e),kC=(e,t)=>n=>yT(new Kr(n,e)[t]()),ox=(e,t)=>{const n=Hl(e.dom,t).getOr(t),r=kC(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))},wC=(e,t)=>{const n=bc(e.dom,t).getOr(t),r=kC(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))},CC=(e,t,n)=>Y_(t)?!1:bT(e,t,n)||al(e,t,n)||tx(e,t,n),Kh=(e,t,n)=>Y_(t)?!1:X0(e,t,n)||J0(e,t,n)||Hy(e,t,n)||al(e,t,n)||wC(e,t),SC=e=>{const t=e.container(),n=e.offset();return lt(t)&&n<t.data.length?Ve(t,n+1):e},Vy=(e,t,n)=>Y_(t)?!1:yC(e,t,n)||hT(e,t,n)||K_(e,t,n)||tx(e,t,n)||ox(e,t),eu=(e,t,n)=>Kh(e,t,n)||Vy(e,SC(t),n),X_=(e,t)=>vy(e.charAt(t)),nx=(e,t)=>Oh(e.charAt(t)),EC=e=>{const t=e.container();return lt(t)&&br(t.data,rs)},xT=e=>{const t=e.split("");return Ko(t,(n,r)=>vy(n)&&r>0&&r<t.length-1&&C2(t[r-1])&&C2(t[r+1])?" ":n).join("")},zC=(e,t,n,r)=>{const i=t.data,c=Ve(t,0);return!n&&X_(i,0)&&!eu(e,c,r)?(t.data=" "+i.slice(1),!0):n&&nx(i,0)&&Kh(e,c,r)?(t.data=rs+i.slice(1),!0):!1},vT=e=>{const t=e.data,n=xT(t);return n!==t?(e.data=n,!0):!1},_T=(e,t,n,r)=>{const i=t.data,c=Ve(t,i.length-1);return!n&&X_(i,i.length-1)&&!eu(e,c,r)?(t.data=i.slice(0,-1)+" ",!0):n&&nx(i,i.length-1)&&Vy(e,c,r)?(t.data=i.slice(0,-1)+rs,!0):!1},HD=(e,t,n)=>{const r=t.container();if(!lt(r))return H.none();if(EC(t)){const i=zC(e,r,!1,n)||vT(r)||_T(e,r,!1,n);return lu(i,t)}else if(eu(e,t,n)){const i=zC(e,r,!0,n)||_T(e,r,!0,n);return lu(i,t)}else return H.none()},kT=e=>{const t=re.fromDom(e.getBody());e.selection.isCollapsed()&&HD(t,Ve.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},TC=(e,t,n,r)=>{if(n===0)return;const i=re.fromDom(e),c=pl(i,C=>r.isBlock(mn(C))).getOr(i),u=e.data.slice(t,t+n),g=t+n>=e.data.length&&Vy(c,Ve(e,e.data.length),r),x=t===0&&Kh(c,Ve(e,0),r);e.replaceData(t,n,Nc(u,4,x,g))},$y=(e,t,n)=>{const r=e.data.slice(t),i=r.length-el(r).length;TC(e,t,i,n)},rx=(e,t,n)=>{const r=e.data.slice(0,t),i=r.length-cs(r).length;TC(e,t-i,i,n)},J_=(e,t,n,r,i=!0)=>{const c=cs(e.data).length,u=i?e:t,g=i?t:e;return i?u.appendData(g.data):u.insertData(0,g.data),dn(re.fromDom(g)),r&&$y(u,c,n),u},OC=(e,t)=>{const n=e.container(),r=e.offset();return!Ve.isTextPosition(e)&&n===t.parentNode&&r>Ve.before(t).offset()},wT=(e,t)=>OC(t,e)?Ve(t.container(),t.offset()-1):t,CT=e=>lt(e)?Ve(e,0):Ve.before(e),AC=e=>lt(e)?Ve(e,e.data.length):Ve.after(e),NC=e=>nl(e.previousSibling)?H.some(AC(e.previousSibling)):e.previousSibling?Tu(e.previousSibling):H.none(),RC=e=>nl(e.nextSibling)?H.some(CT(e.nextSibling)):e.nextSibling?is(e.nextSibling):H.none(),ST=(e,t)=>H.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>bc(e,Ve.before(n))).orThunk(()=>Hl(e,Ve.after(t))),Q_=(e,t)=>Hl(e,Ve.after(t)).orThunk(()=>bc(e,Ve.before(t))),VD=(e,t)=>NC(t).orThunk(()=>RC(t)).orThunk(()=>ST(e,t)),sx=(e,t)=>RC(t).orThunk(()=>NC(t)).orThunk(()=>Q_(e,t)),ET=(e,t,n)=>e?sx(t,n):VD(t,n),zT=(e,t,n)=>ET(e,t,n).map(De(wT,n)),TT=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},$D=e=>t=>t.dom===e,OT=(e,t)=>t&&go(e.schema.getBlockElements(),mn(t)),UD=(e,t,n)=>{if(Es(e,t)){const r=re.fromHtml('<br data-mce-bogus="1">');return n?Ne(_a(t),i=>{A2(i)||dn(i)}):rc(t),Br(t,r),H.some(Ve.before(r.dom))}else return H.none()},AT=(e,t,n,r)=>{const i=ml(e).filter(Zs),c=Vd(e).filter(Zs);return dn(e),Ld(i,c,t,(u,g,x)=>{const C=u.dom,R=g.dom,B=C.data.length;return J_(C,R,n,r),x.container()===R?Ve(C,B):x}).orThunk(()=>(r&&(i.each(u=>rx(u.dom,u.dom.length,n)),c.each(u=>$y(u.dom,0,n))),t))},jD=(e,t)=>go(e.schema.getTextInlineElements(),mn(t)),Yh=(e,t,n,r=!0,i=!1)=>{const c=zT(t,e.getBody(),n.dom),u=pl(n,De(OT,e),$D(e.getBody())),g=AT(n,c,e.schema,jD(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(x=>UD(e.schema,x,i)).fold(()=>{r&&TT(e,t,g)},x=>{r&&TT(e,t,H.some(x))})},ZD=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ls=e=>ZD.test(e),Sp=(e,t)=>Va(re.fromDom(t),Ic(e))&&!cr(e.schema,t)&&e.dom.isEditable(t),NT=e=>{var t;return Ar.DOM.getStyle(e,"direction",!0)==="rtl"||Ls((t=e.textContent)!==null&&t!==void 0?t:"")},WD=(e,t,n)=>Ke(Ar.DOM.getParents(n.container(),"*",t),e),tu=(e,t,n)=>{const r=WD(e,t,n);return H.from(r[r.length-1])},Tg=(e,t,n)=>{const r=fp(t,e),i=fp(n,e);return Le(r)&&r===i},Ep=e=>e0(e)||Jb(e),wd=(e,t)=>{const n=t.container(),r=t.offset();return e?Qf(n)?lt(n.nextSibling)?Ve(n.nextSibling,0):Ve.after(n):e0(t)?Ve(n,r+1):t:Qf(n)?lt(n.previousSibling)?Ve(n.previousSibling,n.previousSibling.data.length):Ve.before(n):Jb(t)?Ve(n,r-1):t},DC=De(wd,!0),MC=De(wd,!1),ax=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},qD=e=>{e.execCommand("delete")},Uy=e=>ax(e,"Delete"),BC=e=>ax(e,"ForwardDelete"),RT=e=>t=>Pd(ri(t),e,Xo),PC=e=>J1(e)||ku(e),ix=(e,t)=>$a(e,t)?Ec(t,PC,RT(e)):H.none(),lx=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},DT=(e,t,n)=>ba(is(n),Tu(n),(r,i)=>{const c=wd(!0,r),u=wd(!1,i),g=wd(!1,t);return e?Hl(n,g).exists(x=>x.isEqual(u)&&t.isEqual(c)):bc(n,g).exists(x=>x.isEqual(c)&&t.isEqual(u))}).getOr(!0),MT=e=>(Om(e)?ml(e):mu(e)).bind(MT).orThunk(()=>H.some(e)),Uc=(e,t,n,r=!0)=>{var i;t.deleteContents();const c=MT(n).getOr(n),u=re.fromDom((i=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&i!==void 0?i:n.dom);if(u.dom===e.getBody()?lx(e,r):Es(e.schema,u,{checkRootAsContent:!1})&&(cf(u),r&&e.selection.setCursorLocation(u.dom,0)),!Xo(n,u)){const g=Pd(ri(u),n)?[]:od(u);Ne(g.concat(_a(n)),x=>{!Xo(x,u)&&!$a(x,u)&&Es(e.schema,x)&&dn(x)})}},BT=e=>t=>Xo(e,t),LC=e=>Ds(e,"td,th"),PT=(e,t)=>_y(re.fromDom(e),t),ek=e=>ba(e.startTable,e.endTable,(t,n)=>{const r=Xp(t,c=>Xo(c,n)),i=Xp(n,c=>Xo(c,t));return!r&&!i?e:{...e,startTable:r?H.none():e.startTable,endTable:i?H.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),GD=e=>ek(e),KD=(e,t)=>{const n=PT(e.startContainer,t),r=PT(e.endContainer,t),i=n.isSome(),c=r.isSome(),u=ba(n,r,Xo).getOr(!1);return GD({startTable:n,endTable:r,isStartInTable:i,isEndInTable:c,isSameTable:u,isMultiTable:!u&&i&&c})},tk=(e,t)=>({start:e,end:t}),IC=(e,t,n)=>({rng:e,table:t,cells:n}),cx=Pt.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ok=(e,t)=>la(re.fromDom(e),"td,th",t),jy=e=>!Xo(e.start,e.end),FC=(e,t)=>_y(e.start,t).bind(n=>_y(e.end,t).bind(r=>lu(Xo(n,r),n))),LT=(e,t)=>!jy(e)&&FC(e,t).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),YD=(e,t)=>{const n=ok(e.startContainer,t),r=ok(e.endContainer,t);return ba(n,r,tk)},IT=e=>t=>_y(t,e).bind(n=>ko(LC(n)).map(r=>tk(t,r))),dx=e=>t=>_y(t,e).bind(n=>ut(LC(n)).map(r=>tk(r,t))),nk=e=>t=>FC(t,e).map(n=>IC(t,n,LC(n))),HC=(e,t,n,r)=>{if(n.collapsed||!e.forall(jy))return H.none();if(t.isSameTable){const i=e.bind(nk(r));return H.some({start:i,end:i})}else{const i=ok(n.startContainer,r),c=ok(n.endContainer,r),u=i.bind(IT(r)).bind(nk(r)),g=c.bind(dx(r)).bind(nk(r));return H.some({start:u,end:g})}},VC=(e,t)=>er(e,n=>Xo(n,t)),$C=e=>ba(VC(e.cells,e.rng.start),VC(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),yf=(e,t,n)=>e.exists(r=>LT(r,n)&&x_(r.start,t)),rk=(e,t)=>{const{startTable:n,endTable:r}=t,i=e.cloneRange();return n.each(c=>i.setStartAfter(c.dom)),r.each(c=>i.setEndBefore(c.dom)),i},XD=(e,t,n,r)=>HC(e,t,n,r).bind(({start:i,end:c})=>i.or(c)).bind(i=>{const{isSameTable:c}=t,u=$C(i).getOr([]);if(c&&i.cells.length===u.length)return H.some(cx.fullTable(i.table));if(u.length>0){if(c)return H.some(cx.partialTable(u,H.none()));{const g=rk(n,t);return H.some(cx.partialTable(u,H.some({...t,rng:g})))}}else return H.none()}),JD=(e,t,n,r)=>HC(e,t,n,r).bind(({start:i,end:c})=>{const u=i.bind($C).getOr([]),g=c.bind($C).getOr([]);if(u.length>0&&g.length>0){const x=rk(n,t);return H.some(cx.multiTable(u,g,x))}else return H.none()}),tn=(e,t)=>{const n=BT(e),r=YD(t,n),i=KD(t,n);return yf(r,t,n)?r.map(c=>cx.singleCellTable(t,c.start)):i.isMultiTable?JD(r,i,t,n):XD(r,i,t,n)},FT=e=>Ne(e,t=>{Sn(t,"contenteditable"),cf(t)}),ux=(e,t)=>H.from(e.dom.getParent(t,e.dom.isBlock)).map(re.fromDom),QD=(e,t,n)=>{n.each(r=>{t?dn(r):(cf(r),e.selection.setCursorLocation(r.dom,0))})},sk=(e,t,n,r)=>{const i=n.cloneRange();r?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),Xh(e,i,t,!1).each(c=>c())},zp=e=>{const t=Ah(e),n=re.fromDom(e.selection.getNode());Vo(n.dom)&&Es(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Cn(t,r=>Xo(r,n))&&Tn(n,"data-mce-selected","1")},$l=(e,t,n)=>H.some(()=>{const r=e.selection.getRng(),i=n.bind(({rng:c,isStartInTable:u})=>{const g=ux(e,u?c.endContainer:c.startContainer);c.deleteContents(),QD(e,u,g.filter(De(Es,e.schema)));const x=u?t[0]:t[t.length-1];return sk(e,x,r,u),Es(e.schema,x)?H.none():H.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);FT(i),zp(e)}),HT=(e,t,n,r)=>H.some(()=>{const i=e.selection.getRng(),c=t[0],u=n[n.length-1];sk(e,c,i,!0),sk(e,u,i,!1);const g=Es(e.schema,c)?t:t.slice(1),x=Es(e.schema,u)?n:n.slice(0,-1);FT(g.concat(x)),r.deleteContents(),zp(e)}),Xh=(e,t,n,r=!0)=>H.some(()=>{Uc(e,t,n,r)}),Og=(e,t)=>H.some(()=>Yh(e,!1,t)),dm=(e,t,n)=>tn(t,n).bind(r=>r.fold(De(Xh,e),De(Og,e),De($l,e),De(HT,e))),fx=(e,t)=>ik(e,t),UC=(e,t,n,r)=>ak(t,r).fold(()=>dm(e,t,n),i=>fx(e,i)),jC=(e,t,n)=>{const r=re.fromDom(e.getBody()),i=e.selection.getRng();return n.length!==0?$l(e,n,H.none()):UC(e,r,i,t)},ZC=(e,t)=>zn(cm(t,e),Xf),ak=(e,t)=>zn(cm(t,e),ia("caption")),e7=(e,t,n,r,i)=>zh(n,e.getBody(),i).bind(c=>ZC(t,re.fromDom(c.getNode())).bind(u=>Xo(u,r)?H.none():H.some(io))),ik=(e,t)=>H.some(()=>{cf(t),e.selection.setCursorLocation(t.dom,0)}),VT=(e,t,n,r)=>is(e.dom).bind(i=>Tu(e.dom).map(c=>t?n.isEqual(i)&&r.isEqual(c):n.isEqual(c)&&r.isEqual(i))).getOr(!0),$T=(e,t)=>ik(e,t),UT=(e,t,n)=>ak(e,re.fromDom(n.getNode())).fold(()=>H.some(io),r=>lu(!Xo(r,t),io)),jT=(e,t,n,r,i)=>zh(n,e.getBody(),i).fold(()=>H.some(io),c=>VT(r,n,i,c)?$T(e,r):UT(t,r,c)),WC=(e,t,n,r)=>{const i=Ve.fromRangeStart(e.selection.getRng());return ZC(n,r).bind(c=>Es(e.schema,c,{checkRootAsContent:!1})?ik(e,c):e7(e,n,t,c,i))},t7=(e,t,n,r)=>{const i=Ve.fromRangeStart(e.selection.getRng());return Es(e.schema,r)?ik(e,r):jT(e,n,t,r,i)},ZT=(e,t)=>e?hC(t):W_(t),o7=(e,t)=>{const n=Ve.fromRangeStart(e.selection.getRng());return ZT(t,n)||xd(t,e.getBody(),n).exists(r=>ZT(t,r))},um=(e,t,n)=>{const r=re.fromDom(e.getBody());return ak(r,n).fold(()=>WC(e,t,r,n).orThunk(()=>lu(o7(e,t),io)),i=>t7(e,t,r,i))},Jh=(e,t)=>{const n=re.fromDom(e.selection.getStart(!0)),r=Ah(e);return e.selection.isCollapsed()&&r.length===0?um(e,t,n):jC(e,n,r)},Ag=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ai(n)||vr(n))return n;n=n.parentNode}return null},WT=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],qT=gt.each,qC=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(c,u)=>{if(c.nodeName!==u.nodeName||c.nodeType!==u.nodeType)return!1;const g=C=>{const R={};return qT(t.getAttribs(C),B=>{const L=B.nodeName.toLowerCase();L!=="style"&&!i(L)&&(R[L]=t.getAttrib(C,L))}),R},x=(C,R)=>{for(const B in C)if(go(C,B)){const L=R[B];if(ar(L)||C[B]!==L)return!1;delete R[B]}for(const B in R)if(go(R,B))return!1;return!0};return At(c)&&At(u)&&(!x(g(c),g(u))||!x(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!Cl(c)&&!Cl(u)},i=c=>Cn(WT,u=>ur(c,u))||n.has(c);return{compare:r,isAttributeInternal:i}},Tp=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),n7=e=>e.name==="summary",r7=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},GT=(e,t,n,r)=>{const i=n.name;for(let c=0,u=e.length;c<u;c++){const g=e[c];if(g.name===i){const x=r.nodes[i];x?x.nodes.push(n):r.nodes[i]={filter:g,nodes:[n]}}}if(n.attributes)for(let c=0,u=t.length;c<u;c++){const g=t[c],x=g.name;if(x in n.attributes.map){const C=r.attributes[x];C?C.nodes.push(n):r.attributes[x]={filter:g,nodes:[n]}}}},s7=(e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&r7(n,i=>{GT(e,t,i,r)}),r},KT=(e,t)=>{const n=(r,i)=>{Fo(r,c=>{const u=Io(c.nodes);Ne(c.filter.callbacks,g=>{for(let x=u.length-1;x>=0;x--){const C=u[x];(!(i?C.attr(c.filter.name)!==void 0:C.name===c.filter.name)||Po(C.parent))&&u.splice(x,1)}u.length>0&&g(u,c.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},YT=(e,t,n,r={})=>{const i=s7(e,t,n);KT(i,r)},GC=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const c=new Vl("br",1);t.insert&&c.attr("data-mce-bogus","1"),r.empty().append(c)}else r.empty().append(new Vl("#text",3)).value=rs},a7=e=>{var t;return XT(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===rs},XT=(e,t)=>{const n=e==null?void 0:e.firstChild;return Le(n)&&n===e.lastChild&&n.name===t},lk=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},mx=(e,t,n,r)=>r.isEmpty(t,n,i=>lk(e,i)),px=(e,t)=>Le(e)&&(t(e)||e.name==="br"),KC=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(t=n)}return H.from(t)},Op=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const i of r)n&&!t.isValidChild(n.name,i.name)&&Op(i,t,n);e.unwrap()}},Ap=(e,t,n,r=io)=>{const i=t.getTextBlockElements(),c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=gt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),x=new Set,C=R=>R!==n&&!g[R.name];for(let R=0;R<e.length;R++){const B=e[R];let L,W,ee;if(!B.parent||x.has(B))continue;if(i[B.name]&&B.parent.name==="li"){let ne=B.next;for(;ne&&i[ne.name];){ne.name="li",x.add(ne),B.parent.insert(ne,B.parent);ne=ne.next}B.unwrap();continue}const K=[B];for(L=B.parent;L&&!t.isValidChild(L.name,B.name)&&C(L);L=L.parent)K.push(L);if(L&&K.length>1)if(Zy(t,B,L))Op(B,t);else{K.reverse(),W=K[0].clone(),r(W);let ne=W;for(let me=0;me<K.length-1;me++){t.isValidChild(ne.name,K[me].name)&&me>0?(ee=K[me].clone(),r(ee),ne.append(ee)):ee=ne;for(let Ce=K[me].firstChild;Ce&&Ce!==K[me+1];){const ze=Ce.next;ee.append(Ce),Ce=ze}ne=ee}mx(t,c,u,W)?L.insert(B,K[0],!0):(L.insert(W,K[0],!0),L.insert(B,W)),L=K[0],(mx(t,c,u,L)||XT(L,"br"))&&L.empty().remove()}else if(B.parent){if(B.name==="li"){let ne=B.prev;if(ne&&(ne.name==="ul"||ne.name==="ol")){ne.append(B);continue}if(ne=B.next,ne&&(ne.name==="ul"||ne.name==="ol")&&ne.firstChild){ne.insert(B,ne.firstChild,!0);continue}const me=new Vl("ul",1);r(me),B.wrap(me);continue}if(t.isValidChild(B.parent.name,"div")&&t.isValidChild("div",B.name)){const ne=new Vl("div",1);r(ne),B.wrap(ne)}else Op(B,t)}}},ck=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},Zy=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&ck(n,"a")?!0:n7(n)&&Tp(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,Qh=(e,t,n,r)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(n,r),i},eb=e=>{const t=Ve.fromRangeStart(e),n=Ve.fromRangeEnd(e),r=e.commonAncestorContainer;return xd(!1,r,n).map(i=>!tm(t,n,r)&&tm(t,i,r)?Qh(t.container(),t.offset(),i.container(),i.offset()):e).getOr(e)},Wy=e=>e.collapsed?e:eb(e),dk=e=>Le(e.firstChild)&&e.firstChild===e.lastChild,JT=e=>e.name==="br"||e.value===rs,YC=(e,t)=>e.getBlockElements()[t.name]&&dk(t)&&JT(t.firstChild),XC=(e,t)=>{const n=e.getNonEmptyElements();return Le(t)&&(t.isEmpty(n)||YC(e,t))},QT=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),XC(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},e5=e=>{var t,n;const r=e.firstChild,i=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),i&&i.id==="mce_marker"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),e},qy=(e,t,n)=>{const r=t.serialize(n),i=e.createFragment(r);return e5(i)},t5=e=>{var t;return Ke((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},o5=e=>e.data===rs||ss(e),n5=e=>Le(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&o5(e.firstChild),uk=e=>!e.firstChild||n5(e),r5=e=>e.length>0&&uk(e[e.length-1])?e.slice(0,-1):e,fk=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},s5=(e,t)=>!!fk(e,t),a5=(e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Np=(e,t)=>{const n=Ve.before(e),i=zu(t).next(n);return i?i.toRange():null},Rp=(e,t)=>{const n=Ve.after(e),i=zu(t).prev(n);return i?i.toRange():null},Mu=(e,t,n,r)=>{const i=a5(e,r),c=e.parentNode;return c&&(c.insertBefore(i[0],e),gt.each(t,u=>{c.insertBefore(u,e)}),c.insertBefore(i[1],e),c.removeChild(e)),Rp(t[t.length-1],n)},JC=(e,t,n)=>{const r=e.parentNode;return r&&gt.each(t,i=>{r.insertBefore(i,e)}),Np(e,n)},QC=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),Rp(t[0],n)),i5=(e,t,n,r)=>{const i=qy(t,e,r),c=fk(t,n.startContainer),u=r5(t5(i.firstChild)),g=1,x=2,C=t.getRoot(),R=B=>{const L=Ve.fromRangeStart(n),W=zu(t.getRoot()),ee=B===g?W.prev(L):W.next(L),K=ee==null?void 0:ee.getNode();return K?fk(t,K)!==c:!0};return c?R(g)?JC(c,u,C):R(x)?QC(c,u,C,t):Mu(c,u,C,n):null},l5=["pre"],c5=(e,t,n,r)=>{var i;const c=t.firstChild,u=t.lastChild,g=u.attr("data-mce-type")==="bookmark"?u.prev:u,x=c===g,C=en(l5,c.name);if(x&&C){const R=c.attr("contenteditable")!=="false",B=((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName.toLowerCase())===c.name,L=H.from(Ag(r,n)).forall(Ai);return R&&B&&L}else return!1},gx=Vo,d5=(e,t,n)=>{if(Le(n)){const r=e.getParent(t.endContainer,gx);return n===r&&x_(re.fromDom(n),t)}else return!1},u5=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const n=t.childNodes;return n.length===1&&ss(n[0])||n.length===0}else return!1},eS=(e,t,n)=>{var r;n.getAttribute("data-mce-bogus")==="all"?(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),n):u5(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})},fm=(e,t,n)=>{H.from(e.getParent(t,"td,th")).map(re.fromDom).each(r=>df(r,n))},Bu=(e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const i=e.getBody(),c=qC(e),u="*[data-mce-fragment]",g=r.select(u);gt.each(g,x=>{const C=L=>Le(n[L.nodeName.toLowerCase()]),R=L=>L.childNodes.length===1;if((L=>!(Z_(r,L)||fC(r,L)))(x)&&C(x)&&R(x)){const L=Du(r,x),W=(me,Ce)=>ts(me,ze=>en(Ce,ze)),ee=me=>R(x)&&r.is(me,u)&&C(me)&&(me.nodeName===x.nodeName&&W(L,Du(r,me))||ee(me.children[0])),K=me=>Le(me)&&me!==i&&(c.compare(x,me)||K(me.parentElement)),ne=me=>Le(me)&&me!==i&&r.is(me,u)&&(cT(r,x,me)||ne(me.parentElement));(ee(x.children[0])||K(x.parentElement)&&!ne(x.parentElement))&&r.remove(x,!0)}})}},mk=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},f5=e=>{gt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},pk=e=>!!e.getAttribute("data-mce-fragment"),m5=(e,t)=>Le(t)&&!e.schema.getVoidElements()[t.nodeName],p5=(e,t)=>{var n,r,i;let c;const u=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const x=Ag(e.getBody(),t);if(x&&u.getContentEditable(x)==="false"){u.remove(t),g.select(x);return}let C=u.createRng();const R=t.previousSibling;if(lt(R)){C.setStart(R,(r=(n=R.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const W=t.nextSibling;lt(W)&&(R.appendData(W.data),(i=W.parentNode)===null||i===void 0||i.removeChild(W))}else C.setStartBefore(t),C.setEndBefore(t);const B=W=>{let ee=Ve.fromRangeStart(W);return ee=zu(e.getBody()).next(ee),ee==null?void 0:ee.toRange()},L=u.getParent(t,u.isBlock);if(u.remove(t),L&&u.isEmpty(L)){const W=gx(L);rc(re.fromDom(L)),C.setStart(L,0),C.setEnd(L,0),!W&&!pk(L)&&(c=B(C))?(C=c,u.remove(L)):u.add(L,u.create("br",W?{}:{"data-mce-bogus":"1"}))}g.setRng(C)},g5=e=>{const t=e.dom,n=Wy(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,gx);d5(t,n,r)?Xh(e,n,re.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&lt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},h5=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return H.some(t);return H.none()},b5=(e,t,n)=>{var r;return Cn(n.children(),Tp)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},y5=(e,t,n)=>{var r,i;const c=e.selection,u=e.dom,g=e.parser,x=n.merge,C=Jr({validate:!0},e.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=Sa(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,R);let B=c.getRng();const L=B.startContainer,W=e.getBody();L===W&&c.isCollapsed()&&u.isBlock(W.firstChild)&&m5(e,W.firstChild)&&u.isEmpty(W.firstChild)&&(B=u.createRng(),B.setStart(W.firstChild,0),B.setEnd(W.firstChild,0),c.setRng(B)),c.isCollapsed()||g5(e);const ee=c.getNode(),K={context:ee.nodeName.toLowerCase(),data:n.data,insert:!0},ne=g.parse(t,K);if(n.paste===!0&&QT(e.schema,ne)&&s5(u,ee))return B=i5(C,u,c.getRng(),ne),B&&c.setRng(B),t;n.paste===!0&&c5(u,ne,ee,e.getBody())&&((r=ne.firstChild)===null||r===void 0||r.unwrap()),mk(ne);let me=ne.lastChild;if(me&&me.attr("id")==="mce_marker"){const Ce=me;for(me=me.prev;me&&me.name!=="table";me=me.walk(!0))if(me.type===3||!u.isBlock(me.name)){me.parent&&e.schema.isValidChild(me.parent.name,"span")&&me.parent.insert(Ce,me,me.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ee),!K.invalid&&!b5(u,ee,ne))t=C.serialize(ne),eS(e,t,ee);else{e.selection.setContent(R);let Ce=c.getNode(),ze;const Re=e.getBody();for(cd(Ce)?Ce=ze=Re:ze=Ce;ze&&ze!==Re;)Ce=ze,ze=ze.parentNode;t=Ce===Re?Re.innerHTML:u.getOuterHTML(Ce);const Xe=g.parse(t),pt=h5(Xe),Nt=pt.bind(KC).getOr(Xe);pt.each(Et=>Et.replace(ne));const Ze=ne.children(),Pe=(i=ne.parent)!==null&&i!==void 0?i:Xe;ne.unwrap();const tt=Ke(Ze,Et=>Zy(e.schema,Et,Pe));Ap(tt,e.schema,Nt),YT(g.getNodeFilters(),g.getAttributeFilters(),Xe),t=C.serialize(Xe),Ce===Re?u.setHTML(Re,t):u.setOuterHTML(Ce,t)}return Bu(e,x),p5(e,u.get("mce_marker")),f5(e.getBody()),fm(u,c.getStart(),e.schema),dd(e.schema,e.getBody(),c.getStart()),t},tb=e=>e instanceof Vl,tS=e=>{Ih(e)&&is(e.getBody()).each(t=>{const n=t.getNode(),r=id(n)?is(n).getOr(t):t;e.selection.setRng(r.toRange())})},gk=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&tS(e)},oS=(e,t,n,r)=>{if(n=Sa(n),n.length===0||/^\s+$/.test(n)){const i='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>");const c=Xi(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(n=i,n=e.dom.createHTML(c,p0(e),n)):n||(n=i),gk(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=Jr({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const i=_l(re.fromDom(t))?n:gt.trim(n);return gk(e,i,r.no_selection),{content:i,html:i}}},i7=(e,t,n,r)=>{YT(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const i=Jr({validate:!1},e.schema).serialize(n),c=Sa(_l(re.fromDom(t))?i:gt.trim(i));return gk(e,c,r.no_selection),{content:n,html:c}},l7=(e,t,n)=>H.from(e.getBody()).map(r=>tb(t)?i7(e,r,t,n):oS(e,r,t,n)).getOr({content:t,html:tb(n.content)?"":n.content}),x5=e=>jt(e)?e:bo,c7=(e,t,n)=>{let r=e.dom;const i=x5(n);for(;r.parentNode;){r=r.parentNode;const c=re.fromDom(r),u=t(c);if(u.isSome())return u;if(i(c))break}return H.none()},nS=(e,t,n)=>{const r=t(e),i=x5(n);return r.orThunk(()=>i(e)?H.none():c7(e,t,i))},rS=E_,hx=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let i=0;i<r.length;i++){const c=r[i];if(vd(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},bx=(e,t,n,r,i)=>{const c=e.dom.getRoot();if(t===c)return!1;const u=e.dom.getParent(t,g=>hx(e,g,n)?!0:g.parentNode===c||!!mm(e,g,n,r,!0));return!!mm(e,u,n,r,i)},yx=(e,t,n)=>Bs(n)&&rS(t,n.inline)||rm(n)&&rS(t,n.block)?!0:vd(n)?At(t)&&e.is(t,n.selector):!1,hk=(e,t,n,r,i,c)=>{const u=n[r],g=r==="attributes";if(jt(n.onmatch))return n.onmatch(t,n,r);if(u){if(_t(u)){for(let x=0;x<u.length;x++)if(g?e.getAttrib(t,u[x]):Ey(e,t,u[x]))return!0}else for(const x in u)if(go(u,x)){const C=g?e.getAttrib(t,x):Ey(e,t,x),R=om(u[x],c),B=Po(C)||vi(C);if(B&&Po(R))continue;if(i&&B&&!n.exact||(!i||n.exact)&&!rS(C,Cg(R,x)))return!1}}return!0},mm=(e,t,n,r,i)=>{const c=e.formatter.get(n),u=e.dom;if(c&&At(t))for(let g=0;g<c.length;g++){const x=c[g];if(yx(e.dom,t,x)&&hk(u,t,x,"attributes",i,r)&&hk(u,t,x,"styles",i,r)){const C=x.classes;if(C){for(let R=0;R<C.length;R++)if(!e.dom.hasClass(t,om(C[R],r)))return}return x}}},sS=(e,t,n,r,i)=>{if(r)return bx(e,r,t,n,i);if(r=e.selection.getNode(),bx(e,r,t,n,i))return!0;const c=e.selection.getStart();return!!(c!==r&&bx(e,c,t,n,i))},d7=(e,t,n)=>{const r=[],i={},c=e.selection.getStart();return e.dom.getParent(c,u=>{for(let g=0;g<t.length;g++){const x=t[g];!i[x]&&mm(e,u,x,n)&&(i[x]=!0,r.push(x))}},e.dom.getRoot()),r},u7=(e,t)=>{const n=i=>Xo(i,re.fromDom(e.getBody())),r=(i,c)=>mm(e,i.dom,c)?H.some(c):H.none();return H.from(e.selection.getStart(!0)).bind(i=>nS(re.fromDom(i),c=>Xs(t,u=>r(c,u)),n)).getOrNull()},f7=(e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const i=e.selection.getStart(),c=gp(r,i);for(let u=n.length-1;u>=0;u--){const g=n[u];if(!vd(g))return!0;for(let x=c.length-1;x>=0;x--)if(r.is(c[x],g.selector))return!0}}return!1},m7=(e,t,n)=>mo(n,(r,i)=>{const c=az(e,i);return e.formatter.matchNode(t,i,{},c)?r.concat([i]):r},[]),Ng=Gs,bk=(e,t)=>e.importNode(t,!0),xx=e=>{if(e){const t=new Kr(e,e);for(let n=t.current();n;n=t.next())if(lt(n))return n}return null},aS=e=>{const t=re.fromTag("span");return fl(t,{id:pp,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Br(t,re.fromText(Ng)),t},p7=e=>{const t=xx(e);return t&&t.data.charAt(0)===Ng&&t.deleteData(0,1),t},iS=(e,t,n)=>{const r=e.dom,i=e.selection;if(Bn(t))Yh(e,!1,re.fromDom(t),n,!0);else{const c=i.getRng(),u=r.getParent(t,r.isBlock),g=c.startContainer,x=c.startOffset,C=c.endContainer,R=c.endOffset,B=p7(t);r.remove(t,!0),g===B&&x>0&&c.setStart(B,x-1),C===B&&R>0&&c.setEnd(B,R-1),u&&r.isEmpty(u)&&cf(re.fromDom(u)),i.setRng(c)}},lS=(e,t,n)=>{const r=e.dom,i=e.selection;if(t)iS(e,t,n);else if(t=sl(e.getBody(),i.getStart()),!t)for(;t=r.get(pp);)iS(e,t,n)},g7=(e,t,n)=>{var r,i;const c=e.dom,u=c.getParent(n,De(Cy,e.schema));u&&c.isEmpty(u)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):(ph(re.fromDom(n)),c.isEmpty(n)?(i=n.parentNode)===null||i===void 0||i.replaceChild(t,n):c.insertAfter(t,n))},v5=(e,t)=>(e.appendChild(t),t),ou=(e,t)=>{var n;const r=to(e,(c,u)=>v5(c,u.cloneNode(!1)),t),i=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return v5(r,i.createTextNode(Ng))},cS=(e,t,n,r,i,c)=>{const u=e.formatter,g=e.dom,x=Ke(rt(u.get()),B=>B!==r&&!br(B,"removeformat")),C=m7(e,n,x);if(Ke(C,B=>!oD(e,B,r)).length>0){const B=n.cloneNode(!1);return g.add(t,B),u.remove(r,i,B,c),g.remove(B),H.some(B)}else return H.none()},dS=e=>dg(e,lf(e).replace(new RegExp(`${rs}$`)," ")),uS=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&ml(re.fromDom(t)).each(r=>{Zs(r)?dS(r):nc(r,i=>Zs(i)).each(i=>{Zs(i)&&dS(i)})})};e.once("input",r=>{r.data&&!Oh(r.data)&&(r.isComposing?e.once("compositionend",()=>{n()}):n())})},_5=(e,t,n)=>{let r;const i=e.selection,c=e.formatter.get(t);if(!c)return;const u=i.getRng();let g=u.startOffset;const C=u.startContainer.nodeValue;r=sl(e.getBody(),i.getStart());const R=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(C&&g>0&&g<C.length&&R.test(C.charAt(g))&&R.test(C.charAt(g-1))){const B=i.getBookmark();u.collapse(!0);let L=Dh(e.dom,u,c);L=lm(L),e.formatter.apply(t,n,L),i.moveToBookmark(B)}else{let B=r?xx(r):null;(!r||(B==null?void 0:B.data)!==Ng)&&(r=bk(e.getDoc(),aS(!0).dom),B=r.firstChild,u.insertNode(r),g=1,uS(e,r)),e.formatter.apply(t,n,r),i.setCursorLocation(B,g)}},h7=(e,t,n,r)=>{const i=e.dom,c=e.selection;let u=!1;const g=e.formatter.get(t);if(!g)return;const x=c.getRng(),C=x.startContainer,R=x.startOffset;let B=C;lt(C)&&(R!==C.data.length&&(u=!0),B=B.parentNode);const L=[];let W;for(;B;){if(mm(e,B,t,n,r)){W=B;break}B.nextSibling&&(u=!0),L.push(B),B=B.parentNode}if(W)if(u){const ee=c.getBookmark();x.collapse(!0);let K=Dh(i,x,g,{includeTrailingSpace:!0});K=lm(K),e.formatter.remove(t,n,K,r),c.moveToBookmark(ee)}else{const ee=sl(e.getBody(),W),K=Le(ee)?i.getParents(W.parentNode,fo,ee):[],ne=aS(!1).dom;g7(e,ne,ee??W);const me=cS(e,ne,W,t,n,r),Ce=ou([...L,...me.toArray(),...K],ne);ee&&iS(e,ee,Le(ee)),c.setCursorLocation(Ce,1),uS(e,ne),i.isEmpty(W)&&i.remove(W)}},k5=(e,t,n)=>{const r=e.selection,i=e.getBody();lS(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===Ng&&lS(e,sl(i,r.getStart()),!0),(t===37||t===39)&&lS(e,sl(i,r.getStart()),!0)},b7=e=>lt(e)&&Vi(e.data,rs),Gy=e=>{e.on("mouseup keydown",t=>{k5(e,t.keyCode,b7(e.selection.getRng().endContainer))})},fS=e=>{const t=aS(!1),n=ou(e,t.dom);return{caretContainer:t,caretPosition:Ve(n,0)}},mS=(e,t)=>{const{caretContainer:n,caretPosition:r}=fS(t);return jr(re.fromDom(e),n),dn(re.fromDom(e)),r},w5=(e,t)=>{const{caretContainer:n,caretPosition:r}=fS(t);return e.insertNode(n.dom),r},yk=(e,t)=>{if(Kn(t.dom))return!1;const n=e.schema.getTextInlineElements();return go(n,mn(t))&&!Kn(t.dom)&&!ac(t.dom)},vx={},C5=Bl(["pre"]),y7=(e,t)=>{vx[e]||(vx[e]=[]),vx[e].push(t)},Rg=(e,t)=>{go(vx,e)&&Ne(vx[e],n=>{n(t)})};y7("pre",e=>{const t=e.selection.getRng(),n=i=>c=>{const u=c.previousSibling;return C5(u)&&en(i,u)},r=(i,c)=>{const u=re.fromDom(c),g=Ml(u).dom;dn(u),Na(re.fromDom(i),[re.fromTag("br",g),re.fromTag("br",g),..._a(u)])};if(!t.collapsed){const i=e.selection.getSelectedBlocks(),c=Ke(Ke(i,C5),n(i));Ne(c,u=>{r(u.previousSibling,u)})}});const xk=["fontWeight","fontStyle","color","fontSize","fontFamily"],x7=e=>ue(e.styles)&&Cn(rt(e.styles),t=>en(xk,t)),v7=e=>zn(e,t=>Bs(t)&&t.inline==="span"&&x7(t)),Dg=(e,t)=>{const n=e.get(t);return pe(n)?v7(n):H.none()},pS=(e,t)=>bc(t,Ve.fromRangeStart(e)).isNone(),_x=(e,t)=>Hl(t,Ve.fromRangeEnd(e)).exists(n=>!ss(n.getNode())||Hl(t,n).isSome())===!1,S5=e=>t=>Yu(t)&&e.isEditable(t),_7=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return pS(n,t[0])&&_x(n,t[0])?t:[];{const r=ut(t).filter(u=>pS(n,u)).toArray(),i=ko(t).filter(u=>_x(n,u)).toArray(),c=t.slice(1,-1);return r.concat(c).concat(i)}},E5=e=>Ke(_7(e),S5(e.dom)),pm=e=>Ke(e.getSelectedBlocks(),S5(e.dom)),kx=gt.each,gS=e=>At(e)&&!Cl(e)&&!Kn(e)&&!ac(e),vk=(e,t)=>{for(let n=e;n;n=n[t]){if(lt(n)&&yr(n.data))return e;if(At(n)&&!Cl(n))return n}return e},_k=(e,t,n)=>{const r=qC(e),i=ta(t)&&e.dom.isEditable(t),c=ta(n)&&e.dom.isEditable(n);if(i&&c){const u=vk(t,"previousSibling"),g=vk(n,"nextSibling");if(r.compare(u,g)){for(let x=u.nextSibling;x&&x!==g;){const C=x;x=x.nextSibling,u.appendChild(C)}return e.dom.remove(g),gt.each(gt.grep(g.childNodes),x=>{u.appendChild(x)}),u}}return n},kk=(e,t,n,r)=>{var i;if(r&&t.merge_siblings!==!1){const c=(i=_k(e,w_(r),r))!==null&&i!==void 0?i:r;_k(e,c,w_(c,!0))}},z5=(e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";kx(e.select(r,n),i=>{gS(i)&&e.isEditable(i)&&kx(t.styles,(c,u)=>{e.setStyle(i,u,"")})})}},wk=(e,t,n)=>{kx(e.childNodes,r=>{gS(r)&&(t(r)&&n(r),r.hasChildNodes()&&wk(r,t,n))})},T5=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},O5=(e,t)=>n=>!!(n&&Ey(e,n,t)),Ky=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),T5(e,r)},gm=Pt.generate([{keep:[]},{rename:["name"]},{removed:[]}]),A5=/^(src|href|style)$/,Ck=gt.each,wx=E_,N5=e=>/^(TR|TH|TD)$/.test(e.nodeName),Cx=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Sk=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];if(At(r)){const c=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>c?c:i]}return lt(r)&&n&&i>=r.data.length&&(r=new Kr(r,e.getBody()).next()||r),lt(r)&&!n&&i===0&&(r=new Kr(r,e.getBody()).prev()||r),r},Yy=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return N5(e)&&r?e.nodeName==="TR"&&r[n]||r:e},hS=(e,t,n,r)=>{var i;const c=e.create(n,r);return(i=t.parentNode)===null||i===void 0||i.insertBefore(c,t),c.appendChild(t),c},bS=(e,t,n,r,i)=>{const c=re.fromDom(t),u=re.fromDom(e.create(r,i)),g=n?tc(c):fu(c);return Na(u,g),n?(jr(c,u),Zi(u,c)):(Jo(c,u),Br(u,c)),u.dom},k7=(e,t)=>t.links&&e.nodeName==="A",R5=(e,t,n)=>{const r=t.parentNode;let i;const c=e.dom,u=Xi(e);rm(n)&&r===c.getRoot()&&(!n.list_block||!wx(t,n.list_block))&&Ne(Io(t.childNodes),g=>{Nh(e,u,g.nodeName.toLowerCase())?i?i.appendChild(g):(i=hS(c,g,u),c.setAttribs(i,p0(e))):i=null}),!(Rh(n)&&!wx(n.inline,t))&&c.remove(t,!0)},yS=(e,t,n)=>O(e)?{name:t,value:null}:{name:e,value:om(t,n)},xS=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},D5=(e,t,n,r,i)=>{let c=!1;Ck(n.styles,(u,g)=>{const{name:x,value:C}=yS(g,u,r),R=Cg(C,x);(n.remove_similar||qe(C)||!At(i)||wx(Ey(e,i,x),R))&&e.setStyle(t,x,""),c=!0}),c&&xS(e,t)},vS=(e,t,n)=>{t==="removeformat"?Ne(pm(e.selection),r=>{Ne(xk,i=>e.dom.setStyle(r,i,"")),xS(e.dom,r)}):Dg(e.formatter,t).each(r=>{Ne(pm(e.selection),i=>D5(e.dom,i,r,n,null))})},Dp=(e,t,n,r,i)=>{const c=e.dom,u=qC(e),g=e.schema;if(Bs(t)&&zs(g,t.inline)&&cr(g,r)&&r.parentElement===e.getBody())return R5(e,r,t),gm.removed();if(!t.ceFalseOverride&&r&&c.getContentEditableParent(r)==="false"||r&&!yx(c,r,t)&&!k7(r,t))return gm.keep();const x=r,C=t.preserve_attributes;if(Bs(t)&&t.remove==="all"&&pe(C)){const R=Ke(c.getAttribs(x),B=>en(C,B.name.toLowerCase()));if(c.removeAllAttribs(x),Ne(R,B=>c.setAttrib(x,B.name,B.value)),R.length>0)return gm.rename("span")}if(t.remove!=="all"){D5(c,x,t,n,i),Ck(t.attributes,(B,L)=>{const{name:W,value:ee}=yS(L,B,n);if(t.remove_similar||qe(ee)||!At(i)||wx(c.getAttrib(i,W),ee)){if(W==="class"){const K=c.getAttrib(x,W);if(K){let ne="";if(Ne(K.split(/\s+/),me=>{/mce\-\w+/.test(me)&&(ne+=(ne?" ":"")+me)}),ne){c.setAttrib(x,W,ne);return}}}if(A5.test(W)&&x.removeAttribute("data-mce-"+W),W==="style"&&Bl(["li"])(x)&&c.getStyle(x,"list-style-type")==="none"){x.removeAttribute(W),c.setStyle(x,"list-style-type","none");return}W==="class"&&x.removeAttribute("className"),x.removeAttribute(W)}}),Ck(t.classes,B=>{B=om(B,n),(!At(i)||c.hasClass(i,B))&&c.removeClass(x,B)});const R=c.getAttribs(x);for(let B=0;B<R.length;B++){const L=R[B].nodeName;if(!u.isAttributeInternal(L))return gm.keep()}}return t.remove!=="none"?(R5(e,x,t),gm.removed()):gm.keep()},M5=(e,t,n,r,i)=>{let c;return t.parentNode&&Ne(gp(e.dom,t.parentNode).reverse(),u=>{if(!c&&At(u)&&u.id!=="_start"&&u.id!=="_end"){const g=mm(e,u,n,r,i);g&&g.split!==!1&&(c=u)}}),c},_S=(e,t,n,r)=>Dp(e,t,n,r,r).fold(Je(r),i=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,i)),Je(null)),B5=(e,t,n,r,i,c,u,g)=>{var x,C;let R,B;const L=e.dom;if(n){const W=n.parentNode;for(let ee=r.parentNode;ee&&ee!==W;ee=ee.parentNode){let K=L.clone(ee,!1);for(let ne=0;ne<t.length&&(K=_S(e,t[ne],g,K),K!==null);ne++);K&&(R&&K.appendChild(R),B||(B=K),R=K)}(!u.mixed||!L.isBlock(n))&&(r=(x=L.split(n,r))!==null&&x!==void 0?x:r),R&&B&&((C=i.parentNode)===null||C===void 0||C.insertBefore(R,i),B.appendChild(i),Bs(u)&&kk(e,u,g,R))}return r},kS=(e,t,n,r,i)=>{const c=e.formatter.get(t),u=c[0],g=e.dom,x=e.selection,C=K=>{const ne=M5(e,K,t,n,i);return B5(e,c,ne,K,K,!0,u,n)},R=K=>Cl(K)&&At(K)&&(K.id==="_start"||K.id==="_end"),B=K=>Cn(c,ne=>Xy(e,ne,n,K,K)),L=K=>{const ne=Io(K.childNodes),Ce=B(K)||Cn(c,Xe=>yx(g,K,Xe)),ze=K.parentNode;if(!Ce&&Le(ze)&&qa(u)&&B(ze),u.deep&&ne.length)for(let Xe=0;Xe<ne.length;Xe++)L(ne[Xe]);Ne(["underline","line-through","overline"],Xe=>{At(K)&&e.dom.getStyle(K,"text-decoration")===Xe&&K.parentNode&&z_(g,K.parentNode)===Xe&&Xy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Xe}},void 0,K)})},W=K=>{const ne=g.get(K?"_start":"_end");if(ne){let me=ne[K?"firstChild":"lastChild"];return R(me)&&(me=me[K?"firstChild":"lastChild"]),lt(me)&&me.data.length===0&&(me=K?ne.previousSibling||ne.nextSibling:ne.nextSibling||ne.previousSibling),g.remove(ne,!0),me}else return null},ee=K=>{let ne,me,Ce=Dh(g,K,c,{includeTrailingSpace:K.collapsed});if(u.split){if(Ce=lm(Ce),ne=Sk(e,Ce,!0),me=Sk(e,Ce),ne!==me){if(ne=Yy(ne,!0),me=Yy(me,!1),Cx(g,ne,me)){const Re=H.from(ne.firstChild).getOr(ne);C(bS(g,Re,!0,"span",{id:"_start","data-mce-type":"bookmark"})),W(!0);return}if(Cx(g,me,ne)){const Re=H.from(me.lastChild).getOr(me);C(bS(g,Re,!1,"span",{id:"_end","data-mce-type":"bookmark"})),W(!1);return}ne=hS(g,ne,"span",{id:"_start","data-mce-type":"bookmark"}),me=hS(g,me,"span",{id:"_end","data-mce-type":"bookmark"});const ze=g.createRng();ze.setStartAfter(ne),ze.setEndBefore(me),M0(g,ze,Re=>{Ne(Re,Xe=>{!Cl(Xe)&&!Cl(Xe.parentNode)&&C(Xe)})}),C(ne),C(me),ne=W(!0),me=W()}else ne=me=C(ne);Ce.startContainer=ne.parentNode?ne.parentNode:ne,Ce.startOffset=g.nodeIndex(ne),Ce.endContainer=me.parentNode?me.parentNode:me,Ce.endOffset=g.nodeIndex(me)+1}M0(g,Ce,ze=>{Ne(ze,L)})};if(r){if(wy(r)){const K=g.createRng();K.setStartBefore(r),K.setEndAfter(r),ee(K)}else ee(r);Gv(e,t,r,n);return}!x.isCollapsed()||!Bs(u)||Ah(e).length?(T2(e,()=>__(e,ee),K=>Bs(u)&&sS(e,t,n,K)),e.nodeChanged()):h7(e,t,n,i),vS(e,t,n),Gv(e,t,r,n)},Mp=(e,t,n,r,i)=>{(r||e.selection.isEditable())&&kS(e,t,n,r,i)},Xy=(e,t,n,r,i)=>Dp(e,t,n,r,i).fold(bo,c=>(e.dom.rename(r,c),!0),fo),Cd=gt.each,ob=(e,t,n,r)=>{const i=c=>{if(ta(c)&&At(c.parentNode)&&e.isEditable(c)){const u=z_(e,c.parentNode);e.getStyle(c,"color")&&u?e.setStyle(c,"text-decoration",u):e.getStyle(c,"text-decoration")===u&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(gt.walk(r,i,"childNodes"),i(r))},P5=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const i=O5(e,"fontSize");wk(r,c=>i(c)&&e.isEditable(c),Ky(e,"backgroundColor",om(t.styles.backgroundColor,n)))}},wS=(e,t,n,r)=>{if(Bs(t)&&(t.inline==="sub"||t.inline==="sup")){const i=O5(e,"fontSize");wk(r,u=>i(u)&&e.isEditable(u),Ky(e,"fontSize",""));const c=Ke(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(c,!0)}},L5=(e,t,n,r)=>{Cd(t,i=>{Bs(i)&&Cd(e.dom.select(i.inline,r),c=>{gS(c)&&Xy(e,i,n,c,i.exact?c:null)}),z5(e.dom,i,r)})},w7=(e,t,n,r,i)=>{const c=i.parentNode;mm(e,c,n,r)&&Xy(e,t,r,i)||t.merge_with_parents&&c&&e.dom.getParent(c,u=>mm(e,u,n,r)?(Xy(e,t,r,i),!0):!1)},Sx=gt.each,Jy=(e,t,n,r)=>{if(y0(e)&&Bs(t)&&n.parentNode){const i=uc(e.schema),c=hl(re.fromDom(n),u=>Kn(u.dom));return Ya(i,r)&&Pl(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},Ex=(e,t,n,r)=>{if(Sx(n.styles,(i,c)=>{e.setStyle(t,c,om(i,r))}),n.styles){const i=e.getAttrib(t,"style");i&&e.setAttrib(t,"data-mce-style",i)}},I5=(e,t,n,r)=>{const i=e.formatter.get(t),c=i[0],u=!r&&e.selection.isCollapsed(),g=e.dom,x=e.selection,C=(ee,K=c)=>{jt(K.onformat)&&K.onformat(ee,K,n,r),Ex(g,ee,K,n),Sx(K.attributes,(ne,me)=>{g.setAttrib(ee,me,om(ne,n))}),Sx(K.classes,ne=>{const me=om(ne,n);g.hasClass(ee,me)||g.addClass(ee,me)})},R=(ee,K)=>{let ne=!1;return Sx(ee,me=>vd(me)?g.getContentEditable(K)==="false"&&!me.ceFalseOverride||Le(me.collapsed)&&me.collapsed!==u?!0:g.is(K,me.selector)&&!Kn(K)?(C(K,me),ne=!0,!1):!0:!1),ne},B=ee=>{if(ht(ee)){const K=g.create(ee);return C(K),K}else return null},L=(ee,K,ne)=>{const me=[];let Ce=!0;const ze=c.inline||c.block,Re=B(ze),Xe=Ze=>iz(c)&&mm(e,Ze,t,n),pt=(Ze,Pe,tt)=>{const Et=lz(c)&&Cy(e.schema,Ze)&&Nh(e,Pe,ze);return tt&&Et},Nt=(Ze,Pe,tt,Et)=>{const Qt=Ze.nodeName.toLowerCase(),on=Nh(e,ze,Qt)&&Nh(e,Pe,ze),rn=!ne&&lt(Ze)&&gh(Ze.data),jn=Kn(Ze),kr=!Bs(c)||!ee.isBlock(Ze);return(tt||Et)&&on&&!rn&&!jn&&kr};M0(ee,K,Ze=>{let Pe;const tt=Et=>{let Qt=!1,on=Ce,rn=!1;const jn=Et.parentNode,kr=jn.nodeName.toLowerCase(),fa=ee.getContentEditable(Et);Le(fa)&&(on=Ce,Ce=fa==="true",Qt=!0,rn=Sy(e,Et));const Mi=Ce&&!Qt;if(ss(Et)&&!Jy(e,c,Et,kr)){Pe=null,rm(c)&&ee.remove(Et);return}if(Xe(Et)){Pe=null;return}if(pt(Et,kr,Mi)){const Bi=ee.rename(Et,ze);C(Bi),me.push(Bi),Pe=null;return}if(vd(c)){let Bi=R(i,Et);if(!Bi&&Le(jn)&&qa(c)&&(Bi=R(i,jn)),!Bs(c)||Bi){Pe=null;return}}Le(Re)&&Nt(Et,kr,Mi,rn)?(Pe||(Pe=ee.clone(Re,!1),jn.insertBefore(Pe,Et),me.push(Pe)),rn&&Qt&&(Ce=on),Pe.appendChild(Et)):(Pe=null,Ne(Io(Et.childNodes),tt),Qt&&(Ce=on),Pe=null)};Ne(Ze,tt)}),c.links===!0&&Ne(me,Ze=>{const Pe=tt=>{tt.nodeName==="A"&&C(tt,c),Ne(Io(tt.childNodes),Pe)};Pe(Ze)}),Ne(me,Ze=>{const Pe=Qt=>{let on=0;return Ne(Qt.childNodes,rn=>{!S_(rn)&&!Cl(rn)&&on++}),on},tt=Qt=>zn(Qt.childNodes,k_).filter(rn=>ee.getContentEditable(rn)!=="false"&&yx(ee,rn,c)).map(rn=>{const jn=ee.clone(rn,!1);return C(jn),ee.replace(jn,Qt,!0),ee.remove(rn,!0),jn}).getOr(Qt),Et=Pe(Ze);if((me.length>1||!ee.isBlock(Ze))&&Et===0){ee.remove(Ze,!0);return}(Bs(c)||rm(c)&&c.wrapper)&&(!c.exact&&Et===1&&(Ze=tt(Ze)),L5(e,i,n,Ze),w7(e,c,t,n,Ze),P5(ee,c,n,Ze),ob(ee,c,n,Ze),wS(ee,c,n,Ze),kk(e,c,n,Ze))})},W=wy(r)?r:x.getNode();if(g.getContentEditable(W)==="false"&&!Sy(e,W)){r=W,R(i,r),F3(e,t,r,n);return}if(c){if(r)if(wy(r)){if(!R(i,r)){const ee=g.createRng();ee.setStartBefore(r),ee.setEndAfter(r),L(g,Dh(g,ee,i),!0)}}else L(g,r,!0);else!u||!Bs(c)||Ah(e).length?(x.setRng(Wy(x.getRng())),T2(e,()=>{__(e,(ee,K)=>{const ne=K?ee:Dh(g,ee,i);L(g,ne,!1)})},fo),e.nodeChanged()):_5(e,t,n),Dg(e.formatter,t).each(ee=>{Ne(E5(e.selection),K=>Ex(g,K,ee,n))});Rg(t,e)}F3(e,t,r,n)},CS=(e,t,n,r)=>{(r||e.selection.isEditable())&&I5(e,t,n,r)},Ek=e=>go(e,"vars"),C7=(e,t)=>{e.set({}),t.on("NodeChange",n=>{Is(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=H.from(n.node).map(i=>wy(i)?i:i.startContainer).bind(i=>At(i)?H.some(i):H.from(i.parentElement)).getOrThunk(()=>F5(t));Is(t,r,e.get())})},F5=e=>e.selection.getStart(),SS=(e,t,n,r,i)=>Wo(t,g=>{const x=e.formatter.matchNode(g,n,i??{},r);return!ar(x)},g=>hx(e,g,n)?!0:r?!1:Le(e.formatter.matchNode(g,n,i,!0))),H5=(e,t)=>{const n=t??F5(e);return Ke(gp(e.dom,n),r=>At(r)&&!ac(r))},Is=(e,t,n)=>{const r=H5(e,t);Fo(n,(i,c)=>{const u=g=>{const x=SS(e,r,c,g.similar,Ek(g)?g.vars:void 0),C=x.isSome();if(g.state.get()!==C){g.state.set(C);const R=x.getOr(t);Ek(g)?g.callback(C,{node:R,format:c,parents:r}):Ne(g.callbacks,B=>B(C,{node:R,format:c,parents:r}))}};Ne([i.withSimilar,i.withoutSimilar],u),Ne(i.withVars,u)})},V5=(e,t,n,r,i,c)=>{const u=t.get();Ne(n.split(","),g=>{const x=Hn(u,g).getOrThunk(()=>{const R={withSimilar:{state:zr(!1),similar:!0,callbacks:[]},withoutSimilar:{state:zr(!1),similar:!1,callbacks:[]},withVars:[]};return u[g]=R,R}),C=()=>{const R=H5(e);return SS(e,R,g,i,c).isSome()};if(ar(c)){const R=i?x.withSimilar:x.withoutSimilar;R.callbacks.push(r),R.callbacks.length===1&&R.state.set(C())}else x.withVars.push({state:zr(C()),similar:i,vars:c,callback:r})}),t.set(u)},zk=(e,t,n)=>{const r=e.get();Ne(t.split(","),i=>Hn(r,i).each(c=>{r[i]={withSimilar:{...c.withSimilar,callbacks:Ke(c.withSimilar.callbacks,u=>u!==n)},withoutSimilar:{...c.withoutSimilar,callbacks:Ke(c.withoutSimilar.callbacks,u=>u!==n)},withVars:Ke(c.withVars,u=>u.callback!==n)}})),e.set(r)},$5=(e,t,n,r,i,c)=>(V5(e,t,n,r,i,c),{unbind:()=>zk(t,n,r)}),Tk=(e,t,n,r)=>{const i=e.formatter.get(t);i&&(sS(e,t,n,r)&&(!("toggle"in i[0])||i[0].toggle)?Mp(e,t,n,r):CS(e,t,n,r))},ES=gt.explode,zS=()=>{const e={};return{addFilter:(i,c)=>{Ne(ES(i),u=>{go(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(c)})},getFilters:()=>Tl(e),removeFilter:(i,c)=>{Ne(ES(i),u=>{if(go(e,u))if(Le(c)){const g=e[u],x=Ke(g.callbacks,C=>C!==c);x.length>0?g.callbacks=x:delete e[u]}else delete e[u]})}}},zx=(e,t)=>{Ne(t,n=>{e.attr(n,null)})},Bp=(e,t,n)=>{e.addNodeFilter("font",r=>{Ne(r,i=>{const c=t.parse(i.attr("style")),u=i.attr("color"),g=i.attr("face"),x=i.attr("size");u&&(c.color=u),g&&(c["font-family"]=g),x&&qn(x).each(C=>{c["font-size"]=n[C-1]}),i.name="span",i.attr("style",t.serialize(c)),zx(i,["color","face","size"])})})},nb=(e,t,n)=>{e.addNodeFilter("strike",r=>{const i=t.type!=="html4";Ne(r,c=>{if(i)c.name="s";else{const u=n.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(u))}})})},Ok=(e,t,n)=>{var r;const i=Pb();t.convert_fonts_to_spans&&Bp(e,i,gt.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),nb(e,n,i)},TS=(e,t,n)=>{t.inline_styles&&Ok(e,t,n)},OS=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),U5=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},S7=e=>{try{return decodeURIComponent(e)}catch{return e}},Ak=e=>{const[t,...n]=e.split(","),r=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const c=i[2]===";base64",u=S7(r),g=c?U5(u):u;return H.some({type:i[1],data:g,base64Encoded:c})}else return H.none()},AS=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return H.none()}const i=new Uint8Array(r.length);for(let c=0;c<i.length;c++)i[c]=r.charCodeAt(c);return H.some(new Blob([i],{type:e}))},j5=e=>new Promise((t,n)=>{Ak(e).bind(({type:r,data:i,base64Encoded:c})=>AS(r,i,c)).fold(()=>n("Invalid data URI"),t)}),Z5=e=>ur(e,"blob:")?OS(e):ur(e,"data:")?j5(e):Promise.reject("Unknown URI format"),W5=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var i;n((i=r.error)===null||i===void 0?void 0:i.message)},r.readAsDataURL(e)});let E7=0;const z7=e=>"blobid"+E7++,Ul=(e,t,n)=>Ak(e).bind(({data:r,type:i,base64Encoded:c})=>{if(t&&!c)return H.none();{const u=c?r:btoa(r);return n(u,i)}}),NS=(e,t,n)=>{const r=e.create(z7(),t,n);return e.add(r),r},Qy=(e,t,n=!1)=>Ul(t,n,(r,i)=>H.from(e.getByData(r,i)).orThunk(()=>AS(i,r).map(c=>NS(e,c,r)))),T7=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(ur(t,"blob:")){const r=e.getByUri(t);return Le(r)?Promise.resolve(r):Z5(t).then(i=>W5(i).then(c=>Ul(c,!1,u=>H.some(NS(e,i,u))).getOrThunk(n)))}else return ur(t,"data:")?Qy(e,t).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},q5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,G5=e=>H.from(e.match(q5)).bind(t=>Ys(t,1)).map(t=>ur(t,"www.")?t.substring(4):t),RS=(e,t)=>{H.from(e.attr("src")).bind(G5).forall(n=>!en(t,n))&&e.attr("sandbox","")},Tx=(e,t)=>ur(e,`${t}/`),K5=e=>ar(e)?"iframe":Tx(e,"image")?"img":Tx(e,"video")?"video":Tx(e,"audio")?"audio":"iframe",Y5=({type:e,src:t,width:n,height:r}={},i,c)=>{const u=K5(e),g=new Vl(u,1);return g.attr(u==="audio"?{src:t}:{src:t,width:n,height:r}),(u==="audio"||u==="video")&&g.attr("controls",""),u==="iframe"&&i&&RS(g,c),g},O7=e=>Le(e.attr("data-mce-bogus")),A7=e=>e.attr("src")===Rt.transparentSrc||Le(e.attr("data-mce-placeholder")),N7=(e,t)=>{const{blob_cache:n}=t;if(n){const r=i=>{const c=i.attr("src");A7(i)||O7(i)||Po(c)||Qy(n,c,!0).each(u=>{i.attr("src",u.blobUri())})};e.addAttributeFilter("src",i=>Ne(i,r))}},DS=(e,t)=>{var n,r;const i=e.schema;e.addAttributeFilter("href",x=>{let C=x.length;const R=L=>L.split(" ").filter(ee=>ee.length>0).concat(["noopener"]).sort().join(" "),B=L=>{const W=L?gt.trim(L):"";return/\b(noopener)\b/g.test(W)?W:R(W)};if(!t.allow_unsafe_link_target)for(;C--;){const L=x[C];L.name==="a"&&L.attr("target")==="_blank"&&L.attr("rel",B(L.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",x=>{let C=x.length,R,B,L,W;for(;C--;)if(W=x[C],W.name==="a"&&W.firstChild&&!W.attr("href"))for(L=W.parent,R=W.lastChild;R&&L;)B=R.prev,L.insert(R,W),R=B}),t.fix_list_elements&&e.addNodeFilter("ul,ol",x=>{let C=x.length,R,B;for(;C--;)if(R=x[C],B=R.parent,B&&(B.name==="ul"||B.name==="ol"))if(R.prev&&R.prev.name==="li")R.prev.append(R);else{const L=new Vl("li",1);L.attr("style","list-style-type: none"),R.wrap(L)}});const c=i.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",x=>{var C;let R=x.length;for(;R--;){const B=x[R],L=(C=B.attr("class"))!==null&&C!==void 0?C:"",W=gt.explode(L," ");let ee="";for(let K=0;K<W.length;K++){const ne=W[K];let me=!1,Ce=c["*"];Ce&&Ce[ne]&&(me=!0),Ce=c[B.name],!me&&Ce&&Ce[ne]&&(me=!0),me&&(ee&&(ee+=" "),ee+=ne)}ee.length||(ee=null),B.attr("class",ee)}}),N7(e,t);const u=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,g=hi((r=t.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",x=>Ne(x,C=>{C.replace(Y5({type:C.attr("type"),src:C.name==="object"?C.attr("data"):C.attr("src"),width:C.attr("width"),height:C.attr("height")},u,g))})),u&&e.addNodeFilter("iframe",x=>Ne(x,C=>RS(C,g)))};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:X5,setPrototypeOf:J5,isFrozen:Q5,getPrototypeOf:R7,getOwnPropertyDescriptor:D7}=Object;let{freeze:jl,seal:jc,create:MS}=Object,{apply:Nk,construct:Ox}=typeof Reflect<"u"&&Reflect;jl||(jl=function(t){return t}),jc||(jc=function(t){return t}),Nk||(Nk=function(t,n,r){return t.apply(n,r)}),Ox||(Ox=function(t,n){return new t(...n)});const Rk=Zl(Array.prototype.forEach),M7=Zl(Array.prototype.lastIndexOf),eO=Zl(Array.prototype.pop),xf=Zl(Array.prototype.push),B7=Zl(Array.prototype.splice),rb=Zl(String.prototype.toLowerCase),BS=Zl(String.prototype.toString),Dk=Zl(String.prototype.match),e1=Zl(String.prototype.replace),tO=Zl(String.prototype.indexOf),oO=Zl(String.prototype.trim),Sd=Zl(Object.prototype.hasOwnProperty),Zc=Zl(RegExp.prototype.test),Ax=nO(TypeError);function Zl(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Nk(e,t,r)}}function nO(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ox(e,n)}}function Fr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rb;J5&&J5(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const c=n(i);c!==i&&(Q5(t)||(t[r]=c),i=c)}e[i]=!0}return e}function P7(e){for(let t=0;t<e.length;t++)Sd(e,t)||(e[t]=null);return e}function sb(e){const t=MS(null);for(const[n,r]of X5(e))Sd(e,n)&&(Array.isArray(r)?t[n]=P7(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=sb(r):t[n]=r);return t}function Nx(e,t){for(;e!==null;){const r=D7(e,t);if(r){if(r.get)return Zl(r.get);if(typeof r.value=="function")return Zl(r.value)}e=R7(e)}function n(){return null}return n}const Mk=jl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bk=jl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),PS=jl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L7=jl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ua=jl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I7=jl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),rO=jl(["#text"]),LS=jl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rx=jl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),IS=jl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),vf=jl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FS=jc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sO=jc(/<%[\w\W]*|[\w\W]*%>/gm),HS=jc(/\$\{[\w\W]*/gm),VS=jc(/^data-[\-\w.\u00B7-\uFFFF]+$/),$S=jc(/^aria-[\-\w]+$/),US=jc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pk=jc(/^(?:\w+script|data):/i),Lk=jc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),t1=jc(/^html$/i),Dx=jc(/^[a-z][.\w]*(-[.\w]+)+$/i);var nu=Object.freeze({__proto__:null,ARIA_ATTR:$S,ATTR_WHITESPACE:Lk,CUSTOM_ELEMENT:Dx,DATA_ATTR:VS,DOCTYPE_NAME:t1,ERB_EXPR:sO,IS_ALLOWED_URI:US,IS_SCRIPT_OR_DATA:Pk,MUSTACHE_EXPR:FS,TMPLIT_EXPR:HS});const Pp={element:1,text:3,progressingInstruction:7,comment:8,document:9},aO=function(){return typeof window>"u"?null:window},iO=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},lO=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function jS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aO();const t=hn=>jS(hn);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==Pp.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:g,Element:x,NodeFilter:C,NamedNodeMap:R=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:B,DOMParser:L,trustedTypes:W}=e,ee=x.prototype,K=Nx(ee,"cloneNode"),ne=Nx(ee,"remove"),me=Nx(ee,"nextSibling"),Ce=Nx(ee,"childNodes"),ze=Nx(ee,"parentNode");if(typeof u=="function"){const hn=n.createElement("template");hn.content&&hn.content.ownerDocument&&(n=hn.content.ownerDocument)}let Re,Xe="";const{implementation:pt,createNodeIterator:Nt,createDocumentFragment:Ze,getElementsByTagName:Pe}=n,{importNode:tt}=r;let Et=lO();t.isSupported=typeof X5=="function"&&typeof ze=="function"&&pt&&pt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Qt,ERB_EXPR:on,TMPLIT_EXPR:rn,DATA_ATTR:jn,ARIA_ATTR:kr,IS_SCRIPT_OR_DATA:fa,ATTR_WHITESPACE:Mi,CUSTOM_ELEMENT:Bi}=nu;let{IS_ALLOWED_URI:kt}=nu,eo=null;const In=Fr({},[...Mk,...Bk,...PS,...ua,...rO]);let zt=null;const at=Fr({},[...LS,...Rx,...IS,...vf]);let St=Object.seal(MS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Co=null,Rr=null,gn=!0,cl=!0,Af=!1,Hg=!0,qc=!1,Cm=!0,Vu=!1,vc=!1,Gc=!1,Nf=!1,E1=!1,ao=!1,En=!0,sa=!1;const mi="user-content-";let Pi=!0,Ga=!1,Fs={},Hs=null;const Kc=Fr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Sm=null;const Vg=Fr({},["audio","video","img","source","image","track"]);let qp=null;const Iw=Fr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fw="http://www.w3.org/1998/Math/MathML",mv="http://www.w3.org/2000/svg",Em="http://www.w3.org/1999/xhtml";let z1=Em,A3=!1,Hw=null;const yF=Fr({},[Fw,mv,Em],BS);let N3=Fr({},["mi","mo","mn","ms","mtext"]),R3=Fr({},["annotation-xml"]);const xF=Fr({},["title","style","font","a","script"]);let Vw=null;const T1=["application/xhtml+xml","text/html"],lR="text/html";let Oe=null,Me=null;const vt=n.createElement("form"),bt=function(Be){return Be instanceof RegExp||Be instanceof Function},po=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Me&&Me===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=sb(Be),Vw=T1.indexOf(Be.PARSER_MEDIA_TYPE)===-1?lR:Be.PARSER_MEDIA_TYPE,Oe=Vw==="application/xhtml+xml"?BS:rb,eo=Sd(Be,"ALLOWED_TAGS")?Fr({},Be.ALLOWED_TAGS,Oe):In,zt=Sd(Be,"ALLOWED_ATTR")?Fr({},Be.ALLOWED_ATTR,Oe):at,Hw=Sd(Be,"ALLOWED_NAMESPACES")?Fr({},Be.ALLOWED_NAMESPACES,BS):yF,qp=Sd(Be,"ADD_URI_SAFE_ATTR")?Fr(sb(Iw),Be.ADD_URI_SAFE_ATTR,Oe):Iw,Sm=Sd(Be,"ADD_DATA_URI_TAGS")?Fr(sb(Vg),Be.ADD_DATA_URI_TAGS,Oe):Vg,Hs=Sd(Be,"FORBID_CONTENTS")?Fr({},Be.FORBID_CONTENTS,Oe):Kc,Co=Sd(Be,"FORBID_TAGS")?Fr({},Be.FORBID_TAGS,Oe):{},Rr=Sd(Be,"FORBID_ATTR")?Fr({},Be.FORBID_ATTR,Oe):{},Fs=Sd(Be,"USE_PROFILES")?Be.USE_PROFILES:!1,gn=Be.ALLOW_ARIA_ATTR!==!1,cl=Be.ALLOW_DATA_ATTR!==!1,Af=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,Hg=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,qc=Be.SAFE_FOR_TEMPLATES||!1,Cm=Be.SAFE_FOR_XML!==!1,Vu=Be.WHOLE_DOCUMENT||!1,Nf=Be.RETURN_DOM||!1,E1=Be.RETURN_DOM_FRAGMENT||!1,ao=Be.RETURN_TRUSTED_TYPE||!1,Gc=Be.FORCE_BODY||!1,En=Be.SANITIZE_DOM!==!1,sa=Be.SANITIZE_NAMED_PROPS||!1,Pi=Be.KEEP_CONTENT!==!1,Ga=Be.IN_PLACE||!1,kt=Be.ALLOWED_URI_REGEXP||US,z1=Be.NAMESPACE||Em,N3=Be.MATHML_TEXT_INTEGRATION_POINTS||N3,R3=Be.HTML_INTEGRATION_POINTS||R3,St=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&bt(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(St.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&bt(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(St.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(St.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),qc&&(cl=!1),E1&&(Nf=!0),Fs&&(eo=Fr({},rO),zt=[],Fs.html===!0&&(Fr(eo,Mk),Fr(zt,LS)),Fs.svg===!0&&(Fr(eo,Bk),Fr(zt,Rx),Fr(zt,vf)),Fs.svgFilters===!0&&(Fr(eo,PS),Fr(zt,Rx),Fr(zt,vf)),Fs.mathMl===!0&&(Fr(eo,ua),Fr(zt,IS),Fr(zt,vf))),Be.ADD_TAGS&&(eo===In&&(eo=sb(eo)),Fr(eo,Be.ADD_TAGS,Oe)),Be.ADD_ATTR&&(zt===at&&(zt=sb(zt)),Fr(zt,Be.ADD_ATTR,Oe)),Be.ADD_URI_SAFE_ATTR&&Fr(qp,Be.ADD_URI_SAFE_ATTR,Oe),Be.FORBID_CONTENTS&&(Hs===Kc&&(Hs=sb(Hs)),Fr(Hs,Be.FORBID_CONTENTS,Oe)),Pi&&(eo["#text"]=!0),Vu&&Fr(eo,["html","head","body"]),eo.table&&(Fr(eo,["tbody"]),delete Co.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ax('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ax('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Re=Be.TRUSTED_TYPES_POLICY,Xe=Re.createHTML("")}else Re===void 0&&(Re=iO(W,i)),Re!==null&&typeof Xe=="string"&&(Xe=Re.createHTML(""));jl&&jl(Be),Me=Be}},Pn=Fr({},[...Bk,...PS,...L7]),aa=Fr({},[...ua,...I7]),Gp=function(Be){let oo=ze(Be);(!oo||!oo.tagName)&&(oo={namespaceURI:z1,tagName:"template"});const nn=rb(Be.tagName),pi=rb(oo.tagName);return Hw[Be.namespaceURI]?Be.namespaceURI===mv?oo.namespaceURI===Em?nn==="svg":oo.namespaceURI===Fw?nn==="svg"&&(pi==="annotation-xml"||N3[pi]):!!Pn[nn]:Be.namespaceURI===Fw?oo.namespaceURI===Em?nn==="math":oo.namespaceURI===mv?nn==="math"&&R3[pi]:!!aa[nn]:Be.namespaceURI===Em?oo.namespaceURI===mv&&!R3[pi]||oo.namespaceURI===Fw&&!N3[pi]?!1:!aa[nn]&&(xF[nn]||!Pn[nn]):!!(Vw==="application/xhtml+xml"&&Hw[Be.namespaceURI]):!1},zm=function(Be){xf(t.removed,{element:Be});try{ze(Be).removeChild(Be)}catch{ne(Be)}},D3=function(Be,oo){try{xf(t.removed,{attribute:oo.getAttributeNode(Be),from:oo})}catch{xf(t.removed,{attribute:null,from:oo})}if(oo.removeAttribute(Be),Be==="is")if(Nf||E1)try{zm(oo)}catch{}else try{oo.setAttribute(Be,"")}catch{}},vF=function(Be){let oo=null,nn=null;if(Gc)Be="<remove></remove>"+Be;else{const _c=Dk(Be,/^[\r\n\t ]+/);nn=_c&&_c[0]}Vw==="application/xhtml+xml"&&z1===Em&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");const pi=Re?Re.createHTML(Be):Be;if(z1===Em)try{oo=new L().parseFromString(pi,Vw)}catch{}if(!oo||!oo.documentElement){oo=pt.createDocument(z1,"template",null);try{oo.documentElement.innerHTML=A3?Xe:pi}catch{}}const Od=oo.body||oo.documentElement;return Be&&nn&&Od.insertBefore(n.createTextNode(nn),Od.childNodes[0]||null),z1===Em?Pe.call(oo,Vu?"html":"body")[0]:Vu?oo.documentElement:Od},_F=function(Be){return Nt.call(Be.ownerDocument||Be,Be,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT|C.SHOW_PROCESSING_INSTRUCTION|C.SHOW_CDATA_SECTION,null)},bP=function(Be){return Be instanceof B&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof R)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},kF=function(Be){return typeof g=="function"&&Be instanceof g};function xb(hn,Be,oo){Rk(hn,nn=>{nn.call(t,Be,oo,Me)})}const wF=function(Be){let oo=null;if(xb(Et.beforeSanitizeElements,Be,null),bP(Be))return zm(Be),!0;const nn=Oe(Be.nodeName);if(xb(Et.uponSanitizeElement,Be,{tagName:nn,allowedTags:eo}),Be.hasChildNodes()&&!kF(Be.firstElementChild)&&Zc(/<[/\w]/g,Be.innerHTML)&&Zc(/<[/\w]/g,Be.textContent)||Be.nodeType===Pp.progressingInstruction||Cm&&Be.nodeType===Pp.comment&&Zc(/<[/\w]/g,Be.data))return zm(Be),!0;if(!eo[nn]||Co[nn]){if(!Co[nn]&&SF(nn)&&(St.tagNameCheck instanceof RegExp&&Zc(St.tagNameCheck,nn)||St.tagNameCheck instanceof Function&&St.tagNameCheck(nn)))return!1;if(Pi&&!Hs[nn]){const pi=ze(Be)||Be.parentNode,Od=Ce(Be)||Be.childNodes;if(Od&&pi){const _c=Od.length;for(let $u=_c-1;$u>=0;--$u){const $g=K(Od[$u],!0);$g.__removalCount=(Be.__removalCount||0)+1,pi.insertBefore($g,me(Be))}}}return zm(Be),!0}return Be instanceof x&&!Gp(Be)||(nn==="noscript"||nn==="noembed"||nn==="noframes")&&Zc(/<\/no(script|embed|frames)/i,Be.innerHTML)?(zm(Be),!0):(qc&&Be.nodeType===Pp.text&&(oo=Be.textContent,Rk([Qt,on,rn],pi=>{oo=e1(oo,pi," ")}),Be.textContent!==oo&&(xf(t.removed,{element:Be.cloneNode()}),Be.textContent=oo)),xb(Et.afterSanitizeElements,Be,null),!1)},CF=function(Be,oo,nn){if(En&&(oo==="id"||oo==="name")&&(nn in n||nn in vt))return!1;if(!(cl&&!Rr[oo]&&Zc(jn,oo))){if(!(gn&&Zc(kr,oo))){if(!zt[oo]||Rr[oo]){if(!(SF(Be)&&(St.tagNameCheck instanceof RegExp&&Zc(St.tagNameCheck,Be)||St.tagNameCheck instanceof Function&&St.tagNameCheck(Be))&&(St.attributeNameCheck instanceof RegExp&&Zc(St.attributeNameCheck,oo)||St.attributeNameCheck instanceof Function&&St.attributeNameCheck(oo))||oo==="is"&&St.allowCustomizedBuiltInElements&&(St.tagNameCheck instanceof RegExp&&Zc(St.tagNameCheck,nn)||St.tagNameCheck instanceof Function&&St.tagNameCheck(nn))))return!1}else if(!qp[oo]){if(!Zc(kt,e1(nn,Mi,""))){if(!((oo==="src"||oo==="xlink:href"||oo==="href")&&Be!=="script"&&tO(nn,"data:")===0&&Sm[Be])){if(!(Af&&!Zc(fa,e1(nn,Mi,"")))){if(nn)return!1}}}}}}return!0},SF=function(Be){return Be!=="annotation-xml"&&Dk(Be,Bi)},EF=function(Be){xb(Et.beforeSanitizeAttributes,Be,null);const{attributes:oo}=Be;if(!oo||bP(Be))return;const nn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:zt,forceKeepAttr:void 0};let pi=oo.length;for(;pi--;){const Od=oo[pi],{name:_c,namespaceURI:$u,value:$g}=Od,M3=Oe(_c);let Yc=_c==="value"?$g:oO($g);const Fq=Yc;if(nn.attrName=M3,nn.attrValue=Yc,nn.keepAttr=!0,nn.forceKeepAttr=void 0,xb(Et.uponSanitizeAttribute,Be,nn),Yc=nn.attrValue,sa&&(M3==="id"||M3==="name")&&(D3(_c,Be),Yc=mi+Yc),Cm&&Zc(/((--!?|])>)|<\/(style|title)/i,Yc)){D3(_c,Be);continue}if(nn.forceKeepAttr)continue;if(!nn.keepAttr){D3(_c,Be);continue}if(!Hg&&Zc(/\/>/i,Yc)){D3(_c,Be);continue}qc&&Rk([Qt,on,rn],TF=>{Yc=e1(Yc,TF," ")});const zF=Oe(Be.nodeName);if(!CF(zF,M3,Yc)){D3(_c,Be);continue}if(Re&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!$u)switch(W.getAttributeType(zF,M3)){case"TrustedHTML":{Yc=Re.createHTML(Yc);break}case"TrustedScriptURL":{Yc=Re.createScriptURL(Yc);break}}if(Yc!==Fq)try{$u?Be.setAttributeNS($u,_c,Yc):Be.setAttribute(_c,Yc),bP(Be)?zm(Be):eO(t.removed)}catch{}}xb(Et.afterSanitizeAttributes,Be,null)},Iq=function hn(Be){let oo=null;const nn=_F(Be);for(xb(Et.beforeSanitizeShadowDOM,Be,null);oo=nn.nextNode();)xb(Et.uponSanitizeShadowNode,oo,null),wF(oo),EF(oo),oo.content instanceof c&&hn(oo.content);xb(Et.afterSanitizeShadowDOM,Be,null)};return t.sanitize=function(hn){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oo=null,nn=null,pi=null,Od=null;if(A3=!hn,A3&&(hn="<!-->"),typeof hn!="string"&&!kF(hn))if(typeof hn.toString=="function"){if(hn=hn.toString(),typeof hn!="string")throw Ax("dirty is not a string, aborting")}else throw Ax("toString is not a function");if(!t.isSupported)return hn;if(vc||po(Be),t.removed=[],typeof hn=="string"&&(Ga=!1),Ga){if(hn.nodeName){const $g=Oe(hn.nodeName);if(!eo[$g]||Co[$g])throw Ax("root node is forbidden and cannot be sanitized in-place")}}else if(hn instanceof g)oo=vF("<!---->"),nn=oo.ownerDocument.importNode(hn,!0),nn.nodeType===Pp.element&&nn.nodeName==="BODY"||nn.nodeName==="HTML"?oo=nn:oo.appendChild(nn);else{if(!Nf&&!qc&&!Vu&&hn.indexOf("<")===-1)return Re&&ao?Re.createHTML(hn):hn;if(oo=vF(hn),!oo)return Nf?null:ao?Xe:""}oo&&Gc&&zm(oo.firstChild);const _c=_F(Ga?hn:oo);for(;pi=_c.nextNode();)wF(pi),EF(pi),pi.content instanceof c&&Iq(pi.content);if(Ga)return hn;if(Nf){if(E1)for(Od=Ze.call(oo.ownerDocument);oo.firstChild;)Od.appendChild(oo.firstChild);else Od=oo;return(zt.shadowroot||zt.shadowrootmode)&&(Od=tt.call(r,Od,!0)),Od}let $u=Vu?oo.outerHTML:oo.innerHTML;return Vu&&eo["!doctype"]&&oo.ownerDocument&&oo.ownerDocument.doctype&&oo.ownerDocument.doctype.name&&Zc(t1,oo.ownerDocument.doctype.name)&&($u="<!DOCTYPE "+oo.ownerDocument.doctype.name+`>
`+$u),qc&&Rk([Qt,on,rn],$g=>{$u=e1($u,$g," ")}),Re&&ao?Re.createHTML($u):$u},t.setConfig=function(){let hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};po(hn),vc=!0},t.clearConfig=function(){Me=null,vc=!1},t.isValidAttribute=function(hn,Be,oo){Me||po({});const nn=Oe(hn),pi=Oe(Be);return CF(nn,pi,oo)},t.addHook=function(hn,Be){typeof Be=="function"&&xf(Et[hn],Be)},t.removeHook=function(hn,Be){if(Be!==void 0){const oo=M7(Et[hn],Be);return oo===-1?void 0:B7(Et[hn],oo,1)[0]}return eO(Et[hn])},t.removeHooks=function(hn){Et[hn]=[]},t.removeAllHooks=function(){Et=lO()},t}var ZS=jS();const cO=gt.each,Mx=gt.trim,F7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],H7={ftp:21,http:80,https:443,mailto:25},V7=["img","video"],$7=(e,t)=>Le(e)?!e:Le(t)?!en(V7,t):!0,U7=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},dO=(e,t,n)=>{const r=U7(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?$7(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Pu{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(r[0]);return i&&(n=i[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const i=Dc.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!dO(r,i,n)}}static getDocumentBaseUrl(t){var n;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(n=t.href)!==null&&n!==void 0?n:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=Mx(t),this.settings=n;const r=n.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){i.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=r?r.path:new Pu(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+i.toAbsPath(g,t);else{const x=/([^#?]*)([#?]?.*)/.exec(t);x&&(t=(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(g,x[1])+x[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&cO(F7,(g,x)=>{let C=u[x];C&&(C=C.replace(/\(mce_at\)/g,"@@")),i[g]=C}),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),!i.port&&i.host==="mce_host"&&(i.port=r.port),(!i.host||i.host==="mce_host")&&(i.host=r.host),i.source=""),c&&(i.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Pu(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),i=n.getURI();if(r===i||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===i)return r;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(t,n){const r=new Pu(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?H7[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r=0,i="",c,u;const g=t.substring(0,t.lastIndexOf("/")).split("/"),x=n.split("/");if(g.length>=x.length){for(c=0,u=g.length;c<u;c++)if(c>=x.length||g[c]!==x[c]){r=c+1;break}}if(g.length<x.length){for(c=0,u=x.length;c<u;c++)if(c>=g.length||g[c]!==x[c]){r=c+1;break}}if(r===1)return n;for(c=0,u=g.length-(r-1);c<u;c++)i+="../";for(c=r-1,u=x.length;c<u;c++)c!==r-1?i+="/"+x[c]:i+=x[c];return i}toAbsPath(t,n){let r=0;const i=/\/$/.test(n)?"/":"",c=t.split("/"),u=n.split("/"),g=[];cO(c,B=>{B&&g.push(B)});const x=[];for(let B=u.length-1;B>=0;B--)if(!(u[B].length===0||u[B]===".")){if(u[B]===".."){r++;continue}if(r>0){r--;continue}x.push(u[B])}const C=g.length-r;let R;return C<=0?R=Vs(x).join("/"):R=g.slice(0,C).join("/")+"/"+Vs(x).join("/"),R.indexOf("/")!==0&&(R="/"+R),i&&R.lastIndexOf("/")!==R.length-1&&(R+=i),R}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const j7=gt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),WS="data-mce-type";let uO=0;const fO=(e,t,n,r,i)=>{var c,u,g,x;const C=t.validate,R=n.getSpecialElements();e.nodeType===Id&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const B=(u=i==null?void 0:i.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(r!=="html"&&n.isValid(r)){Le(i)&&(i.allowedTags[B]=!0);return}if(e.nodeType!==Qc||B==="body")return;const L=re.fromDom(e),W=tl(L,WS),ee=xa(L,"data-mce-bogus");if(!W&&ht(ee)){ee==="all"?dn(L):Ee(L);return}const K=n.getElementRule(B);if(C&&!K){go(R,B)?dn(L):Ee(L);return}else Le(i)&&(i.allowedTags[B]=!0);if(C&&K&&!W){if(Ne((g=K.attributesForced)!==null&&g!==void 0?g:[],ne=>{Tn(L,ne.name,ne.value==="{$uid}"?`mce_${uO++}`:ne.value)}),Ne((x=K.attributesDefault)!==null&&x!==void 0?x:[],ne=>{tl(L,ne.name)||Tn(L,ne.name,ne.value==="{$uid}"?`mce_${uO++}`:ne.value)}),K.attributesRequired&&!Cn(K.attributesRequired,ne=>tl(L,ne))){Ee(L);return}if(K.removeEmptyAttrs&&Ns(L)){Ee(L);return}K.outputName&&K.outputName!==B&&qb(L,K.outputName)}},mO=(e,t,n,r,i)=>{const c=e.tagName.toLowerCase(),{attrName:u,attrValue:g}=i;i.keepAttr=qS(t,n,r,c,u,g),i.keepAttr?(i.allowedAttributes[u]=!0,KS(u,n)&&(i.attrValue=u),t.allow_svg_data_urls&&ur(g,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):GS(e,u)&&(i.forceKeepAttr=!0)},qS=(e,t,n,r,i,c)=>n!=="html"&&!k(r)?!0:!(i in j7&&dO(e,c,r))&&(!e.validate||t.isValid(r,i)||ur(i,"data-")||ur(i,"aria-")),GS=(e,t)=>e.hasAttribute(WS)&&(t==="id"||t==="class"||t==="style"),KS=(e,t)=>e in t.getBoolAttrs(),pO=(e,t,n,r)=>{const{attributes:i}=e;for(let c=i.length-1;c>=0;c--){const u=i[c],g=u.name,x=u.value;!qS(t,n,r,e.tagName.toLowerCase(),g,x)&&!GS(e,g)?e.removeAttribute(g):KS(g,n)&&e.setAttribute(g,g)}},gO=(e,t,n)=>{const r=ZS();return r.addHook("uponSanitizeElement",(i,c)=>{fO(i,e,t,n.track(i),c)}),r.addHook("uponSanitizeAttribute",(i,c)=>{mO(i,e,t,n.current(),c)}),r},hO=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},Z7=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};ZS().sanitize(e,n)},W7=(e,t)=>{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=ZS(),i=t.allow_mathml_annotation_encodings,c=pe(i)&&i.length>0,u=x=>{const C=x.getAttribute("encoding");return c&&ht(C)&&en(i,C)},g=(x,C)=>c&&C==="semantics"?H.some(!0):C==="annotation"?H.some(At(x)&&u(x)):pe(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(C)?H.from(!0):H.none();r.addHook("uponSanitizeElement",(x,C)=>{var R;const B=(R=C.tagName)!==null&&R!==void 0?R:x.nodeName.toLowerCase();g(x,B).each(W=>{C.allowedTags[B]=W,!W&&t.sanitize&&At(x)&&x.remove()})}),r.addHook("uponSanitizeAttribute",(x,C)=>{pe(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(C.attrName)&&(C.forceKeepAttr=!0)}),r.sanitize(e,n)},bO=e=>t=>{const n=V(t);if(n==="svg")Z7(t);else if(n==="math")W7(t,e);else throw new Error("Not a namespace element")},q7=(e,t)=>{const n=ye();if(e.sanitize){const r=gO(e,t,n);return{sanitizeHtmlElement:(c,u)=>{r.sanitize(c,hO(e,u)),r.removed=[],n.reset()},sanitizeNamespaceElement:bO(e)}}else return{sanitizeHtmlElement:(c,u)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let x;for(;x=g.nextNode();){const C=n.track(x);fO(x,e,t,C),At(x)&&pO(x,e,t,C)}n.reset()},sanitizeNamespaceElement:io}},yO=gt.makeMap,YS=gt.extend,XS=(e,t,n,r)=>{const i=e.name,c=i in n&&i!=="title"&&i!=="textarea"&&i!=="noscript",u=t.childNodes;for(let g=0,x=u.length;g<x;g++){const C=u[g],R=new Vl(C.nodeName.toLowerCase(),C.nodeType);if(At(C)){const B=C.attributes;for(let L=0,W=B.length;L<W;L++){const ee=B[L];R.attr(ee.name,ee.value)}k(R.name)&&(r(C),R.value=C.innerHTML)}else lt(C)?(R.value=C.data,c&&(R.raw=!0)):(ic(C)||ld(C)||Gu(C))&&(R.value=C.data);k(R.name)||XS(R,C,n,r),e.append(R)}},G7=(e,t,n)=>{const r=[];for(let i=e,c=i;i;c=i,i=i.walk()){const u=i;Ne(t,g=>g(u)),Po(u.parent)&&u!==e?i=c:r.push(u)}for(let i=r.length-1;i>=0;i--){const c=r[i];Ne(n,u=>u(c))}},xO=(e,t,n,r)=>{const i=n.validate,c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=YS(yO("script,style,head,html,body,title,meta,param"),t.getBlockElements()),x=uc(t),C=/[ \t\r\n]+/g,R=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,L=Ce=>{let ze=Ce.parent;for(;Le(ze);){if(ze.name in u)return!0;ze=ze.parent}return!1},W=Ce=>{let ze=Ce;for(;Le(ze);){if(ze.name in x)return mx(t,c,u,ze);ze=ze.parent}return!1},ee=Ce=>Ce.name in g||li(t,Ce)||k(Ce.name)&&Ce.parent===e,K=(Ce,ze)=>{const Re=ze?Ce.prev:Ce.next;return Le(Re)||Po(Ce.parent)?!1:ee(Ce.parent)&&(Ce.parent!==e||r.isRootContent===!0)};return[Ce=>{var ze;if(Ce.type===3&&!L(Ce)){let Re=(ze=Ce.value)!==null&&ze!==void 0?ze:"";Re=Re.replace(C," "),(px(Ce.prev,ee)||K(Ce,!0))&&(Re=Re.replace(R,"")),Re.length===0||Re===" "&&Ce.prev&&Ce.prev.type===Id&&Ce.next&&Ce.next.type===Id?Ce.remove():Ce.value=Re}},Ce=>{var ze;if(Ce.type===1){const Re=t.getElementRule(Ce.name);if(i&&Re){const Xe=mx(t,c,u,Ce);Re.paddInEmptyBlock&&Xe&&W(Ce)?GC(n,r,ee,Ce):Re.removeEmpty&&Xe?ee(Ce)?Ce.remove():Ce.unwrap():Re.paddEmpty&&(Xe||a7(Ce))&&GC(n,r,ee,Ce)}}else if(Ce.type===3&&!L(Ce)){let Re=(ze=Ce.value)!==null&&ze!==void 0?ze:"";(Ce.next&&ee(Ce.next)||K(Ce,!1))&&(Re=Re.replace(B,"")),Re.length===0?Ce.remove():Ce.value=Re}}]},vO=(e,t)=>{var n;const r=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},o1=(e={},t=wt())=>{const n=zS(),r=zS(),i={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,u=q7(i,t),g=(ze,Re,Xe="html")=>{const pt=Xe==="xhtml"?"application/xhtml+xml":"text/html",Nt=go(t.getSpecialElements(),Re.toLowerCase()),Ze=Nt?`<${Re}>${ze}</${Re}>`:ze,Pe=()=>Xe==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ze}</body></html>`:/^[\s]*<head/i.test(ze)||/^[\s]*<html/i.test(ze)||/^[\s]*<!DOCTYPE/i.test(ze)?`<html>${Ze}</html>`:`<body>${Ze}</body>`,tt=c.parseFromString(Pe(),pt).body;return u.sanitizeHtmlElement(tt,pt),Nt?tt.firstChild:tt},x=n.addFilter,C=n.getFilters,R=n.removeFilter,B=r.addFilter,L=r.getFilters,W=r.removeFilter,ee=(ze,Re)=>{Zy(t,ze)&&Re.push(ze)},K=(ze,Re)=>{const Xe=ht(Re.attr(WS)),pt=Re.type===1&&!go(ze,Re.name)&&!li(t,Re)&&!k(Re.name);return Re.type===3||pt&&!Xe},ne=(ze,Re)=>{const Xe=YS(yO("script,style,head,html,body,title,meta,param"),t.getBlockElements()),pt=/^[ \t\r\n]+/,Nt=/[ \t\r\n]+$/;let Ze=ze.firstChild,Pe=null;const tt=Et=>{var Qt,on;Et&&(Ze=Et.firstChild,Ze&&Ze.type===3&&(Ze.value=(Qt=Ze.value)===null||Qt===void 0?void 0:Qt.replace(pt,"")),Ze=Et.lastChild,Ze&&Ze.type===3&&(Ze.value=(on=Ze.value)===null||on===void 0?void 0:on.replace(Nt,"")))};if(t.isValidChild(ze.name,Re.toLowerCase())){for(;Ze;){const Et=Ze.next;K(Xe,Ze)?(Pe||(Pe=new Vl(Re,1),Pe.attr(i.forced_root_block_attrs),ze.insert(Pe,Ze)),Pe.append(Ze)):(tt(Pe),Pe=null),Ze=Et}tt(Pe)}},Ce={schema:t,addAttributeFilter:B,getAttributeFilters:L,removeAttributeFilter:W,addNodeFilter:x,getNodeFilters:C,removeNodeFilter:R,parse:(ze,Re={})=>{var Xe;const pt=i.validate,Nt=(Xe=Re.context)!==null&&Xe!==void 0?Xe:i.root_name,Ze=g(ze,Nt,Re.format);ii(t,Ze);const Pe=new Vl(Nt,11);XS(Pe,Ze,t.getSpecialElements(),u.sanitizeNamespaceElement),Ze.innerHTML="";const[tt,Et]=xO(Pe,t,i,Re),Qt=[],on=pt?fa=>ee(fa,Qt):io,rn={nodes:{},attributes:{}},jn=fa=>GT(C(),L(),fa,rn);if(G7(Pe,[tt,jn],[Et,on]),Qt.reverse(),pt&&Qt.length>0)if(Re.context){const{pass:fa,fail:Mi}=it(Qt,Bi=>Bi.parent===Pe);Ap(Mi,t,Pe,jn),Re.invalid=fa.length>0}else Ap(Qt,t,Pe,jn);const kr=vO(i,Re);return kr&&(Pe.name==="body"||Re.isRootContent)&&ne(Pe,kr),Re.invalid||KT(rn,Re),Pe}};return DS(Ce,i),TS(Ce,i,t),Ce},K7=e=>tb(e)?Jr({validate:!1}).serialize(e):e,_O=(e,t,n)=>{const r=K7(e),i=t(r);if(i.isDefaultPrevented())return i;if(tb(e))if(i.content!==r){const c=o1({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:c}}else return{...i,content:e};else return i},kO=e=>({sanitize:vE(e),sandbox_iframes:d2(e),sandbox_iframes_exclusions:i_(e)}),wO=(e,t)=>{if(t.no_events)return ct.value(t);{const n=Yw(e,t);return n.isDefaultPrevented()?ct.error(Xw(e,{content:"",...n}).content):ct.value(n)}},Bx=(e,t,n)=>n.no_events?t:_O(t,i=>Xw(e,{...n,content:i}),kO(e)).content,Ik=(e,t)=>{if(t.no_events)return ct.value(t);{const n=_O(t.content,r=>Kw(e,{...t,content:r}),kO(e));return n.isDefaultPrevented()?(H3(e,n),ct.error(void 0)):ct.value(n)}},Fk=(e,t,n)=>{n.no_events||H3(e,{...n,content:t})},Hk=(e,t,n)=>({element:e,width:t,rows:n}),CO=(e,t)=>({element:e,cells:t}),Y7=(e,t)=>({x:e,y:t}),JS=(e,t)=>As(e,t).bind(qn).getOr(1),X7=(e,t,n,r,i)=>{const c=JS(i,"rowspan"),u=JS(i,"colspan"),g=e.rows;for(let x=n;x<n+c;x++){g[x]||(g[x]=CO(Zb(r),[]));for(let C=t;C<t+u;C++){const R=g[x].cells;R[C]=x===n&&C===t?i:md(i)}}},QS=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},SO=(e,t,n)=>{for(;QS(e,t,n);)t++;return t},EO=e=>mo(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),Pa=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const i=n[r].cells;for(let c=0;c<i.length;c++)if(Xo(i[c],t))return H.some(Y7(c,r))}return H.none()},_f=(e,t,n,r,i)=>{const c=[],u=e.rows;for(let g=n;g<=i;g++){const x=u[g].cells,C=t<r?x.slice(t,r+1):x.slice(r,t+1);c.push(CO(u[g].element,C))}return c},J7=(e,t,n)=>{const r=t.x,i=t.y,c=n.x,u=n.y,g=i<u?_f(e,r,i,c,u):_f(e,r,u,c,i);return Hk(e.element,EO(g),g)},Q7=(e,t)=>{const n=md(e.element),r=re.fromTag("tbody");return Na(r,t),Br(n,r),n},e8=e=>Ko(e.rows,t=>{const n=Ko(t.cells,i=>{const c=Zb(i);return Sn(c,"colspan"),Sn(c,"rowspan"),c}),r=md(t.element);return Na(r,n),r}),zO=e=>{const t=Hk(md(e),0,[]);return Ne(Ds(e,"tr"),(n,r)=>{Ne(Ds(n,"td,th"),(i,c)=>{X7(t,SO(t,c,r),r,n,i)})}),Hk(t.element,EO(t.rows),t.rows)},n1=e=>Q7(e,e8(e)),t8=(e,t,n)=>Pa(e,t).bind(r=>Pa(e,n).map(i=>J7(e,r,i))),kf=e=>zn(e,t=>mn(t)==="ul"||mn(t)==="ol"),o8=(e,t)=>zn(e,n=>mn(n)==="li"&&x_(n,t)).fold(Je([]),n=>kf(e).map(r=>{const i=re.fromTag(mn(r)),c=Ji(Ti(r),(u,g)=>ur(g,"list-style"));return Qs(i,c),[re.fromTag("li"),i]}).getOr([])),n8=(e,t)=>{const n=mo(t,(r,i)=>(Br(i,r),i),e);return t.length>0?$0([n]):n},TO=e=>ku(e)?ri(e).filter(qd).fold(Je([]),t=>[e,t]):qd(e)?[e]:[],OO=(e,t,n)=>{const r=re.fromDom(t.commonAncestorContainer),i=cm(r,e),c=Ke(i,x=>n.isWrapper(mn(x))),u=o8(i,t),g=c.concat(u.length?u:TO(r));return Ko(g,md)},AO=()=>$0([]),e4=(e,t,n)=>n8(re.fromDom(t.cloneContents()),OO(e,t,n)),hm=(e,t)=>sd(t,"table",De(Xo,e)),NO=(e,t)=>hm(e,t[0]).bind(n=>{const r=t[0],i=t[t.length-1],c=zO(n);return t8(c,r,i).map(u=>$0([n1(u)]))}).getOrThunk(AO),RO=(e,t,n)=>t.length>0&&t[0].collapsed?AO():e4(e,t[0],n),Vk=(e,t,n)=>{const r=S2(t,e);return r.length>0?NO(e,r):RO(e,t,n)},r1=(e,t)=>t>=0&&t<e.length&&Oh(e.charAt(t)),t4=e=>Sa(e.innerText),DO=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),MO=e=>H.from(e.selection.getRng()).map(t=>{var n;const r=H.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=DO(r),u=re.fromDom(t.cloneContents());_p(u),j_(u);const g=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),x=t4(g),C=Sa((n=g.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(g),r1(C,0)||r1(C,C.length-1)){const R=r.getOr(i),B=t4(R),L=B.indexOf(x);if(L===-1)return x;{const W=r1(B,L-1),ee=r1(B,L+x.length);return(W?" ":"")+x+(ee?" ":"")}}else return x}).getOr(""),r8=(e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),c=lC(e,h_(i)),u=t.contextual?Vk(re.fromDom(e.getBody()),c,e.schema).dom:n.cloneContents();return u&&r.appendChild(u),e.selection.serializer.serialize(r,t)},s8=(e,t)=>{if(t.format==="text")return MO(e);{const n=r8(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},a8=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),BO=(e,t,n={})=>{const r=a8(n,t);return wO(e,r).fold(un,i=>{const c=s8(e,i);return Bx(e,c,i)})},$k=0,PO=1,Uk=2,LO=(e,t)=>{const n=e.length+t.length+2,r=new Array(n),i=new Array(n),c=(R,B,L)=>({start:R,end:B,diag:L}),u=(R,B,L,W,ee)=>{const K=x(R,B,L,W);if(K===null||K.start===B&&K.diag===B-W||K.end===R&&K.diag===R-L){let ne=R,me=L;for(;ne<B||me<W;)ne<B&&me<W&&e[ne]===t[me]?(ee.push([$k,e[ne]]),++ne,++me):B-R>W-L?(ee.push([Uk,e[ne]]),++ne):(ee.push([PO,t[me]]),++me)}else{u(R,K.start,L,K.start-K.diag,ee);for(let ne=K.start;ne<K.end;++ne)ee.push([$k,e[ne]]);u(K.end,B,K.end-K.diag,W,ee)}},g=(R,B,L,W)=>{let ee=R;for(;ee-B<W&&ee<L&&e[ee]===t[ee-B];)++ee;return c(R,ee,B)},x=(R,B,L,W)=>{const ee=B-R,K=W-L;if(ee===0||K===0)return null;const ne=ee-K,me=K+ee,Ce=(me%2===0?me:me+1)/2;r[1+Ce]=R,i[1+Ce]=B+1;let ze,Re,Xe,pt,Nt;for(ze=0;ze<=Ce;++ze){for(Re=-ze;Re<=ze;Re+=2){for(Xe=Re+Ce,Re===-ze||Re!==ze&&r[Xe-1]<r[Xe+1]?r[Xe]=r[Xe+1]:r[Xe]=r[Xe-1]+1,pt=r[Xe],Nt=pt-R+L-Re;pt<B&&Nt<W&&e[pt]===t[Nt];)r[Xe]=++pt,++Nt;if(ne%2!==0&&ne-ze<=Re&&Re<=ne+ze&&i[Xe-ne]<=r[Xe])return g(i[Xe-ne],Re+R-L,B,W)}for(Re=ne-ze;Re<=ne+ze;Re+=2){for(Xe=Re+Ce-ne,Re===ne-ze||Re!==ne+ze&&i[Xe+1]<=i[Xe-1]?i[Xe]=i[Xe+1]-1:i[Xe]=i[Xe-1],pt=i[Xe]-1,Nt=pt-R+L-Re;pt>=R&&Nt>=L&&e[pt]===t[Nt];)i[Xe]=pt--,Nt--;if(ne%2===0&&-ze<=Re&&Re<=ze&&i[Xe]<=r[Xe+ne])return g(i[Xe],Re+R-L,B,W)}}return null},C=[];return u(0,e.length,0,t.length,C),C},IO=e=>At(e)?e.outerHTML:lt(e)?Dc.encodeRaw(e.data,!1):ic(e)?"<!--"+e.data+"-->":"",FO=e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},i8=(e,t,n)=>{const r=FO(t);if(e.hasChildNodes()&&n<e.childNodes.length){const i=e.childNodes[n];e.insertBefore(r,i)}else e.appendChild(r)},il=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},l8=(e,t)=>{let n=0;Ne(e,r=>{r[0]===$k?n++:r[0]===PO?(i8(t,r[1],n),n++):r[0]===Uk&&il(t,n)})},c8=(e,t)=>Ke(Ko(Io(e.childNodes),Do(Sa,IO)),n=>n.length>0),d8=(e,t)=>{const n=Ko(Io(t.childNodes),IO);return l8(LO(n,e),t),t},u8=Ja(()=>document.implementation.createHTMLDocument("undo")),jk=e=>e.querySelector("iframe")!==null,f8=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),o4=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),s1=e=>{const t=e.serializer.getTempAttrs(),n=Ru(e.getBody(),t);return jk(n)?f8(c8(n)):o4(Sa(n.innerHTML))},n4=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?d8(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Le(r)&&Th(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},r4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Lu=e=>{const t=re.fromTag("body",u8());return Ca(t,r4(e)),Ne(Ds(t,"*[data-mce-bogus]"),Ee),or(t)},HO=(e,t)=>r4(e)===r4(t),m8=(e,t)=>Lu(e)===Lu(t),Px=(e,t)=>!e||!t?!1:HO(e,t)?!0:m8(e,t),Zk=e=>e.get()===0,ab=(e,t,n)=>{Zk(n)&&(e.typing=t)},s4=(e,t)=>{e.typing&&(ab(e,!1,t),e.add())},VO=e=>{e.typing&&(e.typing=!1,e.add())},$O=(e,t,n)=>{Zk(t)&&n.set(Fe(e.selection))},p8=(e,t,n,r,i,c,u)=>{const g=s1(e),x=gt.extend(c||{},g);if(!Zk(r)||e.removed)return null;const C=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:x,lastLevel:C,originalEvent:u}).isDefaultPrevented()||C&&Px(C,x))return null;t.data[n.get()]&&i.get().each(L=>{t.data[n.get()].beforeBookmark=L});const R=SR(e);if(R&&t.data.length>R){for(let L=0;L<t.data.length-1;L++)t.data[L]=t.data[L+1];t.data.length--,n.set(t.data.length)}x.bookmark=Fe(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(x),n.set(t.data.length-1);const B={level:x,lastLevel:C,originalEvent:u};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",B),e.dispatch("change",B)):e.dispatch("AddUndo",B),x},g8=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},a4=(e,t,n,r,i)=>{if(t.transact(r)){const c=t.data[n.get()].bookmark,u=t.data[n.get()-1];n4(e,u,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=c)}},h8=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],n4(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},b8=(e,t,n,r)=>{let i;return t.typing&&(t.add(),t.typing=!1,ab(t,!1,n)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],n4(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i},Wk=e=>{e.clear(),e.add()},i4=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Px(s1(e),t.data[0]),l4=(e,t)=>t.get()<e.data.length-1&&!e.typing,UO=(e,t,n)=>(s4(e,t),e.beforeChange(),e.ignore(n),e.add()),Mg=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},y8=(e,t)=>{const n=e.dom,r=Le(t)?t:e.getBody();Ne(n.select("table,a",r),i=>{switch(i.nodeName){case"TABLE":const c=sE(e),u=n.getAttrib(i,"border");(!u||u==="0")&&e.hasVisual?n.addClass(i,c):n.removeClass(i,c);break;case"A":if(!n.getAttrib(i,"href")){const g=n.getAttrib(i,"name")||i.id,x=t_(e);g&&e.hasVisual?n.addClass(i,x):n.removeClass(i,x)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},jO=e=>({init:{bindEvents:io},undoManager:{beforeChange:(t,n)=>$O(e,t,n),add:(t,n,r,i,c,u)=>p8(e,t,n,r,i,c,u),undo:(t,n,r)=>b8(e,t,n,r),redo:(t,n)=>h8(e,t,n),clear:(t,n)=>g8(e,t,n),reset:t=>Wk(t),hasUndo:(t,n)=>i4(e,t,n),hasRedo:(t,n)=>l4(t,n),transact:(t,n,r)=>UO(t,n,r),ignore:(t,n)=>Mg(t,n),extra:(t,n,r,i)=>a4(e,t,n,r,i)},formatter:{match:(t,n,r,i)=>sS(e,t,n,r,i),matchAll:(t,n)=>d7(e,t,n),matchNode:(t,n,r,i)=>mm(e,t,n,r,i),canApply:t=>f7(e,t),closest:t=>u7(e,t),apply:(t,n,r)=>CS(e,t,n,r),remove:(t,n,r,i)=>Mp(e,t,n,r,i),toggle:(t,n,r)=>Tk(e,t,n,r),formatChanged:(t,n,r,i,c)=>$5(e,t,n,r,i,c)},editor:{getContent:t=>LD(e,t),setContent:(t,n)=>l7(e,t,n),insertContent:(t,n)=>y5(e,t,n),addVisual:t=>y8(e,t)},selection:{getContent:(t,n)=>BO(e,t,n)},autocompleter:{addDecoration:io,removeDecoration:io},raw:{getModel:()=>H.none()}}),qk=e=>{const t=C=>ue(C)?C:{},{init:n,undoManager:r,formatter:i,editor:c,selection:u,autocompleter:g,raw:x}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(C,R,B)=>r.transact(B),ignore:(C,R)=>r.ignore(R),extra:(C,R,B,L)=>r.extra(B,L)},formatter:{match:(C,R,B,L)=>i.match(C,t(R),L),matchAll:i.matchAll,matchNode:i.matchNode,canApply:C=>i.canApply(C),closest:C=>i.closest(C),apply:(C,R,B)=>i.apply(C,t(R)),remove:(C,R,B,L)=>i.remove(C,t(R)),toggle:(C,R,B)=>i.toggle(C,t(R)),formatChanged:(C,R,B,L,W)=>i.formatChanged(R,B,L,W)},editor:{getContent:C=>c.getContent(C),setContent:(C,R)=>({content:c.setContent(C,R),html:""}),insertContent:(C,R)=>(c.insertContent(C),""),addVisual:c.addVisual},selection:{getContent:(C,R)=>u.getContent(R)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>H.some(x.getRawModel())}}},ZO=()=>{const e=Je(null),t=Je("");return{init:{bindEvents:io},undoManager:{beforeChange:io,add:e,undo:e,redo:e,clear:io,reset:io,hasUndo:bo,hasRedo:bo,transact:e,ignore:io,extra:io},formatter:{match:bo,matchAll:Je([]),matchNode:Je(void 0),canApply:bo,closest:t,apply:io,remove:io,toggle:io,formatChanged:Je({unbind:io})},editor:{getContent:t,setContent:Je({content:"",html:""}),insertContent:Je(""),addVisual:io},selection:{getContent:t},autocompleter:{addDecoration:io,removeDecoration:io},raw:{getModel:Je(H.none())}}},wf=e=>go(e.plugins,"rtc"),WO=e=>Hn(e.plugins,"rtc").bind(t=>H.from(t.setup)),x8=e=>{const t=e;return WO(e).fold(()=>(t.rtcInstance=jO(e),H.none()),n=>(t.rtcInstance=ZO(),H.some(()=>n().then(r=>(t.rtcInstance=qk(r),r.rtc.isRemote)))))},c4=e=>e.rtcInstance?e.rtcInstance:jO(e),za=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},d4=(e,t,n)=>{za(e).undoManager.beforeChange(t,n)},u4=(e,t,n,r,i,c,u)=>za(e).undoManager.add(t,n,r,i,c,u),qO=(e,t,n,r)=>za(e).undoManager.undo(t,n,r),Gk=(e,t,n)=>za(e).undoManager.redo(t,n),GO=(e,t,n)=>{za(e).undoManager.clear(t,n)},KO=(e,t)=>{za(e).undoManager.reset(t)},v8=(e,t,n)=>za(e).undoManager.hasUndo(t,n),_8=(e,t,n)=>za(e).undoManager.hasRedo(t,n),f4=(e,t,n,r)=>za(e).undoManager.transact(t,n,r),YO=(e,t,n)=>{za(e).undoManager.ignore(t,n)},XO=(e,t,n,r,i)=>{za(e).undoManager.extra(t,n,r,i)},k8=(e,t,n,r,i)=>za(e).formatter.match(t,n,r,i),w8=(e,t,n)=>za(e).formatter.matchAll(t,n),C8=(e,t,n,r,i)=>za(e).formatter.matchNode(t,n,r,i),JO=(e,t)=>za(e).formatter.canApply(t),QO=(e,t)=>za(e).formatter.closest(t),S8=(e,t,n,r)=>{za(e).formatter.apply(t,n,r)},E8=(e,t,n,r,i)=>{za(e).formatter.remove(t,n,r,i)},a1=(e,t,n,r)=>{za(e).formatter.toggle(t,n,r)},z8=(e,t,n,r,i,c)=>za(e).formatter.formatChanged(t,n,r,i,c),T8=(e,t)=>c4(e).editor.getContent(t),eA=(e,t,n)=>c4(e).editor.setContent(t,n),tA=(e,t,n)=>c4(e).editor.insertContent(t,n),Kk=(e,t,n)=>za(e).selection.getContent(t,n),O8=(e,t)=>za(e).editor.addVisual(t),oA=e=>za(e).init.bindEvents(),A8=(e,t={})=>{const n=t.format?t.format:"html";return Kk(e,n,t)},nA=e=>e.dom.length===0?(dn(e),H.none()):H.some(e),N8=(e,t)=>e.filter(n=>P0.isBookmarkNode(n.dom)).bind(t?Vd:ml),R8=(e,t,n,r,i)=>{const c=e.dom,u=t.dom,g=r?c.length:u.length;r?(J_(c,u,i,!1,!r),n.setStart(u,g)):(J_(u,c,i,!1,!r),n.setEnd(u,g))},D8=(e,t,n)=>{ri(e).each(r=>{const i=e.dom;t&&Kh(r,Ve(i,0),n)?$y(i,0,n):!t&&Vy(r,Ve(i,i.length),n)&&rx(i,i.length,n)})},rA=(e,t,n,r,i)=>{e.bind(c=>((r?rx:$y)(c.dom,r?c.dom.length:0,i),t.filter(Zs).map(g=>R8(c,g,n,r,i)))).orThunk(()=>N8(t,r).or(t).filter(Zs).map(u=>D8(u,r,i)))},M8=(e,t,n)=>{const r=H.from(t.firstChild).map(re.fromDom),i=H.from(t.lastChild).map(re.fromDom);e.deleteContents(),e.insertNode(t);const c=r.bind(ml).filter(Zs).bind(nA),u=i.bind(Vd).filter(Zs).bind(nA);rA(c,r,e,!0,n),rA(u,i,e,!1,n),e.collapse(!1)},B8=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),Hr=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Jr({validate:!1},e.schema).serialize(c)}else return t.content},sA=(e,t,n={})=>{const r=B8(n,t);Ik(e,r).each(i=>{const c=Hr(e,i),u=e.selection.getRng();M8(u,u.createContextualFragment(c),e.schema),e.selection.setRng(u),Z0(e,u),Fk(e,c,i)})},Yk=(e,t,n)=>{if(go(e,t)){const r=Ke(e[t],i=>i!==n);r.length===0?delete e[t]:e[t]=r}};var aA=(e,t)=>{let n,r;const i=(g,x)=>zn(x,C=>e.is(C,g)),c=g=>e.getParents(g,void 0,e.getRoot()),u=()=>{n={},r={},t.on("NodeChange",g=>{const x=g.element,C=c(x),R={};Fo(n,(B,L)=>{i(L,C).each(W=>{r[L]||(Ne(B,ee=>{ee(!0,{node:W,selector:L,parents:C})}),r[L]=B),R[L]=B})}),Fo(r,(B,L)=>{R[L]||(delete r[L],Ne(B,W=>{W(!1,{node:x,selector:L,parents:C})}))})})};return{selectorChangedWithUnbind:(g,x)=>(n||u(),n[g]||(n[g]=[]),n[g].push(x),i(g,c(t.selection.getStart())).each(()=>{r[g]=n[g]}),{unbind:()=>{Yk(n,g,x),Yk(r,g,x)}})}};const m4=e=>!!(e&&e.ownerDocument)&&$a(re.fromDom(e.ownerDocument),re.fromDom(e)),Xk=e=>e?m4(e.startContainer)&&m4(e.endContainer):!1,iA=(e,t,n,r)=>{let i,c;const{selectorChangedWithUnbind:u}=aA(e,r),g=(kt,eo)=>{const In=e.createRng();Le(kt)&&Le(eo)?(In.setStart(kt,eo),In.setEnd(kt,eo),Re(In),me(!1)):(v_(e,In,r.getBody(),!0),Re(In))},x=kt=>A8(r,kt),C=(kt,eo)=>sA(r,kt,eo),R=kt=>qz(r.getBody(),ze(),kt),B=kt=>Gz(r.getBody(),ze(),kt),L=(kt,eo)=>Mi.getBookmark(kt,eo),W=kt=>Mi.moveToBookmark(kt),ee=(kt,eo)=>(Eg(e,kt,eo).each(Re),kt),K=()=>{const kt=ze(),eo=Ce();return!kt||kt.item?!1:kt.compareEndPoints?kt.compareEndPoints("StartToEnd",kt)===0:!eo||kt.collapsed},ne=()=>{if(r.mode.isReadOnly())return!1;const kt=ze(),eo=r.getBody().querySelectorAll('[data-mce-selected="1"]');return eo.length>0?ts(eo,In=>e.isEditable(In.parentElement)):Zz(e,kt)},me=kt=>{const eo=ze();eo.collapse(!!kt),Re(eo)},Ce=()=>t.getSelection?t.getSelection():t.document.selection,ze=()=>{let kt;const eo=(zt,at,St)=>{try{return at.compareBoundaryPoints(zt,St)}catch{return-1}},In=t.document;if(Le(r.bookmark)&&!Ih(r)){const zt=H2(r);if(zt.isSome())return zt.map(at=>lC(r,[at])[0]).getOr(In.createRange())}try{const zt=Ce();zt&&!Hf(zt.anchorNode)&&(zt.rangeCount>0?kt=zt.getRangeAt(0):kt=In.createRange(),kt=lC(r,[kt])[0])}catch{}if(kt||(kt=In.createRange()),cd(kt.startContainer)&&kt.collapsed){const zt=e.getRoot();kt.setStart(zt,0),kt.setEnd(zt,0)}return i&&c&&(eo(kt.START_TO_START,kt,i)===0&&eo(kt.END_TO_END,kt,i)===0?kt=c:(i=null,c=null)),kt},Re=(kt,eo)=>{if(!Xk(kt))return;const In=Ce();if(kt=r.dispatch("SetSelectionRange",{range:kt,forward:eo}).range,In){c=kt;try{In.removeAllRanges(),In.addRange(kt)}catch{}eo===!1&&In.extend&&(In.collapse(kt.endContainer,kt.endOffset),In.extend(kt.startContainer,kt.startOffset)),i=In.rangeCount>0?In.getRangeAt(0):null}if(!kt.collapsed&&kt.startContainer===kt.endContainer&&(In!=null&&In.setBaseAndExtent)&&kt.endOffset-kt.startOffset<2&&kt.startContainer.hasChildNodes()){const at=kt.startContainer.childNodes[kt.startOffset];at&&at.nodeName==="IMG"&&(In.setBaseAndExtent(kt.startContainer,kt.startOffset,kt.endContainer,kt.endOffset),(In.anchorNode!==kt.startContainer||In.focusNode!==kt.endContainer)&&In.setBaseAndExtent(at,0,at,1))}r.dispatch("AfterSetSelectionRange",{range:kt,forward:eo})},Xe=kt=>(C(e.getOuterHTML(kt)),kt),pt=()=>Yz(r.getBody(),ze()),Nt=(kt,eo)=>RD(e,ze(),kt,eo),Ze=()=>{const kt=Ce(),eo=kt==null?void 0:kt.anchorNode,In=kt==null?void 0:kt.focusNode;if(!kt||!eo||!In||Hf(eo)||Hf(In))return!0;const zt=e.createRng(),at=e.createRng();try{zt.setStart(eo,kt.anchorOffset),zt.collapse(!0),at.setStart(In,kt.focusOffset),at.collapse(!0)}catch{return!0}return zt.compareBoundaryPoints(zt.START_TO_START,at)<=0},fa={dom:e,win:t,serializer:n,editor:r,expand:(kt={type:"word"})=>Re(bf(e).expand(ze(),kt)),collapse:me,setCursorLocation:g,getContent:x,setContent:C,getBookmark:L,moveToBookmark:W,select:ee,isCollapsed:K,isEditable:ne,isForward:Ze,setNode:Xe,getNode:pt,getSel:Ce,setRng:Re,getRng:ze,getStart:R,getEnd:B,getSelectedBlocks:Nt,normalize:()=>{const kt=ze(),eo=Ce();if(!ez(eo)&&ky(r)){const In=H_(e,kt);return In.each(zt=>{Re(zt,Ze())}),In.getOr(kt)}return kt},selectorChanged:(kt,eo)=>(u(kt,eo),fa),selectorChangedWithUnbind:u,getScrollContainer:()=>{let kt,eo=e.getRoot();for(;eo&&eo.nodeName!=="BODY";){if(eo.scrollHeight>eo.clientHeight){kt=eo;break}eo=eo.parentNode}return kt},scrollIntoView:(kt,eo)=>{Le(kt)?ND(r,kt,eo):Z0(r,ze(),eo)},placeCaretAt:(kt,eo)=>Re(eC(kt,eo,r.getDoc())),getBoundingClientRect:()=>{const kt=ze();return kt.collapsed?Ve.fromRangeStart(kt).getClientRects()[0]:kt.getBoundingClientRect()},destroy:()=>{t=i=c=null,Bi.destroy()}},Mi=P0(fa),Bi=J2(fa,r);return fa.bookmarkManager=Mi,fa.controlSelection=Bi,fa},p4=(e,t,n)=>{t.addNodeFilter("br",(r,i,c)=>{const u=gt.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),x=n.getWhitespaceElements();u.body=1;const C=R=>R.name in u||li(n,R);for(let R=0,B=r.length;R<B;R++){let L=r[R],W=L.parent;if(W&&C(W)&&L===W.lastChild){let ee=L.prev;for(;ee;){const K=ee.name;if(K!=="span"||ee.attr("data-mce-type")!=="bookmark"){K==="br"&&(L=null);break}ee=ee.prev}if(L&&(L.remove(),mx(n,g,x,W))){const K=n.getElementRule(W.name);K&&(K.removeEmpty?W.remove():K.paddEmpty&&GC(e,c,C,W))}}else{let ee=L;for(;W&&W.firstChild===ee&&W.lastChild===ee&&(ee=W,!u[W.name]);)W=W.parent;if(ee===W){const K=new Vl("#text",3);K.value=rs,L.replace(K)}}}})},P8=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,i)=>{let c=r.length;for(;c--;){const u=r[c];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(i,null)}}),e.addAttributeFilter("src,href,style",(r,i)=>{const c="data-mce-"+i,u=t.url_converter,g=t.url_converter_scope;let x=r.length;for(;x--;){const C=r[x];let R=C.attr(c);R!==void 0?(C.attr(i,R.length>0?R:null),C.attr(c,null)):(R=C.attr(i),i==="style"?R=n.serializeStyle(n.parseStyle(R),C.name):u&&(R=u.call(g,R,i,C.name)),C.attr(i,R.length>0?R:null))}}),e.addAttributeFilter("class",r=>{let i=r.length;for(;i--;){const c=r[i];let u=c.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(r,i,c)=>{let u=r.length;for(;u--;){const g=r[u];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(H.from(g.firstChild).exists(C=>{var R;return!gh((R=C.value)!==null&&R!==void 0?R:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(r,i)=>{var c;const u=x=>x.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=r.length;for(;g--;){const x=r[g],C=x.firstChild,R=(c=C==null?void 0:C.value)!==null&&c!==void 0?c:"";if(i==="script"){const B=x.attr("type");B&&x.attr("type",B==="mce-no/type"?null:B.replace(/^mce\-/,"")),t.element_format==="xhtml"&&C&&R.length>0&&(C.value=`// <![CDATA[
`+u(R)+`
// ]]>`)}else t.element_format==="xhtml"&&C&&R.length>0&&(C.value=`<!--
`+u(R)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let i=r.length;for(;i--;){const c=r[i],u=c.value;t.preserve_cdata&&(u==null?void 0:u.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=n.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):(u==null?void 0:u.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,i)=>{let c=r.length;for(;c--;){const u=r[c];u.type===7?u.remove():u.type===1&&i==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Ne(r,i=>{i.attr("data-mce-type")==="format-caret"&&(i.isEmpty(e.schema.getNonEmptyElements())?i.remove():i.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,i)=>{let c=r.length;for(;c--;)r[c].attr(i,null)}),t.remove_trailing_brs&&p4(t,e,e.schema)},L8=e=>{const t=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(t(n)){const r=n.prev;t(r)&&(n.remove(),r.remove())}},lA=(e,t,n)=>{let r;const i=e.dom;let c=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const g=u.createHTMLDocument("");gt.each(c.nodeName==="BODY"?c.childNodes:[c],x=>{g.body.appendChild(g.importNode(x,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,r=i.doc,i.doc=g}return kl(e,{...n,node:c}),r&&(i.doc=r),c},I8=(e,t)=>Le(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,F8=(e,t,n)=>I8(e,n)?lA(e,t,n):t,H8=(e,t,n)=>{gt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(r,i)=>{let c=r.length;for(;c--;)r[c].attr(i,null)}),t.push(n))},V8=(e,t,n)=>!t.no_events&&e?lp(e,{...t,content:n}).content:n,$8=(e,t,n)=>{const r=Sa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||_l(re.fromDom(t))?r:gt.trim(r)},U8=(e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,r);return L8(i),i},Jk=(e,t,n)=>Jr(e,t).serialize(n),cA=(e,t,n,r,i)=>{const c=Jk(t,n,r);return V8(e,i,c)},j8=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:Ar.DOM,c=t&&t.schema?t.schema:wt(r),u=o1(r,c);P8(u,r,i);const g=(x,C={})=>{const R={format:"html",...C},B=F8(t,x,R),L=$8(i,B,R),W=U8(u,L,R);return R.format==="tree"?W:cA(t,r,c,W,R)};return{schema:c,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:De(H8,u,n),getTempAttrs:Je(n),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},g4=(e,t)=>{const n=j8(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},dA="html",h4=(e,t)=>({...e,format:t,get:!0,getInner:!0}),uA=(e,t={})=>{const n=t.format?t.format:dA,r=h4(t,n);return wO(e,r).fold(un,i=>{const c=T8(e,i);return Bx(e,c,i)})},b4="html",fA=(e,t)=>({format:b4,...e,set:!0,content:t}),y4=(e,t,n={})=>{const r=fA(n,t);return Ik(e,r).map(i=>{const c=eA(e,i.content,i);return Fk(e,c.html,i),c.content}).getOr(t)},mA="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),pA=[],Qk="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),ew=[],tw=(e,t)=>{const n=Ke(t,r=>go(e,r));return Yo(n)},i1=e=>{const t=tw(e,mA),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Yo(t)},Z8=e=>tw(e,pA),ib=(e,t)=>{const n=gt.makeMap(e.plugins," "),i=Ke(t,c=>go(n,c));return Yo(i)},Lx=e=>ib(e,Qk),l1=e=>ib(e,ew.map(t=>t.name)),x4=(e,t)=>{const n=i1(e),r=Lx(t),i=r.length>0,c=n.length>0,u=t.theme==="mobile";if(i||c||u){const g=`
- `,x=u?`

Themes:${g}mobile`:"",C=i?`

Plugins:${g}${r.join(g)}`:"",R=c?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+x+C+R)}},gA=e=>zn(ew,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),hA=(e,t)=>{const n=Z8(e),r=l1(t),i=r.length>0,c=n.length>0;if(i||c){const u=`
- `,g=i?`

Plugins:${u}${r.map(gA).join(u)}`:"",x=c?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+x)}},v4=(e,t)=>{x4(e,t),hA(e,t)},Ix=Ar.DOM,bA=e=>{Ix.setStyle(e.id,"display",e.orgDisplay)},Fx=e=>H.from(e).each(t=>t.destroy()),_4=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const r=n.dom;t.selection=n.win=n.dom=r.doc=null}},yA=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Ix.unbind(t,"submit reset",e.formEventDelegate))},xA=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Le(i==null?void 0:i.nextSibling)&&Ix.remove(i.nextSibling),iy(e),e.editorManager.remove(e),!e.inline&&r&&bA(e),ly(e),Ix.remove(e.getContainer()),Fx(t),Fx(n),e.destroy()}},k4=(e,t)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Fx(n),Fx(r)),yA(e),_4(e),e.destroyed=!0}},Hx=(()=>{const e={};return{add:(i,c)=>{e[i]=c},get:i=>e[i]?e[i]:{icons:{}},has:i=>go(e,i)}})(),lb=ui.ModelManager,w4=(e,t)=>t.dom[e],vA=(e,t)=>parseInt(zi(t,e),10),W8=De(w4,"clientWidth"),ow=De(w4,"clientHeight"),_A=De(vA,"margin-top"),kA=De(vA,"margin-left"),wA=e=>e.dom.getBoundingClientRect(),q8=(e,t,n)=>{const r=W8(e),i=ow(e);return t>=0&&n>=0&&t<=r&&n<=i},G8=(e,t,n,r)=>{const i=wA(t),c=e?i.left+t.dom.clientLeft+kA(t):0,u=e?i.top+t.dom.clientTop+_A(t):0,g=n-c,x=r-u;return{x:g,y:x}},K8=(e,t,n)=>{const r=re.fromDom(e.getBody()),i=e.inline?r:uu(r),c=G8(e.inline,i,t,n);return q8(i,c.x,c.y)},Y8=e=>H.from(e).map(re.fromDom),CA=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return Y8(t).map(Mr).getOr(!1)};var SA=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const C4=e=>{const t=[],n=()=>{const L=e.theme;return L&&L.getNotificationManagerImpl?L.getNotificationManagerImpl():SA()},r=()=>H.from(t[0]),i=(L,W)=>L.type===W.type&&L.text===W.text&&!L.progressBar&&!L.timeout&&!W.progressBar&&!W.timeout,c=()=>{r().each(L=>{L.reposition()})},u=L=>{t.push(L)},g=L=>{er(t,W=>W===L).each(W=>{t.splice(W,1)})},x=(L,W=!0)=>e.removed||!CA(e)?{}:(W&&e.dispatch("BeforeOpenNotification",{notification:L}),zn(t,ee=>i(n().getArgs(ee),L)).getOrThunk(()=>{e.editorManager.setActive(e);const ee=n().open(L,()=>{g(ee)},()=>K2(e));return u(ee),c(),e.dispatch("OpenNotification",{notification:{...ee}}),ee})),C=()=>{r().each(L=>{n().close(L),g(L),c()})},R=Je(t);return(L=>{L.on("SkinLoaded",()=>{const W=_R(L);W&&x({text:W,type:"warning",timeout:0},!1),c()}),L.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),L.on("remove",()=>{Ne(t.slice(),W=>{n().close(W)})}),L.on("keydown",W=>{var ee;const K=((ee=W.key)===null||ee===void 0?void 0:ee.toLowerCase())==="f12"||W.keyCode===123;W.altKey&&K&&(W.preventDefault(),r().map(ne=>re.fromDom(ne.getEl())).each(ne=>M2(ne)))})})(e),{open:x,close:C,getNotifications:R}},c1=ui.PluginManager,Cf=ui.ThemeManager;var X8=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const S4=e=>{let t=[];const n=()=>{const K=e.theme;return K&&K.getWindowManagerImpl?K.getWindowManagerImpl():X8()},r=(K,ne)=>(...me)=>ne?ne.apply(K,me):void 0,i=K=>{e.dispatch("OpenWindow",{dialog:K})},c=K=>{e.dispatch("CloseWindow",{dialog:K})},u=K=>{t.push(K),i(K)},g=K=>{c(K),t=Ke(t,ne=>ne!==K),t.length===0&&e.focus()},x=()=>H.from(t[t.length-1]),C=K=>{e.editorManager.setActive(e),F0(e),e.ui.show();const ne=K();return u(ne),ne},R=(K,ne)=>C(()=>n().open(K,ne,g)),B=K=>C(()=>n().openUrl(K,g)),L=(K,ne,me)=>{const Ce=n();Ce.alert(K,r(me||Ce,ne))},W=(K,ne,me)=>{const Ce=n();Ce.confirm(K,r(me||Ce,ne))},ee=()=>{x().each(K=>{n().close(K),g(K)})};return e.on("remove",()=>{Ne(t,K=>{n().close(K)})}),{open:R,openUrl:B,alert:L,confirm:W,close:ee}},Vx=(e,t)=>{e.notificationManager.open({type:"error",text:t})},$x=(e,t)=>{e._skinLoaded?Vx(e,t):e.on("SkinLoaded",()=>{Vx(e,t)})},EA=(e,t)=>{$x(e,mc.translate(["Failed to upload image: {0}",t]))},Ux=(e,t,n)=>{qv(e,t,{message:n}),console.error(n)},jx=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,E4=(e,t,n)=>{Ux(e,"PluginLoadError",jx("plugin",t,n))},nw=(e,t,n)=>{Ux(e,"IconsLoadError",jx("icons",t,n))},zA=(e,t,n)=>{Ux(e,"LanguageLoadError",jx("language",t,n))},z4=(e,t,n)=>{Ux(e,"ThemeLoadError",jx("theme",t,n))},TA=(e,t,n)=>{Ux(e,"ModelLoadError",jx("model",t,n))},J8=(e,t,n)=>{const r=mc.translate(["Failed to initialize plugin: {0}",t]);qv(e,"PluginLoadError",{message:r}),Zx(r,n),$x(e,r)},Zx=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},Q8=e=>{H.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},rw=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},OA=(e,t)=>{rw(e,"StyleWithCSS",t),rw(e,"enableInlineTableEditing",t),rw(e,"enableObjectResizing",t)},d1=e=>{e.selection.setRng(e.selection.getRng())},T4=(e,t,n)=>{Fd(e,t)&&!n?Ha(e,t):n&&Jl(e,t)},O4=e=>{const t=re.fromDom(e.getBody());T4(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Q8(e)},AA=e=>{const t=re.fromDom(e.getBody());T4(t,"mce-content-readonly",!1),e.hasEditableRoot()&&zc(t,!0),OA(e,!1),K2(e)&&e.focus(),d1(e),e.nodeChanged()},bm=e=>Sh(e),cb="data-mce-contenteditable",eM=e=>{Ne(Ds(e,'*[contenteditable="true"]'),t=>{Tn(t,cb,"true"),zc(t,!1)})},A4=e=>{Ne(Ds(e,`*[${cb}="true"]`),t=>{Sn(t,cb),zc(t,!0)})},NA=(e,t)=>{const n=re.fromDom(e.getBody());t?(O4(e),zc(n,!1),eM(n)):(A4(n),AA(e))},RA=e=>{e.serializer?sw(e):e.on("PreInit",()=>{sw(e)})},sw=e=>{e.parser.addAttributeFilter("contenteditable",t=>{bm(e)&&Ne(t,n=>{n.attr(cb,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(cb,t=>{bm(e)&&Ne(t,n=>{n.attr("contenteditable",n.attr(cb))})}),e.serializer.addTempAttr(cb)},DA=e=>e.type==="click",MA=["copy"],BA=e=>en(MA,e.type),PA=(e,t)=>la(t,"a",r=>Xo(r,re.fromDom(e.getBody()))).bind(r=>As(r,"href")),tM=(e,t)=>{if(DA(t)&&!Ft.metaKeyPressed(t)){const n=re.fromDom(t.target);PA(e,n).each(r=>{if(t.preventDefault(),/^#/.test(r)){const i=e.dom.select(`${r},[name="${xi(r,"#")}"]`);i.length&&e.selection.scrollIntoView(i[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else BA(t)&&e.dispatch(t.type,t)},oM=e=>{e.on("ShowCaret ObjectSelected",t=>{bm(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||NA(e,t.state)})},N4=e=>{RA(e),oM(e)},nM=e=>/^[a-z0-9\-]+$/i.test(e),Wx=e=>"content/"+e+"/content.css",rM=e=>tinymce.Resource.has(Wx(e)),LA=e=>IA(e,vR(e)),sM=e=>IA(e,gf(e)),IA=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`;return Ko(t,c=>rM(c)?c:nM(c)&&!e.inline?`${n}/${c}/${i}`:e.documentBaseURI.toAbsolute(c))},FA=e=>{e.contentCSS=e.contentCSS.concat(LA(e),sM(e))},R4=e=>e?Io(e.getElementsByTagName("img")):[],aM=(e,t)=>{const n={};return{findAll:(i,c=fo)=>{const u=Ke(R4(i),x=>{const C=x.src;return x.hasAttribute("data-mce-bogus")||x.hasAttribute("data-mce-placeholder")||!C||C===Rt.transparentSrc?!1:ur(C,"blob:")?!e.isUploaded(C)&&c(x):ur(C,"data:")?c(x):!1}),g=Ko(u,x=>{const C=x.src;if(go(n,C))return n[C].then(R=>ht(R)?R:{image:x,blobInfo:R.blobInfo});{const R=T7(t,C).then(B=>(delete n[C],{image:x,blobInfo:B})).catch(B=>(delete n[C],B));return n[C]=R,R}});return Promise.all(g)}}},qx=()=>{let n={};const r=(L,W)=>({status:L,resultUri:W}),i=L=>L in n;return{hasBlobUri:i,getResultUri:L=>{const W=n[L];return W?W.resultUri:null},isPending:L=>i(L)?n[L].status===1:!1,isUploaded:L=>i(L)?n[L].status===2:!1,markPending:L=>{n[L]=r(1,null)},markUploaded:(L,W)=>{n[L]=r(2,W)},removeFailed:L=>{delete n[L]},destroy:()=>{n={}}}};let iM=0;const lM=()=>{const e=()=>Math.round(Ba()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},cM=e=>e+iM+++lM(),HA=()=>{let e=[];const t=B=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[B.toLowerCase()]||"dat",n=(B,L,W,ee,K)=>{if(ht(B))return r({id:B,name:ee,filename:K,blob:L,base64:W});if(ue(B))return r(B);throw new Error("Unknown input type")},r=B=>{if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const L=B.id||cM("blobid"),W=B.name||L,ee=B.blob;return{id:Je(L),name:Je(W),filename:Je(B.filename||W+"."+t(ee.type)),blob:Je(ee),base64:Je(B.base64),blobUri:Je(B.blobUri||URL.createObjectURL(ee)),uri:Je(B.uri)}},i=B=>{u(B.id())||e.push(B)},c=B=>zn(e,B).getOrUndefined(),u=B=>c(L=>L.id()===B);return{create:n,add:i,get:u,getByUri:B=>c(L=>L.blobUri()===B),getByData:(B,L)=>c(W=>W.base64()===B&&W.blob().type===L),findFirst:c,removeByUri:B=>{e=Ke(e,L=>L.blobUri()===B?(URL.revokeObjectURL(L.blobUri()),!1):!0)},destroy:()=>{Ne(e,B=>{URL.revokeObjectURL(B.blobUri())}),e=[]}}},VA=(e,t)=>{const n={},r=(K,ne)=>K?K.replace(/\/$/,"")+"/"+ne.replace(/^\//,""):ne,i=(K,ne)=>new Promise((me,Ce)=>{const ze=new XMLHttpRequest;ze.open("POST",t.url),ze.withCredentials=t.credentials,ze.upload.onprogress=Xe=>{ne(Xe.loaded/Xe.total*100)},ze.onerror=()=>{Ce("Image upload failed due to a XHR Transport error. Code: "+ze.status)},ze.onload=()=>{if(ze.status<200||ze.status>=300){Ce("HTTP Error: "+ze.status);return}const Xe=JSON.parse(ze.responseText);if(!Xe||!ht(Xe.location)){Ce("Invalid JSON: "+ze.responseText);return}me(r(t.basePath,Xe.location))};const Re=new FormData;Re.append("file",K.blob(),K.filename()),ze.send(Re)}),c=jt(t.handler)?t.handler:i,u=()=>new Promise(K=>{K([])}),g=(K,ne)=>({url:ne,blobInfo:K,status:!0}),x=(K,ne)=>({url:"",blobInfo:K,status:!1,error:ne}),C=(K,ne)=>{gt.each(n[K],me=>{me(ne)}),delete n[K]},R=(K,ne,me)=>(e.markPending(K.blobUri()),new Promise(Ce=>{let ze,Re;try{const Xe=()=>{ze&&(ze.close(),Re=io)},pt=Ze=>{Xe(),e.markUploaded(K.blobUri(),Ze),C(K.blobUri(),g(K,Ze)),Ce(g(K,Ze))},Nt=Ze=>{Xe(),e.removeFailed(K.blobUri()),C(K.blobUri(),x(K,Ze)),Ce(x(K,Ze))};Re=Ze=>{Ze<0||Ze>100||H.from(ze).orThunk(()=>H.from(me).map($o)).each(Pe=>{ze=Pe,Pe.progressBar.value(Ze)})},ne(K,Re).then(pt,Ze=>{Nt(ht(Ze)?{message:Ze}:Ze)})}catch(Xe){Ce(x(K,Xe))}})),B=K=>K===i,L=K=>{const ne=K.blobUri();return new Promise(me=>{n[ne]=n[ne]||[],n[ne].push(me)})},W=(K,ne)=>(K=gt.grep(K,me=>!e.isUploaded(me.blobUri())),Promise.all(gt.map(K,me=>e.isPending(me.blobUri())?L(me):R(me,c,ne))));return{upload:(K,ne)=>!t.url&&B(c)?u():W(K,ne)}},$A=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),D4=(e,t)=>VA(t,{url:X3(e),basePath:g0(e),credentials:s2(e),handler:J3(e)}),Gx=e=>{const t=qx(),n=D4(e,t);return{upload:(r,i=!0)=>n.upload(r,i?$A(e):void 0)}},UA=(e,t)=>e.dom.isEmpty(t.dom)&&Le(e.schema.getTextBlockElements()[mn(t)]),dM=e=>t=>{UA(e,t)&&Br(t,re.fromHtml('<br data-mce-bogus="1" />'))},jA=e=>{const t=HA();let n,r;const i=qx(),c=[],u=ze=>Re=>e.selection?ze(Re):[],g=ze=>ze+(ze.indexOf("?")===-1?"?":"&")+new Date().getTime(),x=(ze,Re,Xe)=>{let pt=0;do pt=ze.indexOf(Re,pt),pt!==-1&&(ze=ze.substring(0,pt)+Xe+ze.substr(pt+Re.length),pt+=Xe.length-Re.length+1);while(pt!==-1);return ze},C=(ze,Re,Xe)=>{const pt=`src="${Xe}"${Xe===Rt.transparentSrc?' data-mce-placeholder="1"':""}`;return ze=x(ze,`src="${Re}"`,pt),ze=x(ze,'data-mce-src="'+Re+'"','data-mce-src="'+Xe+'"'),ze},R=(ze,Re)=>{Ne(e.undoManager.data,Xe=>{Xe.type==="fragmented"?Xe.fragments=Ko(Xe.fragments,pt=>C(pt,ze,Re)):Xe.content=C(Xe.content,ze,Re)})},B=(ze,Re)=>{const Xe=e.convertURL(Re,"src");R(ze.src,Re),fl(re.fromDom(ze),{src:K3(e)?g(Re):Re,"data-mce-src":Xe})},L=()=>(n||(n=D4(e,i)),ne().then(u(ze=>{const Re=Ko(ze,Xe=>Xe.blobInfo);return n.upload(Re,$A(e)).then(u(Xe=>{const pt=[];let Nt=!1;const Ze=Ko(Xe,(Pe,tt)=>{const{blobInfo:Et,image:Qt}=ze[tt];let on=!1;return Pe.status&&yR(e)?(Pe.url&&!br(Qt.src,Pe.url)&&(Nt=!0),t.removeByUri(Qt.src),wf(e)||B(Qt,Pe.url)):Pe.error&&(Pe.error.remove&&(R(Qt.src,Rt.transparentSrc),pt.push(Qt),on=!0),EA(e,Pe.error.message)),{element:Qt,status:Pe.status,uploadUri:Pe.url,blobInfo:Et,removed:on}});return pt.length>0&&!wf(e)?e.undoManager.transact(()=>{Ne(Ra(pt),Pe=>{const tt=ri(Pe);dn(Pe),tt.each(dM(e)),t.removeByUri(Pe.dom.src)})}):Nt&&e.undoManager.dispatchChange(),Ze}))}))),W=()=>r2(e)?L():Promise.resolve([]),ee=ze=>ts(c,Re=>Re(ze)),K=ze=>{c.push(ze)},ne=()=>(r||(r=aM(i,t)),r.findAll(e.getBody(),ee).then(u(ze=>{const Re=Ke(ze,Xe=>ht(Xe)?($x(e,Xe),!1):Xe.uriType!=="blob");return wf(e)||Ne(Re,Xe=>{R(Xe.image.src,Xe.blobInfo.blobUri()),Xe.image.src=Xe.blobInfo.blobUri(),Xe.image.removeAttribute("data-mce-src")}),Re}))),me=()=>{t.destroy(),i.destroy(),r=n=null},Ce=ze=>ze.replace(/src="(blob:[^"]+)"/g,(Re,Xe)=>{const pt=i.getResultUri(Xe);if(pt)return'src="'+pt+'"';let Nt=t.getByUri(Xe);return Nt||(Nt=mo(e.editorManager.get(),(Ze,Pe)=>Ze||Pe.editorUpload&&Pe.editorUpload.blobCache.getByUri(Xe),void 0)),Nt?'src="data:'+Nt.blob().type+";base64,"+Nt.base64()+'"':Re});return e.on("SetContent",()=>{r2(e)?W():ne()}),e.on("RawSaveContent",ze=>{ze.content=Ce(ze.content)}),e.on("GetContent",ze=>{ze.source_view||ze.format==="raw"||ze.format==="tree"||(ze.content=Ce(ze.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ze=>{Ne(ze,Re=>{const Xe=Re.attr("src");if(!Xe||t.getByUri(Xe))return;const pt=i.getResultUri(Xe);pt&&Re.attr("src",pt)})})}),{blobCache:t,addFilter:K,uploadImages:L,uploadImagesAuto:W,scanForImages:ne,destroy:me}},ZA=e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const i={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[u,i,c]:[i,u,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(i,c,u)=>At(i)&&i.hasAttribute("href"),onformat:(i,c,u)=>{gt.each(u,(g,x)=>{t.setAttrib(i,x,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":i=>{var c;return(c=i==null?void 0:i.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return gt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),i=>{r[i]={block:i,remove:"all"}}),r},WA={remove_similar:!0,inherit:!1},u1={selector:"td,th",...WA},uM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...u1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...u1},tablecellbordercolor:{styles:{borderColor:"%value"},...u1},tablecellclass:{classes:["%value"],...u1},tableclass:{selector:"table",classes:["%value"],...WA},tablecellborderstyle:{styles:{borderStyle:"%value"},...u1},tablecellborderwidth:{styles:{borderWidth:"%value"},...u1}},fM=Je(uM),qA=e=>{const t={},n=u=>Le(u)?t[u]:t,r=u=>go(t,u),i=(u,g)=>{u&&(ht(u)?(pe(g)||(g=[g]),Ne(g,x=>{ar(x.deep)&&(x.deep=!vd(x)),ar(x.split)&&(x.split=!vd(x)||Bs(x)),ar(x.remove)&&vd(x)&&!Bs(x)&&(x.remove="none"),vd(x)&&Bs(x)&&(x.mixed=!0,x.block_expand=!0),ht(x.classes)&&(x.classes=x.classes.split(/\s+/))}),t[u]=g):Fo(u,(x,C)=>{i(C,x)}))},c=u=>(u&&t[u]&&delete t[u],t);return i(ZA(e)),i(fM()),i(wh(e)),{get:n,has:r,register:i,unregister:c}},f1=gt.each,Ed=Ar.DOM,aw=e=>Le(e)&&ue(e),M4=(e,t)=>{const n=t&&t.schema||wt({}),r=(x,C)=>{C.classes.length>0&&Ed.addClass(x,C.classes.join(" ")),Ed.setAttribs(x,C.attrs)},i=x=>{const C=ht(x)?{name:x,classes:[],attrs:{}}:x,R=Ed.create(C.name);return r(R,C),R},c=(x,C)=>{const R=n.getElementRule(x.nodeName.toLowerCase()),B=R==null?void 0:R.parentsRequired;return B&&B.length?C&&en(B,C)?C:B[0]:!1},u=(x,C,R)=>{let B;const L=C[0],W=aw(L)?L.name:void 0,ee=c(x,W);if(ee)W===ee?(B=L,C=C.slice(1)):B=ee;else if(L)B=L,C=C.slice(1);else if(!R)return x;const K=B?i(B):Ed.create("div");K.appendChild(x),R&&gt.each(R,me=>{const Ce=i(me);K.insertBefore(Ce,x)});const ne=aw(B)?B.siblings:void 0;return u(K,C,ne)},g=Ed.create("div");if(e.length>0){const x=e[0],C=i(x),R=aw(x)?x.siblings:void 0;g.appendChild(u(C,e.slice(1),R))}return g},GA=e=>{e=gt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,i,c,u,g)=>{switch(i){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":gt.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c);break}if(u==="["){const x=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);x&&(n.attrs[x[1]]=x[2])}return""})),n.name=t||"div",n},mM=e=>ht(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),gt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=gt.map(t.split(/(?:~\+|~|\+)/),GA),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],B4=(e,t)=>{let n="",r=wR(e);if(r==="")return"";const i=L=>ht(L)?L.replace(/%(\w+)/g,""):"",c=(L,W)=>Ed.getStyle(W??e.getBody(),L,!0);if(ht(t)){const L=e.formatter.get(t);if(!L)return"";t=L[0]}if("preview"in t){const L=t.preview;if(L===!1)return"";r=L||r}let u=t.block||t.inline||"span",g;const x=mM(t.selector);x.length>0?(x[0].name||(x[0].name=u),u=t.selector,g=M4(x,e)):g=M4([u],e);const C=Ed.select(u,g)[0]||g.firstChild;f1(t.styles,(L,W)=>{const ee=i(L);ee&&Ed.setStyle(C,W,ee)}),f1(t.attributes,(L,W)=>{const ee=i(L);ee&&Ed.setAttrib(C,W,ee)}),f1(t.classes,L=>{const W=i(L);Ed.hasClass(C,W)||Ed.addClass(C,W)}),e.dispatch("PreviewFormats"),Ed.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const R=c("fontSize"),B=/px$/.test(R)?parseInt(R,10):0;return f1(r.split(" "),L=>{let W=c(L,C);if(!(L==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(W)&&(W=c(L),ag(W).toLowerCase()==="#ffffff"))&&!(L==="color"&&ag(W).toLowerCase()==="#000000")){if(L==="font-size"&&/em|%$/.test(W)){if(B===0)return;W=parseFloat(W)/(/%$/.test(W)?100:1)*B+"px"}L==="border"&&W&&(n+="padding:0 2px;"),n+=L+":"+W+";"}}),e.dispatch("AfterPreviewFormats"),Ed.remove(g),n},iw=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Kx=e=>{const t=qA(e),n=zr({});return iw(e),Gy(e),wf(e)||C7(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,i,c)=>{S8(e,r,i,c)},remove:(r,i,c,u)=>{E8(e,r,i,c,u)},toggle:(r,i,c)=>{a1(e,r,i,c)},match:(r,i,c,u)=>k8(e,r,i,c,u),closest:r=>QO(e,r),matchAll:(r,i)=>w8(e,r,i),matchNode:(r,i,c,u)=>C8(e,r,i,c,u),canApply:r=>JO(e,r),formatChanged:(r,i,c,u)=>z8(e,n,r,i,c,u),getCssText:De(B4,e)}},ym=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},lw=(e,t,n)=>{const r=zr(!1),i=x=>{ab(t,!1,n),t.add({},x)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",x=>{const C=x.command;ym(C)||(s4(t,n),t.beforeChange())}),e.on("ExecCommand",x=>{const C=x.command;ym(C)||i(x)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",x=>{const C=x.keyCode;if(x.isDefaultPrevented())return;const R=Rt.os.isMacOS()&&x.key==="Meta";(C>=33&&C<=36||C>=37&&C<=40||C===45||x.ctrlKey||R)&&(i(),e.nodeChanged()),(C===46||C===8)&&e.nodeChanged(),r.get()&&t.typing&&!Px(s1(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",x=>{const C=x.keyCode;if(x.isDefaultPrevented())return;if(C>=33&&C<=36||C>=37&&C<=40||C===45){t.typing&&i(x);return}const R=x.ctrlKey&&!x.altKey||x.metaKey;if((C<16||C>20)&&C!==224&&C!==91&&!t.typing&&!R){t.beforeChange(),ab(t,!0,n),t.add({},x),r.set(!0);return}(Rt.os.isMacOS()?x.metaKey:x.ctrlKey&&!x.altKey)&&t.beforeChange()}),e.on("mousedown",x=>{t.typing&&i(x)});const c=x=>x.inputType==="insertReplacementText",u=x=>x.inputType==="insertText"&&x.data===null,g=x=>x.inputType==="insertFromPaste"||x.inputType==="insertFromDrop";e.on("input",x=>{x.inputType&&(c(x)||u(x)||g(x))&&i(x)}),e.on("AddUndo Undo Redo ClearUndos",x=>{x.isDefaultPrevented()||e.nodeChanged()})},m1=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},P4=e=>{const t=cc(),n=zr(0),r=zr(0),i={data:[],typing:!1,beforeChange:()=>{d4(e,n,t)},add:(c,u)=>u4(e,i,r,n,t,c,u),dispatchChange:()=>{e.setDirty(!0);const c=s1(e);c.bookmark=Fe(e.selection),e.dispatch("change",{level:c,lastLevel:Ys(i.data,r.get()).getOrUndefined()})},undo:()=>qO(e,i,n,r),redo:()=>Gk(e,r,i.data),clear:()=>{GO(e,i,r)},reset:()=>{KO(e,i)},hasUndo:()=>v8(e,i,r),hasRedo:()=>_8(e,i,r),transact:c=>f4(e,i,n,c),ignore:c=>{YO(e,n,c)},extra:(c,u)=>{XO(e,i,r,c,u)}};return wf(e)||lw(e,i,n),m1(e),i},KA=[9,27,Ft.HOME,Ft.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ft.DOWN,Ft.UP,Ft.LEFT,Ft.RIGHT].concat(Rt.browser.isFirefox()?[224]:[]),cw="data-mce-placeholder",Yx=e=>e.type==="keydown"||e.type==="keyup",Lp=e=>{const t=e.keyCode;return t===Ft.BACKSPACE||t===Ft.DELETE},db=e=>{if(Yx(e)){const t=e.keyCode;return!Lp(e)&&(Ft.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||en(KA,t))}else return!1},YA=e=>Yx(e)&&!(Lp(e)||e.type==="keyup"&&e.keyCode===229),pM=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},XA=e=>{var t;const n=e.dom,r=Xi(e),i=(t=e_(e))!==null&&t!==void 0?t:"",c=(u,g)=>{if(db(u))return;const x=e.getBody(),C=YA(u)?!1:pM(n,x,r);(n.getAttrib(x,cw)!==""!==C||g)&&(n.setAttrib(x,cw,C?i:null),Wv(e,C),e.on(C?"keydown":"keyup",c),e.off(C?"keyup":"keydown",c))};yr(i)&&e.on("init",u=>{c(u,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>Qd.setEditorTimeout(e,()=>c(g)))})},gM=(e,t)=>({block:e,position:t}),hM=(e,t)=>({from:e,to:t}),L4=(e,t)=>{const n=re.fromDom(e),r=re.fromDom(t.container());return ix(n,r).map(i=>gM(i,t))},I4=e=>!($a(e.to.block,e.from.block)||$a(e.from.block,e.to.block)),JA=e=>!Xo(e.from.block,e.to.block),QA=(e,t)=>Ec(t,i=>Xf(i)||Ai(i.dom),i=>Xo(i,e)).filter(ni).getOr(e),e6=(e,t)=>{const n=re.fromDom(e);return Xo(QA(n,t.from.block),QA(n,t.to.block))},bM=e=>vr(e.from.block.dom)===!1&&vr(e.to.block.dom)===!1,F4=e=>{const t=n=>J1(n)||Tr(n.dom)||ku(n);return t(e.from.block)&&t(e.to.block)},yM=(e,t,n,r)=>ss(r.position.getNode())&&!Es(e,r.block)?yy(!1,r.block.dom).bind(i=>i.isEqual(r.position)?xd(n,t,i).bind(c=>L4(t,c)):H.some(r)).getOr(r):r,t6=(e,t,n,r)=>{const i=L4(t,Ve.fromRangeStart(r)),c=i.bind(u=>xd(n,t,u.position).bind(g=>L4(t,g).map(x=>yM(e,t,n,x))));return ba(i,c,hM).filter(u=>JA(u)&&e6(t,u)&&bM(u)&&F4(u)&&I4(u))},H4=(e,t,n,r)=>r.collapsed?t6(e,t,n,r):H.none(),o6=(e,t)=>{const n=_a(e);return er(n,r=>t.isBlock(mn(r))).fold(Je(n),r=>n.slice(0,r))},dw=(e,t)=>{const n=o6(e,t);return Ne(n,dn),n},n6=(e,t,n)=>{const r=cm(n,t);return zn(r.reverse(),i=>Es(e,i)).each(dn)},r6=(e,t)=>Ke(fu(t),n=>!Es(e,n)).length===0,xM=(e,t,n,r,i)=>{if(Es(r,n))return cf(n),is(n.dom);r6(r,i)&&Es(r,t)&&jr(i,re.fromTag("br"));const c=bc(n.dom,Ve.before(i.dom));return Ne(dw(t,r),u=>{jr(i,u)}),n6(r,e,t),c},s6=(e,t)=>e.isInline(mn(t)),a6=(e,t,n,r)=>{if(Es(r,n)){if(Es(r,t)){const u=to((g=>{const x=(C,R)=>Dm(C).fold(()=>R,B=>s6(r,B)?x(B,R.concat(md(B))):R);return x(g,[])})(n),(g,x)=>(Zr(g,x),x),Fl());rc(t),Br(t,u)}return dn(n),is(t.dom)}const i=Tu(n.dom);return Ne(dw(t,r),c=>{Br(n,c)}),n6(r,e,t),i},vM=(e,t)=>{const n=cm(t,e);return H.from(n[n.length-1])},_M=(e,t)=>$a(t,e)?vM(t,e):H.none(),i6=(e,t)=>{yy(e,t.dom).bind(n=>H.from(n.getNode())).map(re.fromDom).filter(_u).each(dn)},l6=(e,t,n,r)=>(i6(!0,t),i6(!1,n),_M(t,n).fold(De(a6,e,t,n,r),De(xM,e,t,n,r))),c6=(e,t,n,r,i)=>t?l6(e,r,n,i):l6(e,n,r,i),Ip=(e,t)=>{const n=re.fromDom(e.getBody());return H4(e.schema,n.dom,t,e.selection.getRng()).map(i=>()=>{c6(n,t,i.from.block,i.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},d6=(e,t,n)=>{const r=t.getRng();return ba(ix(e,re.fromDom(r.startContainer)),ix(e,re.fromDom(r.endContainer)),(i,c)=>Xo(i,c)?H.none():H.some(()=>{r.deleteContents(),c6(e,!0,i,c,n).each(u=>{t.setRng(u.toRange())})})).getOr(H.none())},V4=(e,t)=>{const n=re.fromDom(t),r=De(Xo,e);return pl(n,Xf,r).isSome()},u6=(e,t)=>V4(e,t.startContainer)||V4(e,t.endContainer),kM=(e,t)=>{const n=bc(e.dom,Ve.fromRangeStart(t)).isNone(),r=Hl(e.dom,Ve.fromRangeEnd(t)).isNone();return!u6(e,t)&&n&&r},wM=e=>H.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Bg=e=>{const t=re.fromDom(e.getBody()),n=e.selection.getRng();return kM(t,n)?wM(e):d6(t,e.selection,e.schema)},uw=(e,t)=>e.selection.isCollapsed()?H.none():Bg(e),Iu=(e,t,n,r,i)=>H.from(t._selectionOverrides.showCaret(e,n,r,i)),CM=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},p1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?H.none():H.some(CM(t)),SM=(e,t,n)=>{const r=b2(1,e.getBody(),t),i=Ve.fromRangeStart(r),c=i.getNode();if(k0(c))return Iu(1,e,c,!i.isAtEnd(),!1);const u=i.getNode(!0);if(k0(u))return Iu(1,e,u,!1,!1);const g=Ag(e.dom.getRoot(),i.getNode());return k0(g)?Iu(1,e,g,!1,n):H.none()},$4=(e,t,n)=>t.collapsed?SM(e,t,n).getOr(t):t,U4=e=>wp(e)||Iy(e),EM=e=>Cp(e)||Wh(e),La=(e,t)=>{lt(t)&&t.data.length===0&&e.remove(t)},f6=(e,t,n,r,i,c)=>{Iu(r,e,c.getNode(!i),i,!0).each(u=>{if(t.collapsed){const g=t.cloneRange();i?g.setEnd(u.startContainer,u.startOffset):g.setStart(u.endContainer,u.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),La(e.dom,n)},zM=(e,t)=>{const n=e.selection.getRng();if(!lt(n.commonAncestorContainer))return H.none();const r=t?1:-1,i=zu(e.getBody()),c=De(C0,t?i.next:i.prev),u=t?U4:EM,g=by(r,e.getBody(),n),x=c(g),C=x&&wd(t,x);if(!C||!S0(g,C))return H.none();if(u(C))return H.some(()=>f6(e,n,g.getNode(),r,t,C));const R=c(C);return R&&u(R)&&S0(C,R)?H.some(()=>f6(e,n,g.getNode(),r,t,R)):H.none()},Xx=(e,t)=>zM(e,t),fw=(e,t)=>{const n=e.getBody();return t?is(n).filter(wp):Tu(n).filter(Cp)},Jx=e=>{const t=e.selection.getRng();return!t.collapsed&&(fw(e,!0).exists(n=>n.isEqual(Ve.fromRangeStart(t)))||fw(e,!1).exists(n=>n.isEqual(Ve.fromRangeEnd(t))))},TM=e=>Le(e)&&(Xf(re.fromDom(e))||ku(re.fromDom(e))),zd=Pt.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),OM=(e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return At(n)&&n.getAttribute("data-mce-caret")===r},AM=(e,t,n,r,i)=>{const c=u=>i.isInline(u.nodeName.toLowerCase())&&!tm(n,r,e);return LE(!t,n).fold(()=>LE(t,r).fold(bo,c),c)},m6=(e,t,n,r,i)=>{const c=i.getNode(!n);return ix(re.fromDom(t),re.fromDom(r.getNode())).map(u=>Es(e,u)?zd.remove(u.dom):zd.moveToElement(c)).orThunk(()=>H.some(zd.moveToElement(c)))},p6=(e,t,n,r)=>xd(t,e,n).bind(i=>TM(i.getNode())||AM(e,t,n,i,r)?H.none():t&&vr(i.getNode())||!t&&vr(i.getNode(!0))?m6(r,e,t,n,i):t&&Cp(n)||!t&&wp(n)?H.some(zd.moveToPosition(i)):H.none()),NM=(e,t)=>Po(t)?H.none():e&&vr(t.nextSibling)?H.some(zd.moveToElement(t.nextSibling)):!e&&vr(t.previousSibling)?H.some(zd.moveToElement(t.previousSibling)):H.none(),g1=(e,t,n)=>n.fold(r=>H.some(zd.remove(r)),r=>H.some(zd.moveToElement(r)),r=>tm(t,r,e)?H.none():H.some(zd.moveToPosition(r))),Sf=(e,t,n,r)=>OM(t,n)?NM(t,n.getNode(!t)).orThunk(()=>p6(e,t,n,r)):p6(e,t,n,r).bind(i=>g1(e,n,i)),RM=(e,t,n,r)=>{const i=b2(t?1:-1,e,n),c=Ve.fromRangeStart(i),u=re.fromDom(e);return!t&&Cp(c)?H.some(zd.remove(c.getNode(!0))):t&&wp(c)?H.some(zd.remove(c.getNode())):!t&&wp(c)&&Hy(u,c,r)?vC(u,c,r).map(g=>zd.remove(g.getNode())):t&&Cp(c)&&K_(u,c,r)?FD(u,c,r).map(g=>zd.remove(g.getNode())):Sf(e,t,c,r)},DM=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Yh(e,t,re.fromDom(n)),!0),MM=(e,t)=>n=>{const r=t?Ve.before(n):Ve.after(n);return e.selection.setRng(r.toRange()),!0},BM=e=>t=>(e.selection.setRng(t.toRange()),!0),g6=(e,t)=>H.from(Ag(e.getBody(),t)),PM=(e,t)=>{const n=e.selection.getNode();return g6(e,n).filter(vr).fold(()=>RM(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(DM(e,t),MM(e,t),BM(e))),()=>H.some(io))},LM=e=>{Ne(Ds(e,".mce-offscreen-selection"),dn)},IM=(e,t)=>{const n=e.selection.getNode();return vr(n)&&!Vo(n)?g6(e,n.parentNode).filter(vr).fold(()=>H.some(()=>{LM(re.fromDom(e.getBody())),Yh(e,t,re.fromDom(e.selection.getNode())),lx(e)}),()=>H.some(io)):Jx(e)?H.some(()=>{Uc(e,e.selection.getRng(),re.fromDom(e.getBody()))}):H.none()},h6=e=>{const t=e.dom,n=e.selection,r=Ag(e.getBody(),n.getNode());if(Ai(r)&&t.isBlock(r)&&t.isEmpty(r)){const i=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(i),n.setRng(Ve.before(i).toRange())}return!0},j4=(e,t)=>e.selection.isCollapsed()?PM(e,t):IM(e,t),b6=e=>e.hasOwnProperty("text"),y6=e=>e.hasOwnProperty("marker"),x6=(e,t)=>{const n=(c,u)=>{if(lt(c))return{text:c,offset:u};{const g=t(),x=c.childNodes;return u<x.length?(c.insertBefore(g,x[u]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},r=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:r}},v6=e=>{var t,n;const{start:r,end:i}=e,c=new window.Range;return b6(r)?c.setStart(r.text,r.offset):y6(r)&&(r.before?c.setStartBefore(r.marker):c.setStartAfter(r.marker),(t=r.marker.parentNode)===null||t===void 0||t.removeChild(r.marker)),b6(i)?c.setEnd(i.text,i.offset):y6(i)&&(i.before?c.setEndBefore(i.marker):c.setEndAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),c},Z4=(e,t)=>{var n;const r=e.dom,i=r.getParent(e.selection.getStart(),r.isBlock),c=r.getParent(e.selection.getEnd(),r.isBlock),u=e.getBody();if(((n=i==null?void 0:i.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&i&&c&&i===u.firstChild&&c===u.lastChild&&!r.isEmpty(u)){const x=i.cloneNode(!1),C=()=>{if(t?BC(e):Uy(e),u.firstChild!==i){const R=x6(e.selection.getRng(),()=>document.createElement("span"));Array.from(u.childNodes).forEach(B=>x.appendChild(B)),u.appendChild(x),e.selection.setRng(v6(R))}};return H.some(C)}return H.none()},FM=(e,t)=>{const n=Ve.fromRangeStart(e.selection.getRng());return xd(t,e.getBody(),n).filter(r=>t?uT(r):fT(r)).bind(r=>h2(t?0:-1,r)).map(r=>()=>e.selection.select(r))},W4=(e,t)=>e.selection.isCollapsed()?FM(e,t):H.none(),h1=lt,_6=e=>h1(e)&&e.data[0]===Gs,k6=e=>h1(e)&&e.data[e.data.length-1]===Gs,w6=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Gs)},HM=e=>{var t;if(h1(e.previousSibling))return k6(e.previousSibling)||e.previousSibling.appendData(Gs),e.previousSibling;if(h1(e))return _6(e)||e.insertData(0,Gs),e;{const n=w6(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},VM=e=>{var t,n;if(h1(e.nextSibling))return _6(e.nextSibling)||e.nextSibling.insertData(0,Gs),e.nextSibling;if(h1(e))return k6(e)||e.appendData(Gs),e;{const r=w6(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},mw=(e,t)=>e?HM(t):VM(t),$M=De(mw,!0),UM=De(mw,!1),C6=(e,t)=>lt(e.container())?mw(t,e.container()):mw(t,e.getNode()),S6=(e,t)=>{const n=t.get();return n&&e.container()===n&&Qf(n)},q4=(e,t)=>t.fold(n=>{kg(e.get());const r=$M(n);return e.set(r),H.some(Ve(r,r.length-1))},n=>is(n).map(r=>{if(S6(r,e)){const i=e.get();return Ve(i,1)}else{kg(e.get());const i=C6(r,!0);return e.set(i),Ve(i,1)}}),n=>Tu(n).map(r=>{if(S6(r,e)){const i=e.get();return Ve(i,i.length-1)}else{kg(e.get());const i=C6(r,!1);return e.set(i),Ve(i,i.length-1)}}),n=>{kg(e.get());const r=UM(n);return e.set(r),H.some(Ve(r,1))}),E6=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return H.none()},Wl=Pt.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),z6=(e,t)=>{const n=fp(t,e);return n||e},T6=(e,t,n)=>{const r=DC(n),i=z6(t,r.container());return tu(e,i,r).fold(()=>Hl(i,r).bind(De(tu,e,i)).map(c=>Wl.before(c)),H.none)},jM=(e,t)=>sl(e,t)===null,O6=(e,t,n)=>tu(e,t,n).filter(De(jM,t)),ZM=(e,t,n)=>{const r=MC(n);return O6(e,t,r).bind(i=>bc(i,r).isNone()?H.some(Wl.start(i)):H.none())},WM=(e,t,n)=>{const r=DC(n);return O6(e,t,r).bind(i=>Hl(i,r).isNone()?H.some(Wl.end(i)):H.none())},qM=(e,t,n)=>{const r=MC(n),i=z6(t,r.container());return tu(e,i,r).fold(()=>bc(i,r).bind(De(tu,e,i)).map(c=>Wl.after(c)),H.none)},A6=e=>!NT(G4(e)),xm=(e,t,n)=>E6([T6,ZM,WM,qM],[e,t,n]).filter(A6),G4=e=>e.fold(un,un,un,un),K4=e=>e.fold(Je("before"),Je("start"),Je("end"),Je("after")),pw=e=>e.fold(Wl.before,Wl.before,Wl.after,Wl.after),Y4=e=>e.fold(Wl.start,Wl.start,Wl.end,Wl.end),GM=(e,t)=>K4(e)===K4(t)&&G4(e)===G4(t),KM=(e,t,n,r,i,c)=>ba(tu(t,n,r),tu(t,n,i),(u,g)=>u!==g&&Tg(n,u,g)?Wl.after(e?u:g):c).getOr(c),YM=(e,t)=>e.fold(fo,n=>!GM(n,t)),XM=(e,t,n,r,i)=>{const c=wd(e,i);return xd(e,n,c).map(De(wd,e)).fold(()=>r.map(pw),x=>xm(t,n,x).map(De(KM,e,t,n,c,x)).filter(De(YM,r))).filter(A6)},JM=(e,t)=>e?t.fold(Do(H.some,Wl.start),H.none,Do(H.some,Wl.after),H.none):t.fold(H.none,Do(H.some,Wl.before),H.none,Do(H.some,Wl.end)),QM=(e,t,n,r)=>{const i=wd(e,r),c=xm(t,n,i);return xm(t,n,i).bind(De(JM,e)).orThunk(()=>XM(e,t,n,c,r))},N6=e=>jt(e.selection.getSel().modify),X4=(e,t,n)=>{const r=e?1:-1;return t.setRng(Ve(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},eB=(e,t)=>{const n=t.selection.getRng(),r=e?Ve.fromRangeEnd(n):Ve.fromRangeStart(n);return N6(t)?e&&e0(r)?X4(!0,t.selection,r):!e&&Jb(r)?X4(!1,t.selection,r):!1:!1};var Ef;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ef||(Ef={}));const gw=(e,t)=>e===-1?Vs(t):t,tB=(e,t,n)=>e===1?t.next(n):t.prev(n),oB=(e,t,n,r)=>ss(r.getNode(t===1))?Ef.Br:tm(n,r)===!1?Ef.Block:Ef.Wrap,R6=(e,t,n,r)=>{const i=zu(n);let c=r;const u=[];for(;c;){const g=tB(t,i,c);if(!g)break;if(ss(g.getNode(!1)))return t===1?{positions:gw(t,u).concat([g]),breakType:Ef.Br,breakAt:H.some(g)}:{positions:gw(t,u),breakType:Ef.Br,breakAt:H.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const x=oB(n,t,c,g);return{positions:gw(t,u),breakType:x,breakAt:H.some(g)}}u.push(g),c=g}return{positions:gw(t,u),breakType:Ef.Eol,breakAt:H.none()}},D6=(e,t,n,r)=>t(n,r).breakAt.map(i=>{const c=t(n,i).positions;return e===-1?c.concat(i):[i].concat(c)}).getOr([]),J4=(e,t)=>mo(e,(n,r)=>n.fold(()=>H.some(r),i=>ba(ut(i.getClientRects()),ut(r.getClientRects()),(c,u)=>{const g=Math.abs(t-c.left);return Math.abs(t-u.left)<=g?r:i}).or(n)),H.none()),b1=(e,t)=>ut(t.getClientRects()).bind(n=>J4(e,n.left)),ub=De(R6,Ve.isAbove,-1),Qx=De(R6,Ve.isBelow,1),Q4=De(D6,-1,ub),M6=De(D6,1,Qx),B6=(e,t)=>ub(e,t).breakAt.isNone(),P6=(e,t)=>Qx(e,t).breakAt.isNone(),nB=e=>is(e).map(t=>[t].concat(Qx(e,t).positions)).getOr([]),rB=e=>Tu(e).map(t=>ub(e,t).positions.concat(t)).getOr([]),sB=(e,t)=>b1(Q4(e,t),t),aB=(e,t)=>b1(M6(e,t),t),iB=vr,hw=(e,t)=>Math.abs(e.left-t),L6=(e,t)=>Math.abs(e.right-t),lB=e=>Ya(e,"node"),I6=(e,t)=>Fi(e,(n,r)=>{const i=Math.min(hw(n,t),L6(n,t)),c=Math.min(hw(r,t),L6(r,t));return c===i&&lB(r)&&iB(r.node)||c<i?r:n}),F6=e=>{const t=n=>Ko(n,r=>{const i=gd(r);return i.node=e,i});if(At(e))return t(e.getClientRects());if(lt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},Pg=e=>Yn(e,F6);var fb;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(fb||(fb={}));const cB=(e,t,n,r)=>{let i=r;for(;i=yo(i,e,Fv,t);)if(n(i))return},H6=(e,t,n,r,i,c)=>{let u=0;const g=[],x=B=>{let L=Pg([B]);e===fb.Up&&(L=L.reverse());for(let W=0;W<L.length;W++){const ee=L[W];if(!n(ee,C)){if(g.length>0&&t(ee,ma(g))&&u++,ee.line=u,i(ee))return!0;g.push(ee)}}return!1},C=ma(c.getClientRects());if(!C)return g;const R=c.getNode();return R&&(x(R),cB(e,r,x,R)),g},Wc=(e,t)=>t.line>e,V6=(e,t)=>t.line===e,dB=De(H6,fb.Up,fg,hd),uB=De(H6,fb.Down,hd,fg),$6=e=>ma(e.getClientRects()),fB=(e,t,n,r)=>{const i=zu(t);let c,u,g,x;const C=[];let R=0;e===fb.Down?(c=i.next,u=hd,g=fg,x=Ve.after(r)):(c=i.prev,u=fg,g=hd,x=Ve.before(r));const B=$6(x);do{if(!x.isVisible())continue;const L=$6(x);if(g(L,B))continue;C.length>0&&u(L,ma(C))&&R++;const W=gd(L);if(W.position=x,W.line=R,n(W))return C;C.push(W)}while(x=c(x));return C},U6=e=>t=>Wc(e,t),bw=e=>t=>V6(e,t),Fp=(e,t)=>{e.selection.setRng(t),Z0(e,e.selection.getRng())},e3=(e,t,n)=>H.some($4(e,t,n)),j6=(e,t,n,r,i,c)=>{const u=t===1,g=zu(e.getBody()),x=De(C0,u?g.next:g.prev),C=u?r:i;if(!n.collapsed){const ee=rp(n);if(c(ee))return Iu(t,e,ee,t===-1,!1);if(Jx(e)){const K=n.cloneRange();return K.collapse(t===-1),H.from(K)}}const R=by(t,e.getBody(),n);if(C(R))return p1(e,R.getNode(!u));let B=x(R);const L=hh(n);if(B)B=wd(u,B);else return L?H.some(n):H.none();if(C(B))return Iu(t,e,B.getNode(!u),u,!1);const W=x(B);return W&&C(W)&&S0(B,W)?Iu(t,e,W.getNode(!u),u,!1):L?e3(e,B.toRange(),!1):H.none()},Z6=(e,t,n,r,i,c)=>{const u=by(t,e.getBody(),n),g=ma(u.getClientRects()),x=t===fb.Down,C=e.getBody();if(!g)return H.none();if(Jx(e)){const ne=x?Ve.fromRangeEnd(n):Ve.fromRangeStart(n);return(x?aB:sB)(C,ne).orThunk(()=>H.from(ne)).map(Ce=>Ce.toRange())}const B=(x?uB:dB)(C,U6(1),u),L=Ke(B,bw(1)),W=g.left,ee=I6(L,W);if(ee&&c(ee.node)){const ne=Math.abs(W-ee.left),me=Math.abs(W-ee.right);return Iu(t,e,ee.node,ne<me,!1)}let K;if(r(u)?K=u.getNode():i(u)?K=u.getNode(!0):K=rp(n),K){const ne=fB(t,C,U6(1),K);let me=I6(Ke(ne,bw(1)),W);if(me||(me=ma(Ke(ne,bw(0))),me))return e3(e,me.position.toRange(),!1)}return L.length===0?t3(e,x).filter(x?i:r).map(ne=>$4(e,ne.toRange(),!1)):H.none()},t3=(e,t)=>{const n=e.selection.getRng(),r=t?Ve.fromRangeEnd(n):Ve.fromRangeStart(n),i=wo(r.container(),e.getBody());if(t){const c=Qx(i,r);return ko(c.positions)}else{const c=ub(i,r);return ut(c.positions)}},mb=(e,t,n)=>t3(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),ev=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},tv=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},yw=(e,t,n)=>q4(t,n).map(r=>(ev(e,r),n)),W6=(e,t,n)=>{const r=Ve.fromRangeStart(e);if(e.collapsed)return r;{const i=Ve.fromRangeEnd(e);return n?bc(t,i).getOr(i):Hl(t,r).getOr(r)}},q6=(e,t,n)=>{const r=e.getBody(),i=W6(e.selection.getRng(),r,n),c=De(Sp,e);return QM(n,c,r,i).bind(g=>yw(e,t,g))},mB=(e,t,n)=>{const r=Ko(Ds(re.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),i=Ke(r,e),c=Ke(n,e);Ne(Fn(i,c),De(tv,!1)),Ne(Fn(c,i),De(tv,!0))},G6=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=Ve.fromRangeStart(e.selection.getRng());Ve.isTextPosition(r)&&!Ep(r)&&(ev(e,DE(n,r)),t.set(null))}},pB=(e,t,n,r)=>{if(t.selection.isCollapsed()){const i=Ke(r,e);Ne(i,c=>{const u=Ve.fromRangeStart(t.selection.getRng());xm(e,t.getBody(),u).bind(g=>yw(t,n,g))})}},o3=(e,t,n)=>Fc(e)?q6(e,t,n).isSome():!1,n3=(e,t,n)=>Fc(t)?eB(e,t):!1,K6=e=>{const t=zr(null),n=De(Sp,e);return e.on("NodeChange",r=>{Fc(e)&&(mB(n,e.dom,r.parents),G6(e,t),pB(n,e,t,r.parents))}),t},Y6=De(n3,!0),X6=De(n3,!1),ov=(e,t,n)=>{if(Fc(e)){const r=t3(e,t).getOrThunk(()=>{const i=e.selection.getRng();return t?Ve.fromRangeEnd(i):Ve.fromRangeStart(i)});return xm(De(Sp,e),e.getBody(),r).exists(i=>{const c=pw(i);return q4(n,c).exists(u=>(ev(e,u),!0))})}else return!1},r3=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},J6=e=>ba(is(e),Tu(e),(t,n)=>{const r=wd(!0,t),i=wd(!1,n);return Hl(e,r).forall(c=>c.isEqual(i))}).getOr(!0),s3=(e,t)=>n=>q4(t,n).map(r=>()=>ev(e,r)),a3=(e,t,n,r)=>{const i=e.getBody(),c=De(Sp,e);e.undoManager.ignore(()=>{e.selection.setRng(r3(n,r)),Uy(e),xm(c,i,Ve.fromRangeStart(e.selection.getRng())).map(Y4).bind(s3(e,t)).each(Eo)}),e.nodeChanged()},Q6=(e,t)=>{const n=fp(t,e);return n||e},eN=(e,t,n,r)=>{const i=Q6(e.getBody(),r.container()),c=De(Sp,e),u=xm(c,i,r);return u.bind(x=>n?x.fold(Je(H.some(Y4(x))),H.none,Je(H.some(pw(x))),H.none):x.fold(H.none,Je(H.some(pw(x))),H.none,Je(H.some(Y4(x))))).map(s3(e,t)).getOrThunk(()=>{const x=zh(n,i,r),C=x.bind(R=>xm(c,i,R));return ba(u,C,()=>tu(c,i,r).bind(R=>J6(R)?H.some(()=>{Yh(e,n,re.fromDom(R))}):H.none())).getOrThunk(()=>C.bind(()=>x.map(R=>()=>{n?a3(e,t,r,R):a3(e,t,R,r)})))})},xw=(e,t,n)=>{if(e.selection.isCollapsed()&&Fc(e)){const r=Ve.fromRangeStart(e.selection.getRng());return eN(e,t,n,r)}return H.none()},tN=e=>pu(e)>1,vw=(e,t)=>{const n=re.fromDom(e.getBody()),r=re.fromDom(e.selection.getStart()),i=cm(r,n);return er(i,t).fold(Je(i),c=>i.slice(0,c))},i3=e=>pu(e)===1,_w=e=>vw(e,t=>e.schema.isBlock(mn(t))||tN(t)),oN=e=>vw(e,t=>e.schema.isBlock(mn(t))),l3=(e,t)=>{const n=De(yk,e);return Yn(t,r=>n(r)?[r.dom]:[])},c3=e=>{const t=oN(e);return l3(e,t)},d3=(e,t,n,r)=>{const i=l3(t,r);if(i.length===0)Yh(t,e,n);else{const c=mS(n.dom,i);t.selection.setRng(c.toRange())}},nN=(e,t)=>{const n=Ke(_w(e),i3);return ko(n).bind(r=>{const i=Ve.fromRangeStart(e.selection.getRng());return DT(t,i,r.dom)&&!A2(r)?H.some(()=>d3(t,e,r,n)):H.none()})},rN=(e,t)=>{const n=t.parentElement;return ss(t)&&!qe(n)&&e.dom.isEmpty(n)},sN=e=>A2(re.fromDom(e)),aN=(e,t)=>{const n=e.selection.getStart(),r=rN(e,n)||sN(n)?mS(n,t):w5(e.selection.getRng(),t);e.selection.setRng(r.toRange())},iN=(e,t)=>{const n=Fn(t,c3(e));n.length>0&&aN(e,n)},u3=e=>lt(e.startContainer),kw=e=>e.startOffset===0&&u3(e),lN=(e,t)=>{const n=t.startContainer.parentElement;return!qe(n)&&yk(e,re.fromDom(n))},cN=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!qe(t)&&!qe(n)&&t.isEqualNode(n)},f3=e=>{const t=e.endContainer;return e.endOffset===(lt(t)?t.length:t.childNodes.length)},gB=e=>cN(e)&&f3(e),dN=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),hB=e=>gB(e)||dN(e),uN=e=>{const t=e.selection.getRng();return kw(t)&&lN(e,t)&&hB(t)},fN=e=>{if(uN(e)){const t=c3(e);return H.some(()=>{Uy(e),iN(e,t)})}else return H.none()},m3=(e,t)=>e.selection.isCollapsed()?nN(e,t):fN(e),bB=(e,t)=>Oi(e,n=>Kn(n.dom),n=>t.isBlock(mn(n))),yB=e=>bB(re.fromDom(e.selection.getStart()),e.schema),o=e=>{const t=e.selection.getRng();return t.collapsed&&(u3(t)||e.dom.isEmpty(t.startContainer))&&!yB(e)},s=e=>(o(e)&&aN(e,[]),!0),a=(e,t,n)=>Le(n)?H.some(()=>{e._selectionOverrides.hideFakeCaret(),Yh(e,t,re.fromDom(n))}):H.none(),l=(e,t)=>{const n=t?Iy:Wh,i=by(t?1:-1,e.getBody(),e.selection.getRng());return n(i)?a(e,t,i.getNode(!t)):H.from(wd(t,i)).filter(c=>n(c)&&S0(i,c)).bind(c=>a(e,t,c.getNode(!t)))},d=(e,t)=>{const n=e.selection.getNode();return qi(n)?a(e,t,n):H.none()},f=(e,t)=>e.selection.isCollapsed()?l(e,t):d(e,t),p=e=>Ec(e,t=>Ai(t.dom)||vr(t.dom)).exists(t=>Ai(t.dom)),b=e=>qn(e??"").getOr(0),y=(e,t)=>{const n=e||X1(t)?"margin":"padding",r=zi(t,"direction")==="rtl"?"-right":"-left";return n+r},_=(e,t,n,r,i,c)=>{const u=y(n,re.fromDom(c)),g=b(e.getStyle(c,u));if(t==="outdent"){const x=Math.max(0,g-r);e.setStyle(c,u,x?x+i:"")}else{const x=g+r+i;e.setStyle(c,u,x)}},E=(e,t)=>ts(t,n=>{const r=y(eE(e),n),i=Ws(n,r).map(b).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&i>0}),w=e=>{const t=I(e);return!e.mode.isReadOnly()&&(t.length>1||E(e,t))},A=e=>qd(e)||ku(e),P=e=>ri(e).exists(A),I=e=>Ke(Ra(e.selection.getSelectedBlocks()),t=>!A(t)&&!P(t)&&p(t)),Y=(e,t)=>{var n,r;if(e.mode.isReadOnly())return;const{dom:i}=e,c=$n(e),u=(r=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",g=b(c),x=eE(e);Ne(I(e),C=>{_(i,t,x,g,u,C.dom)})},G=e=>Y(e,"indent"),J=e=>Y(e,"outdent"),j=e=>{if(e.selection.isCollapsed()&&w(e)){const t=e.dom,n=e.selection.getRng(),r=Ve.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(i!==null&&X0(re.fromDom(i),r,e.schema))return H.some(()=>J(e))}return H.none()},Z=(e,t,n)=>Xs([j,j4,Xx,(r,i)=>xw(r,t,i),Ip,Jh,W4,f,uw,m3,Z4],r=>r(e,n)).filter(r=>e.selection.isEditable()),te=(e,t)=>{Z(e,t,!1).fold(()=>{e.selection.isEditable()&&(Uy(e),lx(e))},Eo)},oe=(e,t)=>{Z(e,t,!0).fold(()=>{e.selection.isEditable()&&BC(e)},Eo)},ce=(e,t)=>{e.addCommand("delete",()=>{te(e,t)}),e.addCommand("forwardDelete",()=>{oe(e,t)})},be=5,we=400,Ae=e=>e.touches===void 0||e.touches.length!==1?H.none():H.some(e.touches[0]),Ue=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>be||r>be},$e=e=>{const t=cc(),n=zr(!1),r=Ms(i=>{e.dispatch("longpress",{...i,type:"longpress"}),n.set(!0)},we);e.on("touchstart",i=>{Ae(i).each(c=>{r.cancel();const u={x:c.clientX,y:c.clientY,target:i.target};r.throttle(i),n.set(!1),t.set(u)})},!0),e.on("touchmove",i=>{r.cancel(),Ae(i).each(c=>{t.on(u=>{Ue(c,u)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",i=>{r.cancel(),i.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(i.target)).each(()=>{n.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})})},!0)},Ye=(e,t)=>go(e,t.nodeName),mt=(e,t)=>lt(t)?!0:At(t)?!Ye(e.getBlockElements(),t)&&!Cl(t)&&!cr(e,t)&&!T(t):!1,$t=(e,t,n)=>Cn(Fy(re.fromDom(n),re.fromDom(t)),r=>Ye(e,r.dom)),Xt=(e,t)=>{if(lt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Ye(e,t.nextSibling)||T(t.nextSibling)}return!1},so=e=>e.dom.create(Xi(e),p0(e)),jo=e=>{const t=e.dom,n=e.selection,r=e.schema,i=r.getBlockElements(),c=n.getStart(),u=e.getBody();let g,x,C=null;const R=Xi(e);if(!c||!At(c))return;const B=u.nodeName.toLowerCase();if(!r.isValidChild(B,R.toLowerCase())||$t(i,u,c))return;if(u.firstChild===u.lastChild&&ss(u.firstChild)){g=so(e),g.appendChild(Fl().dom),u.replaceChild(g,u.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let L=u.firstChild;for(;L;)if(At(L)&&dc(r,L),mt(r,L)){if(Xt(i,L)){x=L,L=L.nextSibling,t.remove(x);continue}if(!g){if(!C&&e.hasFocus()&&(C=x6(e.selection.getRng(),()=>document.createElement("span"))),!L.parentNode){L=null;break}g=so(e),u.insertBefore(g,L)}x=L,L=L.nextSibling,g.appendChild(x)}else g=null,L=L.nextSibling;C&&(e.selection.setRng(v6(C)),e.nodeChanged())},pr=(e,t,n)=>{const r=re.fromDom(so(e)),i=Fl();Br(r,i),n(t,r);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},Qr=e=>{e.on("NodeChange",()=>jo(e))},An=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,ln=(e,t,n)=>function(r){const i=arguments,c=i[i.length-2],u=c>0?t.charAt(c-1):"";if(u==='"')return r;if(u===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},Jt=(e,t,n)=>{let r=t.length,i=n.content;if(n.format!=="raw"){for(;r--;)i=i.replace(t[r],ln(e,i,bE(e)));n.content=i}},gr=(e,t)=>ts(e,n=>{const r=t.match(n);return r!==null&&r[0].length===t.length}),Un=e=>{const t="contenteditable",n=" "+gt.trim(MR(e))+" ",r=" "+gt.trim(bE(e))+" ",i=An(n),c=An(r),u=yE(e);u.length>0&&e.on("BeforeSetContent",g=>{Jt(e,u,g)}),e.parser.addAttributeFilter("class",g=>{let x=g.length;for(;x--;){const C=g[x];i(C)?C.attr(t,"true"):c(C)&&C.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let x=g.length;for(;x--;){const C=g[x];if(!i(C)&&!c(C))continue;const R=C.attr("data-mce-content");u.length>0&&R?gr(u,R)?(C.name="#text",C.type=3,C.raw=!0,C.value=R):C.remove():C.attr(t,null)}})},na=e=>tr(re.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),sr=(e,t)=>{t.hasAttribute("data-mce-caret")&&(tp(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},ra=(e,t)=>{const n=na(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),sr(e,n);return}Xb(n)&&(sr(e,n),e.undoManager.add())}},Ta=e=>{e.on("keyup compositionstart",De(ra,e))},Hp=vr,pb=(e,t,n)=>j6(t,e,n,wp,Cp,Hp),ww=(e,t,n)=>Z6(t,e,n,c=>wp(c)||hC(c),c=>Cp(c)||W_(c),Hp),Cw=e=>{const t=e.dom.create(Xi(e));return t.innerHTML='<br data-mce-bogus="1">',t},Vp=(e,t,n)=>{const r=zu(e.getBody()),i=De(C0,t===1?r.next:r.prev);if(n.collapsed){const c=e.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!i(Ve.fromRangeStart(n))){const g=re.fromDom(Cw(e));t===1?Jo(re.fromDom(c),g):jr(re.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},Lg=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return pb(n,e,r).orThunk(()=>(Vp(e,n,r),H.none()))},vm=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return ww(n,e,r).orThunk(()=>(Vp(e,n,r),H.none()))},y1=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return NT(n)?!t:t},gb=(e,t)=>Lg(e,y1(e.selection,t)).exists(n=>(Fp(e,n),!0)),_m=(e,t)=>vm(e,t).exists(n=>(Fp(e,n),!0)),hb=(e,t)=>mb(e,t,t?Cp:wp),$p=(e,t)=>fw(e,!t).map(n=>{const r=n.toRange(),i=e.selection.getRng();return t?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r}).exists(n=>(Fp(e,n),!0)),nv=e=>en(["figcaption"],mn(e)),rv=(e,t,n)=>{const r=De(Xo,t);return Ec(re.fromDom(e.container()),i=>n.isBlock(mn(i)),r).filter(nv)},x1=(e,t,n)=>t?P6(e.dom,n):B6(e.dom,n),Ig=(e,t)=>{const n=re.fromDom(e.getBody()),r=Ve.fromRangeStart(e.selection.getRng());return rv(r,n,e.schema).exists(()=>{if(x1(n,t,r)){const c=pr(e,n,t?Br:Zi);return e.selection.setRng(c),!0}else return!1})},km=(e,t)=>e.selection.isCollapsed()?Ig(e,t):!1,kn=(e,t,n)=>{const r=e.selection.getRng(),i=Ve.fromRangeStart(r);return e.getBody().firstChild===t&&B6(n,i)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Fg=(e,t)=>{const n=e.selection.getRng(),r=Ve.fromRangeStart(n);return e.getBody().lastChild===t&&P6(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},zf=(e,t)=>t?H.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>Fg(e,n)).getOr(!1):H.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>H.from(e.dom.getParent(n,"details")).map(r=>kn(e,r,n))).getOr(!1),p3=(e,t)=>zf(e,t),Sw={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},mN=e=>Ko(e,t=>({...Sw,...t})),Ew=e=>Ko(e,t=>({...Sw,...t})),sv=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Up=(e,t)=>Yn(mN(e),n=>sv(n,t)?[n]:[]),v1=(e,t)=>Yn(Ew(e),n=>sv(n,t)?[n]:[]),vo=(e,...t)=>()=>e.apply(null,t),bb=(e,t)=>zn(Up(e,t),n=>n.action()),pN=(e,t)=>Xs(v1(e,t),n=>n.action()),av=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return j6(e,n,r,Iy,Wh,qi).exists(i=>(Fp(e,i),!0))},iv=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return Z6(e,n,r,Iy,Wh,qi).exists(i=>(Fp(e,i),!0))},gN=(e,t)=>mb(e,t,t?Wh:Iy),_1=Pt.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),fi={..._1,none:e=>_1.none(e)},k1=(e,t)=>hN(e,t,fo),hN=(e,t,n)=>Yn(_a(e),r=>Va(r,t)?n(r)?[r]:[]:hN(r,t,n)),bN=(e,t,n=bo)=>{if(n(t))return H.none();if(en(e,mn(t)))return H.some(t);const r=i=>Va(i,"table")||n(i);return sd(t,e.join(","),r)},g3=(e,t)=>bN(["td","th"],e,t),yN=e=>k1(e,"th,td"),h3=(e,t)=>la(e,"table",t),Fu=(e,t,n,r,i=fo)=>{const c=r===1;if(!c&&n<=0)return fi.first(e[0]);if(c&&n>=e.length-1)return fi.last(e[e.length-1]);{const u=n+r,g=e[u];return i(g)?fi.middle(t,g):Fu(e,t,u,r,i)}},w1=(e,t)=>h3(e,t).bind(n=>{const r=yN(n);return er(r,c=>Xo(e,c)).map(c=>({index:c,all:r}))}),xN=(e,t,n)=>w1(e,n).fold(()=>fi.none(e),i=>Fu(i.all,e,i.index,1,t)),vN=(e,t,n)=>w1(e,n).fold(()=>fi.none(),i=>Fu(i.all,e,i.index,-1,t)),b3=e=>Y1(e).filter(t=>t.trim().length!==0||t.indexOf(rs)>-1).isSome(),_N=e=>ya(e)&&xa(e,"contenteditable")==="false",jp=["img","br"],kN=e=>b3(e)||en(jp,mn(e))||_N(e),wN=e=>nc(e,kN),CN=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),SN=(e,t)=>Yn(t,n=>{const r=CN(gd(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),xB=(e,t,n)=>mo(e,(r,i)=>r.fold(()=>H.some(i),c=>{const u=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-n)),g=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n));return H.some(g<u?i:c)}),H.none()),Te=(e,t,n,r,i)=>{const c=Ds(re.fromDom(n),"td,th,caption").map(g=>g.dom),u=Ke(SN(e,c),g=>t(g,i));return xB(u,r,i).map(g=>g.cell)},Zo=e=>e.bottom,xo=e=>e.top,es=(e,t)=>e.y<t,ks=(e,t)=>e.y>t,Nr=De(Te,Zo,es),ll=De(Te,xo,ks),Zp=(e,t)=>ut(t.getClientRects()).bind(n=>Nr(e,n.left,n.top)).bind(n=>b1(rB(n),t)),wm=(e,t)=>ko(t.getClientRects()).bind(n=>ll(e,n.left,n.top)).bind(n=>b1(nB(n),t)),ql=(e,t,n)=>n.breakAt.exists(r=>e(t,r).breakAt.isSome()),vB=e=>e.breakType===Ef.Wrap&&e.positions.length===0,EN=e=>e.breakType===Ef.Br&&e.positions.length===1,y3=(e,t,n)=>{const r=e(t,n);return vB(r)||!ss(n.getNode())&&EN(r)?!ql(e,t,r):r.breakAt.isNone()},p9=De(y3,ub),g9=De(y3,Qx),h9=(e,t,n)=>{const r=Ve.fromRangeStart(t);return yy(!e,n).exists(i=>i.isEqual(r))},b9=(e,t,n,r)=>{const i=e.selection.getRng(),c=t?1:-1;return BE()&&h9(t,i,n)?(Iu(c,e,n,!t,!1).each(u=>{Fp(e,u)}),!0):!1},y9=(e,t,n)=>Zp(t,n).orThunk(()=>ut(n.getClientRects()).bind(r=>J4(Q4(e,Ve.before(t)),r.left))).getOr(Ve.before(t)),x9=(e,t,n)=>wm(t,n).orThunk(()=>ut(n.getClientRects()).bind(r=>J4(M6(e,Ve.after(t)),r.left))).getOr(Ve.after(t)),OP=(e,t)=>{const n=t.getNode(e);return id(n)?H.some(n):H.none()},v9=(e,t,n)=>{t.undoManager.transact(()=>{const r=e?Jo:jr,i=pr(t,re.fromDom(n),r);Fp(t,i)})},AP=(e,t,n)=>{const r=OP(!!t,n),i=t===!1;r.fold(()=>Fp(e,n.toRange()),c=>yy(i,e.getBody()).filter(u=>u.isEqual(n)).fold(()=>Fp(e,n.toRange()),u=>v9(t,e,c)))},_9=(e,t,n,r)=>{const i=e.selection.getRng(),c=Ve.fromRangeStart(i),u=e.getBody();if(!t&&p9(r,c)){const g=y9(u,n,c);return AP(e,t,g),!0}else if(t&&g9(r,c)){const g=x9(u,n,c);return AP(e,t,g),!0}else return!1},NP=(e,t,n)=>H.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>H.from(e.dom.getParent(r,"table")).map(i=>n(e,t,i,r))).getOr(!1),RP=(e,t)=>NP(e,t,b9),_B=(e,t)=>NP(e,t,_9),k9=e=>{const t=Sg.exact(e,0,e,0);return F_(t)},DP=(e,t,n)=>n.fold(H.none,H.none,(r,i)=>wN(i).map(c=>k9(c)),r=>e.mode.isReadOnly()||!w9(r)?H.none():(e.execCommand("mceTableInsertRowAfter"),MP(e,t,r))),w9=e=>Ec(e,ia("table")).exists(si),MP=(e,t,n)=>DP(e,t,xN(n,BP)),C9=(e,t,n)=>DP(e,t,vN(n,BP)),BP=e=>si(e)||Xp(e,S9),S9=e=>ya(e)&&si(e),PP=(e,t)=>{const n=["table","li","dl"],r=re.fromDom(e.getBody()),i=g=>{const x=mn(g);return Xo(g,r)||en(n,x)},c=e.selection.getRng(),u=re.fromDom(t?c.endContainer:c.startContainer);return g3(u,i).map(g=>(h3(g,i).each(R=>{e.model.table.clearSelectedCells(R.dom)}),e.selection.collapse(!t),(t?MP:C9)(e,i,g).each(R=>{e.selection.setRng(R)}),!0)).getOr(!1)},E9=(e,t,n)=>{const r=Rt.os.isMacOS()||Rt.os.isiOS();bb([{keyCode:Ft.RIGHT,action:vo(gb,e,!0)},{keyCode:Ft.LEFT,action:vo(gb,e,!1)},{keyCode:Ft.UP,action:vo(_m,e,!1)},{keyCode:Ft.DOWN,action:vo(_m,e,!0)},...r?[{keyCode:Ft.UP,action:vo($p,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ft.DOWN,action:vo($p,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ft.RIGHT,action:vo(RP,e,!0)},{keyCode:Ft.LEFT,action:vo(RP,e,!1)},{keyCode:Ft.UP,action:vo(_B,e,!1)},{keyCode:Ft.DOWN,action:vo(_B,e,!0)},{keyCode:Ft.UP,action:vo(_B,e,!1)},{keyCode:Ft.UP,action:vo(p3,e,!1)},{keyCode:Ft.DOWN,action:vo(p3,e,!0)},{keyCode:Ft.RIGHT,action:vo(av,e,!0)},{keyCode:Ft.LEFT,action:vo(av,e,!1)},{keyCode:Ft.UP,action:vo(iv,e,!1)},{keyCode:Ft.DOWN,action:vo(iv,e,!0)},{keyCode:Ft.RIGHT,action:vo(o3,e,t,!0)},{keyCode:Ft.LEFT,action:vo(o3,e,t,!1)},{keyCode:Ft.RIGHT,ctrlKey:!r,altKey:r,action:vo(Y6,e,t)},{keyCode:Ft.LEFT,ctrlKey:!r,altKey:r,action:vo(X6,e,t)},{keyCode:Ft.UP,action:vo(km,e,!1)},{keyCode:Ft.DOWN,action:vo(km,e,!0)}],n).each(i=>{n.preventDefault()})},z9=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||E9(e,t,n)})},Wp=(e,t)=>({container:e,offset:t}),zN=Ar.DOM,TN=e=>t=>e===t?-1:0,T9=e=>t=>e.isBlock(t)||en(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",kB=(e,t,n)=>{if(lt(e)&&t>=0)return H.some(Wp(e,t));{const r=pd(zN);return H.from(r.backwards(e,t,TN(e),n)).map(i=>Wp(i.container,i.container.data.length))}},O9=(e,t,n)=>{if(lt(e)&&t>=e.length)return H.some(Wp(e,t));{const r=pd(zN);return H.from(r.forwards(e,t,TN(e),n)).map(i=>Wp(i.container,0))}},wB=(e,t,n)=>{if(!lt(e))return H.none();const r=e.data;if(t>=0&&t<=r.length)return H.some(Wp(e,t));{const i=pd(zN);return H.from(i.backwards(e,t,TN(e),n)).bind(c=>{const u=c.container.data;return wB(c.container,t+u.length,n)})}},LP=(e,t,n)=>{if(!lt(e))return H.none();const r=e.data;if(t<=r.length)return H.some(Wp(e,t));{const i=pd(zN);return H.from(i.forwards(e,t,TN(e),n)).bind(c=>LP(c.container,t-r.length,n))}},CB=(e,t,n,r,i)=>{const c=pd(e,T9(e));return H.from(c.backwards(t,n,r,i))},A9=e=>e.collapsed&&lt(e.startContainer),N9=e=>Sa(e.toString().replace(/\u00A0/g," ")),IP=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,R9=(e,t)=>e.substring(t.length),D9=(e,t,n,r=!1)=>{let i;const c=n.charAt(0);for(i=t-1;i>=0;i--){const u=e.charAt(i);if(!r&&IP(u))return H.none();if(c===u&&br(e,n,i,t))break}return H.some(i)},SB=(e,t,n,r=!1)=>{if(!A9(t))return H.none();const i={text:"",offset:0},c=(g,x,C)=>(i.text=C+i.text,i.offset+=x,D9(i.text,i.offset,n,r).getOr(x)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return CB(e,t.startContainer,t.startOffset,c,u).bind(g=>{const x=t.cloneRange();if(x.setStart(g.container,g.offset),x.setEnd(t.endContainer,t.endOffset),x.collapsed)return H.none();const C=N9(x);return C.lastIndexOf(n)!==0?H.none():H.some({text:R9(C,n),range:x,trigger:n})})},M9=e=>e.nodeType===Xl,B9=e=>e.nodeType===Qc,FP=e=>{if(M9(e))return Wp(e,e.data.length);{const t=e.childNodes;return t.length>0?FP(t[t.length-1]):Wp(e,t.length)}},HP=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?HP(n[t],0):n.length>0&&B9(e)&&n.length===t?FP(n[n.length-1]):Wp(e,t)},P9=(e,t)=>{var n;const r=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return CB(e,t.container,t.offset,(i,c)=>c===0?-1:c,r).filter(i=>{const c=i.container.data.charAt(i.offset-1);return!IP(c)}).isSome()},L9=e=>t=>{const n=HP(t.startContainer,t.startOffset);return!P9(e,n)},I9=(e,t,n)=>Xs(n.triggers,r=>SB(e,t,r)),F9=(e,t)=>{const n=t(),r=e.selection.getRng();return I9(e.dom,r,n).bind(i=>VP(e,t,i))},VP=(e,t,n,r={})=>{var i;const c=t(),g=(i=e.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",x=Ke(c.lookupByTrigger(n.trigger),R=>n.text.length>=R.minChars&&R.matches.getOrThunk(()=>L9(e.dom))(n.range,g,n.text));if(x.length===0)return H.none();const C=Promise.all(Ko(x,R=>R.fetch(n.text,R.maxResults,r).then(L=>({matchText:n.text,items:L,columns:R.columns,onAction:R.onAction,highlightOn:R.highlightOn}))));return H.some({lookupData:C,context:n})};var Tf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Tf||(Tf={}));const EB=(e,t,n)=>e.stype===Tf.Error?t(e.serror):n(e.svalue),H9=e=>{const t=[],n=[];return Ne(e,r=>{EB(r,i=>n.push(i),i=>t.push(i))}),{values:t,errors:n}},V9=(e,t)=>e.stype===Tf.Error?{stype:Tf.Error,serror:t(e.serror)}:e,$9=(e,t)=>e.stype===Tf.Value?{stype:Tf.Value,svalue:t(e.svalue)}:e,U9=(e,t)=>e.stype===Tf.Value?t(e.svalue):e,j9=(e,t)=>e.stype===Tf.Error?t(e.serror):e,$P=e=>({stype:Tf.Value,svalue:e}),UP=e=>({stype:Tf.Error,serror:e}),Sl={fromResult:e=>e.fold(UP,$P),toResult:e=>EB(e,ct.error,ct.value),svalue:$P,partition:H9,serror:UP,bind:U9,bindError:j9,map:$9,mapError:V9,fold:EB},zB=e=>ue(e)&&rt(e).length>100?" removed due to size":JSON.stringify(e,null,2),Z9=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Je("... (only showing first ten failures)")}]):e;return Ko(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},ON=(e,t)=>Sl.serror([{path:e,getErrorInfo:t}]),W9=(e,t,n)=>ON(e,()=>'Could not find valid *required* value for "'+t+'" in '+zB(n)),q9=(e,t)=>ON(e,()=>'Choice schema did not contain choice key: "'+t+'"'),G9=(e,t,n)=>ON(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+zB(t)),K9=(e,t)=>ON(e,Je(t)),Y9=(e,t,n,r)=>Hn(n,r).fold(()=>G9(e,n,r),c=>c.extract(e.concat(["branch: "+r]),t)),X9=(e,t)=>({extract:(i,c)=>Hn(c,e).fold(()=>q9(i,e),g=>Y9(i,c,t,g)),toString:()=>"chooseOn("+e+"). Possible values: "+rt(t)}),J9=(e,t)=>t,Q9=(e,t)=>Ct(e)&&Ct(t)?AN(e,t):t,jP=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const i=t[r];for(const c in i)go(i,c)&&(n[c]=e(n[c],i[c]))}return n},AN=jP(Q9),ZP=jP(J9),TB=()=>({tag:"required",process:{}}),eH=e=>({tag:"defaultedThunk",process:e}),WP=e=>eH(Je(e)),tH=()=>({tag:"option",process:{}}),oH=(e,t)=>e.length>0?Sl.svalue(AN(t,ZP.apply(void 0,e))):Sl.svalue(t),qP=e=>Do(Sl.serror,Rn)(e),GP={consolidateObj:(e,t)=>{const n=Sl.partition(e);return n.errors.length>0?qP(n.errors):oH(n.values,t)},consolidateArr:e=>{const t=Sl.partition(e);return t.errors.length>0?qP(t.errors):Sl.svalue(t.values)}},nH=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),rH=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),KP=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},OB=e=>{const t=(r,i)=>Sl.bindError(e(i),c=>K9(r,c)),n=Je("val");return{extract:t,toString:n}},sH=OB(Sl.svalue),aH=(e,t,n,r)=>Hn(t,n).fold(()=>W9(e,n,t),r),YP=(e,t,n,r)=>{const i=Hn(e,t).getOrThunk(()=>n(e));return r(i)},iH=(e,t,n)=>n(Hn(e,t)),lH=(e,t,n,r)=>{const i=Hn(e,t).map(c=>c===!0?n(e):c);return r(i)},cH=(e,t,n,r,i)=>{const c=g=>i.extract(t.concat([r]),g),u=g=>g.fold(()=>Sl.svalue(H.none()),x=>{const C=i.extract(t.concat([r]),x);return Sl.map(C,H.some)});switch(e.tag){case"required":return aH(t,n,r,c);case"defaultedThunk":return YP(n,r,e.process,c);case"option":return iH(n,r,u);case"defaultedOptionThunk":return lH(n,r,e.process,u);case"mergeWithThunk":return YP(n,r,Je({}),g=>{const x=AN(e.process(n),g);return c(x)})}},dH=(e,t,n)=>{const r={},i=[];for(const c of n)KP(c,(u,g,x,C)=>{const R=cH(x,e,t,u,C);Sl.fold(R,B=>{i.push(...B)},B=>{r[g]=B})},(u,g)=>{r[u]=g(t)});return i.length>0?Sl.serror(i):Sl.svalue(r)},x3=e=>({extract:(r,i)=>dH(r,i,e),toString:()=>`obj{
`+Ko(e,i=>KP(i,(c,u,g,x)=>c+" -> "+x.toString(),(c,u)=>"state("+c+")")).join(`
`)+"}"}),AB=e=>({extract:(r,i)=>{const c=Ko(i,(u,g)=>e.extract(r.concat(["["+g+"]"]),u));return GP.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),uH=(e,t)=>{const n=un;return{extract:(c,u)=>{const g=[];for(const x of e){const C=x.extract(c,u);if(C.stype===Tf.Value)return{stype:Tf.Value,svalue:n(C.svalue)};g.push(C)}return GP.consolidateArr(g)},toString:()=>"oneOf("+Ko(e,c=>c.toString()).join(", ")+")"}},fH=Do(AB,x3),mH=e=>OB(t=>e(t).fold(Sl.serror,Sl.svalue)),pH=(e,t,n)=>{const r=t.extract([e],n);return Sl.mapError(r,i=>({input:n,errors:i}))},gH=(e,t,n)=>Sl.toResult(pH(e,t,n)),hH=e=>`Errors: 
`+Z9(e.errors).join(`
`)+`

Input object: `+zB(e.input),NB=(e,t)=>X9(e,Ii(t,x3)),bH=Je(sH),NN=(e,t)=>OB(n=>{const r=typeof n;return e(n)?Sl.svalue(n):Sl.serror(`Expected type: ${t} but got: ${r}`)}),yH=NN(O,"number"),zw=NN(ht,"string"),xH=NN(Zn,"boolean"),RB=NN(jt,"function"),Tw=nH,XP=rH,JP=e=>mH(t=>en(e,t)?ct.value(t):ct.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),DB=(e,t)=>Tw(e,e,TB(),t),QP=e=>DB(e,zw),MB=(e,t)=>Tw(e,e,TB(),JP(t)),eL=e=>DB(e,RB),tL=(e,t)=>Tw(e,e,TB(),AB(t)),RN=(e,t)=>Tw(e,e,tH(),t),lv=e=>RN(e,zw),vH=e=>RN(e,RB),_H=(e,t)=>RN(e,x3(t)),kH=(e,t)=>Tw(e,e,WP(t),bH()),Ow=(e,t,n)=>Tw(e,e,WP(t),n),oL=(e,t)=>Ow(e,t,yH),DN=(e,t)=>Ow(e,t,zw),nL=(e,t,n)=>Ow(e,t,JP(n)),BB=(e,t)=>Ow(e,t,xH),yb=(e,t)=>Ow(e,t,RB),wH=(e,t,n)=>Ow(e,t,AB(n)),CH=QP("type"),SH=eL("fetch"),PB=eL("onAction"),EH=yb("onSetup",()=>io),zH=lv("text"),TH=lv("icon"),OH=lv("tooltip"),AH=lv("label"),NH=BB("active",!1),RH=BB("enabled",!0),rL=BB("primary",!1),DH=e=>kH("columns",e),Aw=e=>DN("type",e),MH=x3([CH,QP("trigger"),oL("minChars",1),DH(1),oL("maxResults",10),vH("matches"),SH,PB,wH("highlightOn",[],zw)]),BH=e=>gH("Autocompleter",MH,e),MN=[RH,OH,TH,zH,EH,DN("context","mode:design")],sL=[NH].concat(MN),BN=[yb("predicate",bo),nL("scope","node",["node","editor"]),nL("position","selection",["node","selection","line"])],PH=MN.concat([Aw("contextformbutton"),DN("align","end"),rL,PB,XP("original",un)]),LH=sL.concat([Aw("contextformbutton"),DN("align","end"),rL,PB,XP("original",un)]),IH=MN.concat([Aw("contextformbutton")]),FH=sL.concat([Aw("contextformtogglebutton")]),HH=NB("type",{contextformbutton:PH,contextformtogglebutton:LH}),LB=[AH,tL("commands",HH),RN("launch",NB("type",{contextformbutton:IH,contextformtogglebutton:FH})),yb("onInput",io),yb("onSetup",io)],VH=[...BN,...LB,MB("type",["contextform"]),yb("initValue",Je("")),lv("placeholder")],$H=[...BN,...LB,MB("type",["contextsliderform"]),yb("initValue",Je(0)),yb("min",Je(0)),yb("max",Je(100))],UH=[...BN,...LB,MB("type",["contextsizeinputform"]),yb("initValue",Je({width:"",height:""}))];NB("type",{contextform:VH,contextsliderform:$H,contextsizeinputform:UH});const jH=MN.concat([Aw("contexttoolbarbutton")]);x3([Aw("contexttoolbar"),_H("launch",jH),DB("items",uH([zw,fH([lv("name"),lv("label"),tL("items",zw)])]))].concat(BN));const ZH=e=>{const t=e.ui.registry.getAll().popups,n=Ii(t,u=>BH(u).fold(g=>{throw new Error(hH(g))},un)),r=kc(Oa(n,u=>u.trigger)),i=Tl(n);return{dataset:n,triggers:r,lookupByTrigger:u=>Ke(i,g=>g.trigger===u)}},WH=(e,t)=>{const n=Ms(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",r=>{const i=r.which;i===8?n.throttle():i===27?(n.cancel(),t.cancelIfNecessary()):(i===38||i===40)&&n.cancel()},!0),e.on("remove",n.cancel)},qH=e=>{const t=cc(),n=zr(!1),r=t.isSet,i=()=>{r()&&(Lr(e),n.set(!1),t.clear())},c=B=>{r()||t.set({trigger:B.trigger,matchLength:B.text.length})},u=Ja(()=>ZH(e)),g=B=>t.get().map(L=>SB(e.dom,e.selection.getRng(),L.trigger,!0).bind(W=>VP(e,u,W,B))).getOrThunk(()=>F9(e,u)),x=B=>{g(B).fold(i,L=>{c(L.context),L.lookupData.then(W=>{t.get().map(ee=>{const K=L.context;ee.trigger===K.trigger&&(t.set({...ee,matchLength:K.text.length}),n.get()?(m0(e,{range:K.range}),Jw(e,{lookupData:W})):(n.set(!0),m0(e,{range:K.range}),V3(e,{lookupData:W})))})})})},C=(B,L)=>{const W=B.compareBoundaryPoints(window.Range.START_TO_START,L),ee=B.compareBoundaryPoints(window.Range.END_TO_END,L);return W>=0&&ee<=0},R=()=>t.get().bind(({trigger:B})=>{const L=e.selection.getRng();return SB(e.dom,L,B,n.get()).filter(({range:W})=>C(L,W)).map(({range:W})=>W)});e.addCommand("mceAutocompleterReload",(B,L)=>{const W=ue(L)?L.fetchOptions:{};x(W)}),e.addCommand("mceAutocompleterClose",i),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{R().each(B=>{m0(e,{range:B})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>R().isSome()),WH(e,{cancelIfNecessary:i,load:x})},GH=js().browser.isSafari(),aL=e=>cf(re.fromDom(e)),iL=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},PN=(e,t)=>H.from(e.getParent(t.container(),"details")),lL=(e,t)=>PN(e,t).isSome(),KH=(e,t)=>{const n=H.from(e.getParent(t.startContainer,"details")),r=H.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const i=n.bind(c=>H.from(e.select("summary",c)[0]));return H.some({startSummary:i,startDetails:n,endDetails:r})}else return H.none()},YH=(e,t)=>is(t).exists(n=>n.isEqual(e)),XH=(e,t)=>Tu(t).exists(n=>ss(n.getNode())&&bc(t,n).exists(r=>r.isEqual(e))||n.isEqual(e)),JH=(e,t)=>t.startSummary.exists(n=>YH(e,n)),QH=(e,t)=>t.startSummary.exists(n=>XH(e,n)),eV=(e,t)=>t.startDetails.exists(n=>bc(n,e).forall(r=>t.startSummary.exists(i=>!i.contains(e.container())&&i.contains(r.container())))),tV=(e,t,n)=>n.startDetails.exists(r=>Hl(e,t).forall(i=>!r.contains(i.container()))),cL=(e,t)=>{const n=t.getNode();ar(n)||e.selection.setCursorLocation(n,t.offset())},dL=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const i=e.dom.select("summary",r)[0];i&&(n?is(i):Tu(i)).each(u=>cL(e,u))}else cL(e,t)},oV=(e,t)=>{const n=x=>x.contains(e.startContainer),r=x=>x.contains(e.endContainer),i=t.startSummary.exists(n),c=t.startSummary.exists(r),u=t.startDetails.forall(x=>t.endDetails.forall(C=>x!==C));return(i||c)&&!(i&&c)||u},uL=(e,t,n)=>{const{dom:r,selection:i}=e,c=e.getBody();if(n==="character"){const u=Ve.fromRangeStart(i.getRng()),g=r.getParent(u.container(),r.isBlock),x=PN(r,u),C=g&&r.isEmpty(g),R=qe(g==null?void 0:g.previousSibling),B=qe(g==null?void 0:g.nextSibling);return C&&(t?B:R)&&zh(!t,c,u).exists(ee=>lL(r,ee)&&!Jc(x,PN(r,ee)))?!0:zh(t,c,u).fold(bo,L=>{const W=PN(r,L);if(lL(r,L)&&!Jc(x,W)){if(t||dL(e,L,!1),g&&C){if(t&&R)return!0;if(!t&&B)return!0;dL(e,L,t),e.dom.remove(g)}return!0}else return!1})}else return!1},nV=(e,t,n,r)=>{const c=e.selection.getRng(),u=Ve.fromRangeStart(c),g=e.getBody();return r==="selection"?oV(c,t):n?QH(u,t)||tV(g,u,t):JH(u,t)||eV(u,t)},rV=(e,t,n)=>KH(e.dom,e.selection.getRng()).fold(()=>uL(e,t,n),r=>nV(e,r,t,n)||uL(e,t,n)),sV=(e,t,n)=>{const r=e.selection,i=r.getNode(),c=r.getRng(),u=Ve.fromRangeStart(c);return Yg(i)?(n==="selection"&&iL(c,i)||DT(t,u,i)?aL(i):e.undoManager.transact(()=>{const g=r.getSel();let{anchorNode:x,anchorOffset:C,focusNode:R,focusOffset:B}=g??{};const L=()=>{Le(x)&&Le(C)&&Le(R)&&Le(B)&&(g==null||g.setBaseAndExtent(x,C,R,B))},W=()=>{x=g==null?void 0:g.anchorNode,C=g==null?void 0:g.anchorOffset,R=g==null?void 0:g.focusNode,B=g==null?void 0:g.focusOffset},ee=(ne,me)=>{Ne(ne.childNodes,Ce=>{wy(Ce)&&me.appendChild(Ce)})},K=e.dom.create("span",{"data-mce-bogus":"1"});ee(i,K),i.appendChild(K),L(),(n==="word"||n==="line")&&(g==null||g.modify("extend",t?"right":"left",n)),!r.isCollapsed()&&iL(r.getRng(),K)?aL(i):(e.execCommand(t?"ForwardDelete":"Delete"),W(),ee(K,i),L()),e.dom.remove(K)}),!0):!1},cv=(e,t,n)=>rV(e,t,n)||GH&&sV(e,t,n)?H.some(io):H.none(),fL=e=>(t,n,r={})=>{const i=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:io,inputType:n},u=wv(new InputEvent(e));return t.dispatch(e,{...u,...c,...r})},v3=fL("input"),LN=fL("beforeinput"),mL=js(),pL=mL.os,gL=pL.isMacOS()||pL.isiOS(),aV=mL.browser.isFirefox(),iV=(e,t,n)=>{const r=n.keyCode===Ft.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),c=i?"character":"selection",u=g=>i?g?"word":"line":"selection";pN([{keyCode:Ft.BACKSPACE,action:vo(j,e)},{keyCode:Ft.BACKSPACE,action:vo(j4,e,!1)},{keyCode:Ft.DELETE,action:vo(j4,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(Xx,e,!1)},{keyCode:Ft.DELETE,action:vo(Xx,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(xw,e,t,!1)},{keyCode:Ft.DELETE,action:vo(xw,e,t,!0)},{keyCode:Ft.BACKSPACE,action:vo(Jh,e,!1)},{keyCode:Ft.DELETE,action:vo(Jh,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(cv,e,!1,c)},{keyCode:Ft.DELETE,action:vo(cv,e,!0,c)},...gL?[{keyCode:Ft.BACKSPACE,altKey:!0,action:vo(cv,e,!1,u(!0))},{keyCode:Ft.DELETE,altKey:!0,action:vo(cv,e,!0,u(!0))},{keyCode:Ft.BACKSPACE,metaKey:!0,action:vo(cv,e,!1,u(!1))}]:[{keyCode:Ft.BACKSPACE,ctrlKey:!0,action:vo(cv,e,!1,u(!0))},{keyCode:Ft.DELETE,ctrlKey:!0,action:vo(cv,e,!0,u(!0))}],{keyCode:Ft.BACKSPACE,action:vo(W4,e,!1)},{keyCode:Ft.DELETE,action:vo(W4,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(f,e,!1)},{keyCode:Ft.DELETE,action:vo(f,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(uw,e,!1)},{keyCode:Ft.DELETE,action:vo(uw,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(Ip,e,!1)},{keyCode:Ft.DELETE,action:vo(Ip,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(m3,e,!1)},{keyCode:Ft.DELETE,action:vo(m3,e,!0)},{keyCode:Ft.BACKSPACE,action:vo(Z4,e,!1)},{keyCode:Ft.DELETE,action:vo(Z4,e,!0)}],n).filter(g=>e.selection.isEditable()).each(g=>{n.preventDefault(),LN(e,r).isDefaultPrevented()||(g(),v3(e,r))})},lV=(e,t,n)=>bb([{keyCode:Ft.BACKSPACE,action:vo(h6,e)},{keyCode:Ft.DELETE,action:vo(h6,e)},...gL?[{keyCode:Ft.BACKSPACE,altKey:!0,action:vo(s,e)},{keyCode:Ft.DELETE,altKey:!0,action:vo(s,e)},...n?[{keyCode:aV?224:91,action:vo(s,e)}]:[]]:[{keyCode:Ft.BACKSPACE,ctrlKey:!0,action:vo(s,e)},{keyCode:Ft.DELETE,ctrlKey:!0,action:vo(s,e)}]],t),cV=(e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===Ft.BACKSPACE,r.isDefaultPrevented()||iV(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||lV(e,r,n),n=!1})},dV=e=>{for(;e;){if(At(e)||lt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Nw=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=dV(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(n.doc.createTextNode(rs),t.firstChild)}const i=n.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Kr(t,t);let u=t,g;for(;g=c.current();){if(lt(g)){i.setStart(g,0),i.setEnd(g,0);break}if(r[g.nodeName.toLowerCase()]){i.setStartBefore(g),i.setEndBefore(g);break}u=g,g=c.next()}g||(i.setStart(u,0),i.setEnd(u,0))}else ss(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),Z0(e,i)},_3=(e,t)=>{const n=e.getRoot();let r,i=t;for(;i!==n&&i&&e.getContentEditable(i)!=="false";){if(e.getContentEditable(i)==="true"){r=i;break}i=i.parentNode}return i!==n?r:n},IB=e=>H.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),uV=e=>IB(e).fold(Je(""),t=>t.nodeName.toUpperCase()),fV=e=>IB(e).filter(t=>ku(re.fromDom(t))).isSome(),FB=e=>{e.innerHTML='<br data-mce-bogus="1">'},mV=(e,t,n)=>{const r=e.dom;H.from(n.style).map(r.parseStyle).each(x=>{const R={...Ti(re.fromDom(t)),...x};r.setStyles(t,R)});const i=H.from(n.class).map(x=>x.split(/\s+/)),c=H.from(t.className).map(x=>Ke(x.split(/\s+/),C=>C!==""));ba(i,c,(x,C)=>{const R=Ke(C,L=>!en(x,L)),B=[...x,...R];r.setAttrib(t,"class",B.join(" "))});const u=["style","class"],g=Ji(n,(x,C)=>!en(u,C));r.setAttribs(t,g)},k3=(e,t)=>{if(Xi(e).toLowerCase()===t.tagName.toLowerCase()){const r=p0(e);mV(e,t,r)}},hL=(e,t,n,r,i=!0,c,u)=>{const g=e.dom,x=e.schema,C=Xi(e),R=n?n.nodeName.toUpperCase():"";let B=t;const L=x.getTextInlineElements();let W;c||R==="TABLE"||R==="HR"?W=g.create(c||C,u||{}):W=n.cloneNode(!1);let ee=W;if(!i)g.setAttrib(W,"style",null),g.setAttrib(W,"class",null);else do if(L[B.nodeName]){if(Kn(B)||Cl(B))continue;const K=B.cloneNode(!1);g.setAttrib(K,"id",""),W.hasChildNodes()?(K.appendChild(W.firstChild),W.appendChild(K)):(ee=K,W.appendChild(K))}while((B=B.parentNode)&&B!==r);return k3(e,W),FB(ee),W},pV=(e,t)=>e.dom.getParent(t,$f),gV=(e,t,n)=>{let r=t;for(;r&&r!==e&&qe(r.nextSibling);){const i=r.parentElement;if(!i||!n(i))return $f(i);r=i}return!1},hV=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Xi(e)&&e.dom.isEmpty(n)&&gV(e.getBody(),n,r=>go(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),bV=(e,t,n)=>{var r,i,c;const u=t(Xi(e)),g=pV(e,n);g&&(e.dom.insertAfter(u,g),Nw(e,u),((c=(i=(r=n.parentElement)===null||r===void 0?void 0:r.childNodes)===null||i===void 0?void 0:i.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(n))},yV=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,xV=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},bL=(e,t)=>{const n=e==null?void 0:e.parentNode;return Le(n)&&n.nodeName===t},yL=e=>Le(e)&&/^(OL|UL|LI)$/.test(e.nodeName),HB=e=>Le(e)&&/^(LI|DT|DD)$/.test(e.nodeName),vV=e=>yL(e)&&yL(e.parentNode),IN=e=>{const t=e.parentNode;return HB(t)?t:e},FN=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!At(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},xL=e=>mo(Oa(Ti(re.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),_V=(e,t,n,r,i)=>{const c=e.dom,u=e.selection.getRng(),g=n.parentNode;if(n===e.getBody()||!g)return;vV(n)&&(i="LI");const x=HB(r)?xL(r):void 0;let C=HB(r)&&x?t(i,{style:xL(r)}):t(i);if(FN(n,r,!0)&&FN(n,r,!1))if(bL(n,"LI")){const R=IN(n);c.insertAfter(C,R),xV(n)?c.remove(R):c.remove(n)}else c.replace(C,n);else if(FN(n,r,!0))bL(n,"LI")?(c.insertAfter(C,IN(n)),C.appendChild(c.doc.createTextNode(" ")),C.appendChild(n)):g.insertBefore(C,n),c.remove(r);else if(FN(n,r,!1))c.insertAfter(C,IN(n)),c.remove(r);else{n=IN(n);const R=u.cloneRange();R.setStartAfter(r),R.setEndAfter(n);const B=R.extractContents();if(i==="LI"&&yV(B,"LI")){const L=Ke(Ko(C.children,re.fromDom),Se(ia("br")));C=B.firstChild,c.insertAfter(B,n),Ne(L,W=>Zi(re.fromDom(C),W)),x&&C.setAttribute("style",x)}else c.insertAfter(B,n),c.insertAfter(C,n);c.remove(r)}Nw(e,C)},kV=e=>{Ne(Ud(re.fromDom(e),Zs),t=>{const n=t.dom;n.nodeValue=Sa(n.data)})},wV=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},CV=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),VB=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,SV=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,$B=(e,t)=>Le(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",EV=(e,t,n)=>{var r;const i=[];if(!n)return;let c=n;for(;c=c.firstChild;){if(e.isBlock(c))return;At(c)&&!t[c.nodeName.toLowerCase()]&&i.push(c)}let u=i.length;for(;u--;)c=i[u],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((r=c.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||CV(e,c))&&e.remove(c)},UB=(e,t,n)=>lt(t)?e?n===1&&t.data.charAt(n-1)===Gs?0:n:n===t.data.length-1&&t.data.charAt(n)===Gs?t.data.length:n:n,zV=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,UB(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,UB(!1,e.endContainer,e.endOffset)),t},TV=e=>{let t=e;do lt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},OV=(e,t,n,r,i)=>{var c,u;const g=e.dom,x=(c=_3(g,r))!==null&&c!==void 0?c:g.getRoot();let C=g.getParent(r,g.isBlock);if(!C||!$B(g,C)){if(C=C||x,!C.hasChildNodes()){const W=g.create(t);return k3(e,W),C.appendChild(W),n.setStart(W,0),n.setEnd(W,0),W}let R=r;for(;R&&R.parentNode!==C;)R=R.parentNode;let B;for(;R&&!g.isBlock(R);)B=R,R=R.previousSibling;const L=(u=B==null?void 0:B.parentElement)===null||u===void 0?void 0:u.nodeName;if(B&&L&&e.schema.isValidChild(L,t.toLowerCase())){const W=B.parentNode,ee=g.create(t);for(k3(e,ee),W.insertBefore(ee,B),R=B;R&&!g.isBlock(R);){const K=R.nextSibling;ee.appendChild(R),R=K}n.setStart(r,i),n.setEnd(r,i)}}return r},AV=(e,t)=>{t.normalize();const n=t.lastChild;(!n||At(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},NV=(e,t)=>{const n=n2(e);return Po(t)?!1:ht(n)?en(gt.explode(n),t.nodeName.toLowerCase()):n},vL={insert:(e,t)=>{let n,r,i,c,u=!1;const g=e.dom,x=e.schema,C=x.getNonEmptyElements(),R=e.selection.getRng(),B=Xi(e),L=re.fromDom(R.startContainer),W=$d(L,R.startOffset),ee=W.exists(tt=>ya(tt)&&!si(tt)),K=R.collapsed&&ee,ne=(tt,Et)=>hL(e,n,pt,Xe,o2(e),tt,Et),me=tt=>{const Et=UB(tt,n,r);if(lt(n)&&(tt?Et>0:Et<n.data.length))return!1;if((n.parentNode===pt||n===pt)&&u&&!tt||tt&&At(n)&&n===pt.firstChild)return!0;if(VB(n,"TABLE")||VB(n,"HR"))return SV(n,"BR")?!tt:u&&!tt||!u&&tt;const Qt=new Kr(n,pt);lt(n)&&(tt&&Et===0?Qt.prev():!tt&&Et===n.data.length&&Qt.next());let on;for(;on=Qt.current();){if(At(on)){if(!on.getAttribute("data-mce-bogus")){const rn=on.nodeName.toLowerCase();if(C[rn]&&rn!=="br")return!1}}else if(lt(on)&&!Ac(on.data))return!1;tt?Qt.prev():Qt.next()}return!0},Ce=()=>{let tt;return/^(H[1-6]|PRE|FIGURE)$/.test(i)&&Nt!=="HGROUP"?tt=ne(B):tt=ne(),NV(e,c)&&$B(g,c)&&g.isEmpty(pt,void 0,{includeZwsp:!0})?tt=g.split(c,pt):g.insertAfter(tt,pt),Nw(e,tt),tt};H_(g,R).each(tt=>{R.setStart(tt.startContainer,tt.startOffset),R.setEnd(tt.endContainer,tt.endOffset)}),n=R.startContainer,r=R.startOffset;const ze=!!(t&&t.shiftKey),Re=!!(t&&t.ctrlKey);At(n)&&n.hasChildNodes()&&!K&&(u=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,u&&lt(n)?r=n.data.length:r=0);const Xe=_3(g,n);if(!Xe||wV(e,n))return;ze||(n=OV(e,B,R,n,r));let pt=g.getParent(n,g.isBlock)||g.getRoot();c=Le(pt==null?void 0:pt.parentNode)?g.getParent(pt.parentNode,g.isBlock):null,i=pt?pt.nodeName.toUpperCase():"";const Nt=c?c.nodeName.toUpperCase():"";if(Nt==="LI"&&!Re){const tt=c;pt=tt,c=tt.parentNode,i=Nt}if(At(c)&&hV(e,ze,pt))return bV(e,ne,pt);if(/^(LI|DT|DD)$/.test(i)&&At(c)&&g.isEmpty(pt)){_V(e,ne,c,pt,B);return}if(!K&&(pt===e.getBody()||!$B(g,pt)))return;const Ze=pt.parentNode;let Pe;if(K)Pe=ne(B),W.fold(()=>{Br(L,re.fromDom(Pe))},tt=>{jr(tt,re.fromDom(Pe))}),e.selection.setCursorLocation(Pe,0);else if(Jf(pt))Pe=tp(pt),g.isEmpty(pt)&&FB(pt),k3(e,Pe),Nw(e,Pe);else if(me(!1))Pe=Ce();else if(me(!0)&&Ze){const tt=Ve.fromRangeStart(R),Et=W_(tt),Qt=re.fromDom(pt),rn=Hy(Qt,tt,e.schema)?vC(Qt,tt,e.schema).bind(kr=>H.from(kr.getNode())):H.none();Pe=Ze.insertBefore(ne(),pt);const jn=VB(pt,"HR")||Et?Pe:rn.getOr(pt);Nw(e,jn)}else{const tt=zV(R).cloneRange();tt.setEndAfter(pt);const Et=tt.extractContents();kV(Et),TV(Et),Pe=Et.firstChild,g.insertAfter(Et,pt),EV(g,C,Pe),AV(g,pt),g.isEmpty(pt)&&FB(pt),Pe.normalize(),g.isEmpty(Pe)?(g.remove(Pe),Ce()):(k3(e,Pe),Nw(e,Pe))}g.setAttrib(Pe,"id",""),e.dispatch("NewBlock",{newBlock:Pe})},fakeEventName:"insertParagraph"},RV=(e,t,n)=>{const r=new Kr(t,n);let i;const c=e.getNonEmptyElements();for(;i=r.next();)if(c[i.nodeName.toLowerCase()]||lt(i)&&i.length>0)return!0;return!1},_L=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Z0(e,r)},DV=(e,t)=>{const n=e.selection,r=e.dom,i=n.getRng();let c,u=!1;H_(r,i).each(W=>{i.setStart(W.startContainer,W.startOffset),i.setEnd(W.endContainer,W.endOffset)});let g=i.startOffset,x=i.startContainer;if(At(x)&&x.hasChildNodes()){const W=g>x.childNodes.length-1;x=x.childNodes[Math.min(g,x.childNodes.length-1)]||x,W&&lt(x)?g=x.data.length:g=0}let C=r.getParent(x,r.isBlock);const R=C&&C.parentNode?r.getParent(C.parentNode,r.isBlock):null,B=R?R.nodeName.toUpperCase():"",L=!!(t&&t.ctrlKey);B==="LI"&&!L&&(C=R),lt(x)&&g>=x.data.length&&(RV(e.schema,x,C||r.getRoot())||(c=r.create("br"),i.insertNode(c),i.setStartAfter(c),i.setEndAfter(c),u=!0)),c=r.create("br"),xg(r,i,c),_L(e,c,u),e.undoManager.add()},MV=(e,t)=>{const n=re.fromTag("br");jr(re.fromDom(t),n),e.undoManager.add()},BV=(e,t)=>{LV(e.getBody(),t)||Jo(re.fromDom(t),re.fromTag("br"));const n=re.fromTag("br");Jo(re.fromDom(t),n),_L(e,n.dom,!1),e.undoManager.add()},PV=e=>ss(e.getNode()),LV=(e,t)=>PV(Ve.after(t))?!0:Hl(e,Ve.after(t)).map(n=>ss(n.getNode())).getOr(!1),kL=e=>e&&e.nodeName==="A"&&"href"in e,IV=e=>e.fold(bo,kL,kL,bo),FV=e=>{const t=De(Sp,e),n=Ve.fromRangeStart(e.selection.getRng());return xm(t,e.getBody(),n).filter(IV)},HV=(e,t)=>{t.fold(io,De(MV,e),De(BV,e),io)},wL={insert:(e,t)=>{const n=FV(e);n.isSome()?n.each(De(HV,e)):DV(e,t)},fakeEventName:"insertLineBreak"},CL=(e,t)=>IB(e).filter(n=>t.length>0&&Va(re.fromDom(n),t)).isSome(),VV=e=>CL(e,hR(e)),$V=e=>CL(e,bR(e)),Hu=Pt.generate([{br:[]},{block:[]},{none:[]}]),UV=(e,t)=>$V(e),SL=e=>(t,n)=>fV(t)===e,EL=(e,t)=>(n,r)=>uV(n)===e.toUpperCase()===t,jV=e=>{const t=_3(e.dom,e.selection.getStart());return Po(t)},w3=e=>EL("pre",e),ZV=()=>EL("summary",!0),HN=e=>(t,n)=>G3(t)===e,WV=(e,t)=>VV(e),VN=(e,t)=>t,qV=e=>{const t=Xi(e),n=_3(e.dom,e.selection.getStart());return Le(n)&&e.schema.isValidChild(n.nodeName,t)},GV=e=>{const t=e.selection.getRng(),n=re.fromDom(t.startContainer),i=$d(n,t.startOffset).map(c=>ya(c)&&!si(c));return t.collapsed&&i.getOr(!0)},Of=(e,t)=>(n,r)=>mo(e,(c,u)=>c&&u(n,r),!0)?H.some(t):H.none(),KV=(e,t)=>E6([Of([UV],Hu.none()),Of([w3(!0),jV],Hu.none()),Of([ZV()],Hu.br()),Of([w3(!0),HN(!1),VN],Hu.br()),Of([w3(!0),HN(!1)],Hu.block()),Of([w3(!0),HN(!0),VN],Hu.block()),Of([w3(!0),HN(!0)],Hu.br()),Of([SL(!0),VN],Hu.br()),Of([SL(!0)],Hu.block()),Of([WV],Hu.br()),Of([VN],Hu.br()),Of([qV],Hu.block()),Of([GV],Hu.block())],[e,!!(t&&t.shiftKey)]).getOr(Hu.none()),$N=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||qD(t),!(Le(n)&&LN(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Le(n)&&v3(t,e.fakeEventName)))},zL=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>$N(wL,e,t),r=()=>$N(vL,e,t),i=KV(e,t);switch(gR(e)){case"linebreak":i.fold(n,n,io);break;case"block":i.fold(r,r,io);break;case"invert":i.fold(r,n,io);break;default:i.fold(n,r,io);break}},TL=js(),YV=TL.os.isiOS()&&TL.browser.isSafari(),OL=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),VO(e.undoManager),e.undoManager.transact(()=>{zL(e,t)}))},XV=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(lt(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},JV=e=>{let t=H.none();const n=i=>{t=H.some(i.selection.getBookmark()),i.undoManager.add()},r=(i,c)=>{i.undoManager.undo(),t.fold(io,u=>i.selection.moveToBookmark(u)),OL(i,c),t=H.none()};e.on("keydown",i=>{i.keyCode===Ft.ENTER&&(YV&&XV(e.selection.getRng())?n(e):OL(e,i))}),e.on("keyup",i=>{i.keyCode===Ft.ENTER&&t.each(()=>r(e,i))})},QV=(e,t,n)=>{const r=Rt.os.isMacOS()||Rt.os.isiOS();bb([{keyCode:Ft.END,action:vo(hb,e,!0)},{keyCode:Ft.HOME,action:vo(hb,e,!1)},...r?[]:[{keyCode:Ft.HOME,action:vo($p,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ft.END,action:vo($p,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ft.END,action:vo(gN,e,!0)},{keyCode:Ft.HOME,action:vo(gN,e,!1)},{keyCode:Ft.END,action:vo(ov,e,!0,t)},{keyCode:Ft.HOME,action:vo(ov,e,!1,t)}],n).each(i=>{n.preventDefault()})},e$=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||QV(e,t,n)})},t$=e=>{e.on("input",t=>{t.isComposing||kT(e)})},o$=js(),n$=(e,t,n)=>{bb([{keyCode:Ft.PAGE_UP,action:vo(ov,e,!1,t)},{keyCode:Ft.PAGE_DOWN,action:vo(ov,e,!0,t)}],n)},AL=e=>e.stopImmediatePropagation(),NL=e=>e.keyCode===Ft.PAGE_UP||e.keyCode===Ft.PAGE_DOWN,RL=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",AL,!0):!n&&e.get()&&t.off("NodeChange",AL),e.set(n)},r$=(e,t)=>{if(o$.os.isMacOS())return;const n=zr(!1);e.on("keydown",r=>{NL(r)&&RL(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||n$(e,t,r),NL(r)&&n.get()&&(RL(n,e,!1),e.nodeChanged())})},DL=(e,t)=>e===t||e.contains(t),s$=(e,t)=>!DL(e.getBody(),t.startContainer)||!DL(e.getBody(),t.endContainer)?!0:Zz(e.dom,t),a$=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Cn(t.getTargetRanges(),n=>!s$(e,n)))&&t.preventDefault()})},ML=(e,t)=>{const n=t.container(),r=t.offset();return lt(n)?(n.insertData(r,e),H.some(Ve(n,r+e.length))):c_(t).map(i=>{const c=re.fromText(e);return t.isAtEnd()?Jo(i,c):jr(i,c),Ve(c.dom,e.length)})},BL=De(ML,rs),PL=De(ML," "),i$=(e,t,n)=>CC(e,t,n)?BL(t):PL(t),l$=e=>t=>t.fold(n=>bc(e.dom,Ve.before(n)),n=>is(n),n=>Tu(n),n=>Hl(e.dom,Ve.after(n))),c$=(e,t,n)=>r=>CC(e,r,n)?BL(t):PL(t),LL=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},d$=(e,t)=>e.isEditable(e.getParent(t,"summary")),u$=e=>{const t=Ve.fromRangeStart(e.selection.getRng()),n=re.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=De(Sp,e),i=Ve.fromRangeStart(e.selection.getRng());return xm(r,e.getBody(),i).bind(l$(n)).map(c=>()=>c$(n,t,e.schema)(c).each(LL(e)))}else return H.none()},f$=e=>{const t=()=>{const n=re.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Ve.fromRangeStart(e.selection.getRng());i$(n,r,e.schema).each(LL(e))};return lu(Rt.browser.isFirefox()&&e.selection.isEditable()&&d$(e.dom,e.selection.getRng().startContainer),t)},m$=(e,t)=>{pN([{keyCode:Ft.SPACEBAR,action:vo(u$,e)},{keyCode:Ft.SPACEBAR,action:vo(f$,e)}],t).each(n=>{t.preventDefault(),LN(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),v3(e,"insertText",{data:" "}))})},p$=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||m$(e,t)})},g$=e=>PR(e)?[{keyCode:Ft.TAB,action:vo(PP,e,!0)},{keyCode:Ft.TAB,shiftKey:!0,action:vo(PP,e,!1)}]:[],h$=(e,t)=>{bb([...g$(e)],t).each(n=>{t.preventDefault()})},b$=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||h$(e,t)})},y$=e=>{if(e.addShortcut("Meta+P","","mcePrint"),qH(e),wf(e))return zr(null);{const t=K6(e);return a$(e),Ta(e),z9(e,t),cV(e,t),JV(e),p$(e),t$(e),b$(e),e$(e,t),r$(e,t),t}};class x${constructor(t){this.lastPath=[],this.editor=t;let n;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",i=>{const c=t.selection.getRng(),u={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(i.type==="nodechange"||!U0(u,n))&&t.dispatch("SelectionChange"),n=u}),t.on("contextmenu",()=>{F0(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const i=t.selection.getStart(!0);i&&ky(t)&&!r.isSameElementPath(i)&&t.dom.isChildOf(i,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",i=>{!i.isDefaultPrevented()&&ky(t)&&(t.selection.getNode().nodeName==="IMG"?Qd.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor,r=n.selection;let i;if(n.initialized&&r&&!ER(n)&&!Sh(n)){const c=n.getBody();i=r.getStart(!0)||c,(i.ownerDocument!==n.getDoc()||!n.dom.isChildOf(i,c))&&(i=c);const u=[];n.dom.getParent(i,g=>g===c?!0:(u.push(g),!1)),n.dispatch("NodeChange",{...t,element:i,parents:u})}}isSameElementPath(t){let n;const r=this.editor,i=Vs(r.dom.getParents(t,fo,r.getBody()));if(i.length===this.lastPath.length){for(n=i.length;n>=0&&i[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const IL=fd("image"),v$=e=>{const t=e;return H.from(t[IL])},_$=(e,t)=>{const n=e;n[IL]=t},jB=fd("event"),k$=e=>{const t=e;return H.from(t[jB])},UN=e=>t=>{const n=t;n[jB]=e},w$=(e,t)=>UN(t)(e),FL=UN(0),C$=UN(2),S$=UN(1),E$=(e=>t=>{const n=t;return H.from(n[jB]).exists(r=>r===e)})(0),z$=()=>Object.freeze({length:0,item:e=>null}),ZB=fd("mode"),T$=e=>{const t=e;return H.from(t[ZB])},jN=e=>t=>{const n=t;n[ZB]=e},HL=(e,t)=>jN(t)(e),VL=jN(0),WB=jN(2),O$=jN(1),$L=e=>t=>{const n=t;return H.from(n[ZB]).exists(r=>r===e)},Rw=$L(0),UL=$L(1),A$=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(Rw(e))if(ht(n)){if(!ar(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{Rw(e)&&t.remove(n)},clear:()=>{Rw(e)&&t.clear()}}),N$=["none","copy","link","move"],R$=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],qB=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(i){en(N$,i)&&(t=i)},get effectAllowed(){return n},set effectAllowed(i){E$(r)&&en(R$,i)&&(n=i)},get items(){return A$(r,e.items)},get files(){return UL(r)?z$():e.files},get types(){return e.types},setDragImage:(i,c,u)=>{Rw(r)&&(_$(r,{image:i,x:c,y:u}),e.setDragImage(i,c,u))},getData:i=>UL(r)?"":e.getData(i),setData:(i,c)=>{Rw(r)&&e.setData(i,c)},clearData:i=>{Rw(r)&&e.clearData(i)}};return VL(r),r},D$=e=>{const t=qB(),n=T$(e);return WB(e),FL(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,v$(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Ne(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Ne(e.files,r=>t.items.add(r)),k$(e).each(r=>{w$(t,r)}),n.each(r=>{HL(e,r),HL(t,r)}),t},M$=e=>{const t=e.getData("text/html");return t===""?H.none():H.some(t)},jL=(e,t)=>e.setData("text/html",t),ZL="x-tinymce/html",ZN=Je(ZL),GB="<!-- "+ZL+" -->",B$=e=>GB+e,P$=e=>e.replace(GB,""),WL=e=>e.indexOf(GB)!==-1,L$=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),I$=(e,t)=>{let n="<"+e;const r=Oa(t,(i,c)=>c+'="'+Dc.encodeAllRaw(i)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},F$=(e,t,n)=>{const r=e.split(/\n\n/),i=I$(t,n),c="</"+t+">",u=Ko(r,x=>x.split(/\n/).join("<br />")),g=x=>i+x+c;return u.length===1?u[0]:Ko(u,g).join("")},qL="%MCEPASTEBIN%",H$=(e,t)=>{const{dom:n,selection:r}=e,i=e.getBody();t.set(r.getRng());const c=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},qL);Rt.browser.isFirefox()&&n.setStyle(c,"left",n.getStyle(i,"direction",!0)==="rtl"?65535:-65535),n.bind(c,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),c.focus(),r.select(c,!0)},V$=(e,t)=>{const n=e.dom;if(KB(e)){let r;const i=t.get();for(;r=KB(e);)n.remove(r),n.unbind(r);i&&e.selection.setRng(i)}t.set(null)},KB=e=>e.dom.get("mcepastebin"),$$=e=>Le(e)&&e.id==="mcepastebin",U$=e=>{const t=e.dom,n=(u,g)=>{u.appendChild(g),t.remove(g,!0)},[r,...i]=Ke(e.getBody().childNodes,$$);Ne(i,u=>{n(r,u)});const c=t.select("div[id=mcepastebin]",r);for(let u=c.length-1;u>=0;u--){const g=t.create("div");r.insertBefore(g,c[u]),n(g,c[u])}return r?r.innerHTML:""},GL=e=>e===qL,j$=e=>{const t=zr(null);return{create:()=>H$(e,t),remove:()=>V$(e,t),getEl:()=>KB(e),getHtml:()=>U$(e),getLastRng:t.get}},KL=(e,t)=>(gt.each(t,n=>{Ut(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),Z$=e=>{const t=wt(),n=o1({},t);let r="";const i=t.getVoidElements(),c=gt.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),g=x=>{const C=x.name,R=x;if(C==="br"){r+=`
`;return}if(C!=="wbr"){if(i[C]&&(r+=" "),c[C]){r+=" ";return}if(x.type===3&&(r+=x.value),!(x.name in t.getVoidElements())){let B=x.firstChild;if(B)do g(B);while(B=B.next)}u[C]&&R.next&&(r+=`
`,C==="p"&&(r+=`
`))}};return e=KL(e,[/<!\[[^\]]+\]>/g]),g(n.parse(e)),r},YL=e=>(e=KL(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,i)=>!r&&!i?" ":rs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),W$=e=>{let t=0;return()=>e+t++},q$=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return gt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},G$=(e,t)=>{const n=o1({sanitize:vE(e),sandbox_iframes:d2(e),sandbox_iframes_exclusions:i_(e),convert_unsafe_embeds:EE(e)},e.schema);n.addNodeFilter("meta",i=>{gt.each(i,c=>{c.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Jr({validate:!0},e.schema).serialize(r)},XL=(e,t)=>({content:e,cancelled:t}),K$=(e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),i=$3(e,r,n);return XL(i.node.innerHTML,i.isDefaultPrevented())},Y$=(e,t,n)=>{const r=vg(e,t,n),i=G$(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?K$(e,i,n):XL(i,r.isDefaultPrevented())},X$=(e,t,n)=>Y$(e,t,n),YB=(e,t)=>(e.insertContent(t,{merge:r_(e),paste:!0}),!0),XB=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),J$=(e,t)=>XB(t)&&Cn(CE(e),n=>Vi(t.toLowerCase(),`.${n.toLowerCase()}`)),Q$=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),eU=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),tU=(e,t,n)=>!e.selection.isCollapsed()&&XB(t)?eU(e,t,n):!1,oU=(e,t,n)=>J$(e,t)?Q$(e,t,n):!1,nU=(e,t)=>{gt.each([tU,oU,YB],n=>!n(e,t,YB))},rU=(e,t,n)=>{n||!pE(e)?YB(e,t):nU(e,t)},sU=W$("mceclip"),aU=e=>{const t=qB();return jL(t,e),WB(t),t},JL=(e,t,n,r,i)=>{const c=X$(e,t,n);if(!c.cancelled){const u=c.content,g=()=>rU(e,u,r);i?LN(e,"insertFromPaste",{dataTransfer:aU(u)}).isDefaultPrevented()||(g(),v3(e,"insertFromPaste")):g()}},WN=(e,t,n,r)=>{const i=n||WL(t);JL(e,P$(t),i,!1,r)},JB=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),i=Nc(r,hE(e)),c=F$(i,Xi(e),p0(e));JL(e,c,!1,!0,n)},QL=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},C1=(e,t)=>t in e&&e[t].length>0,eI=e=>C1(e,"text/html")||C1(e,"text/plain"),iU=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Le(n)?e.dom.encode(n[1]):void 0},lU=(e,t,n,r)=>{const i=sU(),c=K3(e)&&Le(n.name),u=c?iU(e,n.name):i,g=c?n.name:void 0,x=t.create(i,n,r,u,g);return t.add(x),x},cU=(e,t)=>{Ak(t.uri).each(({data:n,type:r,base64Encoded:i})=>{const c=i?n:btoa(n),u=t.file,g=e.editorUpload.blobCache,x=g.getByData(c,r),C=x??lU(e,g,u,c);WN(e,`<img src="${C.blobUri()}">`,!1,!0)})},dU=e=>e.type==="paste",uU=e=>Promise.all(Ko(e,t=>W5(t).then(n=>({file:t,uri:n})))),fU=e=>{const t=CE(e);return n=>ur(n.type,"image/")&&Cn(t,r=>q$(r)===n.type)},mU=(e,t)=>{const n=t.items?Yn(Io(t.items),i=>i.kind==="file"?[i.getAsFile()]:[]):[],r=t.files?Io(t.files):[];return Ke(n.length>0?n:r,fU(e))},tI=(e,t,n)=>{const r=dU(t)?t.clipboardData:t.dataTransfer;if(_0(e)&&r){const i=mU(e,r);if(i.length>0)return t.preventDefault(),uU(i).then(c=>{n&&e.selection.setRng(n),Ne(c,u=>{cU(e,u)})}),!0}return!1},pU=e=>{var t,n;return Rt.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},gU=e=>Ft.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,QB=(e,t,n,r,i)=>{let c=YL(n);const u=C1(t,ZN())||WL(n),g=!u&&L$(c),x=XB(c);(GL(c)||!c.length||g&&!x)&&(r=!0),(r||x)&&(C1(t,"text/plain")&&g?c=t["text/plain"]:c=Z$(c)),!GL(c)&&(r?JB(e,c,i):WN(e,c,u,i))},hU=(e,t,n)=>{let r;const i=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{gU(c)&&!c.isDefaultPrevented()&&(r=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||pU(c))return;const u=n.get()==="text"||r;r=!1;const g=QL(c.clipboardData);!eI(g)&&tI(e,c,i())||(C1(g,"text/html")?(c.preventDefault(),QB(e,g,g["text/html"],u,!0)):C1(g,"text/plain")&&C1(g,"text/uri-list")?(c.preventDefault(),QB(e,g,g["text/plain"],u,!0)):(t.create(),Qd.setEditorTimeout(e,()=>{const x=t.getHtml();t.remove(),QB(e,g,x,u,!1)},0)))})},bU=e=>{const t=i=>ur(i,"webkit-fake-url"),n=i=>ur(i,"data:"),r=i=>{var c;return((c=i.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(i,c,u)=>{if(!_0(e)&&r(u))for(const g of i){const x=g.attr("src");ht(x)&&!g.attr("data-mce-object")&&x!==Rt.transparentSrc&&(t(x)||!NR(e)&&n(x))&&g.remove()}})},yU=(e,t,n)=>{hU(e,t,n),bU(e)},xU=(e,t)=>{t.get()==="text"?(t.set("html"),Qw(e,!1)):(t.set("text"),Qw(e,!0)),e.focus()},vU=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{xU(e,t)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&WN(e,r.html,r.internal,!1),r.text&&JB(e,r.text,!1)})},_U=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(ZN(),t),!0}catch{return!1}else return!1},oI=(e,t,n,r)=>{_U(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},nI=e=>(t,n)=>{const{dom:r,selection:i}=e,c=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=r.create("div",{contenteditable:"true"},t);r.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(u),r.add(e.getBody(),c);const g=i.getRng();u.focus();const x=r.createRng();x.selectNodeContents(u),i.setRng(x),Qd.setEditorTimeout(e,()=>{i.setRng(g),r.remove(c),n()},0)},rI=e=>({html:B$(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),kU=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),sI=e=>!e.selection.isCollapsed()||kU(e),wU=e=>t=>{!t.isDefaultPrevented()&&sI(e)&&e.selection.isEditable()&&oI(t,rI(e),nI(e),()=>{if(Rt.browser.isChromium()||Rt.browser.isFirefox()){const n=e.selection.getRng();Qd.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},CU=e=>t=>{!t.isDefaultPrevented()&&sI(e)&&oI(t,rI(e),nI(e),io)},SU=e=>{e.on("cut",wU(e)),e.on("copy",CU(e))},aI=(e,t)=>{var n,r;return bf.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},EU=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},iI=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},zU=e=>Cn(e.files,t=>/^image\//.test(t.type)),TU=(e,t,n,r)=>{const i=e.getParent(n,u=>cr(t,u));if(!qe(e.getParent(n,"summary")))return!0;if(i&&go(r,"text/html")){const u=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!qe(u.querySelector(i.nodeName.toLowerCase()))}else return!1},OU=e=>{e.on("input",t=>{const n=r=>qe(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=Ke(e.dom.select("details"),n);Ne(r,i=>{ss(i.firstChild)&&i.firstChild.remove();const c=e.dom.create("summary");c.appendChild(Fl().dom),i.prepend(c)})}})},AU=(e,t)=>{dE(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),_0(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&zU(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=aI(e,n);if(Po(r))return;const i=QL(n.dataTransfer),c=C1(i,ZN());if((!eI(i)||EU(i))&&tI(e,n,r))return;const u=i[ZN()],g=u||i["text/html"]||i["text/plain"],x=TU(e.dom,e.schema,r.startContainer,i),C=t.get();C&&!x||g&&(n.preventDefault(),Qd.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(u||C&&x)&&e.execCommand("Delete"),iI(e,r);const R=YL(g);i["text/html"]?WN(e,R,c,!0):JB(e,R,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{_0(e)&&!t.get()&&(n.preventDefault(),iI(e,aI(e,n))),n.type==="dragend"&&t.set(!1)}),OU(e)},NU=e=>{const t=i=>c=>{i(e,c)},n=uE(e);jt(n)&&e.on("PastePreProcess",t(n));const r=fE(e);jt(r)&&e.on("PastePostProcess",t(r))},RU=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},DU=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,lI=e=>gt.trim(e).replace(DU,ag).toLowerCase(),MU=(e,t,n)=>{const r=OR(e);if(n||r==="all"||!AR(e))return t;const i=r?r.split(/[, ]/):[];if(i&&r!=="none"){const c=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,x,C,R)=>{const B=c.parseStyle(c.decode(C)),L={};for(let ee=0;ee<i.length;ee++){const K=B[i[ee]];let ne=K,me=c.getStyle(u,i[ee],!0);/color/.test(i[ee])&&(ne=lI(ne),me=lI(me)),me!==ne&&(L[i[ee]]=K)}const W=c.serializeStyle(L,"span");return W?x+' style="'+W+'"'+R:x+R})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,u,g,x)=>u+' style="'+g+'"'+x),t},BU=e=>{(Rt.browser.isChromium()||Rt.browser.isSafari())&&RU(e,MU)},PU=e=>{const t=zr(!1),n=zr(gE(e)?"text":"html"),r=j$(e);BU(e),vU(e,n),NU(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{SU(e),AU(e,t),yU(e,r,n)})},LU=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},IU=e=>{e.parser.addNodeFilter("details",t=>{const n=a_(e);Ne(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=SE(e);Ne(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})})},FU=e=>{LU(e),IU(e)},HU=ss,cI=lt,VU=e=>vr(e.dom),$U=e=>Ai(e.dom),dI=e=>t=>Xo(re.fromDom(e),t),UU=(e,t,n)=>Ec(re.fromDom(e),r=>$U(r)||n.isBlock(mn(r)),dI(t)).getOr(re.fromDom(t)).dom,uI=(e,t)=>Ec(re.fromDom(e),VU,dI(t)),fI=(e,t,n)=>{const r=new Kr(e,t),i=n?r.next.bind(r):r.prev.bind(r);let c=e;for(let u=n?e:i();u&&!HU(u);u=i())nl(u)&&(c=u);return c},jU=(e,t,n)=>{const i=Ve.fromRangeStart(e).getNode(),c=UU(i,t,n),u=fI(i,c,!1),g=fI(i,c,!0),x=document.createRange();return uI(u,c).fold(()=>{cI(u)?x.setStart(u,0):x.setStartBefore(u)},C=>x.setStartBefore(C.dom)),uI(g,c).fold(()=>{cI(g)?x.setEnd(g,g.data.length):x.setEndAfter(g)},C=>x.setEndAfter(C.dom)),x},ZU=e=>{const t=jU(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Wy(t))},WU=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),ZU(e))})};var Dw;(function(e){e.Before="before",e.After="after"})(Dw||(Dw={}));const qU=(e,t)=>Math.abs(e.left-t),GU=(e,t)=>Math.abs(e.right-t),KU=(e,t)=>e>=t.top&&e<=t.bottom,YU=(e,t)=>e.top<t.bottom&&e.bottom>t.top,XU=(e,t)=>{const n=Ki(e,t)/Math.min(e.height,t.height);return YU(e,t)&&n>.5},JU=(e,t)=>{const n=Ke(e,r=>KU(t,r));return bh(n).fold(()=>[[],e],r=>{const{pass:i,fail:c}=it(e,u=>XU(u,r));return[i,c]})},QU=(e,t)=>({node:e.node,position:qU(e,t)<GU(e,t)?Dw.Before:Dw.After}),ej=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),eP=(e,t,n,r)=>{const i=B=>nl(B.node)?H.some(B):At(B.node)?eP(Io(B.node.childNodes),t,n,!1):H.none(),c=(B,L,W)=>i(L).filter(ee=>Math.abs(W(B,t,n)-W(ee,t,n))<2&&lt(ee.node)),u=(B,L)=>{const W=Yo(B,(ee,K)=>L(ee,t,n)-L(K,t,n));return Xs(W,i).map(ee=>r&&!lt(ee.node)&&W.length>1?c(ee,W[1],L).getOr(ee):ee)},[g,x]=JU(Pg(e),n),{pass:C,fail:R}=it(x,B=>B.top<n);return u(g,ej).orThunk(()=>u(R,mg)).orThunk(()=>u(C,mg))},tj=(e,t,n,r)=>{const i=(c,u)=>{const g=C=>At(C)&&C.classList.contains("mce-drag-container"),x=Ke(c.dom.childNodes,Se(g));return u.fold(()=>eP(x,n,r,!0),C=>{const R=Ke(x,B=>B!==C.dom);return eP(R,n,r,!0)}).orThunk(()=>(Xo(c,e)?H.none():Ql(c)).bind(R=>i(R,H.some(c))))};return i(t,H.none())},oj=(e,t,n)=>{const r=re.fromDom(e),i=Ml(r),u=re.fromPoint(i,t,n).filter(g=>$a(r,g)).getOr(r);return tj(r,u,t,n)},mI=(e,t,n)=>oj(e,t,n).filter(r=>w0(r.node)).map(r=>QU(r,t)),pI=e=>{var t,n;const r=e.getBoundingClientRect(),i=e.ownerDocument,c=i.documentElement,u=i.defaultView;return{top:r.top+((t=u==null?void 0:u.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:r.left+((n=u==null?void 0:u.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},nj=e=>e.inline?pI(e.getBody()):{left:0,top:0},rj=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},sj=e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},aj=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=pI(e.getContentAreaContainer()),r=sj(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},ij=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),lj=(e,t)=>ij(nj(e),rj(e),aj(e,t)),gI=e=>({target:e,srcElement:e}),cj=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...gI(n)}),dj=(e,t,n)=>{const r=ot("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:io,stopImmediatePropagation:io,stopPropagation:io,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...gI(t)}},uj=(e,t)=>{const n=D$(e);return t==="dragstart"?(FL(n),VL(n)):t==="drop"?(C$(n),WB(n)):(S$(n),O$(n)),n},fj=(e,t,n,r)=>{const i=uj(n,e);return ar(r)?dj(e,t,i):cj(e,r,t,i)},hI=32,mj=100,qN=8,GN=16,bI=vr,pj=Mv(bI,Ai),gj=(e,t,n)=>bI(n)&&n!==t&&e.isEditable(n.parentElement),hj=(e,t,n)=>Po(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),bj=(e,t,n,r)=>{const i=e.dom,c=t.cloneNode(!0);i.setStyles(c,{width:n,height:r}),i.setAttrib(c,"data-mce-selected",null);const u=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),u.appendChild(c),u},yj=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},KN=(e,t)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},yI=KN("left",-32),xI=KN("left",hI),vI=KN("top",-32),_I=KN("top",hI),xj=(e,t,n,r,i,c,u,g,x,C,R,B)=>{let L=0,W=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(L=t.pageX+n-i),t.pageY+r>c&&(W=t.pageY+r-c),e.style.width=n-L+"px",e.style.height=r-W+"px";const ee=x.clientHeight,K=x.clientWidth,ne=u+x.getBoundingClientRect().top,me=g+x.getBoundingClientRect().left;R.on(Ce=>{Ce.intervalId.clear(),Ce.dragging&&B&&(u+qN>=ee?Ce.intervalId.set(_I(C)):u-qN<=0?Ce.intervalId.set(vI(C)):g+qN>=K?Ce.intervalId.set(xI(C)):g-qN<=0?Ce.intervalId.set(yI(C)):ne+GN>=window.innerHeight?Ce.intervalId.set(_I(window)):ne-GN<=0?Ce.intervalId.set(vI(window)):me+GN>=window.innerWidth?Ce.intervalId.set(xI(window)):me-GN<=0&&Ce.intervalId.set(yI(window)))})},kI=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},vj=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);kI(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&cf(re.fromDom(n))},_j=e=>e.button===0,kj=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),wj=(e,t)=>n=>{if(_j(n)){const r=zn(t.dom.getParents(n.target),pj).getOr(null);if(Le(r)&&gj(t.dom,t.getBody(),r)){const i=t.dom.getPos(r),c=t.getBody(),u=t.getDoc().documentElement;e.set({element:r,dataTransfer:qB(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?c.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:u.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:bj(t,r,r.offsetWidth,r.offsetHeight),intervalId:Wd(mj)})}}},Cj=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),mI(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const i=e._selectionOverrides.showCaret(1,r.node,r.position===Dw.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)})},C3=(e,t,n,r,i)=>{t==="dragstart"&&jL(r,e.dom.getOuterHTML(n));const c=fj(t,n,r,i);return e.dispatch(t,c)},Sj=(e,t)=>{const n=Ts((i,c)=>Cj(t,i,c),0);t.on("remove",n.cancel);const r=e;return i=>e.on(c=>{const u=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&u>10){const g=C3(t,"dragstart",c.element,c.dataTransfer,i);if(Le(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=i.currentTarget===t.getDoc().documentElement,x=kj(c,lj(t,i));yj(c.ghost,t.getBody()),xj(c.ghost,x,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),r,g),n.throttle(i.clientX,i.clientY)}})},Ej=e=>{const t=e.getSel();if(Le(t)){const r=t.getRangeAt(0).startContainer;return lt(r)?r.parentNode:r}else return null},zj=(e,t)=>n=>{e.on(r=>{var i;if(r.intervalId.clear(),r.dragging){if(hj(t,Ej(t.selection),r.element)){const c=(i=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&i!==void 0?i:t.getBody();C3(t,"drop",c,r.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{vj(t.dom,r.element),M$(r.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}C3(t,"dragend",t.getBody(),r.dataTransfer,n)}}),CI(e)},wI=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>C3(t,"dragend",r.element,r.dataTransfer),i=>C3(t,"dragend",r.element,r.dataTransfer,i))}),CI(e)},Tj=(e,t)=>n=>wI(e,t,H.some(n)),CI=e=>{e.on(t=>{t.intervalId.clear(),kI(t.ghost)}),e.clear()},Oj=e=>{const t=cc(),n=Ar.DOM,r=document,i=wj(t,e),c=Sj(t,e),u=zj(t,e),g=Tj(t,e);e.on("mousedown",i),e.on("mousemove",c),e.on("mouseup",u),n.bind(r,"mousemove",c),n.bind(r,"mouseup",g),e.on("remove",()=>{n.unbind(r,"mousemove",c),n.unbind(r,"mouseup",g)}),e.on("keydown",x=>{x.keyCode===Ft.ESC&&wI(t,e,H.none())})},Aj=e=>{const t=i=>{if(!i.isDefaultPrevented()){const c=i.dataTransfer;c&&(en(c.types,"Files")||c.files.length>0)&&(i.preventDefault(),i.type==="drop"&&$x(e,"Dropped file type is not supported"))}},n=i=>{Ry(e,i.target)&&t(i)},r=()=>{const i=Ar.DOM,c=e.dom,u=document,g=e.inline?e.getBody():e.getDoc(),x=["drop","dragover"];Ne(x,C=>{i.bind(u,C,n),c.bind(g,C,t)}),e.on("remove",()=>{Ne(x,C=>{i.unbind(u,C,n),c.unbind(g,C,t)})})};e.on("init",()=>{Qd.setEditorTimeout(e,r,0)})},Nj=e=>{Oj(e),rE(e)&&Aj(e)},Rj=e=>{const t=Ts(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=$4(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Dj=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(qi(n)){const r=Ag(e.getBody(),n),i=vr(r)?r:n;e.selection.getNode()!==i&&p1(e,i).each(c=>e.selection.setRng(c))}})})},S3=vr,SI=(e,t)=>Ag(e.getBody(),t),Mj=e=>{const t=e.selection,n=e.dom,r=e.getBody(),i=qR(e,r,n.isBlock,()=>Ih(e)),c="sel-"+n.uniqueId(),u="data-mce-selected";let g;const x=Nt=>Le(Nt)&&n.hasClass(Nt,"mce-offscreen-selection"),C=Nt=>Nt!==r&&(S3(Nt)||qi(Nt))&&n.isChildOf(Nt,r)&&n.isEditable(Nt.parentNode),R=Nt=>{Nt&&t.setRng(Nt)},B=(Nt,Ze,Pe,tt=!0)=>e.dispatch("ShowCaret",{target:Ze,direction:Nt,before:Pe}).isDefaultPrevented()?null:(tt&&t.scrollIntoView(Ze,Nt===-1),i.show(Pe,Ze)),L=Nt=>{Nt.hasAttribute("data-mce-caret")&&(tp(Nt),t.scrollIntoView(Nt))},W=()=>{e.on("click",Ze=>{n.isEditable(Ze.target)||(Ze.preventDefault(),e.focus())}),e.on("blur NewBlock",Re),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",Ze=>{const Pe=Ze.target,tt=SI(e,Pe);S3(tt)?(Ze.preventDefault(),p1(e,tt).each(ze)):C(Pe)&&p1(e,Pe).each(ze)},!0),e.on("mousedown",Ze=>{const Pe=Ze.target;if(Pe!==r&&Pe.nodeName!=="HTML"&&!n.isChildOf(Pe,r)||!K8(e,Ze.clientX,Ze.clientY))return;Re(),pt();const tt=SI(e,Pe);S3(tt)?(Ze.preventDefault(),p1(e,tt).each(ze)):mI(r,Ze.clientX,Ze.clientY).each(Et=>{Ze.preventDefault();const Qt=B(1,Et.node,Et.position===Dw.Before,!1);R(Qt),ta(tt)?tt.focus():e.getBody().focus()})}),e.on("keypress",Ze=>{Ft.modifierPressed(Ze)||S3(t.getNode())&&Ze.preventDefault()}),e.on("GetSelectionRange",Ze=>{let Pe=Ze.range;if(g){if(!g.parentNode){g=null;return}Pe=Pe.cloneRange(),Pe.selectNode(g),Ze.range=Pe}}),e.on("SetSelectionRange",Ze=>{Ze.range=ne(Ze.range);const Pe=ze(Ze.range,Ze.forward);Pe&&(Ze.range=Pe)});const Nt=Ze=>At(Ze)&&Ze.id==="mcepastebin";e.on("AfterSetSelectionRange",Ze=>{const Pe=Ze.range,tt=Pe.startContainer.parentElement;!K(Pe)&&!Nt(tt)&&pt(),x(tt)||Re()}),Nj(e),Rj(e),Dj(e)},ee=Nt=>hc(Nt)||uf(Nt)||ug(Nt),K=Nt=>ee(Nt.startContainer)||ee(Nt.endContainer),ne=Nt=>{const Ze=e.schema.getVoidElements(),Pe=n.createRng(),tt=Nt.startContainer,Et=Nt.startOffset,Qt=Nt.endContainer,on=Nt.endOffset;return go(Ze,tt.nodeName.toLowerCase())?Et===0?Pe.setStartBefore(tt):Pe.setStartAfter(tt):Pe.setStart(tt,Et),go(Ze,Qt.nodeName.toLowerCase())?on===0?Pe.setEndBefore(Qt):Pe.setEndAfter(Qt):Pe.setEnd(Qt,on),Pe},me=(Nt,Ze)=>{const Pe=re.fromDom(e.getBody()),tt=e.getDoc(),Et=tr(Pe,"#"+c).getOrThunk(()=>{const rn=re.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',tt);return Tn(rn,"id",c),Br(Pe,rn),rn}),Qt=n.createRng();rc(Et),Na(Et,[re.fromText(rs,tt),re.fromDom(Ze),re.fromText(rs,tt)]),Qt.setStart(Et.dom.firstChild,1),Qt.setEnd(Et.dom.lastChild,0),Qs(Et,{top:n.getPos(Nt,e.getBody()).y+"px"}),M2(Et);const on=t.getSel();return on&&(on.removeAllRanges(),on.addRange(Qt)),Qt},Ce=Nt=>{const Ze=Nt.cloneNode(!0),Pe=e.dispatch("ObjectSelected",{target:Nt,targetClone:Ze});if(Pe.isDefaultPrevented())return null;const tt=me(Nt,Pe.targetClone),Et=re.fromDom(Nt);return Ne(Ds(re.fromDom(e.getBody()),`*[${u}]`),Qt=>{Xo(Et,Qt)||Sn(Qt,u)}),n.getAttrib(Nt,u)||Nt.setAttribute(u,"1"),g=Nt,pt(),tt},ze=(Nt,Ze)=>{if(!Nt)return null;if(Nt.collapsed){if(!K(Nt)){const Qt=Ze?1:-1,on=by(Qt,r,Nt),rn=on.getNode(!Ze);if(Le(rn)){if(w0(rn))return B(Qt,rn,Ze?!on.isAtEnd():!1,!1);if(Qf(rn)&&vr(rn.nextSibling)){const kr=n.createRng();return kr.setStart(rn,0),kr.setEnd(rn,0),kr}}const jn=on.getNode(Ze);if(Le(jn)){if(w0(jn))return B(Qt,jn,Ze?!1:!on.isAtEnd(),!1);if(Qf(jn)&&vr(jn.previousSibling)){const kr=n.createRng();return kr.setStart(jn,1),kr.setEnd(jn,1),kr}}}return null}let Pe=Nt.startContainer,tt=Nt.startOffset;const Et=Nt.endOffset;if(lt(Pe)&&tt===0&&S3(Pe.parentNode)&&(Pe=Pe.parentNode,tt=n.nodeIndex(Pe),Pe=Pe.parentNode),!At(Pe))return null;if(Et===tt+1&&Pe===Nt.endContainer){const Qt=Pe.childNodes[tt];if(C(Qt))return Ce(Qt)}return null},Re=()=>{g&&g.removeAttribute(u),tr(re.fromDom(e.getBody()),"#"+c).each(dn),g=null},Xe=()=>{i.destroy(),g=null},pt=()=>{i.hide()};return wf(e)||W(),{showCaret:B,showBlockCaretContainer:L,hideFakeCaret:pt,destroy:Xe}},Bj=(e,t)=>{let n=t;for(let r=e.previousSibling;lt(r);r=r.previousSibling)n+=r.data.length;return n},EI=(e,t,n,r,i)=>{if(lt(n)&&(r<0||r>n.data.length))return[];const c=i&&lt(n)?[Bj(n,r)]:[r];let u=n;for(;u!==t&&u.parentNode;)c.push(e.nodeIndex(u,i)),u=u.parentNode;return u===t?c.reverse():[]},tP=(e,t,n,r,i,c,u=!1)=>{const g=EI(e,t,n,r,u),x=EI(e,t,i,c,u);return{start:g,end:x}},zI=(e,t)=>{const n=t.slice(),r=n.pop();return O(r)?mo(n,(c,u)=>c.bind(g=>H.from(g.childNodes[u])),H.some(e)).bind(c=>lt(c)&&(r<0||r>c.data.length)?H.none():H.some({node:c,offset:r})):H.none()},TI=(e,t)=>zI(e,t.start).bind(({node:n,offset:r})=>zI(e,t.end).map(({node:i,offset:c})=>{const u=document.createRange();return u.setStart(n,r),u.setEnd(i,c),u})),Pj=(e,t,n,r=!1)=>tP(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),Mw=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,lt(t.firstChild)&&Ac(t.firstChild.data)),Mw(e,r,n)}},YN=(e,t,n,r=!0)=>{const i=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(lt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),lt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Mw(e,i,n),i!==c&&Mw(e,c,n))},XN=(e,t)=>H.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),oP=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Gn(r).concat(e.blockPatterns),inlinePatterns:_s(r).concat(e.inlinePatterns)}},nP=(e,t,n,r)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(n,r),i.toString()},OI=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),JN=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},AI=(e,t,n)=>{const r=TI(e.getRoot(),n).getOrDie("Unable to resolve path range"),i=r.startContainer,c=r.endContainer,u=r.endOffset===0?c:c.splitText(r.endOffset),g=r.startOffset===0?i:i.splitText(r.startOffset),x=g.parentNode,C=u.parentNode;return{prefix:t,end:C.insertBefore(OI(e,t+"-end"),u),start:x.insertBefore(OI(e,t+"-start"),g)}},NI=(e,t,n)=>{Mw(e,e.get(t.prefix+"-end"),n),Mw(e,e.get(t.prefix+"-start"),n)},rP=e=>e.start.length===0,Lj=e=>(t,n)=>{const i=t.data.substring(0,n),c=i.lastIndexOf(e.charAt(e.length-1)),u=i.lastIndexOf(e);return u!==-1?u+e.length:c!==-1?c+1:-1},RI=(e,t,n,r)=>{const i=t.start;return CB(e,r.container,r.offset,Lj(i),n).bind(u=>{var g,x;const C=(x=(g=n.textContent)===null||g===void 0?void 0:g.indexOf(i))!==null&&x!==void 0?x:-1;if(C!==-1&&u.offset>=C+i.length){const B=e.createRng();return B.setStart(u.container,u.offset-i.length),B.setEnd(u.container,u.offset),H.some(B)}else{const B=u.offset-i.length;return wB(u.container,B,n).map(L=>{const W=e.createRng();return W.setStart(L.container,L.offset),W.setEnd(u.container,u.offset),W}).filter(L=>L.toString()===i).orThunk(()=>RI(e,t,n,Wp(u.container,0)))}})},Ij=(e,t,n,r,i,c=!1)=>{if(t.start.length===0&&!c){const u=e.createRng();return u.setStart(n,r),u.setEnd(n,r),H.some(u)}return kB(n,r,i).bind(u=>RI(e,t,i,u).bind(x=>{var C;if(c){if(x.endContainer===u.container&&x.endOffset===u.offset)return H.none();if(u.offset===0&&((C=x.endContainer.textContent)===null||C===void 0?void 0:C.length)===x.endOffset)return H.none()}return H.some(x)}))},Fj=(e,t,n,r)=>{const i=e.dom,c=i.getRoot(),u=n.pattern,g=n.position.container,x=n.position.offset;return wB(g,x-n.pattern.end.length,t).bind(C=>{const R=tP(i,c,C.container,C.offset,g,x,r);if(rP(u))return H.some({matches:[{pattern:u,startRng:R,endRng:R}],position:C});{const B=QN(e,n.remainingPatterns,C.container,C.offset,t,r),L=B.getOr({matches:[],position:C}),W=L.position;return Ij(i,u,W.container,W.offset,t,B.isNone()).map(K=>{const ne=Pj(i,c,K,r);return{matches:L.matches.concat([{pattern:u,startRng:ne,endRng:R}]),position:Wp(K.startContainer,K.startOffset)}})}})},QN=(e,t,n,r,i,c)=>{const u=e.dom;return kB(n,r,u.getRoot()).bind(g=>{const x=nP(u,i,n,r);for(let C=0;C<t.length;C++){const R=t[C];if(!Vi(x,R.end))continue;const B=t.slice();B.splice(C,1);const L=Fj(e,i,{pattern:R,remainingPatterns:B,position:g},c);if(L.isNone()&&r>0)return QN(e,t,n,r-1,i,c);if(L.isSome())return L}return H.none()})},DI=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?Ne(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},Hj=(e,t,n,r)=>{const i=JN(e.dom,n);YN(e.dom,i,r),DI(e,t,i)},Vj=(e,t,n,r,i)=>{const c=e.dom,u=JN(c,r),g=JN(c,n);YN(c,g,i),YN(c,u,i);const x={prefix:n.prefix,start:n.end,end:r.start},C=JN(c,x);DI(e,t,C)},$j=(e,t)=>{const n=fd("mce_textpattern"),r=to(t,(i,c)=>{const u=AI(e,n+`_end${i.length}`,c.endRng);return i.concat([{...c,endMarker:u}])},[]);return to(r,(i,c)=>{const u=r.length-i.length-1,g=rP(c.pattern)?c.endMarker:AI(e,n+`_start${u}`,c.startRng);return i.concat([{...c,startMarker:g}])},[])},Uj=e=>Yo(e,(t,n)=>n.end.length-t.end.length),jj=(e,t)=>{const n=ts(e,r=>Cn(t,i=>r.pattern.start===i.pattern.start&&r.pattern.end===i.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},MI=(e,t,n,r,i,c)=>{const u=QN(e,i.inlinePatterns,n,r,t,c).fold(()=>[],x=>x.matches),g=QN(e,Uj(i.inlinePatterns),n,r,t,c).fold(()=>[],x=>x.matches);return jj(u,g)},BI=(e,t)=>{if(t.length===0)return;const n=e.dom,r=e.selection.getBookmark(),i=$j(n,t);Ne(i,c=>{const u=n.getParent(c.startMarker.start,n.isBlock),g=x=>x===u;rP(c.pattern)?Hj(e,c.pattern,c.endMarker,g):Vj(e,c.pattern,c.startMarker,c.endMarker,g),NI(n,c.endMarker,g),NI(n,c.startMarker,g)}),e.selection.moveToBookmark(r)},PI=(e,t,n)=>O9(t,0,t).map(r=>{const i=r.container;return LP(i,n.start.length,t).each(c=>{const u=e.createRng();u.setStart(i,0),u.setEnd(c.container,c.offset),YN(e,u,g=>g===t)}),i}),LI=e=>(t,n)=>{const r=t.dom,i=n.pattern,c=TI(r.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(g,x)=>{const C=x.get(g);return pe(C)&&ut(C).exists(R=>go(R,"block"))};return XN(t,c).each(g=>{i.type==="block-format"?u(i.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,i),t.formatter.apply(i.format)}):i.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,i),t.execCommand(i.cmd,!1,i.value)})}),!0},Zj=e=>Yo(e,(t,n)=>n.start.length-t.start.length),II=e=>(t,n)=>{const r=Zj(t),i=n.replace(rs," ");return zn(r,c=>e(c,n,i))},FI=(e,t)=>(n,r,i,c,u)=>{var g;u===void 0&&(u=(g=r.textContent)!==null&&g!==void 0?g:"");const x=n.dom,C=Xi(n);return x.is(r,C)?e(i.blockPatterns,u).map(R=>t&&gt.trim(u).length===R.start.length?[]:[{pattern:R,range:tP(x,x.getRoot(),r,0,r,0,c)}]).getOr([]):[]},Wj=e=>/^\s[^\s]/.test(e),qj=LI((e,t,n)=>{PI(e,t,n).each(r=>{const i=re.fromDom(r),c=lf(i);Wj(c)&&dg(i,c.slice(1))})}),Gj=II((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),Kj=FI(Gj,!0),Yj=(e,t)=>{const n=e.selection.getRng();return XN(e,n).map(r=>{var i;const c=Math.max(0,n.startOffset),u=oP(t,r,(i=r.textContent)!==null&&i!==void 0?i:""),g=MI(e,r,n.startContainer,c,u,!0),x=Kj(e,r,u,!0);return{inlineMatches:g,blockMatches:x}}).filter(({inlineMatches:r,blockMatches:i})=>i.length>0||r.length>0)},Xj=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();Ne(t,r=>qj(e,r)),e.selection.moveToBookmark(n)},Jj=LI(PI),Qj=II((e,t,n)=>t===e.start||n===e.start),eZ=FI(Qj,!1),tZ=(e,t)=>{const n=e.selection.getRng();return XN(e,n).map(r=>{const i=Math.max(0,n.startOffset),c=nP(e.dom,r,n.startContainer,i),u=oP(t,r,c);return eZ(e,r,u,!1,c)}).filter(r=>r.length>0)},oZ=(e,t)=>{Ne(t,n=>Jj(e,n))},nZ=(e,t)=>Yj(e,t).fold(bo,({inlineMatches:n,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Yb(e),BI(e,n),Xj(e,r);const i=e.selection.getRng(),c=kB(i.startContainer,i.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(u=>{const g=u.container;g.data.charAt(u.offset-1)===Pm&&(g.deleteData(u.offset-1,1),Mw(e.dom,g.parentNode,x=>x===e.dom.getRoot()))})}),!0)),rZ=(e,t)=>{const n=e.selection.getRng();XN(e,n).map(r=>{const i=Math.max(0,n.startOffset-1),c=nP(e.dom,r,n.startContainer,i),u=oP(t,r,c),g=MI(e,r,n.startContainer,i,u,!1);g.length>0&&e.undoManager.transact(()=>{BI(e,g)})})},sZ=(e,t)=>tZ(e,t).fold(bo,n=>(e.undoManager.transact(()=>{oZ(e,n)}),!0)),HI=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},aZ=(e,t)=>HI(e,t,(n,r)=>n===r.keyCode&&!Ft.modifierPressed(r)),iZ=(e,t)=>HI(e,t,(n,r)=>n.charCodeAt(0)===r.charCode),lZ=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>Wa(RR(e).filter(u=>u.type==="inline-command"||u.type==="block-command"?e.queryCommandSupported(u.cmd):!0),DR(e)),i=()=>BR(e);e.on("keydown",u=>{if(u.keyCode===13&&!Ft.modifierPressed(u)&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=Ea(r(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||i())&&nZ(e,g)&&u.preventDefault()}},!0),e.on("keydown",u=>{if(u.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=Ea(r(),"space");(g.blockPatterns.length>0||i())&&sZ(e,g)&&u.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const u=Ea(r(),"space");(u.inlinePatterns.length>0||i())&&rZ(e,u)}};e.on("keyup",u=>{aZ(n,u)&&c()}),e.on("keypress",u=>{iZ(t,u)&&Qd.setEditorTimeout(e,c)})},cZ=e=>{lZ(e)},dZ=e=>{const t=gt.each,n=Ft.BACKSPACE,r=Ft.DELETE,i=e.dom,c=e.selection,u=e.parser,g=Rt.browser,x=g.isFirefox(),C=g.isChromium()||g.isSafari(),R=Rt.deviceType.isiPhone()||Rt.deviceType.isiPad(),B=Rt.os.isMacOS()||Rt.os.isiOS(),L=(zt,at)=>{try{e.getDoc().execCommand(zt,!1,String(at))}catch{}},W=zt=>zt.isDefaultPrevented(),ee=()=>{const zt=St=>{const Co=i.create("body"),Rr=St.cloneContents();return Co.appendChild(Rr),c.serializer.serialize(Co,{format:"html"})},at=St=>{const Co=zt(St),Rr=i.createRng();Rr.selectNode(e.getBody());const gn=zt(Rr);return Co===gn};e.on("keydown",St=>{const Co=St.keyCode;if(!W(St)&&(Co===r||Co===n)&&e.selection.isEditable()){const Rr=e.selection.isCollapsed(),gn=e.getBody();if(Rr&&!Pl(e.schema,gn)||!Rr&&!at(e.selection.getRng()))return;St.preventDefault(),e.setContent(""),gn.firstChild&&i.isBlock(gn.firstChild)?e.selection.setCursorLocation(gn.firstChild,0):e.selection.setCursorLocation(gn,0),e.nodeChanged()}})},K=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ne=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",zt=>{let at;if(zt.target===e.getDoc().documentElement)if(at=c.getRng(),e.getBody().focus(),zt.type==="mousedown"){if(hc(at.startContainer))return;c.placeCaretAt(zt.clientX,zt.clientY)}else c.setRng(at)})},me=()=>{e.on("keydown",zt=>{if(!W(zt)&&zt.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const at=c.getNode(),St=at.previousSibling;if(at.nodeName==="HR"){i.remove(at),zt.preventDefault();return}St&&St.nodeName&&St.nodeName.toLowerCase()==="hr"&&(i.remove(St),zt.preventDefault())}}})},Ce=()=>{Range.prototype.getClientRects||e.on("mousedown",zt=>{if(!W(zt)&&zt.target.nodeName==="HTML"){const at=e.getBody();at.blur(),Qd.setEditorTimeout(e,()=>{at.focus()})}})},ze=()=>{const zt=t_(e);e.on("click",at=>{const St=at.target;/^(IMG|HR)$/.test(St.nodeName)&&i.isEditable(St)&&(at.preventDefault(),e.selection.select(St),e.nodeChanged()),St.nodeName==="A"&&i.hasClass(St,zt)&&St.childNodes.length===0&&i.isEditable(St.parentNode)&&(at.preventDefault(),c.select(St))})},Re=()=>{const zt=()=>{const St=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const Co=c.getStart();Co!==e.getBody()&&(i.setAttrib(Co,"style",null),t(St,Rr=>{Co.setAttributeNode(Rr.cloneNode(!0))}))}},at=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);e.on("keypress",St=>{let Co;return!W(St)&&(St.keyCode===8||St.keyCode===46)&&at()?(Co=zt(),e.getDoc().execCommand("delete",!1),Co(),St.preventDefault(),!1):!0}),i.bind(e.getDoc(),"cut",St=>{if(!W(St)&&at()){const Co=zt();Qd.setEditorTimeout(e,()=>{Co()})}})},Xe=()=>{e.on("keydown",zt=>{if(!W(zt)&&zt.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const at=c.getNode().previousSibling;if(at&&at.nodeName&&at.nodeName.toLowerCase()==="table")return zt.preventDefault(),!1}return!0})},pt=()=>{e.on("keydown",zt=>{if(W(zt)||zt.keyCode!==Ft.BACKSPACE)return;let at=c.getRng();const St=at.startContainer,Co=at.startOffset,Rr=i.getRoot();let gn=St;if(!(!at.collapsed||Co!==0)){for(;gn.parentNode&&gn.parentNode.firstChild===gn&&gn.parentNode!==Rr;)gn=gn.parentNode;gn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,gn),at=i.createRng(),at.setStart(St,0),at.setEnd(St,0),c.setRng(at))}})},Nt=()=>{const zt=()=>{L("StyleWithCSS",!1),L("enableInlineTableEditing",!1),h0(e)||L("enableObjectResizing",!1)};fy(e)||e.on("BeforeExecCommand mousedown",zt)},Ze=()=>{const zt=()=>{t(i.select("a:not([data-mce-block])"),at=>{var St;let Co=at.parentNode;const Rr=i.getRoot();if((Co==null?void 0:Co.lastChild)===at){for(;Co&&!i.isBlock(Co);){if(((St=Co.parentNode)===null||St===void 0?void 0:St.lastChild)!==Co||Co===Rr)return;Co=Co.parentNode}i.add(Co,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",at=>{(at.type==="setcontent"||at.command==="mceInsertLink")&&zt()})},Pe=()=>{e.on("init",()=>{L("DefaultParagraphSeparator",Xi(e))})},tt=zt=>{const at=zt.getBody(),St=zt.selection.getRng();return St.startContainer===St.endContainer&&St.startContainer===at&&St.startOffset===0&&St.endOffset===at.childNodes.length},Et=()=>{e.on("keyup focusin mouseup",zt=>{!Ft.modifierPressed(zt)&&!tt(e)&&c.normalize()},!0)},Qt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},on=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},rn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",zt=>{let at;zt.target.nodeName==="HTML"&&(at=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(at),e.selection.normalize(),e.nodeChanged())}))},jn=()=>{B&&e.on("keydown",zt=>{Ft.metaKeyPressed(zt)&&!zt.shiftKey&&(zt.keyCode===37||zt.keyCode===39)&&(zt.preventDefault(),e.selection.getSel().modify("move",zt.keyCode===37?"backward":"forward","lineboundary"))})},kr=()=>{e.on("click",zt=>{let at=zt.target;do if(at.tagName==="A"){zt.preventDefault();return}while(at=at.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},fa=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",zt=>{zt.preventDefault()})})},Mi=()=>{u.addNodeFilter("br",zt=>{let at=zt.length;for(;at--;)zt[at].attr("class")==="Apple-interchange-newline"&&zt[at].remove()})},Bi=io,kt=()=>{if(!x||e.removed)return!1;const zt=e.selection.getSel();return!zt||!zt.rangeCount||zt.rangeCount===0},eo=()=>{C&&(ne(),ze(),fa(),K(),R&&(on(),rn(),kr())),x&&(Ce(),Nt(),Qt(),jn())},In=()=>{pt(),ee(),Rt.windowsPhone||Et(),C&&(ne(),ze(),Pe(),fa(),Xe(),Mi(),R?(on(),rn(),kr()):K()),x&&(me(),Ce(),Re(),Nt(),Ze(),Qt(),jn(),Xe())};return wf(e)?eo():In(),{refreshContentEditable:Bi,isHidden:kt}},uZ=e=>e.toLowerCase()==="gpl",fZ=e=>e.length>=64&&e.length<=255,mZ=e=>uZ(e)||fZ(e)?"VALID":"INVALID",pZ=e=>{const t=LR(e);!ht(IR(e))&&(ar(t)||mZ(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},sP=Ar.DOM,gZ=(e,t)=>{const n=re.fromDom(e.getBody()),r=nd(Ei(n)),i=re.fromTag("style");Tn(i,"type","text/css"),Br(i,re.fromText(t)),Br(r,i),e.on("remove",()=>{dn(i)})},hZ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,aP=e=>Ji(e,t=>ar(t)===!1),VI=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return aP({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:hZ(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:i_(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},$I=e=>{const t=e.options.get;return aP({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},bZ=e=>{const t=e.options.get;return{...VI(e),...$I(e),...aP({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},yZ=e=>{const t=o1(VI(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const i=e.dom,c="data-mce-"+r;let u=n.length;for(;u--;){const g=n[u];let x=g.attr(r);if(x&&!g.attr(c)){if(x.indexOf("data:")===0||x.indexOf("blob:")===0)continue;r==="style"?(x=i.serializeStyle(i.parseStyle(x),g.name),x.length||(x=null),g.attr(c,x),g.attr(r,x)):r==="tabindex"?(g.attr(c,x),g.attr(r,null)):g.attr(c,e.convertURL(x,r,g.name))}}}),t.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const i=n[r],c=i.attr("type")||"no/type";c.indexOf("mce-")!==0&&i.attr("type","mce-"+c)}}),xE(e)&&t.addNodeFilter("#cdata",n=>{var r;let i=n.length;for(;i--;){const c=n[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((r=c.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const i=e.schema.getNonEmptyElements();for(;r--;){const c=n[r];c.isEmpty(i)&&c.getAll("br").length===0&&c.append(new Vl("br",1))}}),t},xZ=e=>{const t=lE(e);t&&Qd.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},vZ=e=>{const t=e.dom.getRoot();!e.inline&&(!ky(e)||e.selection.getStart(!0)===t)&&is(t).each(n=>{const r=n.getNode(),i=id(r)?is(r).getOr(n):n;e.selection.setRng(i.toRange())})},_Z=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Yd(e),e.focus(!0),vZ(e),e.nodeChanged({initial:!0});const t=aE(e);jt(t)&&t.call(e,e),xZ(e),bm(e)&&NA(e,!0)},iP=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,kZ=(e,t,n)=>{const{pass:r,fail:i}=it(t,g=>tinymce.Resource.has(Wx(g))),u=[...r.map(g=>{const x=tinymce.Resource.get(Wx(g));return ht(x)?Promise.resolve(iP(e).loadRawCss(g,x)):Promise.resolve()}),iP(e).loadAll(i)];return e.inline?u:u.concat([e.ui.styleSheetLoader.loadAll(n)])},UI=e=>{const t=iP(e),n=gf(e),r=e.contentCSS,i=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},c=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let x="";gt.each(e.contentStyles,C=>{x+=C+`\r
`}),e.dom.addStyle(x)}const u=Promise.all(kZ(e,r,n)).then(c).catch(c),g=dp(e);return g&&gZ(e,g),u},wZ=e=>{const t=e.getDoc(),n=e.getBody();rl(e),n_(e)||(t.body.spellcheck=!1,sP.setAttrib(n,"spellcheck","false")),e.quirks=dZ(e),Eu(e);const r=Qv(e);r!==void 0&&(n.dir=r);const i=cE(e);i&&e.on("BeforeSetContent",c=>{gt.each(i,u=>{c.content=c.content.replace(u,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},CZ=e=>{wf(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},lP=e=>{e.removed!==!0&&(CZ(e),_Z(e))},SZ=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},jI=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(sP.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=fy(e),e._editableRoot=my(e),!Sh(e)&&e.hasEditableRoot()&&(e.inline&&sP.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=jA(e),e.schema=wt($I(e)),e.dom=Ar(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Q3(e),referrerPolicy:Jv(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)}}),e.parser=yZ(e),e.serializer=g4(bZ(e),e),e.selection=iA(e.dom,e.getWin(),e.serializer,e),e.annotator=Ay(e),e.formatter=Kx(e),e.undoManager=P4(e),e._nodeChangeDispatcher=new x$(e),e._selectionOverrides=Mj(e),$e(e),FU(e),Un(e),wf(e)||(WU(e),cZ(e));const i=y$(e);ce(e,i),Qr(e),XA(e),PU(e);const c=x8(e);wZ(e),pZ(e),c.fold(()=>{const u=SZ(e);UI(e).then(()=>{lP(e),u()})},u=>{e.setProgressState(!0),UI(e).then(()=>{u().then(g=>{e.setProgressState(!1),lP(e),oA(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),lP(e),oA(e)})})})},EZ=fo,zZ=(e,t,n)=>M(e,t,EZ,n),cP=Ar.DOM,TZ=(e,t,n,r)=>{const i=re.fromTag("iframe");return r.each(c=>Tn(i,"tabindex",c)),fl(i,n),fl(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Jl(i,"tox-edit-area__iframe"),i},OZ=e=>{let t=dy(e)+"<html><head>";W3(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=pR(e),r=_n(e),i=e.translate(o_(e));return q3(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+q3(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t},AZ=(e,t)=>{const n=Rt.browser.isFirefox()?o_(e):"Rich Text Area",r=e.translate(n),i=As(re.fromDom(e.getElement()),"tabindex").bind(qn),c=TZ(e.id,r,wl(e),i).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=OZ(e),cP.add(t.iframeContainer,c)},NZ=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,jI(e)};if(c2(e)||Rt.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),n()}else{const r=zZ(re.fromDom(t),"load",()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},RZ=(e,t)=>{AZ(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=cP.isHidden(t.editorContainer)),e.getElement().style.display="none",cP.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,NZ(e)},ZI=Ar.DOM,DZ=(e,t,n)=>{const r=c1.get(n),i=c1.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=gt.trim(n),r&&gt.inArray(t,n)===-1){if(e.plugins[n])return;try{const c=r(e,i)||{};e.plugins[n]=c,jt(c.init)&&(c.init(e,i),t.push(n))}catch(c){J8(e,n,c)}}},MZ=e=>e.replace(/^\-/,""),BZ=e=>{const t=[];Ne(v0(e),n=>{DZ(e,t,MZ(n))})},PZ=e=>{const t=gt.trim(Y3(e)),n=e.ui.registry.getAll().icons,r={...Hx.get("default").icons,...Hx.get(t).icons};Fo(r,(i,c)=>{go(n,c)||e.ui.registry.addIcon(c,i)})},LZ=e=>{const t=uy(e);if(ht(t)){const n=Cf.get(t);e.theme=n(e,Cf.urls[t])||{},jt(e.theme.init)&&e.theme.init(e,Cf.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},IZ=e=>{const t=i2(e),n=lb.get(t);e.model=n(e,lb.urls[t])},FZ=e=>{const t=e.theme.renderUI;return t?t():qI(e)},HZ=e=>{const t=e.getElement(),r=uy(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},WI=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),VZ=e=>{const t=ZI.create("div");return ZI.insertAfter(t,e),WI(t,t)},qI=e=>{const t=e.getElement();return e.inline?WI(null):VZ(t)},$Z=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,ht(uy(e))?FZ(e):jt(uy(e))?HZ(e):qI(e)},UZ=(e,t)=>{const n={show:H.from(t.show).getOr(io),hide:H.from(t.hide).getOr(io),isEnabled:H.from(t.isEnabled).getOr(fo),setEnabled:r=>{r&&(e.mode.get()==="readonly"||bm(e))||H.from(t.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...n}},jZ=async e=>{e.dispatch("ScriptsLoaded"),PZ(e),LZ(e),IZ(e),BZ(e);const t=await $Z(e);UZ(e,H.from(t.api).getOr({})),e.editorContainer=t.editorContainer,FA(e),e.inline?jI(e):RZ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},dv=Ar.DOM,GI=e=>e.charAt(0)==="-",ZZ=(e,t)=>{const n=a2(t),r=xR(t);if(!mc.hasCode(n)&&n!=="en"){const i=yr(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch(()=>{zA(t,i,n)})}},WZ=(e,t)=>{const n=uy(e);if(ht(n)&&!GI(n)&&!go(Cf.urls,n)){const r=kR(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;Cf.load(n,i).catch(()=>{z4(e,i,n)})}},qZ=(e,t)=>{const n=i2(e);if(n!=="plugin"&&!go(lb.urls,n)){const r=wn(e),i=ht(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;lb.load(n,i).catch(()=>{TA(e,i,n)})}},GZ=e=>H.from(Wt(e)).filter(yr).map(t=>({url:t,name:H.none()})),KI=(e,t,n)=>H.from(t).filter(r=>yr(r)&&!Hx.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:H.some(r)})),KZ=(e,t,n)=>{const r=KI(t,"default",n),i=GZ(t).orThunk(()=>KI(t,Y3(t),""));Ne(Mf([r,i]),c=>{e.add(c.url).catch(()=>{nw(t,c.url,c.name.getOrUndefined())})})},YZ=(e,t)=>{const n=(r,i)=>{c1.load(r,i).catch(()=>{E4(e,i,r)})};Fo(zR(e),(r,i)=>{n(i,r),e.options.set("plugins",v0(e).concat(i))}),Ne(v0(e),r=>{r=gt.trim(r),r&&!c1.urls[r]&&!GI(r)&&n(r,`plugins/${r}/plugin${t}.js`)})},XZ=e=>{const t=uy(e);return!ht(t)||Le(Cf.get(t))},JZ=e=>{const t=i2(e);return Le(lb.get(t))},QZ=(e,t)=>{const n=Mc.ScriptLoader,r=()=>{!e.removed&&XZ(e)&&JZ(e)&&jZ(e)};WZ(e,t),qZ(e,t),ZZ(n,e),KZ(n,e,t),YZ(e,t),n.loadQueue().then(r,r)},eW=(e,t)=>Jg.forElement(e,{contentCssCors:nE(t),referrerPolicy:Jv(t)}),tW=e=>{const t=e.id;mc.setCode(a2(e));const n=()=>{dv.unbind(window,"ready",n),e.render()};if(!fc.Event.domLoaded){dv.bind(window,"ready",n);return}if(!e.getElement())return;const r=re.fromDom(e.getElement()),i=Rl(r);e.on("remove",()=>{yt(r.dom.attributes,u=>Sn(r,u.name)),fl(r,i)}),e.ui.styleSheetLoader=eW(r,e),x0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||dv.getParent(t,"form");c&&(e.formElement=c,CR(e)&&!xu(e.getElement())&&(dv.insertAfter(dv.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},dv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),_g(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=S4(e),e.notificationManager=C4(e),wE(e)&&e.on("GetContent",u=>{u.save&&(u.content=dv.encode(u.content))}),Ch(e)&&e.on("submit",()=>{e.initialized&&e.save()}),oE(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),QZ(e,e.suffix)},oW=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,bm(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),U3(e,t))},nW=e=>e._editableRoot,rW=(e,t)=>({sections:Je(e),options:Je(t)}),YI=js().deviceType,XI=YI.isPhone(),sW=YI.isTablet(),E3=e=>{if(Po(e))return[];{const t=pe(e)?e:e.split(/[ ,]/),n=Ko(t,ga);return Ke(n,yr)}},aW=(e,t)=>{const n=zl(t,(r,i)=>en(e,i));return rW(n.t,n.f)},iW=(e,t,n={})=>{const r=e.sections(),i=Hn(r,t).getOr({});return gt.extend({},n,i)},dP=(e,t)=>go(e.sections(),t),lW=(e,t)=>dP(e,t)?e.sections()[t]:{},cW=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Hn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),dW=(e,t)=>{var n;const r=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?gt.extend({},e.external_plugins,r):r},uW=(e,t)=>[...E3(e),...E3(t)],fW=(e,t,n,r)=>e&&dP(t,"mobile")?r:n,mW=(e,t,n,r)=>{const i=E3(n.forced_plugins),c=E3(r.plugins),u=lW(t,"mobile"),g=u.plugins?E3(u.plugins):c,x=fW(e,t,c,g),C=uW(i,x);return gt.extend(r,{forced_plugins:i,plugins:C})},pW=(e,t)=>e&&dP(t,"mobile"),gW=(e,t,n,r,i)=>{var c;const u=e?{mobile:cW((c=i.mobile)!==null&&c!==void 0?c:{},t)}:{},g=aW(["mobile"],AN(u,i)),x=gt.extend(n,r,g.options(),pW(e,g)?iW(g,"mobile"):{},{external_plugins:dW(r,g.options())});return mW(e,g,r,x)},hW=(e,t)=>{const n=ZP(t);return gW(XI||sW,XI,n,e,n)},bW=(e,t)=>O8(e,t),yW=e=>{const t=(r,i)=>{e.formatter.toggle(r,i),e.nodeChanged()},n=r=>()=>{Ne("left,center,right,justify".split(","),i=>{r!==i&&e.formatter.remove("align"+i)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},xW=e=>{const t=n=>()=>{const r=e.selection,i=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Cn(i,c=>Le(e.formatter.matchNode(c,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},vW=e=>{yW(e),xW(e)},_W=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch{r=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Rt.os.isMacOS()||Rt.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}}})},kW=(e,t,n,r)=>{const i=re.fromDom(e.getRoot());return Kh(i,Ve.fromRangeStart(t),r)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Vy(i,Ve.fromRangeEnd(t),r)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},wW=e=>{if(typeof e!="string"){const t=gt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},CW=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?kW(r,n.getRng(),t,e.schema):t},eR=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=wW(t);Ik(e,{...r,content:CW(e,n),format:"html",set:!1,selection:!0}).each(i=>{const c=tA(e,i.content,r);Fk(e,c,i),e.addVisual()})}},SW=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{eR(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{eR(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{eR(e,r)},mceInsertContent:(t,n,r)=>{eR(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(mE(e))}})},EW={"font-size":"size","font-family":"face"},zW=ia("font"),TW=(e,t,n)=>{const r=c=>Ws(c,e).orThunk(()=>zW(c)?Hn(EW,e).bind(u=>As(c,u)):H.none()),i=c=>Xo(re.fromDom(t),c);return nS(re.fromDom(n),c=>r(c),i)},OW=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),AW=(e,t)=>H.from(Ar.DOM.getStyle(t,e,!0)),JI=e=>(t,n)=>H.from(n).map(re.fromDom).filter(ni).bind(r=>TW(e,t,r.dom).or(AW(e,r.dom))).getOr(""),NW=JI("font-size"),RW=Do(OW,JI("font-family")),DW=e=>is(e.getBody()).bind(t=>{const n=t.container();return H.from(lt(n)?n.parentNode:n)}),MW=e=>H.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?H.none():H.from(e.selection.getStart(!0))}),BW=(e,t)=>MW(e).orThunk(De(DW,e)).map(re.fromDom).filter(ni).bind(t),uP=(e,t)=>BW(e,qr(H.some,t)),QI=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=_E(e),i=kE(e);return i.length>0?i[n-1]||t:r[n-1]||t}else return t}else return t},PW=e=>{const t=e.split(/\s*,\s*/);return Ko(t,n=>n.indexOf(" ")!==-1&&!(ur(n,'"')||ur(n,"'"))?`'${n}'`:n).join(",")},LW=(e,t)=>{const n=QI(e,t);e.formatter.toggle("fontname",{value:PW(n)}),e.nodeChanged()},IW=e=>uP(e,t=>RW(e.getBody(),t.dom)).getOr(""),FW=(e,t)=>{e.formatter.toggle("fontsize",{value:QI(e,t)}),e.nodeChanged()},HW=e=>uP(e,t=>NW(e.getBody(),t.dom)).getOr(""),VW=e=>uP(e,t=>{const n=re.fromDom(e.getBody()),r=nS(t,c=>Ws(c,"line-height"),De(Xo,n)),i=()=>{const c=parseFloat(zi(t,"line-height")),u=parseFloat(zi(t,"font-size"));return String(c/u)};return r.getOrThunk(i)}).getOr(""),$W=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},UW=e=>{const t=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,r,i)=>{t(n,{value:i})},BackColor:(n,r,i)=>{t("hilitecolor",{value:i})},FontName:(n,r,i)=>{LW(e,i)},FontSize:(n,r,i)=>{FW(e,i)},LineHeight:(n,r,i)=>{$W(e,i)},Lang:(n,r,i)=>{var c;t(n,{value:i.code,customValue:(c=i.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,r,i)=>{t(ht(i)?i:"p")},mceToggleFormat:(n,r,i)=>{t(i)}})},jW=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>IW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>HW(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>VW(e))},ZW=e=>{UW(e),jW(e)},WW=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},qW=e=>{e.editorCommands.addCommands({Indent:()=>{G(e)},Outdent:()=>{J(e)}}),e.editorCommands.addCommands({Outdent:()=>w(e)},"state")},GW=e=>{const t=(n,r,i)=>{if(e.mode.isReadOnly())return;const c=ht(i)?{href:i}:i,u=e.dom.getParent(e.selection.getNode(),"a");ue(c)&&ht(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!u||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},KW=(e,t,n,r)=>{const i=e.dom,c=g=>i.isBlock(g)&&g.parentElement===n,u=c(t)?t:i.getParent(r,c,n);return H.from(u).map(re.fromDom)},eF=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,r=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),c=t?r.startContainer:r.endContainer,u=_3(n,c);if(!u||!u.isContentEditable)return;const g=t?jr:Jo,x=Xi(e);KW(e,i,u,c).each(C=>{const R=hL(e,c,C.dom,u,!1,x);g(C,re.fromDom(R)),e.selection.setCursorLocation(R,0),e.dispatch("NewBlock",{newBlock:R}),v3(e,"insertParagraph")})},YW=e=>eF(e,!0),XW=e=>eF(e,!1),JW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{YW(e)},InsertNewBlockAfter:()=>{XW(e)}})},QW=e=>{e.editorCommands.addCommands({insertParagraph:()=>{$N(vL,e)},mceInsertNewLine:(t,n,r)=>{zL(e,r)},InsertLineBreak:(t,n,r)=>{$N(wL,e)}})},eq=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),c=>At(c)&&i++===r?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Ai);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},tq=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const i=r??e.selection.getNode();if(i!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{hD(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},oq=e=>{vW(e),_W(e),WW(e),eq(e),SW(e),GW(e),qW(e),JW(e),QW(e),ZW(e),tq(e)},nq=["toggleview"],tF=e=>en(nq,e.toLowerCase());class oF{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,i){const c=this.editor,u=t.toLowerCase(),g=i==null?void 0:i.skip_focus;if(c.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!g?c.focus():_z(c)),c.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;const C=this.commands.exec[u];return jt(C)?(C(u,n,r),c.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0):!1}queryCommandState(t){if(!tF(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return jt(r)?r(n):!1}queryCommandValue(t){if(!tF(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return jt(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;Fo(t,(i,c)=>{Ne(c.toLowerCase().split(","),u=>{r[n][u]=i})})}addCommand(t,n,r){const i=t.toLowerCase();this.commands.exec[i]=(c,u,g)=>n.call(r??this.editor,u,g)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const rq=gt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class fP{static isNative(t){return!!rq[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||bo}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),i=$1(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[r];if(c)for(let u=0,g=c.length;u<g;u++){const x=c[u];if(!x.removed){if(x.once&&this.off(r,x.func),i.isImmediatePropagationStopped())return i;if(x.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(t,n,r,i){if(n===!1&&(n=bo),n){const c={func:n,removed:!1};i&&gt.extend(c,i);const u=t.toLowerCase().split(" ");let g=u.length;for(;g--;){const x=u[g];let C=this.bindings[x];C||(C=[],this.toggleEvent(x,!0)),r?C=[c,...C]:C=[...C,c],this.bindings[x]=C}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let i=r.length;for(;i--;){const c=r[i];let u=this.bindings[c];if(!c)return Fo(this.bindings,(g,x)=>{this.toggleEvent(x,!1),delete this.bindings[x]}),this;if(u){if(!n)u.length=0;else{const g=it(u,x=>x.func===n);u=g.fail,this.bindings[c]=u,Ne(g.pass,x=>{x.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Fo(this.bindings,(r,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const z3=e=>(e._eventDispatcher||(e._eventDispatcher=new fP({scope:e,toggleEvent:(t,n)=>{fP.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),mP={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return $1(e.toLowerCase(),t??{},r);const i=z3(r).dispatch(e,t);if(n!==!1&&r.parent){let c=r.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(e,i,!1),c=c.parent?c.parent():void 0}return i},on(e,t,n){return z3(this).on(e,t,n)},off(e,t){return z3(this).off(e,t)},once(e,t){return z3(this).once(e,t)},hasEventListeners(e){return z3(this).has(e)}},tR=Ar.DOM;let uv;const oR=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=kh(e);return n?(e.eventRoot||(e.eventRoot=tR.select(n)[0]),e.eventRoot):e.getBody()},sq=e=>!e.hidden&&!bm(e),nF=(e,t,n)=>{sq(e)?e.dispatch(t,n):bm(e)&&tM(e,n)},rF=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=oR(e,t);if(kh(e)){if(uv||(uv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||uv&&(Fo(uv,(i,c)=>{e.dom.unbind(oR(e,c))}),uv=null)})),uv[t])return;const r=i=>{const c=i.target,u=e.editorManager.get();let g=u.length;for(;g--;){const x=u[g].getBody();(x===c||tR.isChildOf(c,x))&&nF(u[g],t,i)}};uv[t]=r,tR.bind(n,t,r)}else{const r=i=>{nF(e,t,i)};tR.bind(n,t,r),e.delegates[t]=r}},sF={...mP,bindPendingEventDelegates(){const e=this;gt.each(e._pendingNativeEvents,t=>{rF(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?rF(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(oR(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Fo(e.delegates,(r,i)=>{e.dom.unbind(oR(e,i),i,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},aq=e=>ht(e)?{value:e.split(/[ ,]/),valid:!0}:To(e,ht)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},iq=e=>{const t=(()=>{switch(e){case"array":return pe;case"boolean":return Zn;case"function":return jt;case"number":return O;case"object":return ue;case"string":return ht;case"string[]":return aq;case"object[]":return n=>To(n,ue);case"regexp":return n=>Ut(n,RegExp);default:return fo}})();return n=>pP(n,t,`The value must be a ${e}.`)},lq=e=>ht(e.processor),aF=(e,t)=>{const n=vi(t.message)?"":`. ${t.message}`;return e+n},iF=e=>e.valid,pP=(e,t,n="")=>{const r=t(e);return Zn(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},cq=(e,t,n)=>{if(!ar(t)){const r=pP(t,n);if(iF(r))return r.value;console.error(aF(`Invalid default value passed for the "${e}" option`,r))}},dq=(e,t,n=t)=>{const r={},i={},c=(W,ee,K)=>{const ne=pP(ee,K);return iF(ne)?(i[W]=ne.value,!0):(console.warn(aF(`Invalid value passed for the ${W} option`,ne)),!1)},u=(W,ee)=>{const K=lq(ee)?iq(ee.processor):ee.processor,ne=cq(W,ee.default,K);r[W]={...ee,default:ne,processor:K},Hn(i,W).orThunk(()=>Hn(t,W)).each(Ce=>c(W,Ce,K))},g=W=>go(r,W);return{register:u,isRegistered:g,get:W=>Hn(i,W).orThunk(()=>Hn(r,W).map(ee=>ee.default)).getOrUndefined(),set:(W,ee)=>{if(g(W)){const K=r[W];return K.immutable?(console.error(`"${W}" is an immutable option and cannot be updated`),!1):c(W,ee,K.processor)}else return console.warn(`"${W}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:W=>{const ee=g(W);return ee&&delete i[W],ee},isSet:W=>go(i,W),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(W,ee)=>Zn(ee)||O(ee)||ht(ee)||qe(ee)||pe(ee)||Ct(ee)?ee:Object.prototype.toString.call(ee))))}catch(W){console.error(W)}}}},uq=(e,t)=>{e.dom.contentEditable="true"},fq=(e,t)=>{const n=re.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&uq(n),O4(e)):(e.readonly=!1,AA(e))},T3=e=>e.readonly,mq=e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",t=>{T3(e)&&t.preventDefault()}),e.on("BeforeExecCommand",t=>{(t.command==="Undo"||t.command==="Redo")&&T3(e)&&t.preventDefault()}),e.on("input",t=>{if(!t.isComposing&&T3(e)){const n=e.undoManager.add();Le(n)&&e.undoManager.undo()}}),e.on("compositionend",()=>{if(T3(e)){const t=e.undoManager.add();Le(t)&&e.undoManager.undo()}})},pq=["design","readonly"],lF=(e,t,n,r)=>{const i=n[t.get()],c=n[r];try{c.activate()}catch(u){console.error(`problem while activating editor mode ${r}:`,u);return}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&fq(e,c.editorReadOnly),t.set(r),cy(e,r)},gq=(e,t,n,r)=>{if(!(r===n.get()||e.initialized&&bm(e))){if(!go(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?lF(e,n,t,r):e.on("init",()=>lF(e,n,t,r))}},hq=(e,t,n)=>{if(en(pq,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},bq=e=>{const t=zr("design"),n=zr({design:{activate:io,deactivate:io,editorReadOnly:!1},readonly:{activate:io,deactivate:io,editorReadOnly:!0}});return mq(e),N4(e),{isReadOnly:()=>T3(e),set:r=>gq(e,n.get(),t,r),get:()=>t.get(),register:(r,i)=>{n.set(hq(n.get(),r,i))}}},gP=gt.each,hP=gt.explode,yq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},cF=gt.makeMap("alt,ctrl,shift,meta,access"),xq=e=>e in cF,vq=e=>{const t={},n=Rt.os.isMacOS()||Rt.os.isiOS();gP(hP(e.toLowerCase(),"+"),c=>{xq(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=yq[c]||c.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let i;for(i in cF)t[i]?r.push(i):t[i]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class dF{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(gP(n.shortcuts,i=>{n.matchShortcut(r,i)&&(n.pendingPatterns=i.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(i))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,i){const c=this,u=c.normalizeCommandFunc(r);return gP(hP(gt.trim(t)),g=>{const x=c.createShortcut(g,n,u,i);c.shortcuts[x.id]=x}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,r=t;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:gt.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,i){const c=gt.map(hP(t,">"),vq);return c[c.length-1]=gt.extend(c[c.length-1],{func:r,scope:i||this.editor}),gt.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const _q=()=>{const e={},t={},n={},r={},i={},c={},u={},g={},x={},C=(W,ee)=>(K,ne)=>{W[K.toLowerCase()]={...ne,type:ee}},R=(W,ee)=>(K,ne)=>{W[K.toLowerCase()]={type:ee,...ne}},B=(W,ee)=>r[W.toLowerCase()]=ee,L=(W,ee)=>u[W.toLowerCase()]=ee;return{addButton:C(e,"button"),addGroupToolbarButton:C(e,"grouptoolbarbutton"),addToggleButton:C(e,"togglebutton"),addMenuButton:C(e,"menubutton"),addSplitButton:C(e,"splitbutton"),addMenuItem:C(t,"menuitem"),addNestedMenuItem:C(t,"nestedmenuitem"),addToggleMenuItem:C(t,"togglemenuitem"),addAutocompleter:C(n,"autocompleter"),addContextMenu:C(i,"contextmenu"),addContextToolbar:C(c,"contexttoolbar"),addContextForm:R(c,"contextform"),addSidebar:C(g,"sidebar"),addView:C(x,"views"),addIcon:B,addContext:L,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:i,contextToolbars:c,sidebars:g,views:x,contexts:u})}},kq=()=>{const e=_q();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},fv=Ar.DOM,uF=gt.extend,wq=gt.each;class nR{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,uF(this,sF);const i=this;this.id=t,this.hidden=!1;const c=hW(r.defaultOptions,n);this.options=dq(i,c,n),yd(i);const u=this.options.get;u("deprecation_warnings")&&v4(n,c);const g=u("suffix");g&&(r.suffix=g),this.suffix=r.suffix;const x=u("base_url");x&&r._setBaseUrl(x),this.baseUri=r.baseURI;const C=Jv(i);C&&(Mc.ScriptLoader._setReferrerPolicy(C),Ar.DOM.styleSheetLoader._setReferrerPolicy(C));const R=nE(i);Le(R)&&Ar.DOM.styleSheetLoader._setContentCssCors(R),ui.languageLoad=u("language_load"),ui.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Pu(W3(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=x0(i),this.hasVisual=TR(i),this.shortcuts=new dF(this),this.editorCommands=new oF(this),oq(this);const B=u("cache_suffix");B&&(Rt.cacheSuffix=B.replace(/^[\?\&]+/,"")),this.ui={registry:kq(),styleSheetLoader:void 0,show:io,hide:io,setEnabled:io,isEnabled:fo},this.mode=bq(i),r.dispatch("SetupEditor",{editor:this});const L=l2(i);jt(L)&&L.call(i,i)}render(){tW(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Ih(this)}translate(t){return mc.translate(t)}getParam(t,n,r){const i=this.options;return i.isRegistered(t)||(Le(r)?i.register(t,{processor:r,default:n}):i.register(t,{processor:fo,default:n})),!i.isSet(t)&&!ar(n)?n:i.get(t)}hasPlugin(t,n){return en(v0(this),t)?n?c1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,i){this.shortcuts.add(t,n,r,i)}execCommand(t,n,r,i){return this.editorCommands.execCommand(t,n,r,i)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(fv.show(t.getContainer()),fv.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(fv.hide(t.getContainer()),fv.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const i={...t,load:!0},c=xu(r)?r.value:r.innerHTML,u=n.setContent(c,i);return i.no_events||n.dispatch("LoadContent",{...i,element:r}),u}else return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const i={...t,save:!0,element:r};let c=n.getContent(i);const u={...i,content:c};if(u.no_events||n.dispatch("SaveContent",u),u.format==="raw"&&n.dispatch("RawSaveContent",u),c=u.content,xu(r))r.value=c;else{(t.is_removing||!n.inline)&&(r.innerHTML=c);const g=fv.getParent(n.id,"form");g&&wq(g.elements,x=>x.name===n.id?(x.value=c,!1):!0)}return u.element=i.element=r=null,u.set_dirty!==!1&&n.setDirty(!1),c}setContent(t,n){return y4(this,t,n)}getContent(t){return uA(this,t)}insertContent(t,n){n&&(t=uF({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?y4(this,this.startContent,{format:"raw"}):y4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||fv.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=fv.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(t,n,r){const i=this,c=i.options.get,u=iE(i);if(jt(u))return u.call(i,t,r,!0,n);if(!c("convert_urls")||r==="link"||ue(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new Pu(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?i.documentBaseURI.toRelative(t):(t=i.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){bW(this,t)}setEditableRoot(t){oW(this,t)}hasEditableRoot(){return nW(this)}remove(){xA(this)}destroy(t){k4(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Bw=Ar.DOM,rR=gt.each;let fF=!1,sR,Td=[];const aR=e=>{const t=e.type;rR(S1.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},mF=e=>{if(e!==fF){const t=Ar.DOM;e?(t.bind(window,"resize",aR),t.bind(window,"scroll",aR)):(t.unbind(window,"resize",aR),t.unbind(window,"scroll",aR)),fF=e}},pF=e=>{const t=Td;return Td=Ke(Td,n=>e!==n),S1.activeEditor===e&&(S1.activeEditor=Td.length>0?Td[0]:null),S1.focusedEditor===e&&(S1.focusedEditor=null),t.length!==Td.length},Cq=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(pF(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Sq=document.compatMode!=="CSS1Compat",S1={...mP,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"8.0",releaseDate:"TBD",i18n:mc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=Pu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{const c=document.getElementsByTagName("script");for(let u=0;u<c.length;u++){const g=c[u].src||"";if(g==="")continue;const x=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){x.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Pu(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Pu(e.baseURL),e.suffix=n,W2(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Fo(r,(i,c)=>{ui.PluginManager.urls[c]=i})},init(e){const t=this;let n;const r=gt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=(R,B)=>R.inline&&B.tagName.toLowerCase()in r,c=R=>{let B=R.id;return B||(B=Hn(R,"name").filter(L=>!Bw.get(L)).getOrThunk(Bw.uniqueId),R.setAttribute("id",B)),B},u=R=>{const B=e[R];if(B)return B.apply(t,[])},g=R=>Rt.browser.isIE()||Rt.browser.isEdge()?(Zx("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Sq?(Zx("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ht(R.selector)?Bw.select(R.selector):Le(R.target)?[R.target]:[];let x=R=>{n=R};const C=()=>{let R=0;const B=[];let L;const W=(ee,K,ne)=>{const me=new nR(ee,K,t);B.push(me),me.on("init",()=>{++R===L.length&&x(B)}),me.targetElm=me.targetElm||ne,me.render()};Bw.unbind(window,"ready",C),u("onpageload"),L=hi(g(e)),gt.each(L,ee=>{Cq(t.get(ee.id))}),L=gt.grep(L,ee=>!t.get(ee.id)),L.length===0?x([]):rR(L,ee=>{i(e,ee)?Zx("Could not initialize inline editor on invalid inline target element",ee):W(c(ee),e,ee)})};return Bw.bind(window,"ready",C),new Promise(R=>{n?R(n):x=B=>{R(B)}})},get(e){return arguments.length===0?Td.slice(0):ht(e)?zn(Td,t=>t.id===e).getOr(null):O(e)&&Td[e]?Td[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Td.push(e),mF(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),sR||(sR=r=>{const i=t.dispatch("BeforeUnload");if(i.returnValue)return r.preventDefault(),r.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",sR))),e},createEditor(e,t){return this.add(new nR(e,t,this))},remove(e){const t=this;let n;if(!e){for(let r=Td.length-1;r>=0;r--)t.remove(Td[r]);return}if(ht(e)){rR(Bw.select(e),r=>{n=t.get(r.id),n&&t.remove(n)});return}return n=e,qe(t.get(n.id))?null:(pF(n)&&t.dispatch("RemoveEditor",{editor:n}),Td.length===0&&window.removeEventListener("beforeunload",sR),n.remove(),mF(Td.length>0),n)},execCommand(e,t,n){var r;const i=this,c=ue(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!i.get(c)){const u=n.options;new nR(c,u,i).render()}return!0}case"mceRemoveEditor":{const u=i.get(c);return u&&u.remove(),!0}case"mceToggleEditor":{const u=i.get(c);return u?(u.isHidden()?u.show():u.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{rR(Td,e=>{e.save()})},addI18n:(e,t)=>{mc.add(e,t)},translate:e=>mc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Pu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Pu(this.baseURL)}};S1.setup();const Eq=(()=>{const e=cc(),t=c=>({items:c,types:rt(c),getType:u=>Hn(c,u).getOrUndefined()}),n=c=>{e.set(c)},r=()=>e.get().getOrUndefined(),i=e.clear;return{FakeClipboardItem:t,write:n,read:r,clear:i}})(),gF=Math.min,Pw=Math.max,iR=Math.round,hF=(e,t,n)=>{let r=t.x,i=t.y;const c=e.w,u=e.h,g=t.w,x=t.h,C=(n||"").split("");return C[0]==="b"&&(i+=x),C[1]==="r"&&(r+=g),C[0]==="c"&&(i+=iR(x/2)),C[1]==="c"&&(r+=iR(g/2)),C[3]==="b"&&(i-=u),C[4]==="r"&&(r-=c),C[3]==="c"&&(i-=iR(u/2)),C[4]==="c"&&(r-=iR(c/2)),Lw(r,i,c,u)},zq=(e,t,n,r)=>{for(let i=0;i<r.length;i++){const c=hF(e,t,r[i]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return r[i]}return null},Tq=(e,t,n)=>Lw(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Oq=(e,t)=>{const n=Pw(e.x,t.x),r=Pw(e.y,t.y),i=gF(e.x+e.w,t.x+t.w),c=gF(e.y+e.h,t.y+t.h);return i-n<0||c-r<0?null:Lw(n,r,i-n,c-r)},Aq=(e,t,n)=>{let r=e.x,i=e.y,c=e.x+e.w,u=e.y+e.h;const g=t.x+t.w,x=t.y+t.h,C=Pw(0,t.x-r),R=Pw(0,t.y-i),B=Pw(0,c-g),L=Pw(0,u-x);return r+=C,i+=R,n&&(c+=C,u+=R,r-=B,i-=L),c-=B,u-=L,Lw(r,i,c-r,u-i)},Lw=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),Nq={inflate:Tq,relativePosition:hF,findBestRelativePosition:zq,intersect:Oq,clamp:Aq,create:Lw,fromClientRect:e=>Lw(e.left,e.top,e.width,e.height)},Rq=(e,t,n=1e3)=>{let r=!1,i=null;const c=C=>(...R)=>{r||(r=!0,i!==null&&(window.clearTimeout(i),i=null),C.apply(null,R))},u=c(e),g=c(t);return{start:(...C)=>{!r&&i===null&&(i=window.setTimeout(()=>g.apply(null,C),n))},resolve:u,reject:g}},Dq=(()=>{const e={},t={},n={};return{load:(x,C)=>{const R=`Script at URL "${C}" failed to load`,B=`Script at URL "${C}" did not call \`tinymce.Resource.add('${x}', data)\` within 1 second`;if(e[x]!==void 0)return e[x];{const L=new Promise((W,ee)=>{const K=Rq(W,ee);t[x]=K.resolve,Mc.ScriptLoader.loadScript(C).then(()=>K.start(B),()=>K.reject(R))});return e[x]=L,L}},add:(x,C)=>{t[x]!==void 0&&(t[x](C),delete t[x]),e[x]=Promise.resolve(C),n[x]=C},has:x=>x in n,get:x=>n[x],unload:x=>{delete e[x],delete n[x]}}})(),Mq=()=>(()=>{let e={},t=[];const n={getItem:r=>{const i=e[r];return i||null},setItem:(r,i)=>{t.push(r),e[r]=String(i)},key:r=>t[r],removeItem:r=>{t=t.filter(i=>i===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let O3;try{const e="__storage_test__";O3=window.localStorage,O3.setItem(e,e),O3.removeItem(e)}catch{O3=Mq()}var Bq=O3;const Pq={geom:{Rect:Nq},util:{Delay:Qd,Tools:gt,VK:Ft,URI:Pu,EventDispatcher:fP,Observable:mP,I18n:mc,LocalStorage:Bq,ImageUploader:Gx},dom:{EventUtils:fc,TreeWalker:Kr,TextSeeker:pd,DOMUtils:Ar,ScriptLoader:Mc,RangeUtils:bf,Serializer:g4,StyleSheetLoader:ci,ControlSelection:J2,BookmarkManager:P0,Selection:iA,Event:fc.Event},html:{Styles:Pb,Entities:Dc,Node:Vl,Schema:wt,DomParser:o1,Writer:uC,Serializer:Jr},Env:Rt,AddOnManager:ui,Annotator:Ay,Formatter:Kx,UndoManager:P4,EditorCommands:oF,WindowManager:S4,NotificationManager:C4,EditorObservable:sF,Shortcuts:dF,Editor:nR,FocusManager:kz,EditorManager:S1,DOM:Ar.DOM,ScriptLoader:Mc.ScriptLoader,PluginManager:c1,ThemeManager:Cf,ModelManager:lb,IconManager:Hx,Resource:Dq,FakeClipboard:Eq,trim:gt.trim,isArray:gt.isArray,is:gt.is,toArray:gt.toArray,makeMap:gt.makeMap,each:gt.each,map:gt.map,grep:gt.grep,inArray:gt.inArray,extend:gt.extend,walk:gt.walk,resolve:gt.resolve,explode:gt.explode,_addCacheSuffix:gt._addCacheSuffix},bF=gt.extend(S1,Pq),Lq=e=>{try{Tt.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(bF),Lq(bF)})()}(_P)),_P.exports}dG();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});var MF={},BF;function uG(){return BF||(BF=1,function(){const Tt=Object.getPrototypeOf,zo=(o,s,a)=>{var l;return!!a(o,s.prototype)||((l=o.constructor)===null||l===void 0?void 0:l.name)===s.name},Lo=o=>s=>(a=>{const l=typeof a;return a===null?"null":l==="object"&&Array.isArray(a)?"array":l==="object"&&zo(a,String,(d,f)=>f.isPrototypeOf(d))?"string":l})(s)===o,Qo=o=>s=>typeof s===o,No=o=>s=>o===s,Ot=Lo("string"),So=Lo("object"),Ro=o=>((s,a)=>So(s)&&zo(s,a,(l,d)=>Tt(l)===d))(o,Object),uo=Lo("array"),qt=No(null),bn=Qo("boolean"),hr=No(void 0),Vr=o=>o==null,Ht=o=>!Vr(o),Yt=Qo("function"),sn=Qo("number"),Nn=(o,s)=>{if(uo(o)){for(let a=0,l=o.length;a<l;++a)if(!s(o[a]))return!1;return!0}return!1},et=()=>{},Ut=o=>()=>o(),ht=(o,s)=>(...a)=>o(s.apply(null,a)),ue=o=>()=>o,Ct=o=>o,pe=(o,s)=>o===s;function qe(o,...s){return(...a)=>{const l=s.concat(a);return o.apply(null,l)}}const Zn=o=>s=>!o(s),ar=o=>()=>{throw new Error(o)},Po=o=>o(),Le=ue(!1),jt=ue(!0);class O{constructor(s,a){this.tag=s,this.value=a}static some(s){return new O(!0,s)}static none(){return O.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?O.some(s(this.value)):O.none()}bind(s){return this.tag?s(this.value):O.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:O.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return Ht(s)?O.some(s):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const To=Array.prototype.slice,io=Array.prototype.indexOf,Do=Array.prototype.push,qr=(o,s)=>io.call(o,s),Je=(o,s)=>qr(o,s)>-1,un=(o,s)=>{for(let a=0,l=o.length;a<l;a++)if(s(o[a],a))return!0;return!1},Li=(o,s)=>{const a=[];for(let l=0;l<o;l++)a.push(s(l));return a},De=(o,s)=>{const a=[];for(let l=0;l<o.length;l+=s){const d=To.call(o,l,l+s);a.push(d)}return a},Se=(o,s)=>{const a=o.length,l=new Array(a);for(let d=0;d<a;d++){const f=o[d];l[d]=s(f,d)}return l},ot=(o,s)=>{for(let a=0,l=o.length;a<l;a++)s(o[a],a)},$o=(o,s)=>{const a=[],l=[];for(let d=0,f=o.length;d<f;d++){const p=o[d];(s(p,d)?a:l).push(p)}return{pass:a,fail:l}},Eo=(o,s)=>{const a=[];for(let l=0,d=o.length;l<d;l++){const f=o[l];s(f,l)&&a.push(f)}return a},bo=(o,s,a)=>(((l,d)=>{for(let f=l.length-1;f>=0;f--)d(l[f],f)})(o,(l,d)=>{a=s(a,l,d)}),a),fo=(o,s,a)=>(ot(o,(l,d)=>{a=s(a,l,d)}),a),H=(o,s)=>((a,l,d)=>{for(let f=0,p=a.length;f<p;f++){const b=a[f];if(l(b,f))return O.some(b);if(d(b,f))break}return O.none()})(o,s,Le),ls=(o,s)=>{for(let a=0,l=o.length;a<l;a++)if(s(o[a],a))return O.some(a);return O.none()},ir=o=>{const s=[];for(let a=0,l=o.length;a<l;++a){if(!uo(o[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+o);Do.apply(s,o[a])}return s},Go=(o,s)=>ir(Se(o,s)),gi=(o,s)=>{for(let a=0,l=o.length;a<l;++a)if(s(o[a],a)!==!0)return!1;return!0},dl=o=>{const s=To.call(o,0);return s.reverse(),s},en=(o,s)=>Eo(o,a=>!Je(s,a)),Cn=(o,s)=>{const a={};for(let l=0,d=o.length;l<d;l++){const f=o[l];a[String(f)]=s(f,l)}return a},Ko=o=>[o],Ne=(o,s)=>{const a=To.call(o,0);return a.sort(s),a},yt=(o,s)=>s>=0&&s<o.length?O.some(o[s]):O.none(),it=o=>yt(o,0),Ke=o=>yt(o,o.length-1),to=Yt(Array.from)?Array.from:o=>To.call(o),mo=(o,s)=>{for(let a=0;a<o.length;a++){const l=s(o[a],a);if(l.isSome())return l}return O.none()},Wo=Object.keys,zn=Object.hasOwnProperty,er=(o,s)=>{const a=Wo(o);for(let l=0,d=a.length;l<d;l++){const f=a[l];s(o[f],f)}},Rn=(o,s)=>Yn(o,(a,l)=>({k:l,v:s(a,l)})),Yn=(o,s)=>{const a={};return er(o,(l,d)=>{const f=s(l,d);a[f.k]=f.v}),a},ts=o=>(s,a)=>{o[a]=s},Vs=(o,s,a,l)=>{er(o,(d,f)=>{(s(d,f)?a:l)(d,f)})},Fn=(o,s)=>{const a={};return Vs(o,s,ts(a),et),a},$r=(o,s)=>{const a=[];return er(o,(l,d)=>{a.push(s(l,d))}),a},Yo=(o,s)=>{const a=Wo(o);for(let l=0,d=a.length;l<d;l++){const f=a[l],p=o[f];if(s(p,f,o))return O.some(p)}return O.none()},Ys=o=>$r(o,Ct),ut=(o,s)=>ko(o,s)?O.from(o[s]):O.none(),ko=(o,s)=>zn.call(o,s),Io=(o,s)=>ko(o,s)&&o[s]!==void 0&&o[s]!==null,Xs=(o,s,a=pe)=>o.exists(l=>a(l,s)),hi=o=>{const s=[],a=l=>{s.push(l)};for(let l=0;l<o.length;l++)o[l].each(a);return s},rt=(o,s,a)=>o.isSome()&&s.isSome()?O.some(a(o.getOrDie(),s.getOrDie())):O.none(),Ka=(o,s)=>o!=null?O.some(s(o)):O.none(),Fo=(o,s)=>o?O.some(s):O.none(),Ii=(o,s,a)=>s===""||o.length>=s.length&&o.substr(a,a+s.length)===s,Wn=(o,s)=>El(o,s)?((a,l)=>a.substring(l))(o,s.length):o,bs=(o,s,a=0,l)=>{const d=o.indexOf(s,a);return d!==-1&&(!!hr(l)||d+s.length<=l)},El=(o,s)=>Ii(o,s,0),zl=(o,s)=>Ii(o,s,o.length-s.length),Ji=(Id=/^\s+|\s+$/g,o=>o.replace(Id,"")),Oa=o=>o.length>0,Tl=o=>!Oa(o),Hn=o=>o.style!==void 0&&Yt(o.style.getPropertyValue),go=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Ya=(o,s)=>{const a=document.createElement("div");if(a.innerHTML=o,!a.hasChildNodes()||a.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,o),new Error(l)}return go(a.childNodes[0])},Os=(o,s)=>{const a=document.createElement(o);return go(a)},kc=(o,s)=>{const a=document.createTextNode(o);return go(a)},_t=go,Qi=typeof window<"u"?window:Function("return this;")(),Xa=(o,s)=>((a,l)=>{let d=l??Qi;for(let f=0;f<a.length&&d!=null;++f)d=d[a[f]];return d})(o.split("."),s),Dr=Object.getPrototypeOf,Ad=o=>{const s=Xa("ownerDocument.defaultView",o);return So(o)&&((a=>((l,d)=>{const f=((p,b)=>Xa(p,b))(l,d);if(f==null)throw new Error(l+" not available on this browser");return f})("HTMLElement",a))(s).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(Dr(o).constructor.name))},Ia=o=>o.dom.nodeName.toLowerCase(),bi=o=>s=>(a=>a.dom.nodeType)(s)===o,Fi=o=>dr(o)&&Ad(o.dom),dr=bi(1),ma=bi(3),Ja=bi(9),ru=bi(11),Gl=o=>s=>dr(s)&&Ia(s)===o,Hi=(o,s)=>{const a=o.dom;if(a.nodeType!==1)return!1;{const l=a;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Nd=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Rd=(o,s)=>{const a=s===void 0?document:s.dom;return Nd(a)?O.none():O.from(a.querySelector(o)).map(_t)},yn=(o,s)=>o.dom===s.dom,ys=(o,s)=>{const a=o.dom,l=s.dom;return a!==l&&a.contains(l)},pa=o=>_t(o.dom.ownerDocument),Dd=o=>Ja(o)?o:pa(o),Uu=o=>_t(Dd(o).dom.documentElement),Md=o=>_t(Dd(o).dom.defaultView),os=o=>O.from(o.dom.parentNode).map(_t),yi=o=>O.from(o.dom.parentElement).map(_t),xi=o=>O.from(o.dom.offsetParent).map(_t),br=o=>Se(o.dom.childNodes,_t),ur=(o,s)=>{const a=o.dom.childNodes;return O.from(a[s]).map(_t)},Vi=o=>ur(o,0),Qa=(o,s)=>({element:o,offset:s}),ga=(o,s)=>{const a=br(o);return a.length>0&&s<a.length?Qa(a[s],0):Qa(o,s)},el=o=>ru(o)&&Ht(o.dom.host),cs=o=>_t(o.dom.getRootNode()),yr=o=>el(o)?o:_t(Dd(o).dom.body),vi=o=>{const s=cs(o);return el(s)?O.some(s):O.none()},$s=o=>_t(o.dom.host),qn=o=>{const s=ma(o)?o.dom.parentNode:o.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return vi(_t(s)).fold(()=>a.body.contains(s),(l=qn,d=$s,f=>l(d(f))));var l,d},ha=()=>ei(_t(document)),ei=o=>{const s=o.dom.body;if(s==null)throw new Error("Body is not available yet");return _t(s)},su=(o,s,a)=>{if(!(Ot(a)||bn(a)||sn(a)))throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(s,a+"")},lo=(o,s,a)=>{su(o.dom,s,a)},ws=(o,s)=>{const a=o.dom;er(s,(l,d)=>{su(a,d,l)})},ds=(o,s)=>{const a=o.dom.getAttribute(s);return a===null?void 0:a},us=(o,s)=>O.from(ds(o,s)),au=(o,s)=>{const a=o.dom;return!(!a||!a.hasAttribute)&&a.hasAttribute(s)},Ur=(o,s)=>{o.dom.removeAttribute(s)},Kl=(o,s,a)=>{if(!Ot(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",o),new Error("CSS value must be a string: "+a);Hn(o)&&o.style.setProperty(s,a)},Ol=(o,s)=>{Hn(o)&&o.style.removeProperty(s)},Zt=(o,s,a)=>{const l=o.dom;Kl(l,s,a)},ti=(o,s)=>{const a=o.dom;er(s,(l,d)=>{Kl(a,d,l)})},_i=(o,s)=>{const a=o.dom;er(s,(l,d)=>{l.fold(()=>{Ol(a,d)},f=>{Kl(a,d,f)})})},Us=(o,s)=>{const a=o.dom,l=window.getComputedStyle(a).getPropertyValue(s);return l!==""||qn(o)?l:wc(a,s)},wc=(o,s)=>Hn(o)?o.style.getPropertyValue(s):"",wr=(o,s)=>{const a=o.dom,l=wc(a,s);return O.from(l).filter(d=>d.length>0)},$i=o=>{const s={},a=o.dom;if(Hn(a))for(let l=0;l<a.style.length;l++){const d=a.style.item(l);s[d]=a.style[d]}return s},ki=(o,s,a)=>{const l=Os(o);return Zt(l,s,a),wr(l,s).isSome()},an=(o,s)=>{const a=o.dom;Ol(a,s),Xs(us(o,"style").map(Ji),"")&&Ur(o,"style")},ul=o=>o.dom.offsetWidth,Al=(o,s)=>{const a=d=>{const f=s(d);if(f<=0||f===null){const p=Us(d,o);return parseFloat(p)||0}return f},l=(d,f)=>fo(f,(p,b)=>{const y=Us(d,b),_=y===void 0?0:parseInt(y,10);return isNaN(_)?p:p+_},0);return{set:(d,f)=>{if(!sn(f)&&!f.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+f);const p=d.dom;Hn(p)&&(p.style[o]=f+"px")},get:a,getOuter:a,aggregate:l,max:(d,f,p)=>{const b=l(d,p);return f>b?f-b:0}}},Bd=Al("height",o=>{const s=o.dom;return qn(o)?s.getBoundingClientRect().height:s.offsetHeight}),Cr=o=>Bd.get(o),Aa=o=>Bd.getOuter(o),ju=(o,s)=>({left:o,top:s,translate:(a,l)=>ju(o+a,s+l)}),Dn=ju,Yl=(o,s)=>o!==void 0?o:s!==void 0?s:0,Gr=o=>{const s=o.dom.ownerDocument,a=s.body,l=s.defaultView,d=s.documentElement;if(a===o.dom)return Dn(a.offsetLeft,a.offsetTop);const f=Yl(l==null?void 0:l.pageYOffset,d.scrollTop),p=Yl(l==null?void 0:l.pageXOffset,d.scrollLeft),b=Yl(d.clientTop,a.clientTop),y=Yl(d.clientLeft,a.clientLeft);return js(o).translate(p-y,f-b)},js=o=>{const s=o.dom,a=s.ownerDocument.body;return a===s?Dn(a.offsetLeft,a.offsetTop):qn(o)?(l=>{const d=l.getBoundingClientRect();return Dn(d.left,d.top)})(s):Dn(0,0)},q=Al("width",o=>o.dom.offsetWidth),ae=o=>q.get(o),_e=o=>q.getOuter(o),He=o=>{let s,a=!1;return(...l)=>(a||(a=!0,s=o.apply(null,l)),s)},dt=()=>It(0,0),It=(o,s)=>({major:o,minor:s}),Rt={nu:It,detect:(o,s)=>{const a=String(s).toLowerCase();return o.length===0?dt():((l,d)=>{const f=((b,y)=>{for(let _=0;_<b.length;_++){const E=b[_];if(E.test(y))return E}})(l,d);if(!f)return{major:0,minor:0};const p=b=>Number(d.replace(f,"$"+b));return It(p(1),p(2))})(o,a)},unknown:dt},Sr=(o,s)=>{const a=String(s).toLowerCase();return H(o,l=>l.search(a))},fn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xr=o=>s=>bs(s,o),fr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>bs(o,"edge/")&&bs(o,"chrome")&&bs(o,"safari")&&bs(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fn],search:o=>bs(o,"chrome")&&!bs(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>bs(o,"msie")||bs(o,"trident")},{name:"Opera",versionRegexes:[fn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xr("firefox")},{name:"Safari",versionRegexes:[fn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(bs(o,"safari")||bs(o,"mobile/"))&&bs(o,"applewebkit")}],Xc=[{name:"Windows",search:xr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>bs(o,"iphone")||bs(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:xr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xr("linux"),versionRegexes:[]},{name:"Solaris",search:xr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:xr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],oi={browsers:ue(fr),oses:ue(Xc)},iu="Edge",jg="Chromium",Df="Opera",Zg="Firefox",gt="Safari",Pd=o=>{const s=o.current,a=o.version,l=d=>()=>s===d;return{current:s,version:a,isEdge:l(iu),isChromium:l(jg),isIE:l("IE"),isOpera:l(Df),isFirefox:l(Zg),isSafari:l(gt)}},Jc=()=>Pd({current:void 0,version:Rt.unknown()}),Mf=Pd,ba="Windows",Ld="Android",lu="Linux",Wg="macOS",Yp="Solaris",qg="FreeBSD",_b="ChromeOS",Gg=o=>{const s=o.current,a=o.version,l=d=>()=>s===d;return{current:s,version:a,isWindows:l(ba),isiOS:l("iOS"),isAndroid:l(Ld),isMacOS:l(Wg),isLinux:l(lu),isSolaris:l(Yp),isFreeBSD:l(qg),isChromeOS:l(_b)}},Kg=()=>Gg({current:void 0,version:Rt.unknown()}),Bf=Gg,Cc=o=>window.matchMedia(o).matches;var Id;let Zu=He(()=>((o,s,a)=>{const l=oi.browsers(),d=oi.oses(),f=s.bind(y=>((_,E)=>mo(E.brands,w=>{const A=w.brand.toLowerCase();return H(_,P=>{var I;return A===((I=P.brand)===null||I===void 0?void 0:I.toLowerCase())}).map(P=>({current:P.name,version:Rt.nu(parseInt(w.version,10),0)}))}))(l,y)).orThunk(()=>((y,_)=>Sr(y,_).map(E=>{const w=Rt.detect(E.versionRegexes,_);return{current:E.name,version:w}}))(l,o)).fold(Jc,Mf),p=((y,_)=>Sr(y,_).map(E=>{const w=Rt.detect(E.versionRegexes,_);return{current:E.name,version:w}}))(d,o).fold(Kg,Bf),b=((y,_,E,w)=>{const A=y.isiOS()&&/ipad/i.test(E)===!0,P=y.isiOS()&&!A,I=y.isiOS()||y.isAndroid(),Y=I||w("(pointer:coarse)"),G=A||!P&&I&&w("(min-device-width:768px)"),J=P||I&&!G,j=_.isSafari()&&y.isiOS()&&/safari/i.test(E)===!1,Z=!J&&!G&&!j;return{isiPad:ue(A),isiPhone:ue(P),isTablet:ue(G),isPhone:ue(J),isTouch:ue(Y),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:ue(j),isDesktop:ue(Z)}})(p,f,o,a);return{browser:f,os:p,deviceType:b}})(window.navigator.userAgent,O.from(window.navigator.userAgentData),Cc));const Js=()=>Zu(),Qc=o=>{const s=_t((f=>{if(Ht(f.target)){const p=_t(f.target);if(dr(p)&&(b=>Ht(b.dom.shadowRoot))(p)&&f.composed&&f.composedPath){const b=f.composedPath();if(b)return it(b)}}return O.from(f.target)})(o).getOr(o.target)),a=()=>o.stopPropagation(),l=()=>o.preventDefault(),d=ht(l,a);return((f,p,b,y,_,E,w)=>({target:f,x:p,y:b,stop:y,prevent:_,kill:E,raw:w}))(s,o.clientX,o.clientY,a,l,d,o)},Xl=(o,s,a,l,d)=>{const f=((p,b)=>y=>{p(y)&&b(Qc(y))})(a,l);return o.dom.addEventListener(s,f,d),{unbind:qe(mn,o,s,f,d)}},mn=(o,s,a,l)=>{o.dom.removeEventListener(s,a,l)},Fa=(o,s)=>{os(o).each(a=>{a.dom.insertBefore(s.dom,o.dom)})},cu=(o,s)=>{(l=>O.from(l.dom.nextSibling).map(_t))(o).fold(()=>{os(o).each(l=>{ya(l,s)})},l=>{Fa(l,s)})},Om=(o,s)=>{Vi(o).fold(()=>{ya(o,s)},a=>{o.dom.insertBefore(s.dom,a.dom)})},ya=(o,s)=>{o.dom.appendChild(s.dom)},ni=(o,s)=>{ot(s,a=>{ya(o,a)})},Zs=o=>{o.dom.textContent="",ot(br(o),s=>{Nl(s)})},Nl=o=>{const s=o.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},xs=o=>{const s=o!==void 0?o.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return Dn(a,l)},ia=(o,s,a)=>{const l=(a!==void 0?a.dom:document).defaultView;l&&l.scrollTo(o,s)},wi=(o,s,a,l)=>({x:o,y:s,width:a,height:l,right:o+a,bottom:s+l}),Tn=o=>{const s=o===void 0?window:o,a=s.document,l=xs(_t(a));return(d=>{const f=d===void 0?window:d;return Js().browser.isFirefox()?O.none():O.from(f.visualViewport)})(s).fold(()=>{const d=s.document.documentElement,f=d.clientWidth,p=d.clientHeight;return wi(l.left,l.top,f,p)},d=>wi(Math.max(d.pageLeft,l.left),Math.max(d.pageTop,l.top),d.width,d.height))},fl=()=>_t(document),xa=(o,s)=>o.view(s).fold(ue([]),a=>{const l=o.owner(a),d=xa(o,l);return[a].concat(d)});var As=Object.freeze({__proto__:null,view:o=>{var s;return(o.dom===document?O.none():O.from((s=o.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(_t)},owner:o=>pa(o)});const tl=o=>{const s=fl(),a=xs(s);return((d,f)=>{const p=f.owner(d),b=xa(f,p);return O.some(b)})(o,As).fold(qe(Gr,o),d=>{const f=js(o),p=bo(d,(b,y)=>{const _=js(y);return{left:b.left+_.left,top:b.top+_.top}},{left:0,top:0});return Dn(p.left+f.left+a.left,p.top+f.top+a.top)})},Sn=(o,s,a,l)=>({x:o,y:s,width:a,height:l,right:o+a,bottom:s+l}),Ns=o=>{const s=Gr(o),a=_e(o),l=Aa(o);return Sn(s.left,s.top,a,l)},Rl=o=>{const s=tl(o),a=_e(o),l=Aa(o);return Sn(s.left,s.top,a,l)},Rs=(o,s)=>{const a=Math.max(o.x,s.x),l=Math.max(o.y,s.y),d=Math.min(o.right,s.right),f=Math.min(o.bottom,s.bottom);return Sn(a,l,d-a,f-l)},Cs=()=>Tn(window),Mt=o=>{let s=o;return{get:()=>s,set:a=>{s=a}}},Dl=o=>{const s=Mt(O.none()),a=()=>s.get().each(o);return{clear:()=>{a(),s.set(O.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:l=>{a(),s.set(O.some(l))}}},ed=()=>Dl(o=>o.unbind()),cn=()=>{const o=Dl(et);return{...o,on:s=>o.get().each(s)}};var td=(o,s,a,l,d)=>o(a,l)?O.some(a):Yt(d)&&d(a)?O.none():s(a,l,d);const du=(o,s,a)=>{let l=o.dom;const d=Yt(a)?a:Le;for(;l.parentNode;){l=l.parentNode;const f=_t(l);if(s(f))return O.some(f);if(d(f))break}return O.none()},Jl=(o,s,a)=>td((l,d)=>d(l),du,o,s,a),Wu=(o,s)=>H(o.dom.childNodes,a=>s(_t(a))).map(_t),Ha=(o,s,a)=>du(o,l=>Hi(l,s),a),Am=(o,s)=>(a=>{const l=a.dom;return l.parentNode?Wu(_t(l.parentNode),d=>!yn(a,d)&&Hi(d,s)):O.none()})(o),Fd=(o,s)=>Wu(o,a=>Hi(a,s)),Vn=(o,s)=>Rd(s,o),Ui=(o,s,a)=>td((l,d)=>Hi(l,d),Ha,o,s,a);var Hd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Sc=o=>{const s=f=>f(o),a=ue(o),l=()=>d,d={tag:!0,inner:o,fold:(f,p)=>p(o),isValue:jt,isError:Le,map:f=>re.value(f(o)),mapError:l,bind:s,exists:s,forall:s,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:f=>{f(o)},toOptional:()=>O.some(o)};return d},qu=o=>{const s=()=>a,a={tag:!1,inner:o,fold:(l,d)=>l(o),isValue:Le,isError:jt,map:s,mapError:l=>re.error(l(o)),bind:s,exists:Le,forall:jt,getOr:Ct,or:Ct,getOrThunk:Po,orThunk:Po,getOrDie:ar(String(o)),each:et,toOptional:O.none};return a},re={value:Sc,error:qu,fromOption:(o,s)=>o.fold(()=>qu(s),Sc)};var va;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(va||(va={}));const Va=(o,s,a)=>o.stype===va.Error?s(o.serror):a(o.svalue),Nm=o=>({stype:va.Value,svalue:o}),Rm=o=>({stype:va.Error,serror:o}),Ci=Nm,Xo=Rm,$a=Va,ol=(o,s,a,l)=>({tag:"field",key:o,newKey:s,presence:a,prop:l}),Ml=(o,s,a)=>{switch(o.tag){case"field":return s(o.key,o.newKey,o.presence,o.prop);case"custom":return a(o.newKey,o.instantiator)}},uu=o=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<s.length;l++){const d=s[l];for(const f in d)ko(d,f)&&(a[f]=o(a[f],d[f]))}return a},Er=uu((o,s)=>Ro(o)&&Ro(s)?Er(o,s):s),ri=uu((o,s)=>s),Ql=o=>({tag:"defaultedThunk",process:o}),ec=o=>Ql(ue(o)),od=o=>({tag:"mergeWithThunk",process:o}),ml=o=>{const s=(l=>{const d=[],f=[];return ot(l,p=>{Va(p,b=>f.push(b),b=>d.push(b))}),{values:d,errors:f}})(o);return s.errors.length>0?(a=s.errors,ht(Xo,ir)(a)):Ci(s.values);var a},Vd=o=>So(o)&&Wo(o).length>100?" removed due to size":JSON.stringify(o,null,2),fu=(o,s)=>Xo([{path:o,getErrorInfo:s}]),tc=o=>({extract:(s,a)=>((l,d)=>l.stype===va.Error?d(l.serror):l)(o(a),l=>((d,f)=>fu(d,ue(f)))(s,l)),toString:ue("val")}),_a=tc(Ci),$d=(o,s,a,l)=>l(ut(o,s).getOrThunk(()=>a(o))),Dm=(o,s,a,l,d)=>{const f=b=>d.extract(s.concat([l]),b),p=b=>b.fold(()=>Ci(O.none()),y=>((_,E)=>_.stype===va.Value?{stype:va.Value,svalue:E(_.svalue)}:_)(d.extract(s.concat([l]),y),O.some));switch(o.tag){case"required":return((b,y,_,E)=>ut(y,_).fold(()=>((w,A,P)=>fu(w,()=>'Could not find valid *required* value for "'+A+'" in '+Vd(P)))(b,_,y),E))(s,a,l,f);case"defaultedThunk":return $d(a,l,o.process,f);case"option":return((b,y,_)=>_(ut(b,y)))(a,l,p);case"defaultedOptionThunk":return((b,y,_,E)=>E(ut(b,y).map(w=>w===!0?_(b):w)))(a,l,o.process,p);case"mergeWithThunk":return $d(a,l,ue({}),b=>{const y=Er(o.process(a),b);return f(y)})}},mu=o=>({extract:(s,a)=>o().extract(s,a),toString:()=>o().toString()}),pu=o=>Wo(Fn(o,Ht)),Si=o=>{const s=no(o),a=bo(o,(l,d)=>Ml(d,f=>Er(l,{[f]:!0}),ue(l)),{});return{extract:(l,d)=>{const f=bn(d)?[]:pu(d),p=Eo(f,b=>!Io(a,b));return p.length===0?s.extract(l,d):((b,y)=>fu(b,()=>"There are unsupported fields: ["+y.join(", ")+"] specified"))(l,p)},toString:s.toString}},no=o=>({extract:(s,a)=>((l,d,f)=>{const p={},b=[];for(const y of f)Ml(y,(_,E,w,A)=>{const P=Dm(w,l,d,_,A);$a(P,I=>{b.push(...I)},I=>{p[E]=I})},(_,E)=>{p[_]=E(d)});return b.length>0?Xo(b):Ci(p)})(s,a,o),toString:()=>`obj{
`+Se(o,s=>Ml(s,(a,l,d,f)=>a+" -> "+f.toString(),(a,l)=>"state("+a+")")).join(`
`)+"}"}),Ei=o=>({extract:(s,a)=>{const l=Se(a,(d,f)=>o.extract(s.concat(["["+f+"]"]),d));return ml(l)},toString:()=>"array("+o.toString()+")"}),nd=(o,s)=>{const a=s!==void 0?s:Ct;return{extract:(l,d)=>{const f=[];for(const p of o){const b=p.extract(l,d);if(b.stype===va.Value)return{stype:va.Value,svalue:a(b.svalue)};f.push(b)}return ml(f)},toString:()=>"oneOf("+Se(o,l=>l.toString()).join(", ")+")"}},gu=(o,s)=>({extract:(a,l)=>{const d=Wo(l),f=((p,b)=>Ei(tc(o)).extract(p,b))(a,d);return((p,b)=>p.stype===va.Value?b(p.svalue):p)(f,p=>{const b=Se(p,y=>ol(y,y,{tag:"required",process:{}},s));return no(b).extract(a,l)})},toString:()=>"setOf("+s.toString()+")"}),hu=ht(Ei,no),ji=ue(_a),rd=(o,s)=>tc(a=>{const l=typeof a;return o(a)?Ci(a):Xo(`Expected type: ${s} but got: ${l}`)}),bu=rd(sn,"number"),Mr=rd(Ot,"string"),yu=rd(bn,"boolean"),pl=rd(Yt,"function"),Ec=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(s=>Ec(o[s]));default:return!1}},Pf=tc(o=>Ec(o)?Ci(o):Xo("Expected value to be acceptable for sending via postMessage")),oc=(o,s)=>({extract:(a,l)=>ut(l,o).fold(()=>((d,f)=>fu(d,()=>'Choice schema did not contain choice key: "'+f+'"'))(a,o),d=>((f,p,b,y)=>ut(b,y).fold(()=>((_,E,w)=>fu(_,()=>'The chosen schema: "'+w+'" did not exist in branches: '+Vd(E)))(f,b,y),_=>_.extract(f.concat(["branch: "+y]),p)))(a,l,s,d)),toString:()=>"chooseOn("+o+"). Possible values: "+Wo(s)}),nc=o=>tc(s=>o(s).fold(Xo,Ci)),sd=(o,s)=>gu(a=>o(a).fold(Rm,Nm),s),tr=(o,s,a)=>{return l=((d,f,p)=>((b,y)=>b.stype===va.Error?{stype:va.Error,serror:y(b.serror)}:b)(f.extract([d],p),b=>({input:p,errors:b})))(o,s,a),Va(l,re.error,re.value);var l},la=o=>o.fold(s=>{throw new Error(si(s))},Ct),ka=(o,s,a)=>la(tr(o,s,a)),si=o=>`Errors: 
`+(s=>{const a=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):s;return Se(a,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+Vd(o.input),Ua=(o,s)=>oc(o,Rn(s,no)),zc=(o,s)=>((a,l)=>{const d=He(l);return{extract:(f,p)=>d().extract(f,p),toString:()=>d().toString()}})(0,s),Ss=ol,ca=(o,s)=>({tag:"custom",newKey:o,instantiator:s}),Lf=o=>nc(s=>Je(o,s)?re.value(s):re.error(`Unsupported value: "${s}", choose one of "${o.join(", ")}".`)),Ge=o=>Ss(o,o,{tag:"required",process:{}},ji()),Qs=(o,s)=>Ss(o,o,{tag:"required",process:{}},s),zi=o=>Qs(o,bu),ms=o=>Qs(o,Mr),Ws=(o,s)=>Ss(o,o,{tag:"required",process:{}},Lf(s)),Ti=o=>Qs(o,pl),gl=(o,s)=>Ss(o,o,{tag:"required",process:{}},no(s)),If=(o,s)=>Ss(o,o,{tag:"required",process:{}},hu(s)),jr=(o,s)=>Ss(o,o,{tag:"required",process:{}},Ei(s)),Jo=o=>Ss(o,o,{tag:"option",process:{}},ji()),Zi=(o,s)=>Ss(o,o,{tag:"option",process:{}},s),Br=o=>Zi(o,bu),Zr=o=>Zi(o,Mr),Mm=(o,s)=>Zi(o,Lf(s)),Na=o=>Zi(o,pl),rc=(o,s)=>Zi(o,Ei(s)),dn=(o,s)=>Zi(o,no(s)),Ee=(o,s)=>Ss(o,o,ec(s),ji()),wa=(o,s,a)=>Ss(o,o,ec(s),a),Ra=(o,s)=>wa(o,s,bu),or=(o,s)=>wa(o,s,Mr),Ca=(o,s,a)=>wa(o,s,Lf(a)),ea=(o,s)=>wa(o,s,yu),Xn=(o,s)=>wa(o,s,pl),sc=(o,s,a)=>wa(o,s,Ei(a)),Ff=(o,s,a)=>wa(o,s,no(a)),S=o=>{if(!uo(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const s=[],a={};return ot(o,(l,d)=>{const f=Wo(l);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],b=l[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!uo(b))throw new Error("case arguments must be an array");s.push(p),a[p]=(...y)=>{const _=y.length;if(_!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+_);return{fold:(...E)=>{if(E.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+E.length);return E[d].apply(null,y)},match:E=>{const w=Wo(E);if(s.length!==w.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+w.join(","));if(!gi(s,A=>Je(w,A)))throw new Error("Not all branches were specified when using match. Specified: "+w.join(", ")+`
Required: `+s.join(", "));return E[p].apply(null,y)},log:E=>{console.log(E,{constructors:s,constructor:p,params:y})}}}}),a};S([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const M=(o,s)=>((a,l)=>({[a]:l}))(o,s),U=o=>(s=>{const a={};return ot(s,l=>{a[l.key]=l.value}),a})(o),le=o=>Yt(o)?o:Le,ge=(o,s,a)=>{let l=o.dom;const d=le(a);for(;l.parentNode;){l=l.parentNode;const f=_t(l),p=s(f);if(p.isSome())return p;if(d(f))break}return O.none()},nt=(o,s,a)=>{const l=s(o),d=le(a);return l.orThunk(()=>d(o)?O.none():ge(o,s,d))},ro=(o,s)=>yn(o.element,s.event.target),Ho={can:jt,abort:Le,run:et},_o=o=>{if(!Io(o,"can")&&!Io(o,"abort")&&!Io(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...Ho,...o}},Dt=ue,Ln=Dt("touchstart"),ns=Dt("touchmove"),Wi=Dt("touchend"),ai=Dt("touchcancel"),Da=Dt("mousedown"),Bm=Dt("mousemove"),Ud=Dt("mouseout"),Ds=Dt("mouseup"),Oi=Dt("mouseover"),hl=Dt("focusin"),Xp=Dt("focusout"),Kr=Dt("keydown"),Pm=Dt("keyup"),rs=Dt("input"),Tc=Dt("change"),Oc=Dt("click"),kb=Dt("transitioncancel"),Ac=Dt("transitionend"),Jp=Dt("transitionstart"),wb=Dt("selectstart"),ps=o=>ue("alloy."+o),O1={tap:ps("tap")},Nc=ps("focus"),bl=ps("blur.post"),Hf=ps("paste.post"),At=ps("receive"),ta=ps("execute"),Lm=ps("focus.item"),ad=O1.tap,Bl=ps("longpress"),jd=ps("sandbox.close"),Vf=ps("typeahead.cancel"),ac=ps("system.init"),Cb=ps("system.touchmove"),id=ps("system.touchend"),Im=ps("system.scroll"),xu=ps("system.resize"),lt=ps("system.attached"),ld=ps("system.detached"),Gu=ps("system.dismissRequested"),ic=ps("system.repositionRequested"),cd=ps("focusmanager.shifted"),Ku=ps("slotcontainer.visibility"),ss=ps("system.external.element.scroll"),Zd=ps("change.tab"),Ai=ps("dismiss.tab"),vr=ps("highlight"),Fm=ps("dehighlight"),Vo=(o,s)=>{$f(o,o.element,s,{})},Vt=(o,s,a)=>{$f(o,o.element,s,a)},qi=o=>{Vo(o,ta())},Yu=(o,s,a)=>{$f(o,s,a,{})},$f=(o,s,a,l)=>{const d={target:s,...l};o.getSystem().triggerEvent(a,s,d)},Yg=(o,s,a,l)=>{o.getSystem().triggerEvent(a,s,l.event)},mr=o=>U(o),Sb=(o,s)=>({key:o,value:_o({abort:s})}),A1=o=>({key:o,value:_o({run:(s,a)=>{a.event.prevent()}})}),je=(o,s)=>({key:o,value:_o({run:s})}),Xu=(o,s,a)=>({key:o,value:_o({run:(l,d)=>{s.apply(void 0,[l,d].concat(a))}})}),Hm=o=>s=>({key:o,value:_o({run:(a,l)=>{ro(a,l)&&s(a,l)}})}),Ju=(o,s,a)=>((l,d)=>je(l,(f,p)=>{f.getSystem().getByUid(d).each(b=>{Yg(b,b.element,l,p)})}))(o,s.partUids[a]),Qu=(o,s)=>je(o,(a,l)=>{const d=l.event,f=a.getSystem().getByDom(d.target).getOrThunk(()=>nt(d.target,p=>a.getSystem().getByDom(p).toOptional(),Le).getOr(a));s(a,f,l)}),lc=o=>je(o,(s,a)=>{a.cut()}),Pl=o=>je(o,(s,a)=>{a.stop()}),Es=(o,s)=>Hm(o)(s),Jn=Hm(lt()),zr=Hm(ld()),ef=Hm(ac()),Wd=(th=ta(),o=>je(th,o)),cc=o=>Se(o,s=>zl(s,"/*")?s.substring(0,s.length-2):s),Uf=(o,s)=>{const a=o.toString(),l=a.indexOf(")")+1,d=a.indexOf("("),f=a.substring(d+1,l-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:s,parameters:cc(f)}),o},k=o=>({classes:hr(o.classes)?[]:o.classes,attributes:hr(o.attributes)?{}:o.attributes,styles:hr(o.styles)?{}:o.styles}),T=(o,s,a)=>ef((l,d)=>{a(l,o,s)}),V=o=>({key:o,value:void 0}),Q=(o,s,a,l,d,f,p)=>{const b=E=>Io(E,a)?E[a]():O.none(),y=Rn(d,(E,w)=>((A,P,I)=>((Y,G,J)=>{const j=J.toString(),Z=j.indexOf(")")+1,te=j.indexOf("("),oe=j.substring(te+1,Z-1).split(/,\s*/);return Y.toFunctionAnnotation=()=>({name:G,parameters:cc(oe.slice(0,1).concat(oe.slice(3)))}),Y})((Y,...G)=>{const J=[Y].concat(G);return Y.config({name:ue(A)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+A+". Using API: "+I)},j=>{const Z=Array.prototype.slice.call(J,1);return P.apply(void 0,[Y,j.config,j.state].concat(Z))})},I,P))(a,E,w)),_={...Rn(f,(E,w)=>Uf(E,w)),...y,revoke:qe(V,a),config:E=>{const w=ka(a+"-config",o,E);return{key:a,value:{config:w,me:_,configAsRaw:He(()=>ka(a+"-config",o,E)),initialConfig:E,state:p}}},schema:ue(s),exhibit:(E,w)=>rt(b(E),ut(l,"exhibit"),(A,P)=>P(w,A.config,A.state)).getOrThunk(()=>k({})),name:ue(a),handlers:E=>b(E).map(w=>ut(l,"events").getOr(()=>({}))(w.config,w.state)).getOr({})};return _},ye={init:()=>Ie({readState:ue("No State required")})},Ie=o=>o,xe=o=>U(o),Bt=Si([Ge("fields"),Ge("name"),Ee("active",{}),Ee("apis",{}),Ee("state",ye),Ee("extra",{})]),Gt=o=>{const s=ka("Creating behaviour: "+o.name,Bt,o);return((a,l,d,f,p,b)=>{const y=Si(a),_=dn(l,[(E=a,Zi("config",Si(E)))]);var E;return Q(y,_,l,d,f,p,b)})(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Mo=Si([Ge("branchKey"),Ge("branches"),Ge("name"),Ee("active",{}),Ee("apis",{}),Ee("state",ye),Ee("extra",{})]),nr=o=>{const s=ka("Creating behaviour: "+o.name,Mo,o);return((a,l,d,f,p,b)=>{const y=a,_=dn(l,[Zi("config",a)]);return Q(y,_,l,d,f,p,b)})(Ua(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},rr=ue(void 0),Pr=(o,s)=>{const a=ds(o,s);return a===void 0||a===""?[]:a.split(" ")},ja=o=>o.dom.classList!==void 0,ii=o=>Pr(o,"class"),dc=(o,s)=>((a,l,d)=>{const f=Pr(a,l).concat([d]);return lo(a,l,f.join(" ")),!0})(o,"class",s),dd=(o,s)=>((a,l,d)=>{const f=Eo(Pr(a,l),p=>p!==d);return f.length>0?lo(a,l,f.join(" ")):Ur(a,l),!1})(o,"class",s),Tr=(o,s)=>{ja(o)?o.dom.classList.add(s):dc(o,s)},zs=o=>{(ja(o)?o.dom.classList:ii(o)).length===0&&Ur(o,"class")},lr=(o,s)=>{ja(o)?o.dom.classList.remove(s):dd(o,s),zs(o)},cr=(o,s)=>ja(o)&&o.dom.classList.contains(s),yl=(o,s)=>{ot(s,a=>{Tr(o,a)})},li=(o,s)=>{ot(s,a=>{lr(o,a)})},jf=o=>ja(o)?(s=>{const a=s.dom.classList,l=new Array(a.length);for(let d=0;d<a.length;d++){const f=a.item(d);f!==null&&(l[d]=f)}return l})(o):ii(o),xl=(o,s,a,l,d)=>{const f=p=>p+"px";return{position:o,left:s.map(f),top:a.map(f),right:l.map(f),bottom:d.map(f)}},Xg=(o,s)=>{_i(o,(a=>({...a,position:O.some(a.position)}))(s))},pn=o=>(Xs(wr(o,"position"),"fixed")?O.none():xi(o)).orThunk(()=>{const s=Os("span");return os(o).bind(a=>{ya(a,s);const l=xi(s);return Nl(s),l})}),as=o=>pn(o).map(Gr).getOrThunk(()=>Dn(0,0)),ci=(o,s)=>{const a=o.element;Tr(a,s.transitionClass),lr(a,s.fadeOutClass),Tr(a,s.fadeInClass),s.onShow(o)},vl=(o,s)=>{const a=o.element;Tr(a,s.transitionClass),lr(a,s.fadeInClass),Tr(a,s.fadeOutClass),s.onHide(o)},Jg=(o,s)=>o.y>=s.y,Eb=(o,s)=>o.bottom<=s.bottom,Rc=(o,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-o.y}),Zf=(o,s,a)=>({location:"bottom",leftX:s,bottomY:o.bottom-a.bounds.bottom}),Qg=o=>o.box.x-o.win.x,zb=(o,s,a)=>a.getInitialPos().map(l=>{const d=((f,p)=>{const b=p.optScrollEnv.fold(ue(f.bounds.y),y=>y.scrollElmTop+(f.bounds.y-y.currentScrollTop));return Dn(f.bounds.x,b)})(l,s);return{box:Sn(d.left,d.top,ae(o),Cr(o)),location:l.location}}),N1=(o,s,a,l,d)=>{const f=((b,y)=>{const _=y.optScrollEnv.fold(ue(b.y),E=>b.y+E.currentScrollTop-E.scrollElmTop);return Dn(b.x,_)})(s,a),p=Sn(f.left,f.top,s.width,s.height);l.setInitialPos({style:$i(o),position:Us(o,"position")||"static",bounds:p,location:d.location})},R1=(o,s,a)=>a.getInitialPos().bind(l=>{var d;switch(a.clearInitialPos(),l.position){case"static":return O.some({morph:"static"});case"absolute":const f=pn(o).getOr(ha()),p=Ns(f),b=(d=f.dom.scrollTop)!==null&&d!==void 0?d:0;return O.some({morph:"absolute",positionCss:xl("absolute",ut(l.style,"left").map(y=>s.x-p.x),ut(l.style,"top").map(y=>s.y-p.y+b),ut(l.style,"right").map(y=>p.right-s.right),ut(l.style,"bottom").map(y=>p.bottom-s.bottom))});default:return O.none()}}),Qp=o=>{switch(o.location){case"top":return O.some({morph:"fixed",positionCss:xl("fixed",O.some(o.leftX),O.some(o.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:xl("fixed",O.some(o.leftX),O.none(),O.none(),O.some(o.bottomY))});default:return O.none()}},gv=(o,s,a)=>{const l=o.element;return Xs(wr(l,"position"),"fixed")?((d,f,p)=>((b,y,_)=>zb(b,y,_).filter(({box:E})=>((w,A,P)=>gi(w,I=>{switch(I){case"bottom":return Eb(A,P.bounds);case"top":return Jg(A,P.bounds)}}))(_.getModes(),E,y)).bind(({box:E})=>R1(b,E,_)))(d,f,p).orThunk(()=>f.optScrollEnv.bind(b=>zb(d,f,p)).bind(({box:b,location:y})=>{const _=Cs(),E=Qg({win:_,box:b}),w=y==="top"?Rc(_,E,f):Zf(_,E,f);return Qp(w)})))(l,s,a):((d,f,p)=>{const b=Ns(d),y=Cs(),_=((E,w,A)=>{const P=w.win,I=w.box,Y=Qg(w);return mo(E,G=>{switch(G){case"bottom":return Eb(I,A.bounds)?O.none():O.some(Zf(P,Y,A));case"top":return Jg(I,A.bounds)?O.none():O.some(Rc(P,Y,A));default:return O.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:y,box:b},f);return _.location==="top"||_.location==="bottom"?(N1(d,b,f,p,_),Qp(_)):O.none()})(l,s,a)},eg=(o,s,a)=>{a.setDocked(!1),ot(["left","right","top","bottom","position"],l=>an(o.element,l)),s.onUndocked(o)},Vm=(o,s,a,l)=>{const d=l.position==="fixed";a.setDocked(d),Xg(o.element,l),(d?s.onDocked:s.onUndocked)(o)},Tb=(o,s,a,l,d=!1)=>{s.contextual.each(f=>{f.lazyContext(o).each(p=>{const b=((y,_)=>y.y<_.bottom&&y.bottom>_.y)(p,l.bounds);b!==a.isVisible()&&(a.setVisible(b),d&&!b?(yl(o.element,[f.fadeOutClass]),f.onHide(o)):(b?ci:vl)(o,f))})})},D1=(o,s,a,l,d)=>{Tb(o,s,a,l,!0),Vm(o,s,a,d.positionCss)},eh=(o,s,a)=>{o.getSystem().isConnected()&&((l,d,f)=>{const p=d.lazyViewport(l);Tb(l,d,f,p),gv(l,p,f).each(b=>{((y,_,E,w,A)=>{switch(A.morph){case"static":return eg(y,_,E);case"absolute":return Vm(y,_,E,A.positionCss);case"fixed":D1(y,_,E,w,A)}})(l,d,f,p,b)})})(o,s,a)},tf=(o,s,a)=>{a.isDocked()&&((l,d,f)=>{const p=l.element;f.setDocked(!1);const b=d.lazyViewport(l);((y,_,E)=>{const w=y.element;return zb(w,_,E).bind(({box:A})=>R1(w,A,E))})(l,b,f).each(y=>{switch(y.morph){case"static":eg(l,d,f);break;case"absolute":Vm(l,d,f,y.positionCss)}}),f.setVisible(!0),d.contextual.each(y=>{li(p,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(l)}),eh(l,d,f)})(o,s,a)},Wf=o=>(s,a,l)=>{const d=a.lazyViewport(s);((f,p,b,y)=>{const _=Ns(f),E=Cs(),w=y(E,Qg({win:E,box:_}),p);return w.location==="bottom"||w.location==="top"?(((A,P,I,Y,G)=>{Y.getInitialPos().fold(()=>N1(A,P,I,Y,G),()=>et)})(f,_,p,b,w),Qp(w)):O.none()})(s.element,d,l,o).each(f=>{D1(s,a,l,d,f)})},tg=Wf(Rc),Ob=Wf(Zf);var th,M1=Object.freeze({__proto__:null,refresh:eh,reset:tf,isDocked:(o,s,a)=>a.isDocked(),getModes:(o,s,a)=>a.getModes(),setModes:(o,s,a,l)=>a.setModes(l),forceDockToTop:tg,forceDockToBottom:Ob}),og=Object.freeze({__proto__:null,events:(o,s)=>mr([Es(Ac(),(a,l)=>{o.contextual.each(d=>{cr(a.element,d.transitionClass)&&(li(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),l.stop()})}),je(Im(),(a,l)=>{eh(a,o,s)}),je(ss(),(a,l)=>{eh(a,o,s)}),je(xu(),(a,l)=>{tf(a,o,s)})])});const oh=o=>o.dom.innerHTML,of=(o,s)=>{const a=pa(o).dom,l=_t(a.createDocumentFragment()),d=((f,p)=>{const b=(p||document).createElement("div");return b.innerHTML=f,br(_t(b))})(s,a);ni(l,d),Zs(o),ya(o,l)},hv=(o,s)=>_t(o.dom.cloneNode(s)),$m=o=>(s=>{if(el(s))return"#shadow-root";{const a=(l=>hv(l,!1))(s);return(l=>{const d=Os("div"),f=_t(l.dom.cloneNode(!0));return ya(d,f),oh(d)})(a)}})(o);var Dc;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(Dc||(Dc={}));const fs=Mt({}),B1=["alloy/data/Fields","alloy/debugging/Debugging"],Ab=(o,s,a)=>((l,d,f)=>{switch(ut(fs.get(),l).orThunk(()=>{const p=Wo(fs.get());return mo(p,b=>l.indexOf(b)>-1?O.some(fs.get()[b]):O.none())}).getOr(Dc.NORMAL)){case Dc.NORMAL:return f(Uw());case Dc.LOGGING:{const p=((y,_)=>{const E=[],w=new Date().getTime();return{logEventCut:(A,P,I)=>{E.push({outcome:"cut",target:P,purpose:I})},logEventStopped:(A,P,I)=>{E.push({outcome:"stopped",target:P,purpose:I})},logNoParent:(A,P,I)=>{E.push({outcome:"no-parent",target:P,purpose:I})},logEventNoHandlers:(A,P)=>{E.push({outcome:"no-handlers-left",target:P})},logEventResponse:(A,P,I)=>{E.push({outcome:"response",purpose:I,target:P})},write:()=>{const A=new Date().getTime();Je(["mousemove","mouseover","mouseout",ac()],y)||console.log(y,{event:y,time:A-w,target:_.dom,sequence:Se(E,P=>Je(["cut","stopped","response"],P.outcome)?"{"+P.purpose+"} "+P.outcome+" at ("+$m(P.target)+")":P.outcome)})}}})(l,d),b=f(p);return p.write(),b}case Dc.STOP:return!0}})(o,s,a),Uw=ue({logEventCut:et,logEventStopped:et,logNoParent:et,logEventNoHandlers:et,logEventResponse:et,write:et}),Nb=ue([Ge("menu"),Ge("selectedMenu")]),ng=ue([Ge("item"),Ge("selectedItem")]);ue(no(ng().concat(Nb())));const bv=ue(no(ng())),P1=gl("initSize",[Ge("numColumns"),Ge("numRows")]),nh=()=>gl("markers",[Ge("backgroundMenu")].concat(Nb()).concat(ng())),nf=o=>gl("markers",Se(o,Ge)),Um=(o,s,a)=>((()=>{const l=new Error;if(l.stack!==void 0){const d=l.stack.split(`
`);H(d,f=>f.indexOf("alloy")>0&&!un(B1,p=>f.indexOf(p)>-1)).getOr("unknown")}})(),Ss(s,s,a,nc(l=>re.value((...d)=>l.apply(void 0,d))))),Bo=o=>Um(0,o,ec(et)),di=o=>Um(0,o,ec(O.none)),rf=o=>Um(0,o,{tag:"required",process:{}}),L1=o=>Um(0,o,{tag:"required",process:{}}),Yr=(o,s)=>ca(o,ue(s)),yv=o=>ca(o,Ct),qf=ue(P1);var jm=[dn("contextual",[ms("fadeInClass"),ms("fadeOutClass"),ms("transitionClass"),Ti("lazyContext"),Bo("onShow"),Bo("onShown"),Bo("onHide"),Bo("onHidden")]),Xn("lazyViewport",()=>({bounds:Cs(),optScrollEnv:O.none()})),sc("modes",["top","bottom"],Mr),Bo("onDocked"),Bo("onUndocked")];const Mn=Gt({fields:jm,name:"docking",active:og,apis:M1,state:Object.freeze({__proto__:null,init:o=>{const s=Mt(!1),a=Mt(!0),l=cn(),d=Mt(o.modes);return Ie({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`})}})}),I1=mr([(o=>({key:o,value:_o({can:(s,a)=>{const l=a.event,d=l.originator,f=l.target;return!((p,b,y)=>yn(b,p.element)&&!yn(b,y))(s,d,f)||(console.warn(Nc()+` did not get interpreted by the desired target. 
Originator: `+$m(d)+`
Target: `+$m(f)+`
Check the `+Nc()+" event handlers"),!1)}})}))(Nc())]);var F1=Object.freeze({__proto__:null,events:I1});const Gf=(o,s,a,l)=>{const d=o+s;return d>l?a:d<a?l:d},uc=(o,s,a)=>Math.min(Math.max(o,s),a);let rh=0;const wt=o=>{const s=new Date().getTime(),a=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return rh++,o+"_"+a+rh+String(s)},Rb=ue("alloy-id-"),jw=ue("data-alloy-id"),H1=Rb(),xv=jw(),Db=(o,s)=>{Object.defineProperty(o.dom,xv,{value:s,writable:!0})},rg=o=>{const s=dr(o)?o.dom[xv]:null;return O.from(s)},sg=o=>wt(o),vv=Ct,Mb=o=>{const s=d=>`The component must be in a context to execute: ${d}`+(o?`
`+$m(o().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},l=d=>()=>{console.warn(s(d))};return{debugInfo:ue("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Le}},_v=Mb(),Bb=wt("alloy-premade"),ag=o=>(Object.defineProperty(o.element.dom,Bb,{value:o.uid,writable:!0}),M(Bb,o)),Pb=o=>ut(o,Bb),Lb=o=>((s,a)=>{const l=a.toString(),d=l.indexOf(")")+1,f=l.indexOf("("),p=l.substring(f+1,d-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:cc(p.slice(1))}),s})((s,...a)=>o(s.getApis(),s,...a),o),kv=(o,s)=>{const a={};return er(o,(l,d)=>{er(l,(f,p)=>{const b=ut(a,p).getOr([]);a[p]=b.concat([s(d,f)])})}),a},V1=o=>o.cHandler,Zw=(o,s)=>({name:o,handler:s}),wv=(o,s)=>{const a={};return ot(o,l=>{a[l.name()]=l.handlers(s)}),a},$1=(o,s,a)=>{const l=s[a];return l?((d,f,p,b)=>{try{const y=Ne(p,(_,E)=>{const w=_[f],A=E[f],P=b.indexOf(w),I=b.indexOf(A);if(P===-1)throw new Error("The ordering for "+d+" does not have an entry for "+w+`.
Order specified: `+JSON.stringify(b,null,2));if(I===-1)throw new Error("The ordering for "+d+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(b,null,2));return P<I?-1:I<P?1:0});return re.value(y)}catch(y){return re.error([y])}})("Event: "+a,"name",o,l).map(d=>(f=>({can:(y=>(..._)=>fo(y,(E,w)=>E&&(A=>A.can)(w).apply(void 0,_),!0))(f),abort:(y=>(..._)=>fo(y,(E,w)=>E||(A=>A.abort)(w).apply(void 0,_),!1))(f),run:(...y)=>{ot(f,_=>{_.run.apply(void 0,y)})}}))(Se(d,f=>f.handler))):((d,f)=>re.error(["The event ("+d+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Se(f,p=>p.name),null,2)]))(a,o)},Ww=(o,s)=>((a,l)=>{const d=(p=>{const b=[],y=[];return ot(p,_=>{_.fold(E=>{b.push(E)},E=>{y.push(E)})}),{errors:b,values:y}})(a);return d.errors.length>0?(f=d.errors,re.error(ir(f))):((p,b)=>p.length===0?re.value(b):re.value(Er(b,ri.apply(void 0,p))))(d.values,l);var f})($r(o,(a,l)=>(a.length===1?re.value(a[0].handler):$1(a,s,l)).map(d=>{const f=(b=>{const y=(_=>Yt(_)?{can:jt,abort:Le,run:_}:_)(b);return(_,E,...w)=>{const A=[_,E].concat(w);y.abort.apply(void 0,A)?E.stop():y.can.apply(void 0,A)&&y.run.apply(void 0,A)}})(d),p=a.length>1?Eo(s[l],b=>un(a,y=>y.name===b)).join(" > "):a[0].name;return M(l,((b,y)=>({handler:b,purpose:y}))(f,p))})),{}),Zm="alloy.base.behaviour",U1=no([Ss("dom","dom",{tag:"required",process:{}},no([Ge("tag"),Ee("styles",{}),Ee("classes",[]),Ee("attributes",{}),Jo("value"),Jo("innerHtml")])),Ge("components"),Ge("uid"),Ee("events",{}),Ee("apis",{}),Ss("eventOrder","eventOrder",(G1={[ta()]:["disabling",Zm,"toggling","typeaheadevents"],[Nc()]:[Zm,"focusing","keying"],[ac()]:[Zm,"disabling","toggling","representing","tooltipping"],[rs()]:[Zm,"representing","streaming","invalidating"],[ld()]:[Zm,"representing","item-events","toolbar-button-events","tooltipping"],[Da()]:["focusing",Zm,"item-type-events"],[Ln()]:["focusing",Zm,"item-type-events"],[Oi()]:["item-type-events","tooltipping"],[At()]:["receiving","reflecting","tooltipping"]},od(ue(G1))),ji()),Jo("domModification")]),Ib=o=>o.events,sf=o=>o.dom.value,ud=(o,s)=>{if(s===void 0)throw new Error("Value.set was undefined");o.dom.value=s},j1=(o,s,a)=>{a.fold(()=>ya(o,s),l=>{yn(l,s)||(Fa(l,s),Nl(l))})},fc=(o,s,a)=>{const l=Se(s,a),d=br(o);return ot(d.slice(l.length),Nl),l},Wm=(o,s,a,l)=>{const d=ur(o,s),f=l(a,d),p=((b,y,_)=>ur(b,y).map(E=>{if(_.exists(w=>!yn(w,E))){const w=_.map(Ia).getOr("span"),A=Os(w);return Fa(E,A),A}return E}))(o,s,d);return j1(o,f.element,p),f},Ma=(o,s)=>{const a=Wo(o),l=Wo(s),d=en(l,a),f=(p=>{const b={},y={};return Vs(p,(_,E)=>!ko(s,E)||_!==s[E],ts(b),ts(y)),{t:b,f:y}})(o).t;return{toRemove:d,toSet:f}},Z1=(o,s)=>{const a=s.filter(l=>Ia(l)===o.tag&&!(d=>d.innerHtml.isSome()&&d.domChildren.length>0)(o)&&!(d=>ko(d.dom,Bb))(l)).bind(l=>((d,f)=>{try{const p=((b,y)=>{const{class:_,style:E,...w}=(te=>fo(te.dom.attributes,(oe,ce)=>(oe[ce.name]=ce.value,oe),{}))(y),{toSet:A,toRemove:P}=Ma(b.attributes,w),I=$i(y),{toSet:Y,toRemove:G}=Ma(b.styles,I),J=jf(y),j=en(J,b.classes),Z=en(b.classes,J);return ot(P,te=>Ur(y,te)),ws(y,A),yl(y,Z),li(y,j),ot(G,te=>an(y,te)),ti(y,Y),b.innerHtml.fold(()=>{const te=b.domChildren;((oe,ce)=>{fc(oe,ce,(be,we)=>{const Ae=ur(oe,we);return j1(oe,be,Ae),be})})(y,te)},te=>{of(y,te)}),(()=>{const te=y,oe=b.value.getOrUndefined();oe!==sf(te)&&ud(te,oe??"")})(),y})(d,f);return O.some(p)}catch{return O.none()}})(o,l)).getOrThunk(()=>(l=>{const d=Os(l.tag);ws(d,l.attributes),yl(d,l.classes),ti(d,l.styles),l.innerHtml.each(p=>of(d,p));const f=l.domChildren;return ni(d,f),l.value.each(p=>{ud(d,p)}),d})(o));return Db(a,o.uid),a},Cv=o=>{const s=(a=>{const l=ut(a,"behaviours").getOr({});return Go(Wo(l),d=>{const f=l[d];return Ht(f)?[f.me]:[]})})(o);return((a,l)=>((d,f)=>{const p=Se(f,y=>dn(y.name(),[Ge("config"),Ee("state",ye)])),b=tr("component.behaviours",no(p),d.behaviours).fold(y=>{throw new Error(si(y)+`
Complete spec:
`+JSON.stringify(d,null,2))},Ct);return{list:f,data:Rn(b,y=>{const _=y.map(E=>({config:E.config,state:E.state.init(E.config)}));return ue(_)})}})(a,l))(o,s)},sh=(o,s)=>{const a=()=>A,l=Mt(_v),d=la((P=>tr("custom.definition",U1,P))(o)),f=Cv(o),p=(P=>P.list)(f),b=(P=>P.data)(f),y=((P,I,Y)=>{const G={...(J=P).dom,uid:J.uid,domChildren:Se(J.components,be=>be.element)};var J;const j=(be=>be.domModification.fold(()=>k({}),k))(P),Z={"alloy.base.modification":j},te=I.length>0?((be,we,Ae,Ue)=>{const $e={...we};ot(Ae,jo=>{$e[jo.name()]=jo.exhibit(be,Ue)});const Ye=kv($e,(jo,pr)=>({name:jo,modification:pr})),mt=jo=>bo(jo,(pr,Qr)=>({...Qr.modification,...pr}),{}),$t=bo(Ye.classes,(jo,pr)=>pr.modification.concat(jo),[]),Xt=mt(Ye.attributes),so=mt(Ye.styles);return k({classes:$t,attributes:Xt,styles:so})})(Y,Z,I,G):j;return oe=G,ce=te,{...oe,attributes:{...oe.attributes,...ce.attributes},styles:{...oe.styles,...ce.styles},classes:oe.classes.concat(ce.classes)};var oe,ce})(d,p,b),_=Z1(y,s),E=((P,I,Y)=>{const G={"alloy.base.behaviour":Ib(P)};return((J,j,Z,te)=>{const oe=((ce,be,we)=>{const Ae={...we,...wv(be,ce)};return kv(Ae,Zw)})(J,Z,te);return Ww(oe,j)})(Y,P.eventOrder,I,G).getOrDie()})(d,p,b),w=Mt(d.components),A={uid:o.uid,getSystem:l.get,config:P=>{const I=b;return(Yt(I[P.name()])?I[P.name()]:()=>{throw new Error("Could not find "+P.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:P=>Yt(b[P.name()]),spec:o,readState:P=>b[P]().map(I=>I.state.readState()).getOr("not enabled"),getApis:()=>d.apis,connect:P=>{l.set(P)},disconnect:()=>{l.set(Mb(a))},element:_,syncComponents:()=>{const P=br(_),I=Go(P,Y=>l.get().getByDom(Y).fold(()=>[],Ko));w.set(I)},components:w.get,events:E};return A},Or=o=>{const s=kc(o);return Kf({element:s})},Kf=o=>{const s=ka("external.component",Si([Ge("element"),Jo("uid")]),o),a=Mt(Mb()),l=s.uid.getOrThunk(()=>sg("external"));Db(s.element,l);const d={uid:l,getSystem:a.get,config:O.none,hasConfigured:Le,connect:f=>{a.set(f)},disconnect:()=>{a.set(Mb(()=>d))},getApis:()=>({}),element:s.element,spec:o,readState:ue("No state"),syncComponents:et,components:ue([]),events:{}};return ag(d)},ig=sg,Fb=(o,s)=>Pb(o).getOrThunk(()=>((a,l)=>{const{events:d,...f}=vv(a),p=((y,_)=>{const E=ut(y,"components").getOr([]);return _.fold(()=>Se(E,qs),w=>Se(E,(A,P)=>Fb(A,ur(w,P))))})(f,l),b={...f,events:{...F1,...d},components:p};return re.value(sh(b,l))})((a=>ko(a,"uid"))(o)?o:{uid:ig(""),...o},s).getOrDie()),qs=o=>Fb(o,O.none()),Ll=ag,Ar=(o,s,a)=>Jl(o,s,a).isSome(),ah="aria-controls",Sv=()=>{const o=wt(ah);return{id:o,link:s=>{lo(s,ah,o)},unlink:s=>{Ur(s,ah)}}},qm=(o,s)=>Ar(s,a=>yn(a,o.element),Le)||((a,l)=>(d=>Jl(d,f=>{if(!dr(f))return!1;const p=ds(f,"id");return p!==void 0&&p.indexOf(ah)>-1}).bind(f=>{const p=ds(f,"id"),b=cs(f);return Vn(b,`[${ah}="${p}"]`)}))(l).exists(d=>qm(a,d)))(o,s),oa=(o,s,a,l,d,f,p,b=!1)=>({x:o,y:s,bubble:a,direction:l,placement:d,restriction:f,label:`${p}-${d}`,alwaysFit:b}),vu=S([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Mc=vu.southeast,Hb=vu.southwest,Gm=vu.northeast,Km=vu.northwest,Yf=vu.south,ih=vu.north,W1=vu.east,Ev=vu.west,Ni=(o,s)=>Cn(["left","right","top","bottom"],a=>ut(s,a).map(l=>((d,f)=>{switch(f){case 1:return d.x;case 0:return d.x+d.width;case 2:return d.y;case 3:return d.y+d.height}})(o,l))),Ym="layout",Vb=o=>o.x,zv=(o,s)=>o.x+o.width/2-s.width/2,q1=(o,s)=>o.x+o.width-s.width,$b=(o,s)=>o.y-s.height,mc=o=>o.y+o.height,ui=(o,s)=>o.y+o.height/2-s.height/2,Ts=(o,s,a)=>oa(Vb(o),mc(o),a.southeast(),Mc(),"southeast",Ni(o,{left:1,top:3}),Ym),Ms=(o,s,a)=>oa(q1(o,s),mc(o),a.southwest(),Hb(),"southwest",Ni(o,{right:0,top:3}),Ym),Za=(o,s,a)=>oa(Vb(o),$b(o,s),a.northeast(),Gm(),"northeast",Ni(o,{left:1,bottom:2}),Ym),da=(o,s,a)=>oa(q1(o,s),$b(o,s),a.northwest(),Km(),"northwest",Ni(o,{right:0,bottom:2}),Ym),vs=(o,s,a)=>oa(zv(o,s),$b(o,s),a.north(),ih(),"north",Ni(o,{bottom:2}),Ym),gs=(o,s,a)=>oa(zv(o,s),mc(o),a.south(),Yf(),"south",Ni(o,{top:3}),Ym),Xm=(o,s,a)=>oa((l=>l.x+l.width)(o),ui(o,s),a.east(),W1(),"east",Ni(o,{left:0}),Ym),af=(o,s,a)=>oa(((l,d)=>l.x-d.width)(o,s),ui(o,s),a.west(),Ev(),"west",Ni(o,{right:1}),Ym),lg=()=>[Ts,Ms,Za,da,gs,vs,Xm,af],lh=()=>[Ms,Ts,da,Za,gs,vs,Xm,af],Ri=()=>[Za,da,Ts,Ms,vs,gs],Jm=()=>[da,Za,Ms,Ts,vs,gs],Ub=()=>[Ts,Ms,Za,da,gs,vs],jb=()=>[Ms,Ts,da,Za,gs,vs];var G1,Tv=Object.freeze({__proto__:null,events:o=>mr([je(At(),(s,a)=>{const l=o.channels,d=Wo(l),f=a,p=((b,y)=>y.universal?b:Eo(b,_=>Je(y.channels,_)))(d,f);ot(p,b=>{const y=l[b],_=y.schema,E=ka("channel["+b+`] data
Receiver: `+$m(s.element),_,f.data);y.onReceive(s,E)})})])}),K1=[Qs("channels",sd(re.value,Si([rf("onReceive"),Ee("schema",ji())])))];const Il=Gt({fields:K1,name:"receiving",active:Tv});var ch=Object.freeze({__proto__:null,exhibit:(o,s)=>k({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Ba=(o,s=!1)=>o.dom.focus({preventScroll:s}),cg=o=>o.dom.blur(),fd=o=>{const s=cs(o).dom;return o.dom===s.activeElement},pc=(o=fl())=>O.from(o.dom.activeElement).map(_t),Di=o=>pc(cs(o)).filter(s=>o.dom.contains(s.dom)),dh=(o,s)=>{const a=cs(s),l=pc(a).bind(f=>{const p=b=>yn(f,b);return p(s)?O.some(s):((b,y)=>{const _=E=>{for(let w=0;w<E.childNodes.length;w++){const A=_t(E.childNodes[w]);if(y(A))return O.some(A);const P=_(E.childNodes[w]);if(P.isSome())return P}return O.none()};return _(b.dom)})(s,p)}),d=o(s);return l.each(f=>{pc(a).filter(p=>yn(p,f)).fold(()=>{Ba(f)},et)}),d},md=S([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Zb=(o,s,a,l,d,f)=>{const p=s.rect,b=p.x-a,y=p.y-l,_=d-(b+p.width),E=f-(y+p.height),w=O.some(b),A=O.some(y),P=O.some(_),I=O.some(E),Y=O.none();return s.direction.fold(()=>xl(o,w,A,Y,Y),()=>xl(o,Y,A,P,Y),()=>xl(o,w,Y,Y,I),()=>xl(o,Y,Y,P,I),()=>xl(o,w,A,Y,Y),()=>xl(o,w,Y,Y,I),()=>xl(o,w,A,Y,Y),()=>xl(o,Y,A,P,Y))},Wb=(o,s)=>o.fold(()=>{const a=s.rect;return xl("absolute",O.some(a.x),O.some(a.y),O.none(),O.none())},(a,l,d,f)=>Zb("absolute",s,a,l,d,f),(a,l,d,f)=>Zb("fixed",s,a,l,d,f)),qb=(o,s)=>{const a=qe(tl,s),l=o.fold(a,a,()=>{const p=xs();return tl(s).translate(-p.left,-p.top)}),d=_e(s),f=Aa(s);return Sn(l.left,l.top,d,f)},Qm=(o,s)=>s.fold(()=>o.fold(Cs,Cs,Sn),a=>o.fold(ue(a),ue(a),()=>{const l=pd(o,a.x,a.y);return Sn(l.left,l.top,a.width,a.height)})),pd=(o,s,a)=>{const l=Dn(s,a);return o.fold(ue(l),ue(l),()=>{const d=xs();return l.translate(-d.left,-d.top)})};md.none;const I3=md.relative,Gb=md.fixed,lf="data-alloy-placement",Y1=o=>us(o,lf),dg=S([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ov=(o,s,a,l)=>{const d=o.bubble,f=d.offset,p=((te,oe,ce)=>{const be=(Ye,mt)=>oe[Ye].map($t=>{const Xt=Ye==="top"||Ye==="bottom",so=Xt?ce.top:ce.left,jo=(Ye==="left"||Ye==="top"?Math.max:Math.min)($t,mt)+so;return Xt?uc(jo,te.y,te.bottom):uc(jo,te.x,te.right)}).getOr(mt),we=be("left",te.x),Ae=be("top",te.y),Ue=be("right",te.right),$e=be("bottom",te.bottom);return Sn(we,Ae,Ue-we,$e-Ae)})(l,o.restriction,f),b=o.x+f.left,y=o.y+f.top,_=Sn(b,y,s,a),{originInBounds:E,sizeInBounds:w,visibleW:A,visibleH:P}=((te,oe)=>{const{x:ce,y:be,right:we,bottom:Ae}=oe,{x:Ue,y:$e,right:Ye,bottom:mt,width:$t,height:Xt}=te;return{originInBounds:Ue>=ce&&Ue<=we&&$e>=be&&$e<=Ae,sizeInBounds:Ye<=we&&Ye>=ce&&mt<=Ae&&mt>=be,visibleW:Math.min($t,Ue>=ce?we-Ue:Ye-ce),visibleH:Math.min(Xt,$e>=be?Ae-$e:mt-be)}})(_,p),I=E&&w,Y=I?_:((te,oe)=>{const{x:ce,y:be,right:we,bottom:Ae}=oe,{x:Ue,y:$e,width:Ye,height:mt}=te,$t=Math.max(ce,we-Ye),Xt=Math.max(be,Ae-mt),so=uc(Ue,ce,$t),jo=uc($e,be,Xt),pr=Math.min(so+Ye,we)-so,Qr=Math.min(jo+mt,Ae)-jo;return Sn(so,jo,pr,Qr)})(_,p),G=Y.width>0&&Y.height>0,{maxWidth:J,maxHeight:j}=((te,oe,ce)=>{const be=ue(oe.bottom-ce.y),we=ue(ce.bottom-oe.y),Ae=((mt,$t,Xt,so)=>mt.fold($t,$t,so,so,$t,so,Xt,Xt))(te,we,we,be),Ue=ue(oe.right-ce.x),$e=ue(ce.right-oe.x);return{maxWidth:((mt,$t,Xt,so)=>mt.fold($t,so,$t,so,Xt,Xt,$t,so))(te,$e,$e,Ue),maxHeight:Ae}})(o.direction,Y,l),Z={rect:Y,maxHeight:j,maxWidth:J,direction:o.direction,placement:o.placement,classes:{on:d.classesOn,off:d.classesOff},layout:o.label,testY:y};return I||o.alwaysFit?dg.fit(Z):dg.nofit(Z,A,P,G)},uh=jt,Gi=(o,s,a)=>((l,d,f,p)=>Xl(l,d,f,p,!1))(o,s,uh,a),Kb=(o,s,a)=>((l,d,f,p)=>Xl(l,d,f,p,!0))(o,s,uh,a),fh=Qc,Av=["top","bottom","right","left"],gc="data-alloy-transition-timer",X1=(o,s,a,l,d,f)=>{const p=((b,y,_)=>_.exists(E=>{const w=b.mode;return w==="all"||E[w]!==y[w]}))(l,d,f);if(p||((b,y)=>((_,E)=>gi(E,w=>cr(_,w)))(b,y.classes))(o,l)){Zt(o,"position",a.position);const b=qb(s,o),y=Wb(s,{...d,rect:b}),_=Cn(Av,E=>y[E]);((E,w)=>{const A=P=>parseFloat(P).toFixed(3);return Yo(w,(P,I)=>!((Y,G,J=pe)=>rt(Y,G,J).getOr(Y.isNone()&&G.isNone()))(E[I].map(A),P.map(A))).isSome()})(a,_)&&(_i(o,_),p&&((E,w)=>{yl(E,w.classes),us(E,gc).each(A=>{clearTimeout(parseInt(A,10)),Ur(E,gc)}),((A,P)=>{const I=ed(),Y=ed();let G;const J=oe=>{var ce;const be=(ce=oe.raw.pseudoElement)!==null&&ce!==void 0?ce:"";return yn(oe.target,A)&&Tl(be)&&Je(Av,oe.raw.propertyName)},j=oe=>{if(Vr(oe)||J(oe)){I.clear(),Y.clear();const ce=oe==null?void 0:oe.raw.type;(Vr(ce)||ce===Ac())&&(clearTimeout(G),Ur(A,gc),li(A,P.classes))}},Z=Gi(A,Jp(),oe=>{J(oe)&&(Z.unbind(),I.set(Gi(A,Ac(),j)),Y.set(Gi(A,kb(),j)))}),te=(oe=>{const ce=Ue=>{const $e=Us(oe,Ue).split(/\s*,\s*/);return Eo($e,Oa)},be=Ue=>{if(Ot(Ue)&&/^[\d.]+/.test(Ue)){const $e=parseFloat(Ue);return zl(Ue,"ms")?$e:1e3*$e}return 0},we=ce("transition-delay"),Ae=ce("transition-duration");return fo(Ae,(Ue,$e,Ye)=>{const mt=be(we[Ye])+be($e);return Math.max(Ue,mt)},0)})(A);requestAnimationFrame(()=>{G=setTimeout(j,te+17),lo(A,gc,G)})})(E,w)})(o,l),ul(o))}else li(o,l.classes)},_u=(o,s)=>{((a,l)=>{const d=Bd.max(a,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Zt(a,"max-height",d+"px")})(o,Math.floor(s))},J1=ue((o,s)=>{_u(o,s),ti(o,{"overflow-x":"hidden","overflow-y":"auto"})}),qd=ue((o,s)=>{_u(o,s)}),ku=(o,s,a)=>o[s]===void 0?a:o[s],Nv=(o,s,a,l)=>{const d=((f,p,b,y)=>{an(p,"max-height"),an(p,"max-width");const _={width:_e(E=p),height:Aa(E)};var E;return((w,A,P,I,Y,G)=>{const J=I.width,j=I.height,Z=(te,oe,ce,be,we)=>{const Ae=te(P,I,Y,w,G),Ue=Ov(Ae,J,j,G);return Ue.fold(ue(Ue),($e,Ye,mt,$t)=>(we===$t?mt>be||Ye>ce:!we&&$t)?Ue:dg.nofit(oe,ce,be,we))};return fo(A,(te,oe)=>{const ce=qe(Z,oe);return te.fold(ue(te),ce)},dg.nofit({rect:P,maxHeight:I.height,maxWidth:I.width,direction:Mc(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:P.y},-1,-1,!1)).fold(Ct,Ct)})(p,y.preference,f,_,b,y.bounds)})(o,s,a,l);return((f,p,b)=>{const y=Wb(b.origin,p);b.transition.each(_=>{X1(f,b.origin,y,_,p,b.lastPlacement)}),Xg(f,y)})(s,d,l),((f,p)=>{((b,y)=>{lo(b,lf,y)})(f,p.placement)})(s,d),((f,p)=>{const b=p.classes;li(f,b.off),yl(f,b.on)})(s,d),((f,p,b)=>{(0,b.maxHeightFunction)(f,p.maxHeight)})(s,d,l),((f,p,b)=>{(0,b.maxWidthFunction)(f,p.maxWidth)})(s,d,l),{layout:d.layout,placement:d.placement}},Xf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],_l=(o,s,a,l=1)=>{const d=o*l,f=s*l,p=y=>ut(a,y).getOr([]),b=(y,_,E)=>{const w=en(Xf,E);return{offset:Dn(y,_),classesOn:Go(E,p),classesOff:Go(w,p)}};return{southeast:()=>b(-o,s,["top","alignLeft"]),southwest:()=>b(o,s,["top","alignRight"]),south:()=>b(-o/2,s,["top","alignCentre"]),northeast:()=>b(-o,-s,["bottom","alignLeft"]),northwest:()=>b(o,-s,["bottom","alignRight"]),north:()=>b(-o/2,-s,["bottom","alignCentre"]),east:()=>b(o,-s/2,["valignCentre","left"]),west:()=>b(-o,-s/2,["valignCentre","right"]),insetNortheast:()=>b(d,f,["top","alignLeft","inset"]),insetNorthwest:()=>b(-d,f,["top","alignRight","inset"]),insetNorth:()=>b(-d/2,f,["top","alignCentre","inset"]),insetSoutheast:()=>b(d,-f,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-d,-f,["bottom","alignRight","inset"]),insetSouth:()=>b(-d/2,-f,["bottom","alignCentre","inset"]),insetEast:()=>b(-d,-f/2,["valignCentre","right","inset"]),insetWest:()=>b(d,-f/2,["valignCentre","left","inset"])}},mh=()=>_l(0,0,{}),ph=Ct,Fl=(o,s)=>a=>cf(a)==="rtl"?s:o,cf=o=>Us(o,"direction")==="rtl"?"rtl":"ltr";var df;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(df||(df={}));const Gs="data-alloy-vertical-dir",gh=o=>Ar(o,s=>dr(s)&&ds(s,"data-alloy-vertical-dir")===df.BottomToTop),Sa=()=>dn("layouts",[Ge("onLtr"),Ge("onRtl"),Jo("onBottomLtr"),Jo("onBottomRtl")]),Yb=(o,s,a,l,d,f,p)=>{const b=p.map(gh).getOr(!1),y=s.layouts.map(A=>A.onLtr(o)),_=s.layouts.map(A=>A.onRtl(o)),E=b?s.layouts.bind(A=>A.onBottomLtr.map(P=>P(o))).or(y).getOr(d):y.getOr(a),w=b?s.layouts.bind(A=>A.onBottomRtl.map(P=>P(o))).or(_).getOr(f):_.getOr(l);return Fl(E,w)(o)};var Q1=[Ge("hotspot"),Jo("bubble"),Ee("overrides",{}),Sa(),Yr("placement",(o,s,a)=>{const l=s.hotspot,d=qb(a,l.element),f=Yb(o.element,s,Ub(),jb(),Ri(),Jm(),O.some(s.hotspot.element));return O.some(ph({anchorBox:d,bubble:s.bubble.getOr(mh()),overrides:s.overrides,layouts:f}))})],ep=[Ge("x"),Ge("y"),Ee("height",0),Ee("width",0),Ee("bubble",mh()),Ee("overrides",{}),Sa(),Yr("placement",(o,s,a)=>{const l=pd(a,s.x,s.y),d=Sn(l.left,l.top,s.width,s.height),f=Yb(o.element,s,lg(),lh(),lg(),lh(),O.none());return O.some(ph({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:f}))})];const Jf=S([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Qf=o=>o.fold(Ct,(s,a,l)=>s.translate(-a,-l)),hc=o=>o.fold(Ct,Ct),Xb=o=>fo(o,(s,a)=>s.translate(a.left,a.top),Dn(0,0)),Rv=o=>{const s=Se(o,hc);return Xb(s)},e0=Jf.screen,Jb=Jf.absolute,Qb=(o,s,a)=>{const l=pa(o.element),d=xs(l),f=((p,b,y)=>{const _=Md(y.root).dom;return O.from(_.frameElement).map(_t).filter(E=>{const w=pa(E),A=pa(p.element);return yn(w,A)}).map(Gr)})(o,0,a).getOr(d);return Jb(f,d.left,d.top)},uf=(o,s,a,l)=>{const d=e0(Dn(o,s));return O.some(((f,p,b)=>({point:f,width:p,height:b}))(d,a,l))},ug=(o,s,a,l,d)=>o.map(f=>{const p=[s,f.point],b=(y=()=>Rv(p),_=()=>Rv(p),E=()=>(Z=>{const te=Se(Z,Qf);return Xb(te)})(p),l.fold(y,_,E));var y,_,E;const w=(Y=b.left,G=b.top,J=f.width,j=f.height,{x:Y,y:G,width:J,height:j}),A=a.showAbove?Ri():Ub(),P=a.showAbove?Jm():jb(),I=Yb(d,a,A,P,A,P,O.none());var Y,G,J,j;return ph({anchorBox:w,bubble:a.bubble.getOr(mh()),overrides:a.overrides,layouts:I})});var qw=[Ge("node"),Ge("root"),Jo("bubble"),Sa(),Ee("overrides",{}),Ee("showAbove",!1),Yr("placement",(o,s,a)=>{const l=Qb(o,0,s);return s.node.filter(qn).bind(d=>{const f=d.dom.getBoundingClientRect(),p=uf(f.left,f.top,f.width,f.height),b=s.node.getOr(o.element);return ug(p,l,s,a,b)})})];const tp=(o,s,a,l)=>({start:o,soffset:s,finish:a,foffset:l}),hh=S([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Gd=(hh.before,hh.on,hh.after,o=>o.fold(Ct,Ct,Ct)),gd=S([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ff={domRange:gd.domRange,relative:gd.relative,exact:gd.exact,exactFromRange:o=>gd.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const s=(a=>a.match({domRange:l=>_t(l.startContainer),relative:(l,d)=>Gd(l),exact:(l,d,f,p)=>l}))(o);return Md(s)},range:tp},op=(o,s,a)=>{const l=o.document.createRange();var d;return d=l,s.fold(f=>{d.setStartBefore(f.dom)},(f,p)=>{d.setStart(f.dom,p)},f=>{d.setStartAfter(f.dom)}),((f,p)=>{p.fold(b=>{f.setEndBefore(b.dom)},(b,y)=>{f.setEnd(b.dom,y)},b=>{f.setEndAfter(b.dom)})})(l,a),l},t0=(o,s,a,l,d)=>{const f=o.document.createRange();return f.setStart(s.dom,a),f.setEnd(l.dom,d),f},fg=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),hd=S([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),np=(o,s,a)=>s(_t(a.startContainer),a.startOffset,_t(a.endContainer),a.endOffset),bh=(o,s)=>((a,l)=>{const d=((f,p)=>p.match({domRange:b=>({ltr:ue(b),rtl:O.none}),relative:(b,y)=>({ltr:He(()=>op(f,b,y)),rtl:He(()=>O.some(op(f,y,b)))}),exact:(b,y,_,E)=>({ltr:He(()=>t0(f,b,y,_,E)),rtl:He(()=>O.some(t0(f,_,E,b,y)))})}))(a,l);return((f,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>y.collapsed===!1).map(y=>hd.rtl(_t(y.endContainer),y.endOffset,_t(y.startContainer),y.startOffset)).getOrThunk(()=>np(0,hd.ltr,b)):np(0,hd.ltr,b)})(0,d)})(o,s).match({ltr:(a,l,d,f)=>{const p=o.document.createRange();return p.setStart(a.dom,l),p.setEnd(d.dom,f),p},rtl:(a,l,d,f)=>{const p=o.document.createRange();return p.setStart(d.dom,f),p.setEnd(a.dom,l),p}});hd.ltr,hd.rtl;const mg=(o,s,a)=>Eo(((l,d)=>{const f=Yt(d)?d:Le;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const y=p.parentNode,_=_t(y);if(b.push(_),f(_)===!0)break;p=y}return b})(o,a),s),Ki=(o,s)=>((a,l)=>{const d=l===void 0?document:l.dom;return Nd(d)?[]:Se(d.querySelectorAll(a),_t)})(s,o),rp=o=>{if(o.rangeCount>0){const s=o.getRangeAt(0),a=o.getRangeAt(o.rangeCount-1);return O.some(tp(_t(s.startContainer),s.startOffset,_t(a.endContainer),a.endOffset))}return O.none()},mf=o=>{if(o.anchorNode===null||o.focusNode===null)return rp(o);{const s=_t(o.anchorNode),a=_t(o.focusNode);return((l,d,f,p)=>{const b=((_,E,w,A)=>{const P=pa(_).dom.createRange();return P.setStart(_.dom,E),P.setEnd(w.dom,A),P})(l,d,f,p),y=yn(l,f)&&d===p;return b.collapsed&&!y})(s,o.anchorOffset,a,o.focusOffset)?O.some(tp(s,o.anchorOffset,a,o.focusOffset)):rp(o)}},o0=(o,s)=>(a=>{const l=a.getClientRects(),d=l.length>0?l[0]:a.getBoundingClientRect();return d.width>0||d.height>0?O.some(d).map(fg):O.none()})(bh(o,s)),Dv=(o=>{const s=a=>o(a)?O.from(a.dom.nodeValue):O.none();return{get:a=>{if(!o(a))throw new Error("Can only get text value of a text node");return s(a).getOr("")},getOption:s,set:(a,l)=>{if(!o(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=l}}})(ma),pg=(o,s)=>({element:o,offset:s}),Mv=(o,s)=>ma(o)?pg(o,s):((a,l)=>{const d=br(a);if(d.length===0)return pg(a,l);if(l<d.length)return pg(d[l],0);{const f=d[d.length-1],p=ma(f)?(b=>Dv.get(b))(f).length:br(f).length;return pg(f,p)}})(o,s),ey=o=>o.foffset!==void 0,ty=(o,s)=>s.getSelection.getOrThunk(()=>()=>(a=>(l=>O.from(l.getSelection()))(a).filter(l=>l.rangeCount>0).bind(mf))(o))().map(a=>{if(ey(a)){const l=Mv(a.start,a.soffset),d=Mv(a.finish,a.foffset);return ff.range(l.element,l.offset,d.element,d.offset)}return a});var Gw=[Jo("getSelection"),Ge("root"),Jo("bubble"),Sa(),Ee("overrides",{}),Ee("showAbove",!1),Yr("placement",(o,s,a)=>{const l=Md(s.root).dom,d=Qb(o,0,s),f=ty(l,s).bind(b=>{if(ey(b))return((_,E)=>(w=>{const A=w.getBoundingClientRect();return A.width>0||A.height>0?O.some(A).map(fg):O.none()})(bh(_,E)))(l,ff.exactFromRange(b)).orThunk(()=>{const _=kc("\uFEFF");Fa(b.start,_);const E=o0(l,ff.exact(_,0,_,1));return Nl(_),E}).bind(_=>uf(_.left,_.top,_.width,_.height));{const y=Rn(b,E=>E.dom.getBoundingClientRect()),_={left:Math.min(y.firstCell.left,y.lastCell.left),right:Math.max(y.firstCell.right,y.lastCell.right),top:Math.min(y.firstCell.top,y.lastCell.top),bottom:Math.max(y.firstCell.bottom,y.lastCell.bottom)};return uf(_.left,_.top,_.right-_.left,_.bottom-_.top)}}),p=ty(l,s).bind(b=>ey(b)?dr(b.start)?O.some(b.start):yi(b.start):O.some(b.firstCell)).getOr(o.element);return ug(f,d,s,a,p)})];const gg="link-layout",sp=o=>o.x+o.width,n0=(o,s)=>o.x-s.width,yh=(o,s)=>o.y-s.height+o.height,r0=o=>o.y,Bv=(o,s,a)=>oa(sp(o),r0(o),a.southeast(),Mc(),"southeast",Ni(o,{left:0,top:2}),gg),nl=(o,s,a)=>oa(n0(o,s),r0(o),a.southwest(),Hb(),"southwest",Ni(o,{right:1,top:2}),gg),oy=(o,s,a)=>oa(sp(o),yh(o,s),a.northeast(),Gm(),"northeast",Ni(o,{left:0,bottom:3}),gg),ny=(o,s,a)=>oa(n0(o,s),yh(o,s),a.northwest(),Km(),"northwest",Ni(o,{right:1,bottom:3}),gg),Pv=()=>[Bv,nl,oy,ny],Lv=()=>[nl,Bv,ny,oy];var Iv=[Ge("item"),Sa(),Ee("overrides",{}),Yr("placement",(o,s,a)=>{const l=qb(a,s.item.element),d=Yb(o.element,s,Pv(),Lv(),Pv(),Lv(),O.none());return O.some(ph({anchorBox:l,bubble:mh(),overrides:s.overrides,layouts:d}))})],Fv=Ua("type",{selection:Gw,node:qw,hotspot:Q1,submenu:Iv,makeshift:ep});const Hv=[jr("classes",Mr),Ca("mode","all",["all","layout","placement"])],hg=[Ee("useFixed",Le),Jo("getBounds")],bg=[Qs("anchor",Fv),dn("transition",Hv)],ry=(o,s,a,l,d,f)=>{const p=ka("placement.info",no(bg),d),b=p.anchor,y=l.element,_=a.get(l.uid);dh(()=>{Zt(y,"position","fixed");const E=wr(y,"visibility");Zt(y,"visibility","hidden");const w=s.useFixed()?(()=>{const A=document.documentElement;return Gb(0,0,A.clientWidth,A.clientHeight)})():(A=>{const P=Gr(A.element),I=A.element.dom.getBoundingClientRect();return I3(P.left,P.top,I.width,I.height)})(o);b.placement(o,b,w).each(A=>{const P=f.orThunk(()=>s.getBounds.map(Po)),I=((Y,G,J,j,Z,te)=>((oe,ce,be,we,Ae,Ue,$e,Ye)=>{const mt=ku($e,"maxHeightFunction",J1()),$t=ku($e,"maxWidthFunction",et),Xt=oe.anchorBox,so=oe.origin,jo={bounds:Qm(so,Ue),origin:so,preference:we,maxHeightFunction:mt,maxWidthFunction:$t,lastPlacement:Ae,transition:Ye};return Nv(Xt,ce,be,jo)})(((oe,ce)=>((be,we)=>({anchorBox:be,origin:we}))(oe,ce))(G.anchorBox,Y),j.element,G.bubble,G.layouts,Z,J,G.overrides,te))(w,A,P,l,_,p.transition);a.set(l.uid,I)}),E.fold(()=>{an(y,"visibility")},A=>{Zt(y,"visibility",A)}),wr(y,"left").isNone()&&wr(y,"top").isNone()&&wr(y,"right").isNone()&&wr(y,"bottom").isNone()&&Xs(wr(y,"position"),"fixed")&&an(y,"position")},y)};var xh=Object.freeze({__proto__:null,position:(o,s,a,l,d)=>{const f=O.none();ry(o,s,a,l,d,f)},positionWithinBounds:ry,getMode:(o,s,a)=>s.useFixed()?"fixed":"absolute",reset:(o,s,a,l)=>{const d=l.element;ot(["position","left","right","top","bottom"],f=>an(d,f)),(f=>{Ur(f,lf)})(d),a.clear(l.uid)}});const hs=Gt({fields:hg,name:"positioning",active:ch,apis:xh,state:Object.freeze({__proto__:null,init:()=>{let o={};return Ie({readState:()=>o,clear:s=>{Ht(s)?delete o[s]:o={}},set:(s,a)=>{o[s]=a},get:s=>ut(o,s)})}})}),Bc=o=>o.getSystem().isConnected(),Kd=o=>{Vo(o,ld());const s=o.components();ot(s,Kd)},yg=o=>{const s=o.components();ot(s,yg),Vo(o,lt())},ap=(o,s)=>{o.getSystem().addToWorld(s),qn(o.element)&&yg(s)},vh=o=>{Kd(o),o.getSystem().removeFromWorld(o)},sy=(o,s)=>{ya(o.element,s.element)},em=(o,s)=>{ay(o,s,ya)},ay=(o,s,a)=>{o.getSystem().addToWorld(s),a(o.element,s.element),qn(o.element)&&yg(s),o.syncComponents()},s0=o=>{Kd(o),Nl(o.element),o.getSystem().removeFromWorld(o)},wu=o=>{const s=os(o.element).bind(a=>o.getSystem().getByDom(a).toOptional());s0(o),s.each(a=>{a.syncComponents()})},a0=o=>{const s=o.components();ot(s,s0),Zs(o.element),o.syncComponents()},Pc=(o,s)=>{i0(o,s,ya)},bd=(o,s)=>{i0(o,s,cu)},i0=(o,s,a)=>{a(o,s.element);const l=br(s.element);ot(l,d=>{s.getByDom(d).each(yg)})},Ve=o=>{const s=br(o.element);ot(s,a=>{o.getByDom(a).each(Kd)}),Nl(o.element)},ip=(o,s,a,l)=>{a.get().each(p=>{a0(o)});const d=s.getAttachPoint(o);em(d,o);const f=o.getSystem().build(l);return em(o,f),a.set(f),f},l0=(o,s,a,l)=>{const d=ip(o,s,a,l);return s.onOpen(o,d),d},Vv=(o,s,a)=>{a.get().each(l=>{a0(o),wu(o),s.onClose(o,l),a.clear()})},xg=(o,s,a)=>a.isOpen(),Lc=(o,s,a)=>{const l=s.getAttachPoint(o);Zt(o.element,"position",hs.getMode(l)),((d,f,p)=>{wr(d.element,f).fold(()=>{Ur(d.element,p)},b=>{lo(d.element,p,b)}),Zt(d.element,f,"hidden")})(o,"visibility",s.cloakVisibilityAttr)},c0=(o,s,a)=>{(l=>un(["top","left","right","bottom"],d=>wr(l,d).isSome()))(o.element)||an(o.element,"position"),((l,d,f)=>{us(l.element,f).fold(()=>an(l.element,d),p=>Zt(l.element,d,p))})(o,"visibility",s.cloakVisibilityAttr)};var $v=Object.freeze({__proto__:null,cloak:Lc,decloak:c0,open:l0,openWhileCloaked:(o,s,a,l,d)=>{Lc(o,s),l0(o,s,a,l),d(),c0(o,s)},close:Vv,isOpen:xg,isPartOf:(o,s,a,l)=>xg(0,0,a)&&a.get().exists(d=>s.isPartOf(o,d,l)),getState:(o,s,a)=>a.get(),setContent:(o,s,a,l)=>a.get().map(()=>ip(o,s,a,l))}),Uv=Object.freeze({__proto__:null,events:(o,s)=>mr([je(jd(),(a,l)=>{Vv(a,o,s)})])}),d0=[Bo("onOpen"),Bo("onClose"),Ge("isPartOf"),Ge("getAttachPoint"),Ee("cloakVisibilityAttr","data-precloak-visibility")],jv=Object.freeze({__proto__:null,init:()=>{const o=cn(),s=ue("not-implemented");return Ie({readState:s,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const xn=Gt({fields:d0,name:"sandboxing",active:Uv,apis:$v,state:jv}),Cu=ue("dismiss.popups"),pf=ue("reposition.popups"),u0=ue("mouse.released"),Zv=Si([Ee("isExtraPart",Le),dn("fireEventInstead",[Ee("event",Gu())])]),f0=o=>{const s=ka("Dismissal",Zv,o);return{[Cu()]:{schema:Si([Ge("target")]),onReceive:(a,l)=>{xn.isOpen(a)&&(xn.isPartOf(a,l.target)||s.isExtraPart(a,l.target)||s.fireEventInstead.fold(()=>xn.close(a),d=>Vo(a,d.event)))}}}},m=Si([dn("fireEventInstead",[Ee("event",ic())]),Ti("doReposition")]),h=o=>{const s=ka("Reposition",m,o);return{[pf()]:{onReceive:a=>{xn.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),l=>Vo(a,l.event))}}}},v=(o,s,a)=>{s.store.manager.onLoad(o,s,a)},z=(o,s,a)=>{s.store.manager.onUnload(o,s,a)};var N=Object.freeze({__proto__:null,onLoad:v,onUnload:z,setValue:(o,s,a,l)=>{s.store.manager.setValue(o,s,a,l)},getValue:(o,s,a)=>s.store.manager.getValue(o,s,a),getState:(o,s,a)=>a}),D=Object.freeze({__proto__:null,events:(o,s)=>{const a=o.resetOnDom?[Jn((l,d)=>{v(l,o,s)}),zr((l,d)=>{z(l,o,s)})]:[T(o,s,v)];return mr(a)}});const F=()=>{const o=Mt(null);return Ie({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},$=()=>{const o=Mt({}),s=Mt({});return Ie({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:s.get()}),lookup:a=>ut(o.get(),a).orThunk(()=>ut(s.get(),a)),update:a=>{const l=o.get(),d=s.get(),f={},p={};ot(a,b=>{f[b.value]=b,ut(b,"meta").each(y=>{ut(y,"text").each(_=>{p[_]=b})})}),o.set({...l,...f}),s.set({...d,...p})},clear:()=>{o.set({}),s.set({})}})};var X=Object.freeze({__proto__:null,memory:F,dataset:$,manual:()=>Ie({readState:et}),init:o=>o.store.manager.state(o)});const ie=(o,s,a,l)=>{const d=s.store;a.update([l]),d.setValue(o,l),s.onSetValue(o,l)};var ve=[Jo("initialValue"),Ge("getFallbackEntry"),Ge("getDataKey"),Ge("setValue"),Yr("manager",{setValue:ie,getValue:(o,s,a)=>{const l=s.store,d=l.getDataKey(o);return a.lookup(d).getOrThunk(()=>l.getFallbackEntry(d))},onLoad:(o,s,a)=>{s.store.initialValue.each(l=>{ie(o,s,a,l)})},onUnload:(o,s,a)=>{a.clear()},state:$})],de=[Ge("getValue"),Ee("setValue",et),Jo("initialValue"),Yr("manager",{setValue:(o,s,a,l)=>{s.store.setValue(o,l),s.onSetValue(o,l)},getValue:(o,s,a)=>s.store.getValue(o),onLoad:(o,s,a)=>{s.store.initialValue.each(l=>{s.store.setValue(o,l)})},onUnload:et,state:ye.init})],he=[Jo("initialValue"),Yr("manager",{setValue:(o,s,a,l)=>{a.set(l),s.onSetValue(o,l)},getValue:(o,s,a)=>a.get(),onLoad:(o,s,a)=>{s.store.initialValue.each(l=>{a.isNotSet()&&a.set(l)})},onUnload:(o,s,a)=>{a.clear()},state:F})],fe=[wa("store",{mode:"memory"},Ua("mode",{memory:he,manual:de,dataset:ve})),Bo("onSetValue"),Ee("resetOnDom",!1)];const se=Gt({fields:fe,name:"representing",active:D,apis:N,extra:{setValueFrom:(o,s)=>{const a=se.getValue(s);se.setValue(o,a)}},state:X}),ke=(o,s)=>Ff(o,{},Se(s,a=>{return l=a.name(),d="Cannot configure "+a.name()+" for "+o,Ss(l,l,{tag:"option",process:{}},tc(f=>Xo("The field: "+l+" is forbidden. "+d)));var l,d}).concat([ca("dump",Ct)])),We=o=>o.dump,Fe=(o,s)=>({...xe(s),...o.dump}),Qe=ke,st=Fe,ft="placeholder",ct=S([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),xt=o=>ko(o,"uiType"),Pt=(o,s,a,l)=>((d,f,p,b)=>xt(p)&&p.uiType===ft?((y,_,E,w)=>y.exists(A=>A!==E.owner)?ct.single(!0,ue(E)):ut(w,E.name).fold(()=>{throw new Error("Unknown placeholder component: "+E.name+`
Known: [`+Wo(w)+`]
Namespace: `+y.getOr("none")+`
Spec: `+JSON.stringify(E,null,2))},A=>A.replace()))(d,0,p,b):ct.single(!1,ue(p)))(o,0,a,l).fold((d,f)=>{const p=xt(a)?f(s,a.config,a.validated):f(s),b=ut(p,"components").getOr([]),y=Go(b,_=>Pt(o,s,_,l));return[{...p,components:y}]},(d,f)=>{if(xt(a)){const p=f(s,a.config,a.validated);return a.validated.preprocess.getOr(Ct)(p)}return f(s)}),co=ct.single,vn=ct.multiple,Oo=ue(ft),qo=S([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ao=Ee("factory",{sketch:Ct}),Gn=Ee("schema",[]),_s=Ge("name"),Wa=Ss("pname","pname",Ql(o=>"<alloy."+wt(o.name)+">"),ji()),Ea=ca("schema",()=>[Jo("preprocess")]),Yi=Ee("defaults",ue({})),Su=Ee("overrides",ue({})),kl=no([Ao,Gn,_s,Wa,Yi,Su]),lp=no([Ao,Gn,_s,Yi,Su]),iy=no([Ao,Gn,_s,Wa,Yi,Su]),ly=no([Ao,Ea,_s,Ge("unit"),Wa,Yi,Su]),cy=o=>o.fold(O.some,O.none,O.some,O.some),_h=o=>{const s=a=>a.name;return o.fold(s,s,s,s)},cp=(o,s)=>a=>{const l=ka("Converting part type",s,a);return o(l)},rl=cp(qo.required,kl),Eu=cp(qo.external,lp),Yd=cp(qo.optional,iy),Wv=cp(qo.group,ly),qv=ue("entirety");var F3=Object.freeze({__proto__:null,required:rl,external:Eu,optional:Yd,group:Wv,asNamedPart:cy,name:_h,asCommon:o=>o.fold(Ct,Ct,Ct,Ct),original:qv});const Gv=(o,s,a,l)=>Er(s.defaults(o,a,l),a,{uid:o.partUids[s.name]},s.overrides(o,a,l)),Kw=(o,s)=>{const a={};return ot(s,l=>{cy(l).each(d=>{const f=H3(o,d.pname);a[d.name]=p=>{const b=ka("Part: "+d.name+" in "+o,no(d.schema),p);return{...f,config:p,validated:b}}})}),a},H3=(o,s)=>({uiType:Oo(),owner:o,name:s}),Yw=(o,s,a)=>({uiType:Oo(),owner:o,name:s,config:a,validated:{}}),Xw=o=>Go(o,s=>s.fold(O.none,O.some,O.none,O.none).map(a=>gl(a.name,a.schema.concat([yv(qv())]))).toArray()),V3=o=>Se(o,_h),Jw=(o,s,a)=>((l,d,f)=>{const p={},b={};return ot(f,y=>{y.fold(_=>{p[_.pname]=co(!0,(E,w,A)=>_.factory.sketch(Gv(E,_,w,A)))},_=>{const E=d.parts[_.name];b[_.name]=ue(_.factory.sketch(Gv(d,_,E[qv()]),E))},_=>{p[_.pname]=co(!1,(E,w,A)=>_.factory.sketch(Gv(E,_,w,A)))},_=>{p[_.pname]=vn(!0,(E,w,A)=>{const P=E[_.name];return Se(P,I=>_.factory.sketch(Er(_.defaults(E,I,A),I,_.overrides(E,I))))})})}),{internals:ue(p),externals:ue(b)}})(0,s,a),m0=(o,s,a)=>((l,d,f,p)=>{const b=Rn(p,(_,E)=>((w,A)=>{let P=!1;return{name:ue(w),required:()=>A.fold((I,Y)=>I,(I,Y)=>I),used:()=>P,replace:()=>{if(P)throw new Error("Trying to use the same placeholder more than once: "+w);return P=!0,A}}})(E,_)),y=((_,E,w,A)=>Go(w,P=>Pt(_,E,P,A)))(l,d,f,b);return er(b,_=>{if(_.used()===!1&&_.required())throw new Error("Placeholder: "+_.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(d.components,null,2))}),y})(O.some(o),s,s.components,a),Lr=(o,s,a)=>{const l=s.partUids[a];return o.getSystem().getByUid(l).toOptional()},vg=(o,s,a)=>Lr(o,s,a).getOrDie("Could not find part: "+a),$3=(o,s,a)=>{const l={},d=s.partUids,f=o.getSystem();return ot(a,p=>{l[p]=ue(f.getByUid(d[p]))}),l},Qw=(o,s)=>{const a=o.getSystem();return Rn(s.partUids,(l,d)=>ue(a.getByUid(l)))},U3=o=>Wo(o.partUids),e2=(o,s,a)=>{const l={},d=s.partUids,f=o.getSystem();return ot(a,p=>{l[p]=ue(f.getByUid(d[p]).getOrDie())}),l},Kv=(o,s)=>{const a=V3(s);return U(Se(a,l=>({key:l,value:o+"-"+l})))},t2=o=>Ss("partUids","partUids",od(s=>Kv(s.uid,o)),ji());var mR=Object.freeze({__proto__:null,generate:Kw,generateOne:Yw,schemas:Xw,names:V3,substitutes:Jw,components:m0,defaultUids:Kv,defaultUidsSchema:t2,getAllParts:Qw,getAllPartNames:U3,getPart:Lr,getPartOrDie:vg,getParts:$3,getPartsOrDie:e2});const j3=(o,s,a,l,d)=>{const f=((p,b)=>(p.length>0?[gl("parts",p)]:[]).concat([Ge("uid"),Ee("dom",{}),Ee("components",[]),yv("originalSpec"),Ee("debug.sketcher",{})]).concat(b))(l,d);return ka(o+" [SpecSchema]",Si(f.concat(s)),a)},Yv=(o,s,a,l,d)=>{const f=Lt(d),p=Xw(a),b=t2(a),y=j3(o,s,f,p,[b]),_=Jw(0,y,a);return l(y,m0(o,y,_.internals()),f,_.externals())},Lt=o=>(s=>ko(s,"uid"))(o)?o:{...o,uid:sg("uid")},Xv=Si([Ge("name"),Ge("factory"),Ge("configFields"),Ee("apis",{}),Ee("extraApis",{})]),Z3=Si([Ge("name"),Ge("factory"),Ge("configFields"),Ge("partFields"),Ee("apis",{}),Ee("extraApis",{})]),yd=o=>{const s=ka("Sketcher for "+o.name,Xv,o),a=Rn(s.apis,Lb),l=Rn(s.extraApis,(d,f)=>Uf(d,f));return{name:s.name,configFields:s.configFields,sketch:d=>((f,p,b,y)=>{const _=Lt(y);return b(j3(f,p,_,[],[]),_)})(s.name,s.configFields,s.factory,d),...a,...l}},wl=o=>{const s=ka("Sketcher for "+o.name,Z3,o),a=Kw(s.name,s.partFields),l=Rn(s.apis,Lb),d=Rn(s.extraApis,(f,p)=>Uf(f,p));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:f=>Yv(s.name,s.configFields,s.partFields,s.factory,f),parts:a,...l,...d}},dy=o=>Gl("input")(o)&&ds(o,"type")!=="radio"||Gl("textarea")(o);var W3=Object.freeze({__proto__:null,getCurrent:(o,s,a)=>s.find(o)});const pR=[Ge("find")],_n=Gt({fields:pR,name:"composing",apis:W3}),q3=["input","button","textarea","select"],G3=(o,s,a)=>{(s.disabled()?o2:n2)(o,s)},Xi=(o,s)=>s.useNative===!0&&Je(q3,Ia(o.element)),p0=o=>{lo(o.element,"disabled","disabled")},gR=o=>{Ur(o.element,"disabled")},hR=o=>{lo(o.element,"aria-disabled","true")},bR=o=>{lo(o.element,"aria-disabled","false")},o2=(o,s,a)=>{s.disableClass.each(l=>{Tr(o.element,l)}),(Xi(o,s)?p0:hR)(o),s.onDisabled(o)},n2=(o,s,a)=>{s.disableClass.each(l=>{lr(o.element,l)}),(Xi(o,s)?gR:bR)(o),s.onEnabled(o)},r2=(o,s)=>Xi(o,s)?(a=>au(a.element,"disabled"))(o):(a=>ds(a.element,"aria-disabled")==="true")(o);var K3=Object.freeze({__proto__:null,enable:n2,disable:o2,isDisabled:r2,onLoad:G3,set:(o,s,a,l)=>{(l?o2:n2)(o,s)}}),yR=Object.freeze({__proto__:null,exhibit:(o,s)=>k({classes:s.disabled()?s.disableClass.toArray():[]}),events:(o,s)=>mr([Sb(ta(),(a,l)=>r2(a,o)),T(o,s,G3)])}),Y3=[Xn("disabled",Le),Ee("useNative",!0),Jo("disableClass"),Bo("onDisabled"),Bo("onEnabled")];const Wt=Gt({fields:Y3,name:"disabling",active:yR,apis:K3}),X3=(o,s,a,l)=>{const d=Ki(o.element,"."+s.highlightClass);ot(d,f=>{un(l,p=>yn(p.element,f))||(lr(f,s.highlightClass),o.getSystem().getByDom(f).each(p=>{s.onDehighlight(o,p),Vo(p,Fm())}))})},g0=(o,s,a,l)=>{X3(o,s,0,[l]),s2(o,s,a,l)||(Tr(l.element,s.highlightClass),s.onHighlight(o,l),Vo(l,vr()))},s2=(o,s,a,l)=>cr(l.element,s.highlightClass),J3=(o,s,a)=>Vn(o.element,"."+s.itemClass).bind(l=>o.getSystem().getByDom(l).toOptional()),Q3=(o,s,a)=>{const l=Ki(o.element,"."+s.itemClass);return(l.length>0?O.some(l[l.length-1]):O.none()).bind(d=>o.getSystem().getByDom(d).toOptional())},Jv=(o,s,a,l)=>{const d=Ki(o.element,"."+s.itemClass);return ls(d,f=>cr(f,s.highlightClass)).bind(f=>{const p=Gf(f,l,0,d.length-1);return o.getSystem().getByDom(d[p]).toOptional()})},a2=(o,s,a)=>{const l=Ki(o.element,"."+s.itemClass);return hi(Se(l,d=>o.getSystem().getByDom(d).toOptional()))};var xR=Object.freeze({__proto__:null,dehighlightAll:(o,s,a)=>X3(o,s,0,[]),dehighlight:(o,s,a,l)=>{s2(o,s,a,l)&&(lr(l.element,s.highlightClass),s.onDehighlight(o,l),Vo(l,Fm()))},highlight:g0,highlightFirst:(o,s,a)=>{J3(o,s).each(l=>{g0(o,s,a,l)})},highlightLast:(o,s,a)=>{Q3(o,s).each(l=>{g0(o,s,a,l)})},highlightAt:(o,s,a,l)=>{((d,f,p,b)=>{const y=Ki(d.element,"."+f.itemClass);return O.from(y[b]).fold(()=>re.error(new Error("No element found with index "+b)),d.getSystem().getByDom)})(o,s,0,l).fold(d=>{throw d},d=>{g0(o,s,a,d)})},highlightBy:(o,s,a,l)=>{const d=a2(o,s);H(d,l).each(f=>{g0(o,s,a,f)})},isHighlighted:s2,getHighlighted:(o,s,a)=>Vn(o.element,"."+s.highlightClass).bind(l=>o.getSystem().getByDom(l).toOptional()),getFirst:J3,getLast:Q3,getPrevious:(o,s,a)=>Jv(o,s,0,-1),getNext:(o,s,a)=>Jv(o,s,0,1),getCandidates:a2}),eE=[Ge("highlightClass"),Ge("itemClass"),Bo("onHighlight"),Bo("onDehighlight")];const $n=Gt({fields:eE,name:"highlighting",apis:xR}),vR=[8],dp=[9],gf=[13],Qv=[27],Ic=[32],h0=[37],b0=[38],e_=[39],kh=[40],_R=(o,s,a)=>{const l=dl(o.slice(0,s)),d=dl(o.slice(s+1));return H(l.concat(d),a)},uy=(o,s,a)=>{const l=dl(o.slice(0,s));return H(l,a)},kR=(o,s,a)=>{const l=o.slice(0,s),d=o.slice(s+1);return H(d.concat(l),a)},i2=(o,s,a)=>{const l=o.slice(s+1);return H(l,a)},wn=o=>s=>{const a=s.raw;return Je(o,a.which)},Fc=o=>s=>gi(o,a=>a(s)),wh=o=>o.raw.shiftKey===!0,wR=o=>o.raw.ctrlKey===!0,y0=Zn(wh),On=(o,s)=>({matches:o,classification:s}),tE=(o,s,a)=>{s.exists(l=>a.exists(d=>yn(d,l)))||Vt(o,cd(),{prevFocus:s,newFocus:a})},x0=()=>{const o=s=>Di(s.element);return{get:o,set:(s,a)=>{const l=o(s);s.getSystem().triggerFocus(a,s.element);const d=o(s);tE(s,l,d)}}},CR=()=>{const o=s=>$n.getHighlighted(s).map(a=>a.element);return{get:o,set:(s,a)=>{const l=o(s);s.getSystem().getByDom(a).fold(et,f=>{$n.highlight(s,f)});const d=o(s);tE(s,l,d)}}};var _g;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(_g||(_g={}));const Ch=(o,s,a,l,d)=>{const f=(b,y,_,E,w)=>{return(A=_(b,y,E,w),P=y.event,H(A,I=>I.matches(P)).map(I=>I.classification)).bind(I=>I(b,y,E,w));var A,P},p={schema:()=>o.concat([Ee("focusManager",x0()),wa("focusInside","onFocus",nc(b=>Je(["onFocus","onEnterOrSpace","onApi"],b)?re.value(b):re.error("Invalid value for focusInside"))),Yr("handler",p),Yr("state",s),Yr("sendFocusIn",d)]),processKey:f,toEvents:(b,y)=>{const _=b.focusInside!==_g.OnFocusMode?O.none():d(b).map(w=>je(Nc(),(A,P)=>{w(A,b,y),P.stop()})),E=[je(Kr(),(w,A)=>{f(w,A,a,b,y).fold(()=>{((P,I)=>{const Y=wn(Ic.concat(gf))(I.event);b.focusInside===_g.OnEnterOrSpaceMode&&Y&&ro(P,I)&&d(b).each(G=>{G(P,b,y),I.stop()})})(w,A)},P=>{A.stop()})}),je(Pm(),(w,A)=>{f(w,A,l,b,y).each(P=>{A.stop()})})];return mr(_.toArray().concat(E))}};return p},oE=o=>{const s=[Jo("onEscape"),Jo("onEnter"),Ee("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ee("firstTabstop",0),Ee("useTabstopAt",jt),Jo("visibilitySelector")].concat([o]),a=(E,w)=>{const A=E.visibilitySelector.bind(P=>Ui(w,P)).getOr(w);return Cr(A)>0},l=(E,w)=>w.focusManager.get(E).bind(A=>Ui(A,w.selector)),d=(E,w,A)=>{((P,I)=>{const Y=Ki(P.element,I.selector),G=Eo(Y,J=>a(I,J));return O.from(G[I.firstTabstop])})(E,w).each(P=>{w.focusManager.set(E,P)})},f=(E,w,A,P)=>{const I=Eo(Ki(E.element,A.selector),Y=>a(A,Y));return l(E,A).bind(Y=>ls(I,qe(yn,Y)).bind(G=>((J,j,Z,te,oe)=>oe(j,Z,ce=>((be,we)=>a(be,we)&&be.useTabstopAt(we))(te,ce)).fold(()=>te.cyclic?O.some(!0):O.none(),ce=>(te.focusManager.set(J,ce),O.some(!0))))(E,I,G,A,P)))},p=(E,w,A)=>{const P=A.cyclic?_R:uy;return f(E,0,A,P)},b=(E,w,A)=>{const P=A.cyclic?kR:i2;return f(E,0,A,P)},y=ue([On(Fc([wh,wn(dp)]),p),On(wn(dp),b),On(Fc([y0,wn(gf)]),(E,w,A)=>A.onEnter.bind(P=>P(E,w)))]),_=ue([On(wn(Qv),(E,w,A)=>A.onEscape.bind(P=>P(E,w))),On(wn(dp),(E,w,A)=>l(E,A).filter(P=>!A.useTabstopAt(P)).bind(P=>((I=>(Y=>os(Y))(I).bind(Vi).exists(Y=>yn(Y,I)))(P)?p:b)(E,w,A)))]);return Ch(s,ye.init,y,_,()=>O.some(d))};var SR=oE(ca("cyclic",Le)),ER=oE(ca("cyclic",jt));const fy=(o,s,a)=>dy(a)&&wn(Ic)(s.event)?O.none():((l,d,f)=>(Yu(l,f,ta()),O.some(!0)))(o,0,a),my=(o,s)=>O.some(!0),nE=[Ee("execute",fy),Ee("useSpace",!1),Ee("useEnter",!0),Ee("useControlEnter",!1),Ee("useDown",!1)],v0=(o,s,a)=>a.execute(o,s,o.element);var zR=Ch(nE,ye.init,(o,s,a,l)=>{const d=a.useSpace&&!dy(o.element)?Ic:[],f=a.useEnter?gf:[],p=a.useDown?kh:[],b=d.concat(f).concat(p);return[On(wn(b),v0)].concat(a.useControlEnter?[On(Fc([wR,wn(gf)]),v0)]:[])},(o,s,a,l)=>a.useSpace&&!dy(o.element)?[On(wn(Ic),my)]:[],()=>O.none());const rE=()=>{const o=cn();return Ie({readState:()=>o.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,a)=>{o.set({numRows:s,numColumns:a})},getNumRows:()=>o.get().map(s=>s.numRows),getNumColumns:()=>o.get().map(s=>s.numColumns)})};var TR=Object.freeze({__proto__:null,flatgrid:rE,init:o=>o.state(o)});const sE=o=>(s,a,l,d)=>{const f=o(s.element);return aE(f,s,a,l,d)},t_=(o,s)=>{const a=Fl(o,s);return sE(a)},o_=(o,s)=>{const a=Fl(s,o);return sE(a)},l2=o=>(s,a,l,d)=>aE(o,s,a,l,d),aE=(o,s,a,l,d)=>l.focusManager.get(s).bind(f=>o(s.element,f,l,d)).map(f=>(l.focusManager.set(s,f),!0)),iE=l2,lE=l2,n_=l2,cE=o=>!(s=>s.offsetWidth<=0&&s.offsetHeight<=0)(o.dom),dE=(o,s,a)=>{const l=Ki(o,a);return(d=>ls(d,f=>yn(f,s)).map(f=>({index:f,candidates:d})))(Eo(l,cE))},_0=(o,s)=>ls(o,a=>yn(s,a)),uE=(o,s,a,l)=>l(Math.floor(s/a),s%a).bind(d=>{const f=d.row*a+d.column;return f>=0&&f<o.length?O.some(o[f]):O.none()}),fE=(o,s,a,l,d)=>uE(o,s,l,(f,p)=>{const b=f===a-1?o.length-f*l:l,y=Gf(p,d,0,b-1);return O.some({row:f,column:y})}),mE=(o,s,a,l,d)=>uE(o,s,l,(f,p)=>{const b=Gf(f,d,0,a-1),y=b===a-1?o.length-b*l:l,_=uc(p,0,y-1);return O.some({row:b,column:_})}),OR=[Ge("selector"),Ee("execute",fy),di("onEscape"),Ee("captureTab",!1),qf()],AR=(o,s,a)=>{Vn(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},r_=o=>(s,a,l,d)=>dE(s,a,l.selector).bind(f=>o(f.candidates,f.index,d.getNumRows().getOr(l.initSize.numRows),d.getNumColumns().getOr(l.initSize.numColumns))),pE=(o,s,a)=>a.captureTab?O.some(!0):O.none(),gE=r_((o,s,a,l)=>fE(o,s,a,l,-1)),hE=r_((o,s,a,l)=>fE(o,s,a,l,1)),NR=r_((o,s,a,l)=>mE(o,s,a,l,-1)),RR=r_((o,s,a,l)=>mE(o,s,a,l,1)),DR=ue([On(wn(h0),t_(gE,hE)),On(wn(e_),o_(gE,hE)),On(wn(b0),iE(NR)),On(wn(kh),lE(RR)),On(Fc([wh,wn(dp)]),pE),On(Fc([y0,wn(dp)]),pE),On(wn(Ic.concat(gf)),(o,s,a,l)=>((d,f)=>f.focusManager.get(d).bind(p=>Ui(p,f.selector)))(o,a).bind(d=>a.execute(o,s,d)))]),bE=ue([On(wn(Qv),(o,s,a)=>a.onEscape(o,s)),On(wn(Ic),my)]);var MR=Ch(OR,rE,DR,bE,()=>O.some(AR));const yE=(o,s,a,l,d)=>{const f=(p,b,y)=>d(p,b,l,0,y.length-1,y[b],_=>{return E=y[_],Ia(E)==="button"&&ds(E,"disabled")==="disabled"?f(p,_,y):O.from(y[_]);var E});return dE(o,a,s).bind(p=>{const b=p.index,y=p.candidates;return f(b,b,y)})},xE=(o,s,a,l)=>yE(o,s,a,l,(d,f,p,b,y,_,E)=>{const w=uc(f+p,b,y);return w===d?O.from(_):E(w)}),s_=(o,s,a,l)=>yE(o,s,a,l,(d,f,p,b,y,_,E)=>{const w=Gf(f,p,b,y);return w===d?O.none():E(w)}),vE=[Ge("selector"),Ee("getInitial",O.none),Ee("execute",fy),di("onEscape"),Ee("executeOnMove",!1),Ee("allowVertical",!0),Ee("allowHorizontal",!0),Ee("cycles",!0)],c2=(o,s,a)=>((l,d)=>d.focusManager.get(l).bind(f=>Ui(f,d.selector)))(o,a).bind(l=>a.execute(o,s,l)),BR=(o,s,a)=>{s.getInitial(o).orThunk(()=>Vn(o.element,s.selector)).each(l=>{s.focusManager.set(o,l)})},_E=(o,s,a)=>(a.cycles?s_:xE)(o,a.selector,s,-1),kE=(o,s,a)=>(a.cycles?s_:xE)(o,a.selector,s,1),wE=o=>(s,a,l,d)=>o(s,a,l,d).bind(()=>l.executeOnMove?c2(s,a,l):O.some(!0)),CE=ue([On(wn(Ic),my),On(wn(Qv),(o,s,a)=>a.onEscape(o,s))]);var PR=Ch(vE,ye.init,(o,s,a,l)=>{const d=[...a.allowHorizontal?h0:[]].concat(a.allowVertical?b0:[]),f=[...a.allowHorizontal?e_:[]].concat(a.allowVertical?kh:[]);return[On(wn(d),wE(t_(_E,kE))),On(wn(f),wE(o_(_E,kE))),On(wn(gf),c2),On(wn(Ic),c2)]},CE,()=>O.some(BR));const a_=(o,s,a)=>O.from(o[s]).bind(l=>O.from(l[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),SE=(o,s,a,l)=>{const d=o[s].length,f=Gf(a,l,0,d-1);return a_(o,s,f)},d2=(o,s,a,l)=>{const d=Gf(a,l,0,o.length-1),f=o[d].length,p=uc(s,0,f-1);return a_(o,d,p)},i_=(o,s,a,l)=>{const d=o[s].length,f=uc(a+l,0,d-1);return a_(o,s,f)},EE=(o,s,a,l)=>{const d=uc(a+l,0,o.length-1),f=o[d].length,p=uc(s,0,f-1);return a_(o,d,p)},LR=[gl("selectors",[Ge("row"),Ge("cell")]),Ee("cycles",!0),Ee("previousSelector",O.none),Ee("execute",fy)],IR=(o,s,a)=>{s.previousSelector(o).orThunk(()=>{const l=s.selectors;return Vn(o.element,l.cell)}).each(l=>{s.focusManager.set(o,l)})},Sh=(o,s)=>(a,l,d)=>{const f=d.cycles?o:s;return Ui(l,d.selectors.row).bind(p=>{const b=Ki(p,d.selectors.cell);return _0(b,l).bind(y=>{const _=Ki(a,d.selectors.row);return _0(_,p).bind(E=>{const w=((A,P)=>Se(A,I=>Ki(I,P.selectors.cell)))(_,d);return f(w,E,y).map(A=>A.cell)})})})},zE=Sh((o,s,a)=>SE(o,s,a,-1),(o,s,a)=>i_(o,s,a,-1)),u2=Sh((o,s,a)=>SE(o,s,a,1),(o,s,a)=>i_(o,s,a,1)),TE=Sh((o,s,a)=>d2(o,a,s,-1),(o,s,a)=>EE(o,a,s,-1)),OE=Sh((o,s,a)=>d2(o,a,s,1),(o,s,a)=>EE(o,a,s,1)),AE=ue([On(wn(h0),t_(zE,u2)),On(wn(e_),o_(zE,u2)),On(wn(b0),iE(TE)),On(wn(kh),lE(OE)),On(wn(Ic.concat(gf)),(o,s,a)=>Di(o.element).bind(l=>a.execute(o,s,l)))]),NE=ue([On(wn(Ic),my)]);var FR=Ch(LR,ye.init,AE,NE,()=>O.some(IR));const HR=[Ge("selector"),Ee("execute",fy),Ee("moveOnTab",!1)],RE=(o,s,a)=>a.focusManager.get(o).bind(l=>a.execute(o,s,l)),VR=(o,s,a)=>{Vn(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},DE=(o,s,a)=>s_(o,a.selector,s,-1),kg=(o,s,a)=>s_(o,a.selector,s,1),$R=ue([On(wn(b0),n_(DE)),On(wn(kh),n_(kg)),On(Fc([wh,wn(dp)]),(o,s,a,l)=>a.moveOnTab?n_(DE)(o,s,a,l):O.none()),On(Fc([y0,wn(dp)]),(o,s,a,l)=>a.moveOnTab?n_(kg)(o,s,a,l):O.none()),On(wn(gf),RE),On(wn(Ic),RE)]),UR=ue([On(wn(Ic),my)]);var jR=Ch(HR,ye.init,$R,UR,()=>O.some(VR));const ZR=[di("onSpace"),di("onEnter"),di("onShiftEnter"),di("onLeft"),di("onRight"),di("onTab"),di("onShiftTab"),di("onUp"),di("onDown"),di("onEscape"),Ee("stopSpaceKeyup",!1),Jo("focusIn")];var ME=Ch(ZR,ye.init,(o,s,a)=>[On(wn(Ic),a.onSpace),On(Fc([y0,wn(gf)]),a.onEnter),On(Fc([wh,wn(gf)]),a.onShiftEnter),On(Fc([wh,wn(dp)]),a.onShiftTab),On(Fc([y0,wn(dp)]),a.onTab),On(wn(b0),a.onUp),On(wn(kh),a.onDown),On(wn(h0),a.onLeft),On(wn(e_),a.onRight),On(wn(Ic),a.onSpace)],(o,s,a)=>[...a.stopSpaceKeyup?[On(wn(Ic),my)]:[],On(wn(Qv),a.onEscape)],o=>o.focusIn);const WR=SR.schema(),qR=ER.schema(),BE=PR.schema(),k0=MR.schema(),w0=FR.schema(),GR=zR.schema(),f2=jR.schema(),KR=ME.schema(),Kt=nr({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:WR,cyclic:qR,flow:BE,flatgrid:k0,matrix:w0,execution:GR,menu:f2,special:KR}),name:"keying",active:{events:(o,s)=>o.handler.toEvents(o,s)},apis:{focusIn:(o,s,a)=>{s.sendFocusIn(s).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},l=>{l(o,s,a)})},setGridSize:(o,s,a,l,d)=>{(f=>Io(f,"setGridSize"))(a)?a.setGridSize(l,d):console.error("Layout does not support setGridSize")}},state:TR}),m2=(o,s)=>{dh(()=>{((a,l,d)=>{const f=a.components();(y=>{ot(y.components(),_=>Nl(_.element)),Zs(y.element),y.syncComponents()})(a);const p=d(l),b=en(f,p);ot(b,y=>{Kd(y),a.getSystem().removeFromWorld(y)}),ot(p,y=>{Bc(y)?sy(a,y):(a.getSystem().addToWorld(y),sy(a,y),qn(a.element)&&yg(y))}),a.syncComponents()})(o,s,()=>Se(s,o.getSystem().build))},o.element)},p2=(o,s)=>{dh(()=>{((a,l)=>{const d=a.components(),f=Go(l,y=>Pb(y).toArray());ot(d,y=>{Je(f,y)||vh(y)});const p=((y,_,E)=>fc(y,_,(w,A)=>Wm(y,A,w,E)))(o.element,s,o.getSystem().buildOrPatch),b=en(d,p);ot(b,y=>{Bc(y)&&vh(y)}),ot(p,y=>{Bc(y)||ap(a,y)}),a.syncComponents()})(o,s)},o.element)},YR=(o,s,a,l)=>{vh(s);const d=Wm(o.element,a,l,o.getSystem().buildOrPatch);ap(o,d),o.syncComponents()},g2=(o,s,a)=>{const l=o.getSystem().build(a);ay(o,l,s)},XR=(o,s,a,l)=>{wu(s),g2(o,(d,f)=>((p,b,y)=>{ur(p,y).fold(()=>{ya(p,b)},_=>{Fa(_,b)})})(d,f,a),l)},up=(o,s)=>o.components(),wg=(o,s,a,l,d)=>{const f=up(o);return O.from(f[l]).map(p=>(d.fold(()=>wu(p),b=>{(s.reuseDom?YR:XR)(o,p,l,b)}),p))};var l_=Object.freeze({__proto__:null,append:(o,s,a,l)=>{g2(o,ya,l)},prepend:(o,s,a,l)=>{g2(o,Om,l)},remove:(o,s,a,l)=>{const d=up(o);H(d,p=>yn(l.element,p.element)).each(wu)},replaceAt:wg,replaceBy:(o,s,a,l,d)=>{const f=up(o);return ls(f,l).bind(p=>wg(o,s,0,p,d))},set:(o,s,a,l)=>(s.reuseDom?p2:m2)(o,l),contents:up});const yo=Gt({fields:[ea("reuseDom",!0)],name:"replacing",apis:l_}),wo=(o,s)=>{const a=((l,d)=>{const f=mr(d);return Gt({fields:[Ge("enabled")],name:l,active:{events:ue(f)}})})(o,s);return{key:o,value:{config:{},me:a,configAsRaw:ue({}),initialConfig:{},state:ye}}},fp=(o,s)=>{s.ignore||(Ba(o.element),s.onFocus(o))};var tm=Object.freeze({__proto__:null,focus:fp,blur:(o,s)=>{s.ignore||cg(o.element)},isFocused:o=>fd(o.element)}),h2=Object.freeze({__proto__:null,exhibit:(o,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return k(a)},events:o=>mr([je(Nc(),(s,a)=>{fp(s,o),a.stop()})].concat(o.stopMousedown?[je(Da(),(s,a)=>{a.event.prevent()})]:[]))}),PE=[Bo("onFocus"),Ee("stopMousedown",!1),Ee("ignore",!1)];const ho=Gt({fields:PE,name:"focusing",active:h2,apis:tm}),py=(o,s,a,l)=>{const d=a.get();a.set(l),((f,p,b)=>{p.toggleClass.each(y=>{b.get()?Tr(f.element,y):lr(f.element,y)})})(o,s,a),((f,p,b)=>{const y=p.aria;y.update(f,y,b.get())})(o,s,a),d!==l&&s.onToggled(o,l)},gy=(o,s,a)=>{py(o,s,a,!a.get())},hy=(o,s,a)=>{py(o,s,a,s.selected)};var b2=Object.freeze({__proto__:null,onLoad:hy,toggle:gy,isOn:(o,s,a)=>a.get(),on:(o,s,a)=>{py(o,s,a,!0)},off:(o,s,a)=>{py(o,s,a,!1)},set:py}),LE=Object.freeze({__proto__:null,exhibit:()=>k({}),events:(o,s)=>{const a=(l=o,d=s,f=gy,Wd(b=>{f(b,l,d)}));var l,d,f;const p=T(o,s,hy);return mr(ir([o.toggleOnExecute?[a]:[],[p]]))}});const by=(o,s,a)=>{lo(o.element,"aria-expanded",a)};var c_=[Ee("selected",!1),Jo("toggleClass"),Ee("toggleOnExecute",!0),Bo("onToggled"),wa("aria",{mode:"none"},Ua("mode",{pressed:[Ee("syncWithExpanded",!1),Yr("update",(o,s,a)=>{lo(o.element,"aria-pressed",a),s.syncWithExpanded&&by(o,0,a)})],checked:[Yr("update",(o,s,a)=>{lo(o.element,"aria-checked",a)})],expanded:[Yr("update",by)],selected:[Yr("update",(o,s,a)=>{lo(o.element,"aria-selected",a)})],none:[Yr("update",et)]}))];const Uo=Gt({fields:c_,name:"toggling",active:LE,apis:b2,state:(C0=!1,{init:()=>{const o=Mt(C0);return{get:()=>o.get(),set:s=>o.set(s),clear:()=>o.set(C0),readState:()=>o.get()}}})});var C0;const S0=()=>{const o=(s,a)=>{a.stop(),qi(s)};return[je(Oc(),o),je(ad(),o),lc(Ln()),lc(Da())]},d_=o=>mr(ir([o.map(s=>Wd((a,l)=>{s(a),l.stop()})).toArray(),S0()])),hf="alloy.item-hover",y2="alloy.item-focus",u_="alloy.item-toggled",Eh=o=>{(Di(o.element).isNone()||ho.isFocused(o))&&(ho.isFocused(o)||ho.focus(o),Vt(o,hf,{item:o}))},x2=o=>{Vt(o,y2,{item:o})},E0=ue(hf),JR=ue(y2),IE=ue(u_),FE=o=>o.role.fold(()=>o.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ct),QR=[Ge("data"),Ge("components"),Ge("dom"),Ee("hasSubmenu",!1),Jo("toggling"),Jo("role"),Qe("itemBehaviours",[Uo,ho,Kt,se]),Ee("ignoreFocus",!1),Ee("domModification",{}),Yr("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:FE(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:st(o.itemBehaviours,[o.toggling.fold(Uo.revoke,s=>Uo.config(((a,l)=>({aria:{mode:l?"selected":"checked"},...Fn(a,(d,f)=>f!=="exclusive"),onToggled:(d,f)=>{Yt(a.onToggled)&&a.onToggled(d,f),((p,b)=>{Vt(p,u_,{item:p,state:b})})(d,f)}}))(s,o.role.exists(a=>a==="option")))),ho.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:s=>{x2(s)}}),Kt.config({mode:"execution"}),se.config({store:{mode:"memory",initialValue:o.data}}),wo("item-type-events",[...S0(),je(Oi(),Eh),je(Lm(),ho.focus)])]),components:o.components,eventOrder:o.eventOrder})),Ee("eventOrder",{})],v2=[Ge("dom"),Ge("components"),Yr("builder",o=>({dom:o.dom,components:o.components,events:mr([Pl(Lm())])}))],zu=ue("item-widget"),_2=ue([rl({name:"widget",overrides:o=>({behaviours:xe([se.config({store:{mode:"manual",getValue:s=>o.data,setValue:et}})])})})]),eD=[Ge("uid"),Ge("data"),Ge("components"),Ge("dom"),Ee("autofocus",!1),Ee("ignoreFocus",!1),Qe("widgetBehaviours",[se,ho,Kt]),Ee("domModification",{}),t2(_2()),Yr("builder",o=>{const s=Jw(zu(),o,_2()),a=m0(zu(),o,s.internals()),l=f=>Lr(f,o,"widget").map(p=>(Kt.focusIn(p),p)),d=(f,p)=>(dy(p.event.target)||o.autofocus&&p.setSource(f.element),O.none());return{dom:o.dom,components:a,domModification:o.domModification,events:mr([Wd((f,p)=>{l(f).each(b=>{p.stop()})}),je(Oi(),Eh),je(Lm(),(f,p)=>{o.autofocus?l(f):ho.focus(f)})]),behaviours:st(o.widgetBehaviours,[se.config({store:{mode:"memory",initialValue:o.data}}),ho.config({ignore:o.ignoreFocus,onFocus:f=>{x2(f)}}),Kt.config({mode:"special",focusIn:o.autofocus?f=>{l(f)}:rr(),onLeft:d,onRight:d,onEscape:(f,p)=>ho.isFocused(f)||o.autofocus?(o.autofocus&&p.setSource(f.element),O.none()):(ho.focus(f),O.some(!0))})])}})],HE=Ua("type",{widget:eD,item:QR,separator:v2}),VE=ue([Wv({factory:{sketch:o=>{const s=ka("menu.spec item",HE,o);return s.builder(s)}},name:"items",unit:"item",defaults:(o,s)=>ko(s,"uid")?s:{...s,uid:sg("item")},overrides:(o,s)=>({type:s.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),$E=ue([Zr("role"),Ge("value"),Ge("items"),Ge("dom"),Ge("components"),Ee("eventOrder",{}),ke("menuBehaviours",[$n,se,_n,Kt]),wa("movement",{mode:"menu",moveOnTab:!0},Ua("mode",{grid:[qf(),Yr("config",(o,s)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:o.focusManager}))],matrix:[Yr("config",(o,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+o.markers.item},previousSelector:s.previousSelector,focusManager:o.focusManager})),Ge("rowSelector"),Ee("previousSelector",O.none)],menu:[Ee("moveOnTab",!0),Yr("config",(o,s)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:s.moveOnTab,focusManager:o.focusManager}))]})),Qs("markers",bv()),Ee("fakeFocus",!1),Ee("focusManager",x0()),Bo("onHighlight"),Bo("onDehighlight"),Ee("showMenuRole",!0)]),UE=ue("alloy.menu-focus"),mp=wl({name:"Menu",configFields:$E(),partFields:VE(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Fe(o.menuBehaviours,[$n.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),se.config({store:{mode:"memory",initialValue:o.value}}),_n.config({find:O.some}),Kt.config(o.movement.config(o,o.movement))]),events:mr([je(JR(),(d,f)=>{const p=f.event;d.getSystem().getByDom(p.target).each(b=>{$n.highlight(d,b),f.stop(),Vt(d,UE(),{menu:d,item:b})})}),je(E0(),(d,f)=>{const p=f.event.item;$n.highlight(d,p)}),je(IE(),(d,f)=>{const{item:p,state:b}=f.event;b&&ds(p.element,"role")==="menuitemradio"&&((y,_)=>{const E=Ki(y.element,'[role="menuitemradio"][aria-checked="true"]');ot(E,w=>{yn(w,_.element)||y.getSystem().getByDom(w).each(A=>{Uo.off(A)})})})(d,p)})]),components:s,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),xd=(o,s,a,l)=>ut(a,l).bind(d=>ut(o,d).bind(f=>{const p=xd(o,s,a,f);return O.some([f].concat(p))})).getOr([]),zh=o=>o.type==="prepared"?O.some(o.menu):O.none(),jE=()=>{const o=Mt({}),s=Mt({}),a=Mt({}),l=cn(),d=Mt({}),f=y=>p(y).bind(zh),p=y=>ut(s.get(),y),b=y=>ut(o.get(),y);return{setMenuBuilt:(y,_)=>{s.set({...s.get(),[y]:{type:"prepared",menu:_}})},setContents:(y,_,E,w)=>{l.set(y),o.set(E),s.set(_),d.set(w);const A=((P,I)=>{const Y={};er(P,(Z,te)=>{ot(Z,oe=>{Y[oe]=te})});const G=I,J=Yn(I,(Z,te)=>({k:Z,v:te})),j=Rn(J,(Z,te)=>[te].concat(xd(Y,G,J,te)));return Rn(Y,Z=>ut(j,Z).getOr([Z]))})(w,E);a.set(A)},expand:y=>ut(o.get(),y).map(_=>{const E=ut(a.get(),y).getOr([]);return[_].concat(E)}),refresh:y=>ut(a.get(),y),collapse:y=>ut(a.get(),y).bind(_=>_.length>1?O.some(_.slice(1)):O.none()),lookupMenu:p,lookupItem:b,otherMenus:y=>{const _=d.get();return en(Wo(_),y)},getPrimary:()=>l.get().bind(f),getMenus:()=>s.get(),clear:()=>{o.set({}),s.set({}),a.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(y,_)=>{const E=Eo(b(y).toArray(),w=>f(w).isSome());return ut(a.get(),y).bind(w=>{const A=dl(E.concat(w));return(P=>{const I=[];for(let Y=0;Y<P.length;Y++){const G=P[Y];if(!G.isSome())return O.none();I.push(G.getOrDie())}return O.some(I)})(Go(A,(P,I)=>((Y,G,J)=>f(Y).bind(j=>(Z=>Yo(o.get(),(te,oe)=>te===Z))(Y).bind(Z=>G(Z).map(te=>({triggeredMenu:j,triggeringItem:te,triggeringPath:J})))))(P,_,A.slice(0,I+1)).fold(()=>Xs(l.get(),P)?[]:[O.none()],Y=>[O.some(Y)])))})}}},yy=zh,Hl=wt("tiered-menu-item-highlight"),bc=wt("tiered-menu-item-dehighlight");var is;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(is||(is={}));const Tu=ue("collapse-item"),pp=yd({name:"TieredMenu",configFields:[L1("onExecute"),L1("onEscape"),rf("onOpenMenu"),rf("onOpenSubmenu"),Bo("onRepositionMenu"),Bo("onCollapseMenu"),Ee("highlightOnOpen",is.HighlightMenuAndItem),gl("data",[Ge("primary"),Ge("menus"),Ge("expansions")]),Ee("fakeFocus",!1),Bo("onHighlightItem"),Bo("onDehighlightItem"),Bo("onHover"),nh(),Ge("dom"),Ee("navigateOnHover",!0),Ee("stayInDom",!1),ke("tmenuBehaviours",[Kt,$n,_n,yo]),Ee("eventOrder",{})],apis:{collapseMenu:(o,s)=>{o.collapseMenu(s)},highlightPrimary:(o,s)=>{o.highlightPrimary(s)},repositionMenus:(o,s)=>{o.repositionMenus(s)}},factory:(o,s)=>{const a=cn(),l=jE(),d=Z=>se.getValue(Z).value,f=Z=>Rn(o.data.menus,(te,oe)=>Go(te.items,ce=>ce.type==="separator"?[]:[ce.data.value])),p=$n.highlight,b=(Z,te)=>{p(Z,te),$n.getHighlighted(te).orThunk(()=>$n.getFirst(te)).each(oe=>{o.fakeFocus?$n.highlight(te,oe):Yu(Z,oe.element,Lm())})},y=(Z,te)=>hi(Se(te,oe=>Z.lookupMenu(oe).bind(ce=>ce.type==="prepared"?O.some(ce.menu):O.none()))),_=(Z,te,oe)=>{const ce=y(te,te.otherMenus(oe));ot(ce,be=>{li(be.element,[o.markers.backgroundMenu]),o.stayInDom||yo.remove(Z,be)})},E=(Z,te)=>{const oe=(ce=>a.get().getOrThunk(()=>{const be={},we=Ki(ce.element,`.${o.markers.item}`),Ae=Eo(we,Ue=>ds(Ue,"aria-haspopup")==="true");return ot(Ae,Ue=>{ce.getSystem().getByDom(Ue).each($e=>{const Ye=d($e);be[Ye]=$e})}),a.set(be),be}))(Z);er(oe,(ce,be)=>{const we=Je(te,be);lo(ce.element,"aria-expanded",we)})},w=(Z,te,oe)=>O.from(oe[0]).bind(ce=>te.lookupMenu(ce).bind(be=>{if(be.type==="notbuilt")return O.none();{const we=be.menu,Ae=y(te,oe.slice(1));return ot(Ae,Ue=>{Tr(Ue.element,o.markers.backgroundMenu)}),qn(we.element)||yo.append(Z,Ll(we)),li(we.element,[o.markers.backgroundMenu]),b(Z,we),_(Z,te,oe),O.some(we)}}));let A;(function(Z){Z[Z.HighlightSubmenu=0]="HighlightSubmenu",Z[Z.HighlightParent=1]="HighlightParent"})(A||(A={}));const P=(Z,te,oe=A.HighlightSubmenu)=>{if(te.hasConfigured(Wt)&&Wt.isDisabled(te))return O.some(te);{const ce=d(te);return l.expand(ce).bind(be=>(E(Z,be),O.from(be[0]).bind(we=>l.lookupMenu(we).bind(Ae=>{const Ue=(($e,Ye,mt)=>{if(mt.type==="notbuilt"){const $t=$e.getSystem().build(mt.nbMenu());return l.setMenuBuilt(Ye,$t),$t}return mt.menu})(Z,we,Ae);return qn(Ue.element)||yo.append(Z,Ll(Ue)),o.onOpenSubmenu(Z,te,Ue,dl(be)),oe===A.HighlightSubmenu?($n.highlightFirst(Ue),w(Z,l,be)):($n.dehighlightAll(Ue),O.some(te))}))))}},I=(Z,te)=>{const oe=d(te);return l.collapse(oe).bind(ce=>(E(Z,ce),w(Z,l,ce).map(be=>(o.onCollapseMenu(Z,te,be),be))))},Y=Z=>(te,oe)=>Ui(oe.getSource(),`.${o.markers.item}`).bind(ce=>te.getSystem().getByDom(ce).toOptional().bind(be=>Z(te,be).map(jt))),G=mr([je(UE(),(Z,te)=>{const oe=te.event.item;l.lookupItem(d(oe)).each(()=>{const ce=te.event.menu;$n.highlight(Z,ce);const be=d(te.event.item);l.refresh(be).each(we=>_(Z,l,we))})}),Wd((Z,te)=>{const oe=te.event.target;Z.getSystem().getByDom(oe).each(ce=>{d(ce).indexOf("collapse-item")===0&&I(Z,ce),P(Z,ce,A.HighlightSubmenu).fold(()=>{o.onExecute(Z,ce)},et)})}),Jn((Z,te)=>{(oe=>{const ce=((we,Ae,Ue)=>Rn(Ue,($e,Ye)=>{const mt=()=>mp.sketch({...$e,value:Ye,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:($t,Xt)=>{Vt($t,Hl,{menuComp:$t,itemComp:Xt})},onDehighlight:($t,Xt)=>{Vt($t,bc,{menuComp:$t,itemComp:Xt})},focusManager:o.fakeFocus?CR():x0()});return Ye===Ae?{type:"prepared",menu:we.getSystem().build(mt())}:{type:"notbuilt",nbMenu:mt}}))(oe,o.data.primary,o.data.menus),be=f();return l.setContents(o.data.primary,ce,o.data.expansions,be),l.getPrimary()})(Z).each(oe=>{yo.append(Z,Ll(oe)),o.onOpenMenu(Z,oe),o.highlightOnOpen===is.HighlightMenuAndItem?b(Z,oe):o.highlightOnOpen===is.HighlightJustMenu&&p(Z,oe)})}),je(Hl,(Z,te)=>{o.onHighlightItem(Z,te.event.menuComp,te.event.itemComp)}),je(bc,(Z,te)=>{o.onDehighlightItem(Z,te.event.menuComp,te.event.itemComp)}),...o.navigateOnHover?[je(E0(),(Z,te)=>{const oe=te.event.item;((ce,be)=>{const we=d(be);l.refresh(we).bind(Ae=>(E(ce,Ae),w(ce,l,Ae)))})(Z,oe),P(Z,oe,A.HighlightParent),o.onHover(Z,oe)})]:[]]),J=Z=>$n.getHighlighted(Z).bind($n.getHighlighted),j={collapseMenu:Z=>{J(Z).each(te=>{I(Z,te)})},highlightPrimary:Z=>{l.getPrimary().each(te=>{b(Z,te)})},repositionMenus:Z=>{l.getPrimary().bind(oe=>J(Z).bind(ce=>{const be=d(ce),we=Ys(l.getMenus()),Ae=hi(Se(we,yy));return l.getTriggeringPath(be,Ue=>(($e,Ye,mt)=>mo(Ye,$t=>{if(!$t.getSystem().isConnected())return O.none();const Xt=$n.getCandidates($t);return H(Xt,so=>d(so)===mt)}))(0,Ae,Ue))}).map(ce=>({primary:oe,triggeringPath:ce}))).fold(()=>{(oe=>O.from(oe.components()[0]).filter(ce=>ds(ce.element,"role")==="menu"))(Z).each(oe=>{o.onRepositionMenu(Z,oe,[])})},({primary:oe,triggeringPath:ce})=>{o.onRepositionMenu(Z,oe,ce)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Fe(o.tmenuBehaviours,[Kt.config({mode:"special",onRight:Y((Z,te)=>dy(te.element)?O.none():P(Z,te,A.HighlightSubmenu)),onLeft:Y((Z,te)=>dy(te.element)?O.none():I(Z,te)),onEscape:Y((Z,te)=>I(Z,te).orThunk(()=>o.onEscape(Z,te).map(()=>Z))),focusIn:(Z,te)=>{l.getPrimary().each(oe=>{Yu(Z,oe.element,Lm())})}}),$n.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),_n.config({find:Z=>$n.getHighlighted(Z)}),yo.config({})]),eventOrder:o.eventOrder,apis:j,events:G}},extraApis:{tieredData:(o,s,a)=>({primary:o,menus:s,expansions:a}),singleData:(o,s)=>({primary:o,menus:M(o,s),expansions:{}}),collapseItem:o=>({value:wt(Tu()),meta:{text:o}})}}),Kn=yd({name:"InlineView",configFields:[Ge("lazySink"),Bo("onShow"),Bo("onHide"),Na("onEscape"),ke("inlineBehaviours",[xn,se,Il]),dn("fireDismissalEventInstead",[Ee("event",Gu())]),dn("fireRepositionEventInstead",[Ee("event",ic())]),Ee("getRelated",O.none),Ee("isExtraPart",Le),Ee("eventOrder",O.none)],factory:(o,s)=>{const a=(p,b,y,_)=>{const E=o.lazySink(p).getOrDie();xn.openWhileCloaked(p,b,()=>hs.positionWithinBounds(E,p,y,_())),se.setValue(p,O.some({mode:"position",config:y,getBounds:_}))},l=(p,b,y,_)=>{const E=((w,A,P,I,Y)=>{const G=()=>w.lazySink(A),J=I.type==="horizontal"?{layouts:{onLtr:()=>Ub(),onRtl:()=>jb()}}:{},j=Z=>(te=>te.length===2)(Z)?J:{};return pp.sketch({dom:{tag:"div"},data:I.data,markers:I.menu.markers,highlightOnOpen:I.menu.highlightOnOpen,fakeFocus:I.menu.fakeFocus,onEscape:()=>(xn.close(A),w.onEscape.map(Z=>Z(A)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(Z,te)=>{hs.positionWithinBounds(G().getOrDie(),te,P,Y())},onOpenSubmenu:(Z,te,oe,ce)=>{const be=G().getOrDie();hs.position(be,oe,{anchor:{type:"submenu",item:te,...j(ce)}})},onRepositionMenu:(Z,te,oe)=>{const ce=G().getOrDie();hs.positionWithinBounds(ce,te,P,Y()),ot(oe,be=>{const we=j(be.triggeringPath);hs.position(ce,be.triggeredMenu,{anchor:{type:"submenu",item:be.triggeringItem,...we}})})}})})(o,p,b,y,_);xn.open(p,E),se.setValue(p,O.some({mode:"menu",menu:E}))},d=p=>{xn.isOpen(p)&&se.getValue(p).each(b=>{switch(b.mode){case"menu":xn.getState(p).each(pp.repositionMenus);break;case"position":const y=o.lazySink(p).getOrDie();hs.positionWithinBounds(y,p,b.config,b.getBounds())}})},f={setContent:(p,b)=>{xn.setContent(p,b)},showAt:(p,b,y)=>{const _=O.none;a(p,b,y,_)},showWithinBounds:a,showMenuAt:(p,b,y)=>{l(p,b,y,O.none)},showMenuWithinBounds:l,hide:p=>{xn.isOpen(p)&&(se.setValue(p,O.none()),xn.close(p))},getContent:p=>xn.getState(p),reposition:d,isOpen:xn.isOpen};return{uid:o.uid,dom:o.dom,behaviours:Fe(o.inlineBehaviours,[xn.config({isPartOf:(p,b,y)=>qm(b,y)||((_,E)=>o.getRelated(_).exists(w=>qm(w,E)))(p,y),getAttachPoint:p=>o.lazySink(p).getOrDie(),onOpen:p=>{o.onShow(p)},onClose:p=>{o.onHide(p)}}),se.config({store:{mode:"memory",initialValue:O.none()}}),Il.config({channels:{...f0({isExtraPart:s.isExtraPart,...o.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...h({...o.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:d})}})]),eventOrder:o.eventOrder,apis:f}},apis:{showAt:(o,s,a,l)=>{o.showAt(s,a,l)},showWithinBounds:(o,s,a,l,d)=>{o.showWithinBounds(s,a,l,d)},showMenuAt:(o,s,a,l)=>{o.showMenuAt(s,a,l)},showMenuWithinBounds:(o,s,a,l,d)=>{o.showMenuWithinBounds(s,a,l,d)},hide:(o,s)=>{o.hide(s)},isOpen:(o,s)=>o.isOpen(s),getContent:(o,s)=>o.getContent(s),setContent:(o,s,a)=>{o.setContent(s,a)},reposition:(o,s)=>{o.reposition(s)}}});var sl,z0,f_=tinymce.util.Tools.resolve("tinymce.util.Delay"),T0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ZE=tinymce.util.Tools.resolve("tinymce.EditorManager"),Th=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(sl||(sl={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(z0||(z0={}));const Qn=o=>s=>s.options.get(o),xy=o=>s=>O.from(o(s)),WE=o=>{const s=Th.deviceType.isPhone(),a=Th.deviceType.isTablet()||s,l=o.options.register,d=p=>Ot(p)||p===!1,f=p=>Ot(p)||sn(p);l("skin",{processor:p=>Ot(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:f,default:Math.max(o.getElement().offsetHeight,400)}),l("width",{processor:f,default:T0.DOM.getStyle(o.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>Ot(p)||bn(p),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>bn(p)||Ot(p)||uo(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Li(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:z0.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:o.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:d,default:"#top"}),l("anchor_bottom",{processor:d,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||bn(p),default:!Th.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},qE=Qn("readonly"),m_=Qn("disabled"),k2=Qn("height"),p_=Qn("width"),g_=xy(Qn("min_width")),O0=xy(Qn("min_height")),A0=xy(Qn("max_width")),w2=xy(Qn("max_height")),GE=xy(Qn("style_formats")),KE=Qn("style_formats_merge"),YE=Qn("style_formats_autohide"),XE=Qn("content_langs"),JE=Qn("removed_menuitems"),Cl=Qn("toolbar_mode"),tD=Qn("toolbar_groups"),vy=Qn("toolbar_location"),Oh=Qn("fixed_toolbar_container"),C2=Qn("fixed_toolbar_container_target"),h_=Qn("toolbar_persist"),QE=Qn("toolbar_sticky_offset"),ez=Qn("menubar"),b_=Qn("toolbar"),tz=Qn("file_picker_callback"),S2=Qn("file_picker_validator_handler"),Ah=Qn("font_size_input_default_unit"),_y=Qn("file_picker_types"),oz=Qn("typeahead_urls"),nz=Qn("anchor_top"),E2=Qn("anchor_bottom"),y_=Qn("draggable_modal"),x_=Qn("statusbar"),v_=Qn("elementpath"),ky=Qn("branding"),__=Qn("resize"),z2=Qn("paste_as_text"),wy=Qn("sidebar_show"),k_=Qn("promotion"),rz=Qn("help_accessibility"),T2=Qn("default_font_stack"),sz=Qn("skin"),w_=o=>o.options.get("skin")===!1,Cy=o=>o.options.get("menubar")!==!1,Nh=o=>{const s=o.options.get("skin_url");if(w_(o))return s;if(s)return o.documentBaseURI.toAbsolute(s);{const a=o.options.get("skin");return ZE.baseURL+"/skins/ui/"+a}},C_=o=>o.options.get("line_height_formats").split(" "),S_=o=>{const s=b_(o),a=Ot(s),l=uo(s)&&s.length>0;return!Sy(o)&&(l||a||s===!0)},O2=o=>{const s=Li(9,l=>o.options.get("toolbar"+(l+1))),a=Eo(s,Ot);return Fo(a.length>0,a)},Sy=o=>O2(o).fold(()=>{const s=b_(o);return Nn(s,Ot)&&s.length>0},jt),om=o=>vy(o)===z0.bottom,E_=o=>{var s;if(!o.inline)return O.none();const a=(s=Oh(o))!==null&&s!==void 0?s:"";if(a.length>0)return Vn(ha(),a);const l=C2(o);return Ht(l)?O.some(_t(l)):O.none()},Cg=o=>o.inline&&E_(o).isSome(),Ey=o=>E_(o).getOrThunk(()=>yr(cs(_t(o.getElement())))),z_=o=>o.inline&&!Cy(o)&&!S_(o)&&!Sy(o),gp=o=>(o.options.get("toolbar_sticky")||o.inline)&&!Cg(o)&&!z_(o),nm=o=>!Cg(o)&&o.options.get("ui_mode")==="split",az=o=>{const s=o.options.get("menu");return Rn(s,a=>({...a,items:a.items}))};var oD=Object.freeze({__proto__:null,get ToolbarMode(){return sl},get ToolbarLocation(){return z0},register:WE,getSkinUrl:Nh,getSkinUrlOption:o=>O.from(o.options.get("skin_url")),isReadOnly:qE,isDisabled:m_,getSkin:sz,isSkinDisabled:w_,getHeightOption:k2,getWidthOption:p_,getMinWidthOption:g_,getMinHeightOption:O0,getMaxWidthOption:A0,getMaxHeightOption:w2,getUserStyleFormats:GE,shouldMergeStyleFormats:KE,shouldAutoHideStyleFormats:YE,getLineHeightFormats:C_,getContentLanguages:XE,getRemovedMenuItems:JE,isMenubarEnabled:Cy,isMultipleToolbars:Sy,isToolbarEnabled:S_,isToolbarPersist:h_,getMultipleToolbarsOption:O2,getUiContainer:Ey,useFixedContainer:Cg,isSplitUiMode:nm,getToolbarMode:Cl,isDraggableModal:y_,isDistractionFree:z_,isStickyToolbar:gp,getStickyToolbarOffset:QE,getToolbarLocation:vy,isToolbarLocationBottom:om,getToolbarGroups:tD,getMenus:az,getMenubar:ez,getToolbar:b_,getFilePickerCallback:tz,getFilePickerTypes:_y,useTypeaheadUrls:oz,getAnchorTop:nz,getAnchorBottom:E2,getFilePickerValidatorHandler:S2,getFontSizeInputDefaultUnit:Ah,useStatusBar:x_,useElementPath:v_,promotionEnabled:k_,useBranding:ky,getResize:__,getPasteAsText:z2,getSidebarShow:wy,useHelpAccessibility:rz,getDefaultFontStack:T2});const rm=["visible","hidden","clip"],iz=o=>Ji(o).length>0&&!Je(rm,o),lz=o=>{if(Fi(o)){const s=Us(o,"overflow-x"),a=Us(o,"overflow-y");return iz(s)||iz(a)}return!1},vd=o=>o.plugins.fullscreen&&o.plugins.fullscreen.isFullscreen(),Bs=(o,s)=>nm(o)?((a,l)=>{const d=mg(l,lz),f=d.length===0?vi(l).map($s).map(p=>mg(p,lz)).getOr([]):d;return it(f).map(p=>({element:p,others:f.slice(1),isFullscreen:()=>vd(a)}))})(o,s):O.none(),Rh=o=>{const s=[...Se(o.others,Ns),Cs()];return o.isFullscreen()?Cs():((a,l)=>fo(l,(d,f)=>Rs(d,f),a))(Ns(o.element),s)},qa=yd({name:"Button",factory:o=>{const s=d_(o.action),a=o.dom.tag,l=d=>ut(o.dom,"attributes").bind(f=>ut(f,d));return{uid:o.uid,dom:o.dom,components:o.components,events:s,behaviours:st(o.buttonBehaviours,[ho.config({}),Kt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:a==="button"?{type:l("type").getOr("button"),...l("role").map(d=>({role:d})).getOr({})}:{role:o.role.getOr(l("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Ee("uid",void 0),Ge("dom"),Ee("components",[]),Qe("buttonBehaviours",[ho,Kt]),Jo("action"),Jo("role"),Ee("eventOrder",{})]}),hp=o=>{const s=Ya(o),a=br(s),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return fo(b,(y,_)=>_.name==="class"?y:{...y,[_.name]:_.value},{})})(s),d=(p=>Array.prototype.slice.call(p.dom.classList,0))(s),f=a.length===0?{}:{innerHtml:oh(s)};return{tag:Ia(s),classes:d,attributes:l,...f}},Bn=o=>{const s=(a=>a.uid!==void 0)(o)&&Io(o,"uid")?o.uid:sg("memento");return{get:a=>a.getSystem().getByUid(s).getOrDie(),getOpt:a=>a.getSystem().getByUid(s).toOptional(),asSpec:()=>({...o,uid:s})}};var A2=Object.freeze({__proto__:null,exhibit:(o,s)=>k({attributes:U([{key:s.tabAttr,value:"true"}])})}),zy=[Ee("tabAttr","data-alloy-tabstop")];const _r=Gt({fields:zy,name:"tabstopping",active:A2}),N2=wt("tooltip.exclusive"),N0=wt("tooltip.show"),R0=wt("tooltip.hide"),Ty=wt("tooltip.immediateHide"),Oy=wt("tooltip.immediateShow"),cz=(o,s,a)=>{o.getSystem().broadcastOn([N2],{})};var nD=Object.freeze({__proto__:null,hideAllExclusive:cz,immediateOpenClose:(o,s,a,l)=>Vo(o,l?Oy:Ty),isEnabled:(o,s,a)=>a.isEnabled(),setComponents:(o,s,a,l)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&yo.set(d,l)})},setEnabled:(o,s,a,l)=>a.setEnabled(l)}),dz=Object.freeze({__proto__:null,events:(o,s)=>{const a=f=>{s.getTooltip().each(p=>{p.getSystem().isConnected()&&(wu(p),o.onHide(f,p),s.clearTooltip())}),s.clearTimer()},l=f=>{if(!s.isShowing()&&s.isEnabled()){cz(f);const p=o.lazySink(f).getOrDie(),b=f.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:mr(o.mode==="normal"?[je(Oi(),y=>{Vo(f,N0)}),je(Ud(),y=>{Vo(f,R0)})]:[]),behaviours:xe([yo.config({})])});s.setTooltip(b),em(p,b),o.onShow(f,b),hs.position(p,b,{anchor:o.anchor(f)})}},d=f=>{s.getTooltip().each(p=>{const b=o.lazySink(f).getOrDie();hs.position(b,p,{anchor:o.anchor(f)})})};return mr(ir([[ef(f=>{o.onSetup(f)}),je(N0,f=>{s.resetTimer(()=>{l(f)},o.delayForShow())}),je(R0,f=>{s.resetTimer(()=>{a(f)},o.delayForHide())}),je(Oy,f=>{s.resetTimer(()=>{l(f)},0)}),je(Ty,f=>{s.resetTimer(()=>{a(f)},0)}),je(At(),(f,p)=>{const b=p;b.universal||Je(b.channels,N2)&&a(f)}),zr(f=>{a(f)})],(()=>{switch(o.mode){case"normal":return[je(hl(),f=>{Vo(f,Oy)}),je(bl(),f=>{Vo(f,Ty)}),je(Oi(),f=>{Vo(f,N0)}),je(Ud(),f=>{Vo(f,R0)})];case"follow-highlight":return[je(vr(),(f,p)=>{Vo(f,N0)}),je(Fm(),f=>{Vo(f,R0)})];case"children-normal":return[je(hl(),(f,p)=>{Di(f.element).each(b=>{Hi(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Vo(f,Oy)},y=>{s.isShowing()&&(o.onShow(f,y),d(f))})})}),je(bl(),f=>{Di(f.element).fold(()=>{Vo(f,Ty)},et)}),je(Oi(),f=>{Vn(f.element,"[data-mce-tooltip]:hover").each(p=>{s.getTooltip().fold(()=>{Vo(f,N0)},b=>{s.isShowing()&&(o.onShow(f,b),d(f))})})}),je(Ud(),f=>{Vn(f.element,"[data-mce-tooltip]:hover").fold(()=>{Vo(f,R0)},et)})];default:return[je(hl(),(f,p)=>{Di(f.element).each(b=>{Hi(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Vo(f,Oy)},y=>{s.isShowing()&&(o.onShow(f,y),d(f))})})}),je(bl(),f=>{Di(f.element).fold(()=>{Vo(f,Ty)},et)})]}})()]))}}),uz=[Ge("lazySink"),Ge("tooltipDom"),Ee("exclusive",!0),Ee("tooltipComponents",[]),Xn("delayForShow",ue(300)),Xn("delayForHide",ue(100)),Xn("onSetup",et),Ca("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ee("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:ue([gs,vs,Ts,Za,Ms,da]),onRtl:ue([gs,vs,Ts,Za,Ms,da])},bubble:_l(0,-2,{})})),Bo("onHide"),Bo("onShow")],fz=Object.freeze({__proto__:null,init:()=>{const o=Mt(!0),s=cn(),a=cn(),l=()=>{s.on(clearTimeout)},d=ue("not-implemented");return Ie({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:l,resetTimer:(f,p)=>{l(),s.set(setTimeout(f,p))},readState:d,isEnabled:()=>o.get(),setEnabled:f=>o.set(f)})}});const Xr=Gt({fields:uz,name:"tooltipping",active:dz,state:fz,apis:nD}),{entries:D0,setPrototypeOf:R2,isFrozen:Dh,getPrototypeOf:M0,getOwnPropertyDescriptor:rD}=Object;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:Hc,seal:Ou,create:mz}=Object,{apply:T_,construct:D2}=typeof Reflect<"u"&&Reflect;Hc||(Hc=function(o){return o}),Ou||(Ou=function(o){return o}),T_||(T_=function(o,s,a){return o.apply(s,a)}),D2||(D2=function(o,s){return new o(...s)});const B0=Vc(Array.prototype.forEach),sD=Vc(Array.prototype.lastIndexOf),pz=Vc(Array.prototype.pop),Ay=Vc(Array.prototype.push),P0=Vc(Array.prototype.splice),L0=Vc(String.prototype.toLowerCase),O_=Vc(String.prototype.toString),M2=Vc(String.prototype.match),Ny=Vc(String.prototype.replace),B2=Vc(String.prototype.indexOf),aD=Vc(String.prototype.trim),sm=Vc(Object.prototype.hasOwnProperty),yc=Vc(RegExp.prototype.test),Mh=(gz=TypeError,function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return D2(gz,s)});var gz;function Vc(o){return function(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return T_(o,s,l)}}function Ir(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L0;R2&&R2(o,null);let l=s.length;for(;l--;){let d=s[l];if(typeof d=="string"){const f=a(d);f!==d&&(Dh(s)||(s[l]=f),d=f)}o[d]=!0}return o}function iD(o){for(let s=0;s<o.length;s++)sm(o,s)||(o[s]=null);return o}function Bh(o){const s=mz(null);for(const[a,l]of D0(o))sm(o,a)&&(Array.isArray(l)?s[a]=iD(l):l&&typeof l=="object"&&l.constructor===Object?s[a]=Bh(l):s[a]=l);return s}function Xd(o,s){for(;o!==null;){const a=rD(o,s);if(a){if(a.get)return Vc(a.get);if(typeof a.value=="function")return Vc(a.value)}o=M0(o)}return function(){return null}}const I0=Hc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),P2=Hc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L2=Hc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),lD=Hc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I2=Hc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),cD=Hc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hz=Hc(["#text"]),bz=Hc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Sg=Hc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F2=Hc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),A_=Hc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yz=Ou(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xz=Ou(/<%[\w\W]*|[\w\W]*%>/gm),dD=Ou(/\$\{[\w\W]*/gm),uD=Ou(/^data-[\-\w.\u00B7-\uFFFF]+$/),fD=Ou(/^aria-[\-\w]+$/),vz=Ou(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mD=Ou(/^(?:\w+script|data):/i),pD=Ou(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),F0=Ou(/^html$/i),H2=Ou(/^[a-z][.\w]*(-[.\w]+)+$/i);var _z=Object.freeze({__proto__:null,ARIA_ATTR:fD,ATTR_WHITESPACE:pD,CUSTOM_ELEMENT:H2,DATA_ATTR:uD,DOCTYPE_NAME:F0,ERB_EXPR:xz,IS_ALLOWED_URI:vz,IS_SCRIPT_OR_DATA:mD,MUSTACHE_EXPR:yz,TMPLIT_EXPR:dD});const EP=function(){return typeof window>"u"?null:window};var kz=function o(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EP();const a=Te=>o(Te);if(a.version="3.2.4",a.removed=[],!s||!s.document||s.document.nodeType!==9||!s.Element)return a.isSupported=!1,a;let{document:l}=s;const d=l,f=d.currentScript,{DocumentFragment:p,HTMLTemplateElement:b,Node:y,Element:_,NodeFilter:E,NamedNodeMap:w=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:A,DOMParser:P,trustedTypes:I}=s,Y=_.prototype,G=Xd(Y,"cloneNode"),J=Xd(Y,"remove"),j=Xd(Y,"nextSibling"),Z=Xd(Y,"childNodes"),te=Xd(Y,"parentNode");if(typeof b=="function"){const Te=l.createElement("template");Te.content&&Te.content.ownerDocument&&(l=Te.content.ownerDocument)}let oe,ce="";const{implementation:be,createNodeIterator:we,createDocumentFragment:Ae,getElementsByTagName:Ue}=l,{importNode:$e}=d;let Ye={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};a.isSupported=typeof D0=="function"&&typeof te=="function"&&be&&be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:mt,ERB_EXPR:$t,TMPLIT_EXPR:Xt,DATA_ATTR:so,ARIA_ATTR:jo,IS_SCRIPT_OR_DATA:pr,ATTR_WHITESPACE:Qr,CUSTOM_ELEMENT:An}=_z;let{IS_ALLOWED_URI:ln}=_z,Jt=null;const gr=Ir({},[...I0,...P2,...L2,...I2,...hz]);let Un=null;const na=Ir({},[...bz,...Sg,...F2,...A_]);let sr=Object.seal(mz(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ra=null,Ta=null,Hp=!0,pb=!0,ww=!1,Cw=!0,Vp=!1,Lg=!0,vm=!1,y1=!1,gb=!1,_m=!1,hb=!1,$p=!1,nv=!0,rv=!1,x1=!0,Ig=!1,km={},kn=null;const Fg=Ir({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zf=null;const p3=Ir({},["audio","video","img","source","image","track"]);let Sw=null;const mN=Ir({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ew="http://www.w3.org/1998/Math/MathML",sv="http://www.w3.org/2000/svg",Up="http://www.w3.org/1999/xhtml";let v1=Up,vo=!1,bb=null;const pN=Ir({},[Ew,sv,Up],O_);let av=Ir({},["mi","mo","mn","ms","mtext"]),iv=Ir({},["annotation-xml"]);const gN=Ir({},["title","style","font","a","script"]);let _1=null;const TP=["application/xhtml+xml","text/html"];let fi=null,k1=null;const hN=l.createElement("form"),bN=function(Te){return Te instanceof RegExp||Te instanceof Function},g3=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!k1||k1!==Te){if(Te&&typeof Te=="object"||(Te={}),Te=Bh(Te),_1=TP.indexOf(Te.PARSER_MEDIA_TYPE)===-1?"text/html":Te.PARSER_MEDIA_TYPE,fi=_1==="application/xhtml+xml"?O_:L0,Jt=sm(Te,"ALLOWED_TAGS")?Ir({},Te.ALLOWED_TAGS,fi):gr,Un=sm(Te,"ALLOWED_ATTR")?Ir({},Te.ALLOWED_ATTR,fi):na,bb=sm(Te,"ALLOWED_NAMESPACES")?Ir({},Te.ALLOWED_NAMESPACES,O_):pN,Sw=sm(Te,"ADD_URI_SAFE_ATTR")?Ir(Bh(mN),Te.ADD_URI_SAFE_ATTR,fi):mN,zf=sm(Te,"ADD_DATA_URI_TAGS")?Ir(Bh(p3),Te.ADD_DATA_URI_TAGS,fi):p3,kn=sm(Te,"FORBID_CONTENTS")?Ir({},Te.FORBID_CONTENTS,fi):Fg,ra=sm(Te,"FORBID_TAGS")?Ir({},Te.FORBID_TAGS,fi):{},Ta=sm(Te,"FORBID_ATTR")?Ir({},Te.FORBID_ATTR,fi):{},km=!!sm(Te,"USE_PROFILES")&&Te.USE_PROFILES,Hp=Te.ALLOW_ARIA_ATTR!==!1,pb=Te.ALLOW_DATA_ATTR!==!1,ww=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,Cw=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Vp=Te.SAFE_FOR_TEMPLATES||!1,Lg=Te.SAFE_FOR_XML!==!1,vm=Te.WHOLE_DOCUMENT||!1,_m=Te.RETURN_DOM||!1,hb=Te.RETURN_DOM_FRAGMENT||!1,$p=Te.RETURN_TRUSTED_TYPE||!1,gb=Te.FORCE_BODY||!1,nv=Te.SANITIZE_DOM!==!1,rv=Te.SANITIZE_NAMED_PROPS||!1,x1=Te.KEEP_CONTENT!==!1,Ig=Te.IN_PLACE||!1,ln=Te.ALLOWED_URI_REGEXP||vz,v1=Te.NAMESPACE||Up,av=Te.MATHML_TEXT_INTEGRATION_POINTS||av,iv=Te.HTML_INTEGRATION_POINTS||iv,sr=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&bN(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(sr.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&bN(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(sr.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(sr.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Vp&&(pb=!1),hb&&(_m=!0),km&&(Jt=Ir({},hz),Un=[],km.html===!0&&(Ir(Jt,I0),Ir(Un,bz)),km.svg===!0&&(Ir(Jt,P2),Ir(Un,Sg),Ir(Un,A_)),km.svgFilters===!0&&(Ir(Jt,L2),Ir(Un,Sg),Ir(Un,A_)),km.mathMl===!0&&(Ir(Jt,I2),Ir(Un,F2),Ir(Un,A_))),Te.ADD_TAGS&&(Jt===gr&&(Jt=Bh(Jt)),Ir(Jt,Te.ADD_TAGS,fi)),Te.ADD_ATTR&&(Un===na&&(Un=Bh(Un)),Ir(Un,Te.ADD_ATTR,fi)),Te.ADD_URI_SAFE_ATTR&&Ir(Sw,Te.ADD_URI_SAFE_ATTR,fi),Te.FORBID_CONTENTS&&(kn===Fg&&(kn=Bh(kn)),Ir(kn,Te.FORBID_CONTENTS,fi)),x1&&(Jt["#text"]=!0),vm&&Ir(Jt,["html","head","body"]),Jt.table&&(Ir(Jt,["tbody"]),delete ra.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw Mh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Mh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=Te.TRUSTED_TYPES_POLICY,ce=oe.createHTML("")}else oe===void 0&&(oe=function(Zo,xo){if(typeof Zo!="object"||typeof Zo.createPolicy!="function")return null;let es=null;const ks="data-tt-policy-suffix";xo&&xo.hasAttribute(ks)&&(es=xo.getAttribute(ks));const Nr="dompurify"+(es?"#"+es:"");try{return Zo.createPolicy(Nr,{createHTML:ll=>ll,createScriptURL:ll=>ll})}catch{return console.warn("TrustedTypes policy "+Nr+" could not be created."),null}}(I,f)),oe!==null&&typeof ce=="string"&&(ce=oe.createHTML(""));Hc&&Hc(Te),k1=Te}},yN=Ir({},[...P2,...L2,...lD]),h3=Ir({},[...I2,...cD]),Fu=function(Te){Ay(a.removed,{element:Te});try{te(Te).removeChild(Te)}catch{J(Te)}},w1=function(Te,Zo){try{Ay(a.removed,{attribute:Zo.getAttributeNode(Te),from:Zo})}catch{Ay(a.removed,{attribute:null,from:Zo})}if(Zo.removeAttribute(Te),Te==="is")if(_m||hb)try{Fu(Zo)}catch{}else try{Zo.setAttribute(Te,"")}catch{}},xN=function(Te){let Zo=null,xo=null;if(gb)Te="<remove></remove>"+Te;else{const Nr=M2(Te,/^[\r\n\t ]+/);xo=Nr&&Nr[0]}_1==="application/xhtml+xml"&&v1===Up&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const es=oe?oe.createHTML(Te):Te;if(v1===Up)try{Zo=new P().parseFromString(es,_1)}catch{}if(!Zo||!Zo.documentElement){Zo=be.createDocument(v1,"template",null);try{Zo.documentElement.innerHTML=vo?ce:es}catch{}}const ks=Zo.body||Zo.documentElement;return Te&&xo&&ks.insertBefore(l.createTextNode(xo),ks.childNodes[0]||null),v1===Up?Ue.call(Zo,vm?"html":"body")[0]:vm?Zo.documentElement:ks},vN=function(Te){return we.call(Te.ownerDocument||Te,Te,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},b3=function(Te){return Te instanceof A&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof w)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},_N=function(Te){return typeof y=="function"&&Te instanceof y};function jp(Te,Zo,xo){B0(Te,es=>{es.call(a,Zo,xo,k1)})}const kN=function(Te){let Zo=null;if(jp(Ye.beforeSanitizeElements,Te,null),b3(Te))return Fu(Te),!0;const xo=fi(Te.nodeName);if(jp(Ye.uponSanitizeElement,Te,{tagName:xo,allowedTags:Jt}),Te.hasChildNodes()&&!_N(Te.firstElementChild)&&yc(/<[/\w]/g,Te.innerHTML)&&yc(/<[/\w]/g,Te.textContent)||Te.nodeType===7||Lg&&Te.nodeType===8&&yc(/<[/\w]/g,Te.data))return Fu(Te),!0;if(!Jt[xo]||ra[xo]){if(!ra[xo]&&CN(xo)&&(sr.tagNameCheck instanceof RegExp&&yc(sr.tagNameCheck,xo)||sr.tagNameCheck instanceof Function&&sr.tagNameCheck(xo)))return!1;if(x1&&!kn[xo]){const es=te(Te)||Te.parentNode,ks=Z(Te)||Te.childNodes;if(ks&&es)for(let Nr=ks.length-1;Nr>=0;--Nr){const ll=G(ks[Nr],!0);ll.__removalCount=(Te.__removalCount||0)+1,es.insertBefore(ll,j(Te))}}return Fu(Te),!0}return Te instanceof _&&!function(es){let ks=te(es);ks&&ks.tagName||(ks={namespaceURI:v1,tagName:"template"});const Nr=L0(es.tagName),ll=L0(ks.tagName);return!!bb[es.namespaceURI]&&(es.namespaceURI===sv?ks.namespaceURI===Up?Nr==="svg":ks.namespaceURI===Ew?Nr==="svg"&&(ll==="annotation-xml"||av[ll]):!!yN[Nr]:es.namespaceURI===Ew?ks.namespaceURI===Up?Nr==="math":ks.namespaceURI===sv?Nr==="math"&&iv[ll]:!!h3[Nr]:es.namespaceURI===Up?!(ks.namespaceURI===sv&&!iv[ll])&&!(ks.namespaceURI===Ew&&!av[ll])&&!h3[Nr]&&(gN[Nr]||!yN[Nr]):!(_1!=="application/xhtml+xml"||!bb[es.namespaceURI]))}(Te)?(Fu(Te),!0):xo!=="noscript"&&xo!=="noembed"&&xo!=="noframes"||!yc(/<\/no(script|embed|frames)/i,Te.innerHTML)?(Vp&&Te.nodeType===3&&(Zo=Te.textContent,B0([mt,$t,Xt],es=>{Zo=Ny(Zo,es," ")}),Te.textContent!==Zo&&(Ay(a.removed,{element:Te.cloneNode()}),Te.textContent=Zo)),jp(Ye.afterSanitizeElements,Te,null),!1):(Fu(Te),!0)},wN=function(Te,Zo,xo){if(nv&&(Zo==="id"||Zo==="name")&&(xo in l||xo in hN))return!1;if(!(pb&&!Ta[Zo]&&yc(so,Zo))){if(!(Hp&&yc(jo,Zo))){if(!Un[Zo]||Ta[Zo]){if(!(CN(Te)&&(sr.tagNameCheck instanceof RegExp&&yc(sr.tagNameCheck,Te)||sr.tagNameCheck instanceof Function&&sr.tagNameCheck(Te))&&(sr.attributeNameCheck instanceof RegExp&&yc(sr.attributeNameCheck,Zo)||sr.attributeNameCheck instanceof Function&&sr.attributeNameCheck(Zo))||Zo==="is"&&sr.allowCustomizedBuiltInElements&&(sr.tagNameCheck instanceof RegExp&&yc(sr.tagNameCheck,xo)||sr.tagNameCheck instanceof Function&&sr.tagNameCheck(xo))))return!1}else if(!Sw[Zo]){if(!yc(ln,Ny(xo,Qr,""))){if((Zo!=="src"&&Zo!=="xlink:href"&&Zo!=="href"||Te==="script"||B2(xo,"data:")!==0||!zf[Te])&&!(ww&&!yc(pr,Ny(xo,Qr,"")))){if(xo)return!1}}}}}return!0},CN=function(Te){return Te!=="annotation-xml"&&M2(Te,An)},SN=function(Te){jp(Ye.beforeSanitizeAttributes,Te,null);const{attributes:Zo}=Te;if(!Zo||b3(Te))return;const xo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Un,forceKeepAttr:void 0};let es=Zo.length;for(;es--;){const ks=Zo[es],{name:Nr,namespaceURI:ll,value:Zp}=ks,wm=fi(Nr);let ql=Nr==="value"?Zp:aD(Zp);const vB=ql;if(xo.attrName=wm,xo.attrValue=ql,xo.keepAttr=!0,xo.forceKeepAttr=void 0,jp(Ye.uponSanitizeAttribute,Te,xo),ql=xo.attrValue,!rv||wm!=="id"&&wm!=="name"||(w1(Nr,Te),ql="user-content-"+ql),Lg&&yc(/((--!?|])>)|<\/(style|title)/i,ql)){w1(Nr,Te);continue}if(xo.forceKeepAttr)continue;if(!xo.keepAttr){w1(Nr,Te);continue}if(!Cw&&yc(/\/>/i,ql)){w1(Nr,Te);continue}Vp&&B0([mt,$t,Xt],y3=>{ql=Ny(ql,y3," ")});const EN=fi(Te.nodeName);if(wN(EN,wm,ql)){if(oe&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!ll)switch(I.getAttributeType(EN,wm)){case"TrustedHTML":ql=oe.createHTML(ql);break;case"TrustedScriptURL":ql=oe.createScriptURL(ql)}if(ql!==vB)try{ll?Te.setAttributeNS(ll,Nr,ql):Te.setAttribute(Nr,ql),b3(Te)?Fu(Te):pz(a.removed)}catch{}}else w1(Nr,Te)}jp(Ye.afterSanitizeAttributes,Te,null)},xB=function Te(Zo){let xo=null;const es=vN(Zo);for(jp(Ye.beforeSanitizeShadowDOM,Zo,null);xo=es.nextNode();)jp(Ye.uponSanitizeShadowNode,xo,null),kN(xo),SN(xo),xo.content instanceof p&&Te(xo.content);jp(Ye.afterSanitizeShadowDOM,Zo,null)};return a.sanitize=function(Te){let Zo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xo=null,es=null,ks=null,Nr=null;if(vo=!Te,vo&&(Te="<!-->"),typeof Te!="string"&&!_N(Te)){if(typeof Te.toString!="function")throw Mh("toString is not a function");if(typeof(Te=Te.toString())!="string")throw Mh("dirty is not a string, aborting")}if(!a.isSupported)return Te;if(y1||g3(Zo),a.removed=[],typeof Te=="string"&&(Ig=!1),Ig){if(Te.nodeName){const wm=fi(Te.nodeName);if(!Jt[wm]||ra[wm])throw Mh("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof y)xo=xN("<!---->"),es=xo.ownerDocument.importNode(Te,!0),es.nodeType===1&&es.nodeName==="BODY"||es.nodeName==="HTML"?xo=es:xo.appendChild(es);else{if(!_m&&!Vp&&!vm&&Te.indexOf("<")===-1)return oe&&$p?oe.createHTML(Te):Te;if(xo=xN(Te),!xo)return _m?null:$p?ce:""}xo&&gb&&Fu(xo.firstChild);const ll=vN(Ig?Te:xo);for(;ks=ll.nextNode();)kN(ks),SN(ks),ks.content instanceof p&&xB(ks.content);if(Ig)return Te;if(_m){if(hb)for(Nr=Ae.call(xo.ownerDocument);xo.firstChild;)Nr.appendChild(xo.firstChild);else Nr=xo;return(Un.shadowroot||Un.shadowrootmode)&&(Nr=$e.call(d,Nr,!0)),Nr}let Zp=vm?xo.outerHTML:xo.innerHTML;return vm&&Jt["!doctype"]&&xo.ownerDocument&&xo.ownerDocument.doctype&&xo.ownerDocument.doctype.name&&yc(F0,xo.ownerDocument.doctype.name)&&(Zp="<!DOCTYPE "+xo.ownerDocument.doctype.name+`>
`+Zp),Vp&&B0([mt,$t,Xt],wm=>{Zp=Ny(Zp,wm," ")}),oe&&$p?oe.createHTML(Zp):Zp},a.setConfig=function(){g3(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),y1=!0},a.clearConfig=function(){k1=null,y1=!1},a.isValidAttribute=function(Te,Zo,xo){k1||g3({});const es=fi(Te),ks=fi(Zo);return wN(es,ks,xo)},a.addHook=function(Te,Zo){typeof Zo=="function"&&Ay(Ye[Te],Zo)},a.removeHook=function(Te,Zo){if(Zo!==void 0){const xo=sD(Ye[Te],Zo);return xo===-1?void 0:P0(Ye[Te],xo,1)[0]}return pz(Ye[Te])},a.removeHooks=function(Te){Ye[Te]=[]},a.removeAllHooks=function(){Ye={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},a}();const wz=o=>kz().sanitize(o);var Jd=tinymce.util.Tools.resolve("tinymce.util.I18n");const Qd={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Cz="temporary-placeholder",V2=o=>()=>ut(o,Cz).getOr("!not found!"),$2=(o,s)=>{const a=o.toLowerCase();if(Jd.isRtl()){const l=((d,f)=>zl(d,f)?d:((p,b)=>p+b)(d,f))(a,"-rtl");return ko(s,l)?l:a}return a},Sz=(o,s)=>ut(s,$2(o,s)),Ez=(o,s)=>{const a=s();return Sz(o,a).getOrThunk(V2(a))},Ph=()=>wo("add-focusable",[Jn(o=>{Fd(o.element,"svg").each(s=>lo(s,"focusable","false"))})]),N_=(o,s,a,l)=>{var d,f;const p=(y=>!!Jd.isRtl()&&ko(Qd,y))(s)?["tox-icon--flip"]:[],b=ut(a,$2(s,a)).or(l).getOrThunk(V2(a));return{dom:{tag:o.tag,attributes:(d=o.attributes)!==null&&d!==void 0?d:{},classes:o.classes.concat(p),innerHtml:b},behaviours:xe([...(f=o.behaviours)!==null&&f!==void 0?f:[],Ph()])}},_d=(o,s,a,l=O.none())=>N_(s,o,a(),l),U2={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Ry=yd({name:"Notification",factory:o=>{const s=wt("notification-text"),a=Bn({dom:hp(`<p id=${s}>${wz(o.backstageProvider.translate(o.text))}</p>`),behaviours:xe([yo.config({})])}),l=w=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${w}%`}}}),d=w=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${w}%`}}),f=Bn({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},d(0)],behaviours:xe([yo.config({})])}),p={updateProgress:(w,A)=>{w.getSystem().isConnected()&&f.getOpt(w).each(P=>{yo.set(P,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(A)]},d(A)])})},updateText:(w,A)=>{if(w.getSystem().isConnected()){const P=a.get(w);yo.set(P,[Or(A)])}}},b=ir([o.icon.toArray(),[o.level],O.from(U2[o.level]).toArray()]),y=Bn(qa.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[_d("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:xe([_r.config({}),Xr.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:w=>{o.onAction(w)}})),_=((w,A,P)=>{const I=P(),Y=H(w,G=>ko(I,$2(G,I)));return N_({tag:"div",classes:["tox-notification__icon"]},Y.getOr(Cz),I,O.none())})(b,0,o.iconProvider),E=[_,{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:xe([yo.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},behaviours:xe([_r.config({}),ho.config({}),Kt.config({mode:"special",onEscape:w=>(o.onAction(w),O.some(!0))})]),components:E.concat(o.progress?[f.asSpec()]:[]).concat([y.asSpec()]),apis:p}},configFields:[Ca("level","info",["success","error","warning","warn","info"]),Ge("progress"),Jo("icon"),Ge("onAction"),Ge("text"),Ge("iconProvider"),Ge("backstageProvider")],apis:{updateProgress:(o,s,a)=>{o.updateProgress(s,a)},updateText:(o,s,a)=>{o.updateText(s,a)}}});var j2=(o,s,a,l)=>{const d=s.backstage.shared,f=()=>_t(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),p=()=>{const y=Ns(f());return O.some(y)},b=y=>{p().each(_=>{ot(y,E=>{an(E.element,"width"),ae(E.element)>_.width&&Zt(E.element,"width",_.width+"px")})})};return{open:(y,_,E)=>{const w=()=>{l.on(I=>{_();const Y=E();(G=>{yo.remove(G,A),P()})(I),((G,J)=>{br(G.element).length===0?((j,Z)=>{Kn.hide(j),l.clear(),Z&&o.focus()})(G,J):((j,Z)=>{Z&&Kt.focusIn(j)})(G,J)})(I,Y)})},A=qs(Ry.sketch({text:y.text,level:Je(["success","error","warning","warn","info"],y.type)?y.type:void 0,progress:y.progressBar===!0,icon:y.icon,onAction:w,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(l.isSet()){const I=Ll(A);l.on(Y=>{yo.append(Y,I),Kn.reposition(Y),A.hasConfigured(Mn)&&Mn.refresh(Y),b(Y.components())})}else{const I=qs(Kn.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:xe([Kt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),yo.config({}),...gp(o)&&d.header.isPositionedAtTop()?[]:[Mn.config({contextual:{lazyContext:()=>O.some(Ns(f())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:j=>Bs(o,j.element).map(Z=>({bounds:Rh(Z),optScrollEnv:O.some({currentScrollTop:Z.element.dom.scrollTop,scrollElmTop:Gr(Z.element).top})})).getOrThunk(()=>({bounds:Cs(),optScrollEnv:O.none()}))})]])})),Y=Ll(A),G={maxHeightFunction:qd()},J={...d.anchors.banner(),overrides:G};l.set(I),a.add(I),Kn.showWithinBounds(I,Y,{anchor:J},p)}sn(y.timeout)&&y.timeout>0&&f_.setEditorTimeout(o,()=>{w()},y.timeout);const P=()=>{l.on(I=>{Kn.reposition(I),I.hasConfigured(Mn)&&Mn.refresh(I),b(I.components())})};return{close:w,reposition:P,text:I=>{Ry.updateText(A,I)},settings:y,getEl:()=>A.element.dom,progressBar:{value:I=>{Ry.updateProgress(A,I)}}}},close:y=>{y.close()},getArgs:y=>y.settings}},Z2;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Z2||(Z2={}));var Au=Z2;const W2="tox-menu-nav__js",R_="tox-collection__item",zz="tox-swatch",gD={normal:W2,color:zz},q2="tox-collection__item--enabled",G2="tox-collection__item-icon",Dy="tox-collection__item-label",Tz="tox-collection__item-caret",Lh="tox-collection__item--active",Oz="tox-collection__item-container",Az="tox-collection__item-container--row",Ih=o=>ut(gD,o).getOr(W2),K2=o=>o==="color"?"tox-swatches":"tox-menu",Y2=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:K2(o),tieredMenu:"tox-tiered-menu"}),am=o=>{const s=Y2(o);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:Ih(o)}},hD=(o,s,a)=>{const l=Y2(a);return{tag:"div",classes:ir([[l.menu,`tox-menu-${s}-column`],o?[l.hasIcons]:[]])}},Ft=[mp.parts.items({})],im=(o,s,a)=>{const l=Y2(a);return{dom:{tag:"div",classes:ir([[l.tieredMenu]])},markers:am(a)}},Nz=ue([or("type","text"),Jo("data"),Ee("inputAttributes",{}),Ee("inputStyles",{}),Ee("tag","input"),Ee("inputClasses",[]),Bo("onSetValue"),Xn("fromInputValue",Ct),Xn("toInputValue",Ct),Ee("styles",{}),Ee("eventOrder",{}),ke("inputBehaviours",[se,ho]),Ee("selectOnFocus",!0)]),X2=o=>xe([ho.config({onFocus:o.selectOnFocus?s=>{const a=s.element,l=sf(a);o.type!=="range"&&a.dom.setSelectionRange(0,l.length)}:et})]),D_=o=>({...X2(o),...Fe(o.inputBehaviours,[se.config({store:{mode:"manual",...o.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>o.fromInputValue(sf(s.element)),setValue:(s,a)=>{sf(s.element)!==a&&ud(s.element,o.toInputValue(a))}},onSetValue:o.onSetValue})])}),M_=o=>({tag:o.tag,attributes:{type:o.type,...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),bp=yd({name:"Input",configFields:Nz(),factory:(o,s)=>({uid:o.uid,dom:M_(o),components:[],behaviours:D_(o),eventOrder:o.eventOrder})}),J2=wt("refetch-trigger-event"),Rz=wt("redirect-menu-item-interaction"),Dz="tox-menu__searcher",H0=o=>Vn(o.element,`.${Dz}`).bind(s=>o.getSystem().getByDom(s).toOptional()),B_=H0,My=o=>({fetchPattern:se.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),Mz=o=>{const s=(d,f)=>(f.cut(),O.none()),a=(d,f)=>{const p={interactionEvent:f.event,eventType:f.event.raw.type};return Vt(d,Rz,p),O.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[R_]},components:[bp.sketch({inputClasses:[Dz,"tox-textfield"],inputAttributes:{...o.placeholder.map(d=>({placeholder:o.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:xe([wo(l,[je(rs(),d=>{Vo(d,J2)}),je(Kr(),(d,f)=>{f.event.raw.key==="Escape"&&f.stop()})]),Kt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[l,Kt.name()]}})]}},P_="tox-collection--results__js",Bz=o=>{var s;return o.dom?{...o,dom:{...o.dom,attributes:{...(s=o.dom.attributes)!==null&&s!==void 0?s:{},id:wt("aria-item-search-result-id"),"aria-selected":"false"}}}:o},L_=(o,s)=>a=>{const l=De(a,s);return Se(l,d=>({dom:o,components:d}))},Pz=(o,s)=>{const a=[];let l=[];return ot(o,(d,f)=>{s(d,f)?(l.length>0&&a.push(l),l=[],(ko(d.dom,"innerHtml")||d.components&&d.components.length>0)&&l.push(d)):l.push(d)}),l.length>0&&a.push(l),Se(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},Q2=(o,s,a)=>mp.parts.items({preprocess:l=>{const d=Se(l,a);return o!=="auto"&&o>1?L_({tag:"div",classes:["tox-collection__group"]},o)(d):Pz(d,(f,p)=>s[p].type==="separator")}}),Lz=(o,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Q2(o,s,Ct)]}),V0=o=>un(o,s=>"icon"in s&&s.icon!==void 0),kd=o=>(console.error(si(o)),console.log(o),O.none()),bD=(o,s,a,l,d)=>{const f=(p=a,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[mp.parts.items({preprocess:b=>Pz(b,(y,_)=>p[_].type==="separator")})]});var p;return{value:o,dom:f.dom,components:f.components,items:a}},I_=(o,s,a,l,d)=>{if(d.menuType==="color"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[mp.parts.items({preprocess:p!=="auto"?L_({tag:"div",classes:["tox-swatches__row"]},p):Ct})]}]}))(l);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="imageselector"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[mp.parts.items({preprocess:p!=="auto"?L_({tag:"div",classes:["tox-image-selector__row"]},p):Ct})]}]}))(l);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="normal"&&l==="auto"){const f=Lz(l,a);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="normal"||d.menuType==="searchable"){const f=d.menuType!=="searchable"?Lz(l,a):d.searchMode.searchMode==="search-with-field"?((p,b,y)=>{const _=wt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Mz({i18n:Jd.translate,placeholder:y.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],P_],attributes:{id:_}},components:[Q2(p,b,Bz)]}]}})(l,a,d.searchMode):((p,b)=>{const y=wt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",P_].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:y}},components:[Q2(p,b,Bz)]}})(l,a);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="listpreview"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[mp.parts.items({preprocess:L_({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:o,dom:f.dom,components:f.components,items:a}}return{value:o,dom:hD(s,l,d.menuType),components:Ft,items:a}},Ps=ms("type"),$0=ms("name"),F_=ms("label"),yp=ms("text"),eC=ms("title"),U0=ms("icon"),yD=ms("url"),Fh=ms("value"),xD=Ti("fetch"),vD=Ti("getSubmenuItems"),Hh=Ti("onAction"),_D=Ti("onItemAction"),Vh=Xn("onSetup",()=>et),tC=Zr("name"),xp=Zr("text"),H_=Zr("role"),xc=Zr("icon"),lm=Zr("tooltip"),bf=Zr("label"),Iz=Zr("shortcut"),kD=Na("select"),By=ea("active",!1),Fz=ea("borderless",!1),Nu=ea("enabled",!0),oC=ea("primary",!1),wD=o=>Ee("columns",o),nC=Ee("meta",{}),rC=Xn("onAction",et),vp=o=>or("type",o),sC=o=>Ss("name","name",Ql(()=>wt(`${o}-name`)),Mr),Hz=no([Ps,xp]),CD=no([vp("autocompleteitem"),By,Nu,nC,Fh,xp,xc]),$h=[Nu,lm,xc,xp,Vh,or("context","mode:design")],SD=no([Ps,Hh,Iz].concat($h)),aC=o=>tr("toolbarbutton",SD,o),V_=[By].concat($h),Vz=no(V_.concat([Ps,Hh,Iz])),$z=o=>tr("ToggleButton",Vz,o),j0=[Xn("predicate",Le),Ca("scope","node",["node","editor"]),Ca("position","selection",["node","selection","line"])],ED=$h.concat([vp("contextformbutton"),or("align","end"),oC,Hh,ca("original",Ct)]),iC=V_.concat([vp("contextformbutton"),or("align","end"),oC,Hh,ca("original",Ct)]),Uz=$h.concat([vp("contextformbutton")]),jz=V_.concat([vp("contextformtogglebutton")]),$_=[bf,jr("commands",Ua("type",{contextformbutton:ED,contextformtogglebutton:iC})),Zi("launch",Ua("type",{contextformbutton:Uz,contextformtogglebutton:jz})),Xn("onInput",et),Xn("onSetup",et)],zD=[...j0,...$_,Ws("type",["contextform"]),Xn("initValue",ue("")),Zr("placeholder")],TD=[...j0,...$_,Ws("type",["contextsliderform"]),Xn("initValue",ue(0)),Xn("min",ue(0)),Xn("max",ue(100))],OD=[...j0,...$_,Ws("type",["contextsizeinputform"]),Xn("initValue",ue({width:"",height:""}))],AD=Ua("type",{contextform:zD,contextsliderform:TD,contextsizeinputform:OD}),ND=$h.concat([vp("contexttoolbarbutton")]),Z0=no([vp("contexttoolbar"),dn("launch",ND),Qs("items",nd([Mr,hu([Zr("name"),Zr("label"),jr("items",Mr)])]))].concat(j0)),Zz=o=>({name:o.name.getOrUndefined(),label:o.label.getOrUndefined(),items:o.items}),Wz=[Ps,ms("src"),Zr("alt"),sc("classes",[],Mr)],qz=no(Wz),Gz=[Ps,yp,tC,sc("classes",["tox-collection__item-label"],Mr)],Kz=no(Gz),Yz=mu(()=>oc("type",{cardimage:qz,cardtext:Kz,cardcontainer:RD})),RD=no([Ps,or("direction","horizontal"),or("align","left"),or("valign","middle"),jr("items",Yz)]),Eg=[Nu,xp,H_,Iz,Ss("value","value",Ql(()=>wt("menuitem-value")),ji()),nC,or("context","mode:design")],lC=no([Ps,bf,jr("items",Yz),Vh,rC].concat(Eg)),DD=no([Ps,By,xc,bf].concat(Eg)),Py=[Ps,ms("fancytype"),rC],MD=[Ee("initData",{})].concat(Py),Xz=[Na("select"),Ff("initData",{},[ea("allowCustomColors",!0),or("storageKey","default"),rc("colors",ji())])].concat(Py),Vl=[Na("select"),gl("initData",[zi("columns"),sc("items",[],ji())])].concat(Py),BD=Ua("fancytype",{inserttable:MD,colorswatch:Xz,imageselect:Vl}),Jz=no([Ps,By,yD,bf,lm].concat(Eg)),Qz=no([Ps,By,U0,F_,lm,Fh].concat(Eg)),PD=no([Ps,Vh,rC,xc].concat(Eg)),eT=no([Ps,vD,Vh,xc].concat(Eg)),tT=no([Ps,xc,By,Vh,Hh].concat(Eg)),cC=(o,s,a)=>{const l=Ki(o.element,"."+a);if(l.length>0){const d=ls(l,f=>{const p=f.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>s}).getOr(l.length);return O.some({numColumns:d,numRows:Math.ceil(l.length/d)})}return O.none()},W0=o=>((s,a)=>xe([wo(s,a)]))(wt("unnamed-events"),o),oT=o=>Wt.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),q0=o=>Wt.config({disabled:o}),dC=o=>Wt.config({disabled:o,disableClass:"tox-tbtn--disabled"}),U_=o=>Wt.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),G0=(o,s)=>{const a=o.getApi(s);return l=>{l(a)}},Ru=(o,s)=>Jn(a=>{Yt(o.onBeforeSetup)&&o.onBeforeSetup(a),G0(o,a)(l=>{const d=o.onSetup(l);Yt(d)&&s.set(d)})}),_p=(o,s)=>zr(a=>G0(o,a)(s.get())),j_=(o,s,a)=>zr(l=>(a.set(se.getValue(l)),G0(o,l)(s.get()))),nT="silver.uistate",K0="setDisabled",rT="init",LD=["switchmode",rT],Ly=(o,s)=>{const a=o.mainUi.outerContainer,l=[o.mainUi.mothership,...o.uiMotherships];s===K0&&ot(l,d=>{d.broadcastOn([Cu()],{target:a.element})}),ot(l,d=>{d.broadcastOn([nT],s)})},uC=(o,s)=>{o.on("init SwitchMode",a=>{Ly(s,a.type)}),o.on("DisabledStateChange",a=>{if(!a.isDefaultPrevented()){const l=a.state?K0:rT;Ly(s,l),a.state||o.nodeChanged()}}),o.on("NodeChange",a=>{const l=o.ui.isEnabled()?a.type:K0;Ly(s,l)}),qE(o)&&o.mode.set("readonly")},Jr=o=>Il.config({channels:{[nT]:{onReceive:(s,a)=>{if(a===K0||a==="setEnabled")return void Wt.set(s,a===K0);const{contextType:l,shouldDisable:d}=o();(l!=="mode"||Je(LD,a))&&Wt.set(s,d)}}}}),sT=(o,s)=>Wd((a,l)=>{G0(o,a)(o.onAction),o.triggersSubmenu||s!==Au.CLOSE_ON_EXECUTE||(a.getSystem().isConnected()&&Vo(a,jd()),l.stop())}),aT={[ta()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Uh=hi,jh=(o,s,a,l)=>{const d=Mt(et);return{type:"item",dom:s.dom,components:Uh(s.optComponents),data:o.data,eventOrder:aT,hasSubmenu:o.triggersSubmenu,itemBehaviours:xe([wo("item-events",[sT(o,a),Ru(o,d),_p(o,d)]),oT(()=>!o.enabled||l.checkUiComponentContext(o.context).shouldDisable),Jr(()=>l.checkUiComponentContext(o.context)),yo.config({})].concat(o.itemBehaviours))}},Du=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),iT=o=>new Promise((s,a)=>{const l=()=>{f(),s(o)},d=[Gi(o,"load",l),Gi(o,"error",()=>{f(),a("Unable to load data from image: "+o.dom.src)})],f=()=>ot(d,p=>p.unbind());o.dom.complete&&l()}),ID=(o,s)=>{var a,l;const d=Os("div");return Tr(d,"tox-image-selector-loading-spinner"),{dom:{tag:o.tag,attributes:(a=o.attributes)!==null&&a!==void 0?a:{},classes:o.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...o.checkMark.toArray()],behaviours:xe([...(l=o.behaviours)!==null&&l!==void 0?l:[],wo("render-image-events",[Jn(f=>{var p;p=f.element,Tr(p,"tox-image-selector-loading-spinner-wrapper"),ya(p,d),Vn(f.element,"img").each(b=>{iT(b).catch(y=>{console.error(y)}).finally(()=>{(y=>{lr(y,"tox-image-selector-loading-spinner-wrapper"),Nl(d)})(f.element)})})})])])}},Z_=o=>{const s=Th.os.isMacOS()||Th.os.isiOS(),a=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=o.split("+"),d=Se(l,f=>{const p=f.toLowerCase().trim();return ko(a,p)?a[p]:f});return s?d.join(""):d.join("+")},fC=(o,s,a=[G2])=>_d(o,{tag:"div",classes:a},s),lT=o=>({dom:{tag:"div",classes:[Dy]},components:[Or(Jd.translate(o))]}),cT=(o,s)=>({dom:{tag:"div",classes:s,innerHtml:o}}),dT=(o,s)=>({dom:{tag:"div",classes:[Dy]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Or(Jd.translate(s))]}]}),mC=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Or(Z_(o))]}),Y0=o=>fC("checkmark",o,["tox-collection__item-checkmark"]),pC=(o,s)=>{const a=o.map(l=>({attributes:{id:wt("menu-item"),"aria-label":Jd.translate(l)}})).getOr({});return{tag:"div",classes:[W2,R_].concat(s),...a}},kp=o=>({dom:{tag:"label"},components:[Or(o)]}),Zh=(o,s,a,l=O.none())=>o.presets==="color"?((d,f,p)=>{const b=d.value,y=d.iconContent.map(E=>((w,A,P)=>{const I=A();return Sz(w,I).or(P).getOrThunk(V2(I))})(E,f.icons,p)),_=d.ariaLabel.map(E=>({"aria-label":f.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=zz,w=y.getOr(""),A={tag:"div",attributes:_,classes:[E]};return b==="custom"?{...A,tag:"button",classes:[...A.classes,"tox-swatches__picker-btn"],innerHtml:w}:b==="remove"?{...A,classes:[...A.classes,"tox-swatch--remove"],innerHtml:w}:Ht(b)?{...A,attributes:{...A.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:w}:A})(),optComponents:[]}})(o,s,l):o.presets==="img"?(d=>{var f,p;return{dom:pC(d.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[O.some((f=d.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:d.checkMark},ID(p,f))),d.labelContent.map(kp)]}})(o):((d,f,p,b)=>{const y={tag:"div",classes:[G2]},_=p?d.iconContent.map(P=>_d(P,y,f.icons,b)).orThunk(()=>O.some({dom:y})):O.none(),E=d.checkMark,w=O.from(d.meta).fold(()=>lT,P=>ko(P,"style")?qe(dT,P.style):lT),A=d.htmlContent.fold(()=>d.textContent.map(w),P=>O.some(cT(P,[Dy])));return{dom:pC(d.ariaLabel,[]),optComponents:[_,A,d.shortcutContent.map(mC),E,d.caret,d.labelContent.map(kp)]}})(o,s,a,l),gC=(o,s,a)=>ut(o,"tooltipWorker").map(l=>[Xr.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:qd}}),mode:"follow-highlight",onShow:(d,f)=>{l(p=>{Xr.setComponents(d,[Kf({element:_t(p)})])})}})]).getOrThunk(()=>a.map(l=>[Xr.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),uT=(o,s)=>{const a=(l=>T0.DOM.encode(l))(Jd.translate(o));if(s.length>0){const l=new RegExp((d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(s),"gi");return a.replace(l,d=>`<span class="tox-autocompleter-highlight">${d}</span>`)}return a},fT=(o,s)=>Se(o,a=>{switch(a.type){case"cardcontainer":return((f,p)=>{const b=f.direction==="vertical"?"tox-collection__item-container--column":Az,y=f.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Oz,b,y,(()=>{switch(f.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(a,fT(a.items,s));case"cardimage":return((f,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:f,alt:b.getOr("")}}}))(a.src,a.classes,a.alt);case"cardtext":const l=a.name.exists(f=>Je(s.cardText.highlightOn,f)),d=l?O.from(s.cardText.matchText).getOr(""):"";return cT(uT(a.text,d),a.classes)}}),Iy=(o,s,a,l,d,f,p,b=!0)=>{const y=Zh({presets:a,textContent:s?o.text:O.none(),htmlContent:O.none(),labelContent:o.label,ariaLabel:o.text,iconContent:o.icon,shortcutContent:s?o.shortcut:O.none(),checkMark:s?O.some(Y0(p.icons)):O.none(),caret:O.none(),value:o.value},p,b),_=o.text.filter(ue(!s)).map(E=>Xr.config(p.tooltips.getConfig({tooltipText:p.translate(E)})));return Er(jh({context:o.context,data:Du(o),enabled:o.enabled,getApi:E=>({setActive:w=>{Uo.set(E,w)},isActive:()=>Uo.isOn(E),isEnabled:()=>!Wt.isDisabled(E),setEnabled:w=>Wt.set(E,!w)}),onAction:E=>l(o.value),onSetup:E=>(E.setActive(d),et),triggersSubmenu:!1,itemBehaviours:[..._.toArray()]},y,f,p),{toggling:{toggleClass:q2,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},Wh=Kw(zu(),_2()),hC=o=>({value:mT(o)}),W_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wp=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Cp=o=>W_.test(o)||wp.test(o),mT=o=>Wn(o,"#").toUpperCase(),bC=o=>{const s=o.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Fy=o=>{const s=bC(o.red)+bC(o.green)+bC(o.blue);return hC(s)},cm=Math.min,q_=Math.max,G_=Math.round,pT=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,gT=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,zg=(o,s,a,l)=>({red:o,green:s,blue:a,alpha:l}),X0=o=>{const s=parseInt(o,10);return s.toString()===o&&s>=0&&s<=255},yC=o=>{let s,a,l;const d=(o.hue||0)%360;let f=o.saturation/100,p=o.value/100;if(f=q_(0,cm(f,1)),p=q_(0,cm(p,1)),f===0)return s=a=l=G_(255*p),zg(s,a,l,1);const b=d/60,y=p*f,_=y*(1-Math.abs(b%2-1)),E=p-y;switch(Math.floor(b)){case 0:s=y,a=_,l=0;break;case 1:s=_,a=y,l=0;break;case 2:s=0,a=y,l=_;break;case 3:s=0,a=_,l=y;break;case 4:s=_,a=0,l=y;break;case 5:s=y,a=0,l=_;break;default:s=a=l=0}return s=G_(255*(s+E)),a=G_(255*(a+E)),l=G_(255*(l+E)),zg(s,a,l,1)},J0=o=>{const s=(f=>{const p=(y=>({value:y.value.replace(W_,(E,w,A,P)=>w+w+A+A+P+P)}))(f),b=wp.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(o),a=parseInt(s[1],16),l=parseInt(s[2],16),d=parseInt(s[3],16);return zg(a,l,d,1)},hT=(o,s,a,l)=>{const d=parseInt(o,10),f=parseInt(s,10),p=parseInt(a,10),b=parseFloat(l);return zg(d,f,p,b)},xC=o=>{const s=pT.exec(o);if(s!==null)return O.some(hT(s[1],s[2],s[3],"1"));const a=gT.exec(o);return a!==null?O.some(hT(a[1],a[2],a[3],a[4])):O.none()},Q0=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,K_=zg(255,0,0,1),Hy=(o,s)=>{o.dispatch("ResizeContent",s)},vC=(o,s)=>{o.dispatch("TextColorChange",s)},FD=(o,s)=>o.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),_C=o=>{o.dispatch("ContextToolbarClose")},ex=(o,s)=>()=>{o(),s()},al=o=>qh(o,"NodeChange",s=>{s.setEnabled(o.selection.isEditable())}),tx=(o,s)=>a=>{const l=al(o)(a),d=((f,p)=>b=>{const y=ed(),_=()=>{b.setActive(f.formatter.match(p));const E=f.formatter.formatChanged(p,b.setActive);y.set(E)};return f.initialized?_():f.once("init",_),()=>{f.off("init",_),y.clear()}})(o,s)(a);return()=>{l(),d()}},qh=(o,s,a)=>l=>{const d=()=>a(l),f=()=>{a(l),o.on(s,d)};return o.initialized?f():o.once("init",f),()=>{o.off("init",f),o.off(s,d)}},Y_=o=>s=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,s.format)})},$c=(o,s)=>()=>o.execCommand(s);var Gh=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const bT={},yT=o=>ut(bT,o).getOrThunk(()=>{const s=`tinymce-custom-colors-${o}`,a=Gh.getItem(s);if(Vr(a)){const d=Gh.getItem("tinymce-custom-colors");Gh.setItem(s,Ht(d)?d:"[]")}const l=((d,f=10)=>{const p=Gh.getItem(d),b=Ot(p)?JSON.parse(p):[],y=f-(_=b).length<0?_.slice(0,f):_;var _;const E=w=>{y.splice(w,1)};return{add:w=>{((A,P)=>{const I=qr(A,P);return I===-1?O.none():O.some(I)})(y,w).each(E),y.unshift(w),y.length>f&&y.pop(),Gh.setItem(d,JSON.stringify(y))},state:()=>y.slice(0)}})(s,10);return bT[o]=l,l}),kC=(o,s)=>{yT(o).add(s)},ox=(o,s,a)=>({hue:o,saturation:s,value:a}),wC=o=>{let s=0,a=0,l=0;const d=o.red/255,f=o.green/255,p=o.blue/255,b=Math.min(d,Math.min(f,p)),y=Math.max(d,Math.max(f,p));return b===y?(l=b,ox(0,0,100*l)):(s=d===b?3:p===b?1:5,s=60*(s-(d===b?f-p:p===b?d-f:p-d)/(y-b)),a=(y-b)/y,l=y,ox(Math.round(s),Math.round(100*a),Math.round(100*l)))},CC=o=>Fy(yC(o)),Kh="forecolor",SC="hilitecolor",Vy=o=>{const s=[];for(let a=0;a<o.length;a+=2)s.push({text:o[a+1],value:o[a],icon:"checkmark",type:"choiceitem"});return s},eu=o=>s=>s.options.get(o),X_="#000000",nx=(o,s)=>s===Kh&&o.options.isSet("color_map_foreground")?eu("color_map_foreground")(o):s===SC&&o.options.isSet("color_map_background")?eu("color_map_background")(o):o.options.isSet("color_map_raw")?eu("color_map_raw")(o):eu("color_map")(o),EC=(o,s="default")=>Math.max(5,Math.ceil(Math.sqrt(nx(o,s).length))),xT=(o,s)=>{const a=eu("color_cols")(o),l=EC(o,s);return a===EC(o)?l:a},zC=(o,s="default")=>Math.round(s===Kh?eu("color_cols_foreground")(o):s===SC?eu("color_cols_background")(o):eu("color_cols")(o)),vT=eu("custom_colors"),_T=eu("color_default_foreground"),HD=eu("color_default_background"),kT=(o,s)=>{const a=_t(o.selection.getStart()),l=s==="hilitecolor"?nt(a,d=>{if(dr(d)){const f=Us(d,"background-color");return Fo(xC(f).exists(p=>p.alpha!==0),f)}return O.none()}).getOr("rgba(0, 0, 0, 0)"):Us(a,"color");return xC(l).map(d=>"#"+Fy(d).value)},TC=o=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},$y=(o,s,a,l)=>{a==="custom"?ST(o)(d=>{d.each(f=>{kC(s,f),o.execCommand("mceApplyTextcolor",s,f),l(f)})},kT(o,s).getOr(X_)):a==="remove"?(l(""),o.execCommand("mceRemoveTextcolor",s)):(l(a),o.execCommand("mceApplyTextcolor",s,a))},rx=(o,s,a)=>o.concat((l=>Se(yT(l).state(),d=>({type:"choiceitem",text:d,icon:"checkmark",value:d})))(s).concat(TC(a))),J_=(o,s,a)=>l=>{l(rx(o,s,a))},OC=(o,s,a)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(l,a)},wT=(o,s)=>{o.setTooltip(s)},CT=(o,s)=>a=>{const l=kT(o,s);return Xs(l,a.toUpperCase())},AC=(o,s,a)=>{if(Tl(a))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",d=rx(nx(o,s),s,!1),f=H(d,p=>p.value===a).getOr({text:""}).text;return o.translate([l,o.translate(f)])},NC=(o,s,a,l)=>{o.ui.registry.addSplitButton(s,{tooltip:AC(o,a,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:CT(o,a),columns:zC(o,a),fetch:J_(nx(o,a),a,vT(o)),onAction:d=>{$y(o,a,l.get(),et)},onItemAction:(d,f)=>{$y(o,a,f,p=>{l.set(p),vC(o,{name:s,color:p})})},onSetup:d=>{OC(d,s,l.get());const f=p=>{p.name===s&&(OC(d,p.name,p.color),wT(d,AC(o,a,p.color)))};return o.on("TextColorChange",f),ex(al(o)(d),()=>{o.off("TextColorChange",f)})}})},RC=(o,s,a,l,d)=>{o.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:f=>(wT(f,AC(o,a,d.get())),OC(f,s,d.get()),al(o)(f)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:CT(o,a),initData:{storageKey:a},onAction:f=>{$y(o,a,f.value,p=>{d.set(p),vC(o,{name:s,color:p})})}}]})},ST=o=>(s,a)=>{let l=!1;const d={colorpicker:a};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:(f,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:f=>{const p=f.getData().colorpicker;l?(s(O.from(p)),f.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",p]))},onClose:et,onCancel:()=>{s(O.none())}})},Q_=(o,s,a,l,d,f,p,b)=>{const y=V0(s),_=VD(s,a,l,d!=="color"?"normal":"color",f,p,b);return I_(o,y,_,l,{menuType:d})},VD=(o,s,a,l,d,f,p)=>hi(Se(o,b=>{return b.type==="choiceitem"?(y=b,tr("choicemenuitem",DD,y)).fold(kd,_=>O.some(Iy(_,a===1,l,s,f(_.value),d,p,V0(o)))):b.type==="imageitem"?(_=>tr("imagemenuitem",Jz,_))(b).fold(kd,_=>O.some(((E,w,A,P,I)=>{const Y=Zh({presets:"img",textContent:O.none(),htmlContent:O.none(),ariaLabel:E.tooltip,iconContent:O.some(E.url),labelContent:E.label,shortcutContent:O.none(),checkMark:O.some(Y0(I.icons)),caret:O.none(),value:E.value},I,!0),G=E.tooltip.map(J=>Xr.config(I.tooltips.getConfig({tooltipText:I.translate(J)})));return Er(jh({context:E.context,data:Du(E),enabled:E.enabled,getApi:J=>({setActive:j=>{Uo.set(J,j)},isActive:()=>Uo.isOn(J),isEnabled:()=>!Wt.isDisabled(J),setEnabled:j=>Wt.set(J,!j)}),onAction:J=>{w(E.value),J.setActive(!0)},onSetup:J=>(J.setActive(A),et),triggersSubmenu:!1,itemBehaviours:[...G.toArray()]},Y,P,I),{toggling:{toggleClass:q2,toggleOnExecute:!1,selected:E.active,exclusive:!0}})})(_,s,f(_.value),d,p))):b.type==="resetimage"?(_=>tr("resetimageitem",Qz,_))(b).fold(kd,_=>O.some(Iy({..._,text:_.tooltip,icon:O.some(_.icon),label:O.some(_.label)},a===1,l,s,f(_.value),d,p,V0(o)))):O.none();var y})),sx=(o,s)=>{const a=am(s);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:l=>s==="color"?Vn(l.element,"[aria-checked=true]"):O.none()}},ET=wt("cell-over"),zT=wt("cell-execute"),TT=(o,s,a)=>{const l=f=>Vt(f,zT,{row:o,col:s}),d=(f,p)=>{p.stop(),l(f)};return qs({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:xe([wo("insert-table-picker-cell",[je(Oi(),ho.focus),je(ta(),l),je(Oc(),d),je(ad(),d)]),Uo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),ho.config({onFocus:f=>Vt(f,ET,{row:o,col:s})})])})},$D=o=>Go(o,s=>Se(s,Ll)),OT=(o,s)=>Or(`${s}x${o}`),UD={inserttable:(o,s)=>{const a=(p=>(b,y)=>p.shared.providers.translate(["{0} columns, {1} rows",y,b]))(s),l=(p=>{const b=[];for(let y=0;y<10;y++){const _=[];for(let E=0;E<10;E++){const w=p(y+1,E+1);_.push(TT(y,E,w))}b.push(_)}return b})(a),d=OT(0,0),f=Bn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[d],behaviours:xe([yo.config({})])});return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Wh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:$D(l).concat(f.asSpec()),behaviours:xe([wo("insert-table-picker",[Jn(p=>{yo.set(f.get(p),[d])}),Qu(ET,(p,b,y)=>{const{row:_,col:E}=y.event;((w,A,P)=>{for(let I=0;I<10;I++)for(let Y=0;Y<10;Y++)Uo.set(w[I][Y],I<=A&&Y<=P)})(l,_,E),yo.set(f.get(p),[OT(_+1,E+1)])}),Qu(zT,(p,b,y)=>{const{row:_,col:E}=y.event;Vo(p,jd()),o.onAction({numRows:_+1,numColumns:E+1})})]),Kt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,s)=>{const a=((p,b)=>{const y=p.initData.allowCustomColors&&b.colorinput.hasCustomColors();return p.initData.colors.fold(()=>rx(b.colorinput.getColors(p.initData.storageKey),p.initData.storageKey,y),_=>_.concat(TC(y)))})(o,s),l=s.colorinput.getColorCols(o.initData.storageKey),d="color",f={...Q_(wt("menu-value"),a,p=>{o.onAction({value:p})},l,d,Au.CLOSE_ON_EXECUTE,o.select.getOr(Le),s.shared.providers),markers:am(d),movement:sx(l,d),showMenuRole:!1};return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Wh.widget(mp.sketch(f))]}},imageselect:(o,s)=>{const a="imageselector",l=o.initData.columns,d={...Q_(wt("menu-value"),o.initData.items,f=>{o.onAction({value:f})},l,a,Au.CLOSE_ON_EXECUTE,o.select.getOr(Le),s.shared.providers),markers:am(a),movement:sx(l,a),showMenuRole:!1};return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[Wh.widget(mp.sketch(d))]}}},AT=o=>({type:"separator",dom:{tag:"div",classes:[R_,"tox-collection__group-heading"]},components:o.text.map(Or).toArray()});var jD=Object.freeze({__proto__:null,getCoupled:(o,s,a,l)=>a.getOrCreate(o,s,l),getExistingCoupled:(o,s,a,l)=>a.getExisting(o,s,l)}),Yh=[Qs("others",sd(re.value,ji()))],ZD=Object.freeze({__proto__:null,init:()=>{const o={},s=(l,d)=>{if(Wo(l.others).length===0)throw new Error("Cannot find any known coupled components");return ut(o,d)},a=ue({});return Ie({readState:a,getExisting:(l,d,f)=>s(d,f).orThunk(()=>(ut(d.others,f).getOrDie("No information found for coupled component: "+f),O.none())),getOrCreate:(l,d,f)=>s(d,f).getOrThunk(()=>{const p=ut(d.others,f).getOrDie("No information found for coupled component: "+f)(l),b=l.getSystem().build(p);return o[f]=b,b})})}});const Ls=Gt({fields:Yh,name:"coupling",apis:jD,state:ZD}),Sp=o=>{let s=O.none(),a=[];const l=p=>{d()?f(p):a.push(p)},d=()=>s.isSome(),f=p=>{s.each(b=>{setTimeout(()=>{p(b)},0)})};return o(p=>{d()||(s=O.some(p),ot(a,f),a=[])}),{get:l,map:p=>Sp(b=>{l(y=>{b(p(y))})}),isReady:d}},NT={nu:Sp,pure:o=>Sp(s=>{s(o)})},WD=o=>{setTimeout(()=>{throw o},0)},tu=o=>{const s=a=>{o().then(a,WD)};return{map:a=>tu(()=>o().then(a)),bind:a=>tu(()=>o().then(l=>a(l).toPromise())),anonBind:a=>tu(()=>o().then(()=>a.toPromise())),toLazy:()=>NT.nu(s),toCached:()=>{let a=null;return tu(()=>(a===null&&(a=o()),a))},toPromise:o,get:s}},Tg=o=>tu(()=>new Promise(o)),Ep=o=>tu(()=>Promise.resolve(o)),wd=ue("sink"),DC=ue(Yd({name:wd(),overrides:ue({dom:{tag:"div"},behaviours:xe([hs.config({useFixed:jt})]),events:mr([lc(Kr()),lc(Da()),lc(Oc())])})})),MC=(o,s)=>{const a=o.getHotspot(s).getOr(s),l="hotspot",d=o.getAnchorOverrides();return o.layouts.fold(()=>({type:l,hotspot:a,overrides:d}),f=>({type:l,hotspot:a,overrides:d,layouts:f}))},ax=(o,s,a,l,d,f,p)=>((y,_,E,w,A,P,I)=>{const Y=((J,j,Z)=>(0,J.fetch)(Z).map(j))(y,_,w),G=BC(w,y);return Y.map(J=>J.bind(j=>{const Z=j.menus[j.primary];return O.from(Z).each(te=>{y.listRole.each(oe=>{te.role=oe})}),O.from(pp.sketch({...P.menu(),uid:sg(""),data:j,highlightOnOpen:I,onOpenMenu:(te,oe)=>{const ce=G().getOrDie();hs.position(ce,oe,{anchor:E}),xn.decloak(A)},onOpenSubmenu:(te,oe,ce)=>{const be=G().getOrDie();hs.position(be,ce,{anchor:{type:"submenu",item:oe}}),xn.decloak(A)},onRepositionMenu:(te,oe,ce)=>{const be=G().getOrDie();hs.position(be,oe,{anchor:E}),ot(ce,we=>{hs.position(be,we.triggeredMenu,{anchor:{type:"submenu",item:we.triggeringItem}})})},onEscape:()=>(ho.focus(w),xn.close(A),O.some(!0))}))}))})(o,s,MC(o,a),a,l,d,p).map(y=>(y.fold(()=>{xn.isOpen(l)&&xn.close(l)},_=>{xn.cloak(l),xn.open(l,_),f(l)}),l)),qD=(o,s,a,l,d,f,p)=>(xn.close(l),Ep(l)),Uy=(o,s,a,l,d,f)=>{const p=Ls.getCoupled(a,"sandbox");return(xn.isOpen(p)?qD:ax)(o,s,a,p,l,d,f)},BC=(o,s)=>o.getSystem().getByUid(s.uid+"-"+wd()).map(a=>()=>re.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>re.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(o))),RT=o=>{xn.getState(o).each(s=>{pp.repositionMenus(s)})},PC=(o,s,a)=>{const l=Sv(),d=BC(s,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:l.id}},behaviours:st(o.sandboxBehaviours,[se.config({store:{mode:"memory",initialValue:s}}),xn.config({onOpen:(f,p)=>{const b=MC(o,s);l.link(s.element),o.matchWidth&&((y,_,E)=>{const w=_n.getCurrent(_).getOr(_),A=ae(y.element);E?Zt(w.element,"min-width",A+"px"):((P,I)=>{q.set(P,I)})(w.element,A)})(b.hotspot,p,o.useMinWidth),o.onOpen(b,f,p),a!==void 0&&a.onOpen!==void 0&&a.onOpen(f,p)},onClose:(f,p)=>{l.unlink(s.element),d().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(f,p)},isPartOf:(f,p,b)=>qm(p,b)||qm(s,b),getAttachPoint:()=>d().getOrDie()}),_n.config({find:f=>xn.getState(f).bind(p=>_n.getCurrent(p))}),Il.config({channels:{...f0({isExtraPart:Le}),...h({doReposition:RT})}})])}},ix=o=>{const s=Ls.getCoupled(o,"sandbox");RT(s)},lx=()=>[Ee("sandboxClasses",[]),Qe("sandboxBehaviours",[_n,Il,xn,se])],DT=ue([Ge("dom"),Ge("fetch"),Bo("onOpen"),di("onExecute"),Ee("getHotspot",O.some),Ee("getAnchorOverrides",ue({})),Sa(),ke("dropdownBehaviours",[Uo,Ls,Kt,ho]),Ge("toggleClass"),Ee("eventOrder",{}),Jo("lazySink"),Ee("matchWidth",!1),Ee("useMinWidth",!1),Jo("role"),Jo("listRole")].concat(lx())),MT=ue([Eu({schema:[nh(),Ee("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),DC()]),Uc=wl({name:"Dropdown",configFields:DT(),partFields:MT(),factory:(o,s,a,l)=>{const d=y=>{xn.getState(y).each(_=>{pp.highlightPrimary(_)})},f=(y,_,E)=>Uy(o,Ct,y,l,_,E),p={expand:y=>{Uo.isOn(y)||f(y,et,is.HighlightNone).get(et)},open:y=>{Uo.isOn(y)||f(y,et,is.HighlightMenuAndItem).get(et)},refetch:y=>Ls.getExistingCoupled(y,"sandbox").fold(()=>f(y,et,is.HighlightMenuAndItem).map(et),_=>ax(o,Ct,y,_,l,et,is.HighlightMenuAndItem).map(et)),isOpen:Uo.isOn,close:y=>{Uo.isOn(y)&&f(y,et,is.HighlightMenuAndItem).get(et)},repositionMenus:y=>{Uo.isOn(y)&&ix(y)}},b=(y,_)=>(qi(y),O.some(!0));return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.dropdownBehaviours,[Uo.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Ls.config({others:{sandbox:y=>PC(o,y,{onOpen:()=>Uo.on(y),onClose:()=>Uo.off(y)})}}),Kt.config({mode:"special",onSpace:b,onEnter:b,onDown:(y,_)=>{if(Uc.isOpen(y)){const E=Ls.getCoupled(y,"sandbox");d(E)}else Uc.open(y);return O.some(!0)},onEscape:(y,_)=>Uc.isOpen(y)?(Uc.close(y),O.some(!0)):O.none()}),ho.config({})]),events:d_(O.some(y=>{f(y,d,is.HighlightMenuAndItem).get(et)})),eventOrder:{...o.eventOrder,[ta()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),y=>({role:y})),...o.dom.tag==="button"?{type:ut(o.dom,"attributes").bind(y=>ut(y,"type")).getOr("button")}:{}}}}},apis:{open:(o,s)=>o.open(s),refetch:(o,s)=>o.refetch(s),expand:(o,s)=>o.expand(s),close:(o,s)=>o.close(s),isOpen:(o,s)=>o.isOpen(s),repositionMenus:(o,s)=>o.repositionMenus(s)}}),BT=(o,s,a)=>{B_(o).each(l=>{var d;((f,p)=>{us(p.element,"id").each(b=>lo(f.element,"aria-activedescendant",b))})(l,a),(cr((d=s).element,P_)?O.some(d.element):Vn(d.element,"."+P_)).each(f=>{us(f,"id").each(p=>lo(l.element,"aria-controls",p))})}),lo(a.element,"aria-selected","true")},LC=(o,s,a)=>{lo(a.element,"aria-selected","false")},PT=o=>Ls.getExistingCoupled(o,"sandbox").bind(H0).map(My).map(s=>s.fetchPattern).getOr("");var ek;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(ek||(ek={}));const GD=(o,s,a,l,d)=>{const f=a.shared.providers,p=y=>d?{...y,shortcut:O.none(),icon:y.text.isSome()?O.none():y.icon}:y;switch(o.type){case"menuitem":return(b=o,tr("menuitem",PD,b)).fold(kd,y=>O.some(((_,E,w,A=!0)=>{const P=Zh({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:O.none(),labelContent:O.none(),ariaLabel:_.text,caret:O.none(),checkMark:O.none(),shortcutContent:_.shortcut},w,A);return jh({context:_.context,data:Du(_),getApi:I=>({isEnabled:()=>!Wt.isDisabled(I),setEnabled:Y=>Wt.set(I,!Y)}),enabled:_.enabled,onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},P,E,w)})(p(y),s,f,l)));case"nestedmenuitem":return(y=>tr("nestedmenuitem",eT,y))(o).fold(kd,y=>O.some(((_,E,w,A=!0,P=!1)=>{const I=P?(Y=w.icons,fC("chevron-down",Y,[Tz])):(J=>fC("chevron-right",J,[Tz]))(w.icons);var Y;const G=Zh({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:O.none(),ariaLabel:_.text,labelContent:O.none(),caret:O.some(I),checkMark:O.none(),shortcutContent:_.shortcut},w,A);return jh({context:_.context,data:Du(_),getApi:J=>({isEnabled:()=>!Wt.isDisabled(J),setEnabled:j=>Wt.set(J,!j),setIconFill:(j,Z)=>{Vn(J.element,`svg path[class="${j}"], rect[class="${j}"]`).each(te=>{lo(te,"fill",Z)})},setTooltip:j=>{const Z=w.translate(j);lo(J.element,"aria-label",Z)}}),enabled:_.enabled,onAction:et,onSetup:_.onSetup,triggersSubmenu:!0,itemBehaviours:[]},G,E,w)})(p(y),s,f,l,d)));case"togglemenuitem":return(y=>tr("togglemenuitem",tT,y))(o).fold(kd,y=>O.some(((_,E,w,A=!0)=>{const P=Zh({iconContent:_.icon,textContent:_.text,htmlContent:O.none(),labelContent:O.none(),ariaLabel:_.text,checkMark:O.some(Y0(w.icons)),caret:O.none(),shortcutContent:_.shortcut,presets:"normal",meta:_.meta},w,A);return Er(jh({context:_.context,data:Du(_),enabled:_.enabled,getApi:I=>({setActive:Y=>{Uo.set(I,Y)},isActive:()=>Uo.isOn(I),isEnabled:()=>!Wt.isDisabled(I),setEnabled:Y=>Wt.set(I,!Y)}),onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},P,E,w),{toggling:{toggleClass:q2,toggleOnExecute:!1,selected:_.active},role:_.role.getOrUndefined()})})(p(y),s,f,l)));case"separator":return(y=>tr("separatormenuitem",Hz,y))(o).fold(kd,y=>O.some(AT(y)));case"fancymenuitem":return(y=>tr("fancymenuitem",BD,y))(o).fold(kd,y=>((_,E)=>ut(UD,_.fancytype).map(w=>w(_,E)))(y,a));default:return console.error("Unknown item in general menu",o),O.none()}var b},KD=(o,s,a,l,d,f,p)=>{const b=l===1,y=!b||V0(o);return hi(Se(o,_=>{switch(_.type){case"separator":return(E=_,tr("Autocompleter.Separator",Hz,E)).fold(kd,w=>O.some(AT(w)));case"cardmenuitem":return(w=>tr("cardmenuitem",lC,w))(_).fold(kd,w=>O.some(((A,P,I,Y)=>{const G={dom:pC(A.label,[]),optComponents:[O.some({dom:{tag:"div",classes:[Oz,Az]},components:fT(A.items,Y)})]};return jh({context:"mode:design",data:Du({text:O.none(),...A}),enabled:A.enabled,getApi:J=>({isEnabled:()=>!Wt.isDisabled(J),setEnabled:j=>{Wt.set(J,!j),ot(Ki(J.element,"*"),Z=>{J.getSystem().getByDom(Z).each(te=>{te.hasConfigured(Wt)&&Wt.set(te,!j)})})}}),onAction:A.onAction,onSetup:A.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(Y.itemBehaviours).getOr([])},G,P,I.providers)})({...w,onAction:A=>{w.onAction(A),a(w.value,w.meta)}},d,f,{itemBehaviours:gC(w.meta,f,O.none()),cardText:{matchText:s,highlightOn:p}})));default:return(w=>tr("Autocompleter.Item",CD,w))(_).fold(kd,w=>O.some(((A,P,I,Y,G,J,j,Z=!0)=>{const te=Zh({presets:Y,textContent:O.none(),htmlContent:I?A.text.map(ce=>uT(ce,P)):O.none(),ariaLabel:A.text,labelContent:O.none(),iconContent:A.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:A.value},j.providers,Z,A.icon),oe=A.text.filter(ce=>!I&&ce!=="");return jh({context:"mode:design",data:Du(A),enabled:A.enabled,getApi:ue({}),onAction:ce=>G(A.value,A.meta),onSetup:ue(et),triggersSubmenu:!1,itemBehaviours:gC(A,j,oe)},te,J,j.providers)})(w,s,b,"normal",a,d,f,y)))}var E}))},tk=(o,s,a,l,d,f)=>{const p=V0(s),b=hi(Se(s,_=>{const E=w=>GD(w,a,l,(A=>d?!ko(A,"text"):p)(w),d);return _.type==="nestedmenuitem"&&_.getSubmenuItems().length<=0?E({..._,enabled:!1}):E(_)})),y=(_=>_.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:_})(f);return(d?bD:I_)(o,p,b,1,y)},IC=o=>pp.singleData(o.value,o),cx=o=>tp(_t(o.startContainer),o.startOffset,_t(o.endContainer),o.endOffset),ok=(o,s)=>{const a=wt("autocompleter"),l=Mt(!1),d=Mt(!1),f=cn(),p=qs(Kn.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:xe([wo("dismissAutocompleter",[je(Gu(),()=>w()),je(vr(),(I,Y)=>{us(Y.event.target,"id").each(G=>lo(_t(o.getBody()),"aria-activedescendant",G))})])]),lazySink:s.getSink})),b=()=>Kn.isOpen(p),y=d.get,_=()=>{if(b()){Kn.hide(p),o.dom.remove(a,!1);const I=_t(o.getBody());us(I,"aria-owns").filter(Y=>Y===a).each(()=>{Ur(I,"aria-owns"),Ur(I,"aria-activedescendant")})}},E=()=>Kn.getContent(p).bind(I=>yt(I.components(),0)),w=()=>o.execCommand("mceAutocompleterClose"),A=I=>{const Y=(G=>{const J=mo(G,j=>O.from(j.columns)).getOr(1);return Go(G,j=>{const Z=j.items;return KD(Z,j.matchText,(te,oe)=>{const ce={hide:()=>w(),reload:be=>{_(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:be})}};o.execCommand("mceAutocompleterRefreshActiveRange"),f.get().each(be=>{l.set(!0),j.onAction(ce,be,te,oe),l.set(!1)})},J,Au.BUBBLE_TO_SANDBOX,s,j.highlightOn)})})(I);Y.length>0?(((G,J)=>{const j=mo(G,Z=>O.from(Z.columns)).getOr(1);Kn.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>f.get().map(cx),root:_t(o.getBody())}},((Z,te,oe,ce)=>{const be=sx(te,ce),we=am(ce);return{data:IC({...Z,movement:be,menuBehaviours:W0(te!=="auto"?[]:[Jn((Ae,Ue)=>{cC(Ae,4,we.item).each(({numColumns:$e,numRows:Ye})=>{Kt.setGridSize(Ae,Ye,$e)})})])}),menu:{markers:am(ce),fakeFocus:oe===ek.ContentFocus}}})(I_("autocompleter-value",!0,J,j,{menuType:"normal"}),j,ek.ContentFocus,"normal")),E().each($n.highlightFirst)})(I,Y),lo(_t(o.getBody()),"aria-owns",a),o.inline||P()):_()},P=()=>{o.dom.get(a)&&o.dom.remove(a,!1);const I=o.getDoc().documentElement,Y=o.selection.getNode(),G=(J=>hv(J,!0))(p.element);ti(G,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Y.offsetTop}px`,left:`${Y.offsetLeft}px`}),o.dom.add(I,G.dom),Vn(G,'[role="menu"]').each(J=>{an(J,"position"),an(J,"max-height")})};o.on("AutocompleterStart",({lookupData:I})=>{d.set(!0),l.set(!1),A(I)}),o.on("AutocompleterUpdate",({lookupData:I})=>A(I)),o.on("AutocompleterUpdateActiveRange",({range:I})=>f.set(I)),o.on("AutocompleterEnd",()=>{_(),d.set(!1),l.set(!1),f.clear()}),((I,Y)=>{const G=(j,Z)=>{Vt(j,Kr(),{raw:Z})},J=()=>I.getMenu().bind($n.getHighlighted);Y.on("keydown",j=>{const Z=j.which;I.isActive()&&(I.isMenuOpen()?Z===13?(J().each(qi),j.preventDefault()):Z===40?(J().fold(()=>{I.getMenu().each($n.highlightFirst)},te=>{G(te,j)}),j.preventDefault(),j.stopImmediatePropagation()):Z!==37&&Z!==38&&Z!==39||J().each(te=>{G(te,j),j.preventDefault(),j.stopImmediatePropagation()}):Z!==13&&Z!==38&&Z!==40||I.cancelIfNecessary())}),Y.on("NodeChange",()=>{!I.isActive()||I.isProcessingAction()||Y.queryCommandState("mceAutoCompleterInRange")||I.cancelIfNecessary()})})({cancelIfNecessary:w,isMenuOpen:b,isActive:y,isProcessingAction:l.get,getMenu:E},o)},jy=(o,s,a)=>Ui(o,s,a).isSome(),FC=(o,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...l)=>{a=setTimeout(()=>{o.apply(null,l),a=null},s)}}},LT=o=>{const s=o.raw;return s.touches===void 0||s.touches.length!==1?O.none():O.some(s.touches[0])},YD=(o,s)=>{const a={stopBackspace:!0,...s},l=(w=>{const A=cn(),P=Mt(!1),I=FC(G=>{w.triggerEvent(Bl(),G),P.set(!0)},400),Y=U([{key:Ln(),value:G=>(LT(G).each(J=>{I.cancel();const j={x:J.clientX,y:J.clientY,target:G.target};I.schedule(G),P.set(!1),A.set(j)}),O.none())},{key:ns(),value:G=>(I.cancel(),LT(G).each(J=>{A.on(j=>{((Z,te)=>{const oe=Math.abs(Z.clientX-te.x),ce=Math.abs(Z.clientY-te.y);return oe>5||ce>5})(J,j)&&A.clear()})}),O.none())},{key:Wi(),value:G=>(I.cancel(),A.get().filter(J=>yn(J.target,G.target)).map(J=>P.get()?(G.prevent(),!1):w.triggerEvent(ad(),G)))}]);return{fireIfReady:(G,J)=>ut(Y,J).bind(j=>j(G))}})(a),d=Se(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),w=>Gi(o,w,A=>{l.fireIfReady(A,w).each(P=>{P&&A.kill()}),a.triggerEvent(w,A)&&A.kill()})),f=cn(),p=Gi(o,"paste",w=>{l.fireIfReady(w,"paste").each(A=>{A&&w.kill()}),a.triggerEvent("paste",w)&&w.kill(),f.set(setTimeout(()=>{a.triggerEvent(Hf(),w)},0))}),b=Gi(o,"keydown",w=>{a.triggerEvent("keydown",w)?w.kill():a.stopBackspace&&(A=>A.raw.which===vR[0]&&!Je(["input","textarea"],Ia(A.target))&&!jy(A.target,'[contenteditable="true"]'))(w)&&w.prevent()}),y=Gi(o,"focusin",w=>{a.triggerEvent("focusin",w)&&w.kill()}),_=cn(),E=Gi(o,"focusout",w=>{a.triggerEvent("focusout",w)&&w.kill(),_.set(setTimeout(()=>{a.triggerEvent(bl(),w)},0))});return{unbind:()=>{ot(d,w=>{w.unbind()}),b.unbind(),y.unbind(),E.unbind(),p.unbind(),f.on(clearTimeout),_.on(clearTimeout)}}},IT=(o,s)=>{const a=ut(o,"target").getOr(s);return Mt(a)},dx=S([{stopped:[]},{resume:["element"]},{complete:[]}]),nk=(o,s,a,l,d,f)=>{const p=o(s,l),b=((y,_)=>{const E=Mt(!1),w=Mt(!1);return{stop:()=>{E.set(!0)},cut:()=>{w.set(!0)},isStopped:E.get,isCut:w.get,event:y,setSource:_.set,getSource:_.get}})(a,d);return p.fold(()=>(f.logEventNoHandlers(s,l),dx.complete()),y=>{const _=y.descHandler;return V1(_)(b),b.isStopped()?(f.logEventStopped(s,y.element,_.purpose),dx.stopped()):b.isCut()?(f.logEventCut(s,y.element,_.purpose),dx.complete()):os(y.element).fold(()=>(f.logNoParent(s,y.element,_.purpose),dx.complete()),E=>(f.logEventResponse(s,y.element,_.purpose),dx.resume(E)))})},HC=(o,s,a,l,d,f)=>nk(o,s,a,l,d,f).fold(jt,p=>HC(o,s,a,p,d,f),Le),VC=(o,s,a,l,d)=>{const f=IT(a,l);return HC(o,s,a,l,f,d)},$C=()=>{const o=(()=>{const l={};return{registerId:(d,f,p)=>{er(p,(b,y)=>{const _=l[y]!==void 0?l[y]:{};_[f]=((E,w)=>({cHandler:qe.apply(void 0,[E.handler].concat(w)),purpose:E.purpose}))(b,d),l[y]=_})},unregisterId:d=>{er(l,(f,p)=>{ko(f,d)&&delete f[d]})},filterByType:d=>ut(l,d).map(f=>$r(f,(p,b)=>((y,_)=>({id:y,descHandler:_}))(b,p))).getOr([]),find:(d,f,p)=>ut(l,f).bind(b=>nt(p,y=>((_,E)=>rg(E).bind(w=>ut(_,w)).map(w=>((A,P)=>({element:A,descHandler:P}))(E,w)))(b,y),d))}})(),s={},a=l=>{rg(l.element).each(d=>{delete s[d],o.unregisterId(d)})};return{find:(l,d,f)=>o.find(l,d,f),filter:l=>o.filterByType(l),register:l=>{const d=(p=>{const b=p.element;return rg(b).getOrThunk(()=>((y,_)=>{const E=wt(H1+"uid-");return Db(_,E),E})(0,p.element))})(l);Io(s,d)&&((p,b)=>{const y=s[b];if(y!==p)throw new Error('The tagId "'+b+'" is already used by: '+$m(y.element)+`
Cannot use it for: `+$m(p.element)+`
The conflicting element is`+(qn(y.element)?" ":" not ")+"already in the DOM");a(p)})(l,d);const f=[l];o.registerId(f,d,l.events),s[d]=l},unregister:a,getById:l=>ut(s,l)}},yf=yd({name:"Container",factory:o=>{const{attributes:s,...a}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:o.components,behaviours:We(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Ee("components",[]),ke("containerBehaviours",[]),Ee("events",{}),Ee("domModification",{}),Ee("eventOrder",{})]}),rk=o=>{const s=G=>os(o.element).fold(jt,J=>yn(G,J)),a=$C(),l=(G,J)=>a.find(s,G,J),d=YD(o.element,{triggerEvent:(G,J)=>Ab(G,J.target,j=>((Z,te,oe,ce)=>VC(Z,te,oe,oe.target,ce))(l,G,J,j))}),f={debugInfo:ue("real"),triggerEvent:(G,J,j)=>{Ab(G,J,Z=>VC(l,G,j,J,Z))},triggerFocus:(G,J)=>{rg(G).fold(()=>{Ba(G)},j=>{Ab(Nc(),G,Z=>(((te,oe,ce,be,we)=>{const Ae=IT(ce,be);nk(te,oe,ce,be,Ae,we)})(l,Nc(),{originator:J,kill:et,prevent:et,target:G},G,Z),!1))})},triggerEscape:(G,J)=>{f.triggerEvent("keydown",G.element,J.event)},getByUid:G=>I(G),getByDom:G=>Y(G),build:qs,buildOrPatch:Fb,addToGui:G=>{y(G)},removeFromGui:G=>{_(G)},addToWorld:G=>{p(G)},removeFromWorld:G=>{b(G)},broadcast:G=>{w(G)},broadcastOn:(G,J)=>{A(G,J)},broadcastEvent:(G,J)=>{P(G,J)},isConnected:jt},p=G=>{G.connect(f),ma(G.element)||(a.register(G),ot(G.components(),p),f.triggerEvent(ac(),G.element,{target:G.element}))},b=G=>{ma(G.element)||(ot(G.components(),b),a.unregister(G)),G.disconnect()},y=G=>{em(o,G)},_=G=>{wu(G)},E=G=>{const J=a.filter(At());ot(J,j=>{const Z=j.descHandler;V1(Z)(G)})},w=G=>{E({universal:!0,data:G})},A=(G,J)=>{E({universal:!1,channels:G,data:J})},P=(G,J)=>((j,Z)=>{const te=(oe=>{const ce=Mt(!1);return{stop:()=>{ce.set(!0)},cut:et,isStopped:ce.get,isCut:Le,event:oe,setSource:ar("Cannot set source of a broadcasted event"),getSource:ar("Cannot get source of a broadcasted event")}})(Z);return ot(j,oe=>{const ce=oe.descHandler;V1(ce)(te)}),te.isStopped()})(a.filter(G),J),I=G=>a.getById(G).fold(()=>re.error(new Error('Could not find component with uid: "'+G+'" in system.')),re.value),Y=G=>{const J=rg(G).getOr("not found");return I(J)};return p(o),{root:o,element:o.element,destroy:()=>{d.unbind(),Nl(o.element)},add:y,remove:_,getByUid:I,getByDom:Y,addToWorld:p,removeFromWorld:b,broadcast:w,broadcastOn:A,broadcastEvent:P}},XD=ue([Ee("prefix","form-field"),ke("fieldBehaviours",[_n,se])]),JD=ue([Yd({schema:[Ge("dom")],name:"label"}),Yd({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ge("text")],name:"aria-descriptor"}),rl({factory:{sketch:o=>{const s=((a,l)=>{const d={};return er(a,(f,p)=>{Je(l,p)||(d[p]=f)}),d})(o,["factory"]);return o.factory.sketch(s)}},schema:[Ge("factory")],name:"field"})]),tn=wl({name:"FormField",configFields:XD(),partFields:JD(),factory:(o,s,a,l)=>{const d=Fe(o.fieldBehaviours,[_n.config({find:b=>Lr(b,o,"field")}),se.config({store:{mode:"manual",getValue:b=>_n.getCurrent(b).bind(se.getValue),setValue:(b,y)=>{_n.getCurrent(b).each(_=>{se.setValue(_,y)})}}})]),f=mr([Jn((b,y)=>{const _=$3(b,o,["label","field","aria-descriptor"]);_.field().each(E=>{const w=wt(o.prefix);_.label().each(A=>{lo(A.element,"for",w),lo(E.element,"id",w)}),_["aria-descriptor"]().each(A=>{const P=wt(o.prefix);lo(A.element,"id",P),lo(E.element,"aria-describedby",P)})})})]),p={getField:b=>Lr(b,o,"field"),getLabel:b=>Lr(b,o,"label")};return{uid:o.uid,dom:o.dom,components:s,behaviours:d,events:f,apis:p}},apis:{getField:(o,s)=>o.getField(s),getLabel:(o,s)=>o.getLabel(s)}});var FT=tinymce.util.Tools.resolve("tinymce.html.Entities");const ux=(o,s,a,l)=>{const d=QD(o,s,a,l);return tn.sketch(d)},QD=(o,s,a,l)=>({dom:sk(a),components:o.toArray().concat([s]),fieldBehaviours:xe(l)}),sk=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),zp=(o,s)=>tn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Or(s.translate(o))]}),$l=wt("form-component-change"),HT=wt("form-component-input"),Xh=wt("form-close"),Og=wt("form-cancel"),dm=wt("form-action"),fx=wt("form-submit"),UC=wt("form-block"),jC=wt("form-unblock"),ZC=wt("form-tabchange"),ak=wt("form-resize"),e7=(o,s,a)=>{const l=o.label.map(w=>zp(w,s)),d=s.icons(),f=w=>(A,P)=>{Ui(P.event.target,"[data-collection-item-value]").each(I=>{w(A,P,I,ds(I,"data-collection-item-value"))})},p=f((w,A,P,I)=>{A.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||Vt(w,dm,{name:o.name,value:I})}),b=[je(Oi(),f((w,A,P)=>{Ba(P,!0)})),je(Oc(),p),je(ad(),p),je(hl(),f((w,A,P)=>{Vn(w.element,"."+Lh).each(I=>{lr(I,Lh)}),Tr(P,Lh)})),je(Xp(),f(w=>{Vn(w.element,"."+Lh).each(A=>{lr(A,Lh),cg(A)})})),Wd(f((w,A,P,I)=>{Vt(w,dm,{name:o.name,value:I})}))],y=(w,A)=>Se(Ki(w.element,".tox-collection__item"),A),_=tn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ct},behaviours:xe([Wt.config({disabled:()=>s.checkUiComponentContext(o.context).shouldDisable,onDisabled:w=>{y(w,A=>{Tr(A,"tox-collection__item--state-disabled"),lo(A,"aria-disabled",!0)})},onEnabled:w=>{y(w,A=>{lr(A,"tox-collection__item--state-disabled"),Ur(A,"aria-disabled")})}}),Jr(()=>s.checkUiComponentContext(o.context)),yo.config({}),Xr.config({...s.tooltips.getConfig({tooltipText:"",onShow:w=>{Vn(w.element,"."+Lh+"[data-mce-tooltip]").each(A=>{us(A,"data-mce-tooltip").each(P=>{Xr.setComponents(w,s.tooltips.getComponents({tooltipText:P}))})})}}),mode:"children-keyboard-focus",anchor:w=>({type:"node",node:Vn(w.element,"."+Lh).orThunk(()=>Rd(".tox-collection__item")),root:w.element,layouts:{onLtr:ue([gs,vs,Ts,Za,Ms,da]),onRtl:ue([gs,vs,Ts,Za,Ms,da])},bubble:_l(0,-2,{})})}),se.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(w,A)=>{((P,I)=>{const Y=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",G=Se(I,Z=>{const te=Jd.translate(Z.text),oe=o.columns===1?`<div class="tox-collection__item-label">${te}</div>`:"",ce=`<div class="tox-collection__item-icon">${(Ae=>{var Ue;return(Ue=d[Ae])!==null&&Ue!==void 0?Ue:Ae})(Z.icon)}</div>`,be={_:" "," - ":" ","-":" "},we=te.replace(/\_| \- |\-/g,Ae=>be[Ae]);return`<div data-mce-tooltip="${we}" class="tox-collection__item${Y}" tabindex="-1" data-collection-item-value="${FT.encodeAllRaw(Z.value)}" aria-label="${we}">${ce}${oe}</div>`}),J=o.columns!=="auto"&&o.columns>1?De(G,o.columns):[G],j=Se(J,Z=>`<div class="tox-collection__group">${Z.join("")}</div>`);of(P.element,j.join(""))})(w,A),o.columns==="auto"&&cC(w,5,"tox-collection__item").each(({numRows:P,numColumns:I})=>{Kt.setGridSize(w,P,I)}),Vo(w,ak)}}),_r.config({}),Kt.config((E=o.columns,E===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:E==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${R_}`}})),wo("collection-events",b)]),eventOrder:{[ta()]:["disabling","alloy.base.behaviour","collection-events"],[hl()]:["collection-events","tooltipping"]}});var E;return ux(l,_,["tox-form__group--collection"],[])},ik=["input","textarea"],VT=o=>{const s=Ia(o);return Je(ik,s)},$T=(o,s)=>{const a=s.getRoot(o).getOr(o.element);lr(a,s.invalidClass),s.notify.each(l=>{VT(o.element)&&lo(o.element,"aria-invalid",!1),l.getContainer(o).each(d=>{of(d,l.validHtml)}),l.onValid(o)})},UT=(o,s,a,l)=>{const d=s.getRoot(o).getOr(o.element);Tr(d,s.invalidClass),s.notify.each(f=>{VT(o.element)&&lo(o.element,"aria-invalid",!0),f.getContainer(o).each(p=>{of(p,l)}),f.onInvalid(o,l)})},jT=(o,s,a)=>s.validator.fold(()=>Ep(re.value(!0)),l=>l.validate(o)),WC=(o,s,a)=>(s.notify.each(l=>{l.onValidate(o)}),jT(o,s).map(l=>o.getSystem().isConnected()?l.fold(d=>(UT(o,s,0,d),re.error(d)),d=>($T(o,s),re.value(d))):re.error("No longer in system")));var t7=Object.freeze({__proto__:null,markValid:$T,markInvalid:UT,query:jT,run:WC,isInvalid:(o,s)=>{const a=s.getRoot(o).getOr(o.element);return cr(a,s.invalidClass)}}),ZT=Object.freeze({__proto__:null,events:(o,s)=>o.validator.map(a=>mr([je(a.onEvent,l=>{WC(l,o).get(Ct)})].concat(a.validateOnLoad?[Jn(l=>{WC(l,o).get(et)})]:[]))).getOr({})}),o7=[Ge("invalidClass"),Ee("getRoot",O.none),dn("notify",[Ee("aria","alert"),Ee("getContainer",O.none),Ee("validHtml",""),Bo("onValid"),Bo("onInvalid"),Bo("onValidate")]),dn("validator",[Ge("validate"),Ee("onEvent","input"),Ee("validateOnLoad",!0)])];const um=Gt({fields:o7,name:"invalidating",active:ZT,apis:t7,extra:{validation:o=>s=>{const a=se.getValue(s);return Ep(o(a))}}}),Jh=Gt({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>mr([Sb(wb(),jt)]),exhibit:()=>k({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),Ag=wt("color-input-change"),WT=wt("color-swatch-change"),qT=wt("color-picker-cancel"),qC=Yd({schema:[Ge("dom")],name:"label"}),Tp=o=>Yd({name:o+"-edge",overrides:s=>s.model.manager.edgeActions[o].fold(()=>({}),a=>({events:mr([Xu(Ln(),(l,d,f)=>a(l,f),[s]),Xu(Da(),(l,d,f)=>a(l,f),[s]),Xu(Bm(),(l,d,f)=>{f.mouseIsDown.get()&&a(l,f)},[s])])}))}),n7=Tp("top-left"),r7=Tp("top"),GT=Tp("top-right"),s7=Tp("right"),KT=Tp("bottom-right"),YT=Tp("bottom"),GC=Tp("bottom-left"),a7=Tp("left"),XT=rl({name:"thumb",defaults:ue({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:mr([Ju(Ln(),o,"spectrum"),Ju(ns(),o,"spectrum"),Ju(Wi(),o,"spectrum"),Ju(Da(),o,"spectrum"),Ju(Bm(),o,"spectrum"),Ju(Ds(),o,"spectrum")])})}),lk=o=>wh(o.event);var mx=[qC,a7,s7,r7,YT,n7,GT,GC,KT,XT,rl({schema:[ca("mouseIsDown",()=>Mt(!1))],name:"spectrum",overrides:o=>{const s=o.model.manager,a=(l,d)=>s.getValueFromEvent(d).map(f=>s.setValueFrom(l,o,f));return{behaviours:xe([Kt.config({mode:"special",onLeft:(l,d)=>s.onLeft(l,o,lk(d)),onRight:(l,d)=>s.onRight(l,o,lk(d)),onUp:(l,d)=>s.onUp(l,o,lk(d)),onDown:(l,d)=>s.onDown(l,o,lk(d))}),_r.config({}),ho.config({})]),events:mr([je(Ln(),a),je(ns(),a),je(Da(),a),je(Bm(),(l,d)=>{o.mouseIsDown.get()&&a(l,d)})])}}})];const px=ue("slider.change.value"),KC=o=>{const s=o.event.raw;if((a=>a.type.indexOf("touch")!==-1)(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?O.some(a.touches[0]).map(l=>Dn(l.clientX,l.clientY)):O.none()}{const a=s;return a.clientX!==void 0?O.some(a).map(l=>Dn(l.clientX,l.clientY)):O.none()}},Op=o=>o.model.minX,Ap=o=>o.model.minY,ck=o=>o.model.minX-1,Zy=o=>o.model.minY-1,Qh=o=>o.model.maxX,eb=o=>o.model.maxY,Wy=o=>o.model.maxX+1,dk=o=>o.model.maxY+1,JT=(o,s,a)=>s(o)-a(o),YC=o=>JT(o,Qh,Op),XC=o=>JT(o,eb,Ap),QT=o=>YC(o)/2,e5=o=>XC(o)/2,qy=(o,s)=>s?o.stepSize*o.speedMultiplier:o.stepSize,t5=o=>o.snapToGrid,o5=o=>o.snapStart,n5=o=>o.rounded,uk=(o,s)=>o[s+"-edge"]!==void 0,r5=o=>uk(o,"left"),fk=o=>uk(o,"right"),s5=o=>uk(o,"top"),a5=o=>uk(o,"bottom"),Np=o=>o.model.value.get(),Rp=(o,s)=>({x:o,y:s}),Mu=(o,s)=>{Vt(o,px(),{value:s})},JC=(o,s,a,l)=>o<s?o:o>a?a:o===s?s-1:Math.max(s,o-l),QC=(o,s,a,l)=>o>a?o:o<s?s:o===a?a+1:Math.min(a,o+l),i5=(o,s,a)=>Math.max(s,Math.min(a,o)),l5=o=>{const{min:s,max:a,range:l,value:d,step:f,snap:p,snapStart:b,rounded:y,hasMinEdge:_,hasMaxEdge:E,minBound:w,maxBound:A,screenRange:P}=o,I=_?s-1:s,Y=E?a+1:a;if(d<w)return I;if(d>A)return Y;{const G=((j,Z,te)=>Math.min(te,Math.max(j,Z))-Z)(d,w,A),J=i5(G/P*l+s,I,Y);return p&&J>=s&&J<=a?((j,Z,te,oe,ce)=>ce.fold(()=>{const be=j-Z,we=Math.round(be/oe)*oe;return i5(Z+we,Z-1,te+1)},be=>{const we=(j-be)%oe,Ae=Math.round(we/oe),Ue=Math.floor((j-be)/oe),$e=Math.floor((te-be)/oe),Ye=be+Math.min($e,Ue+Ae)*oe;return Math.max(be,Ye)}))(J,s,a,f,b):y?Math.round(J):J}},c5=o=>{const{min:s,max:a,range:l,value:d,hasMinEdge:f,hasMaxEdge:p,maxBound:b,maxOffset:y,centerMinEdge:_,centerMaxEdge:E}=o;return d<s?f?0:_:d>a?p?b:E:(d-s)/l*y},gx="top",d5="right",u5="bottom",eS="left",fm=o=>o.element.dom.getBoundingClientRect(),Bu=(o,s)=>o[s],mk=o=>{const s=fm(o);return Bu(s,eS)},f5=o=>{const s=fm(o);return Bu(s,d5)},pk=o=>{const s=fm(o);return Bu(s,gx)},m5=o=>{const s=fm(o);return Bu(s,u5)},p5=o=>{const s=fm(o);return Bu(s,"width")},g5=o=>{const s=fm(o);return Bu(s,"height")},h5=(o,s,a)=>(o+s)/2-a,b5=(o,s)=>{const a=fm(o),l=fm(s),d=Bu(a,eS),f=Bu(a,d5),p=Bu(l,eS);return h5(d,f,p)},y5=(o,s)=>{const a=fm(o),l=fm(s),d=Bu(a,gx),f=Bu(a,u5),p=Bu(l,gx);return h5(d,f,p)},tb=(o,s)=>{Vt(o,px(),{value:s})},tS=(o,s,a)=>{const l={min:Op(s),max:Qh(s),range:YC(s),value:a,step:qy(s),snap:t5(s),snapStart:o5(s),rounded:n5(s),hasMinEdge:r5(s),hasMaxEdge:fk(s),minBound:mk(o),maxBound:f5(o),screenRange:p5(o)};return l5(l)},gk=o=>(s,a,l)=>((d,f,p,b)=>{const y=(d>0?QC:JC)(Np(p),Op(p),Qh(p),qy(p,b));return tb(f,y),O.some(y)})(o,s,a,l).map(jt),oS=(o,s,a,l,d,f)=>{const p=((b,y,_,E,w)=>{const A=p5(b),P=E.bind(G=>O.some(b5(G,b))).getOr(0),I=w.bind(G=>O.some(b5(G,b))).getOr(A),Y={min:Op(y),max:Qh(y),range:YC(y),value:_,hasMinEdge:r5(y),hasMaxEdge:fk(y),minBound:mk(b),maxBound:f5(b),maxOffset:A,centerMinEdge:P,centerMaxEdge:I};return c5(Y)})(s,f,a,l,d);return mk(s)-mk(o)+p},i7=gk(-1),l7=gk(1),x5=O.none,c7=O.none,nS={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some((o,s)=>{Mu(o,Wy(s))}),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some((o,s)=>{Mu(o,ck(s))})};var rS=Object.freeze({__proto__:null,setValueFrom:(o,s,a)=>{const l=tS(o,s,a);return tb(o,l),l},setToMin:(o,s)=>{const a=Op(s);tb(o,a)},setToMax:(o,s)=>{const a=Qh(s);tb(o,a)},findValueOfOffset:tS,getValueFromEvent:o=>KC(o).map(s=>s.left),findPositionOfValue:oS,setPositionFromValue:(o,s,a,l)=>{const d=Np(a),f=oS(o,l.getSpectrum(o),d,l.getLeftEdge(o),l.getRightEdge(o),a),p=ae(s.element)/2;Zt(s.element,"left",f-p+"px")},onLeft:i7,onRight:l7,onUp:x5,onDown:c7,edgeActions:nS});const hx=(o,s)=>{Vt(o,px(),{value:s})},bx=(o,s,a)=>{const l={min:Ap(s),max:eb(s),range:XC(s),value:a,step:qy(s),snap:t5(s),snapStart:o5(s),rounded:n5(s),hasMinEdge:s5(s),hasMaxEdge:a5(s),minBound:pk(o),maxBound:m5(o),screenRange:g5(o)};return l5(l)},yx=o=>(s,a,l)=>((d,f,p,b)=>{const y=(d>0?QC:JC)(Np(p),Ap(p),eb(p),qy(p,b));return hx(f,y),O.some(y)})(o,s,a,l).map(jt),hk=(o,s,a,l,d,f)=>{const p=((b,y,_,E,w)=>{const A=g5(b),P=E.bind(G=>O.some(y5(G,b))).getOr(0),I=w.bind(G=>O.some(y5(G,b))).getOr(A),Y={min:Ap(y),max:eb(y),range:XC(y),value:_,hasMinEdge:s5(y),hasMaxEdge:a5(y),minBound:pk(b),maxBound:m5(b),maxOffset:A,centerMinEdge:P,centerMaxEdge:I};return c5(Y)})(s,f,a,l,d);return pk(s)-pk(o)+p},mm=O.none,sS=O.none,d7=yx(-1),u7=yx(1),f7={"top-left":O.none(),top:O.some((o,s)=>{Mu(o,Zy(s))}),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some((o,s)=>{Mu(o,dk(s))}),"bottom-left":O.none(),left:O.none()};var m7=Object.freeze({__proto__:null,setValueFrom:(o,s,a)=>{const l=bx(o,s,a);return hx(o,l),l},setToMin:(o,s)=>{const a=Ap(s);hx(o,a)},setToMax:(o,s)=>{const a=eb(s);hx(o,a)},findValueOfOffset:bx,getValueFromEvent:o=>KC(o).map(s=>s.top),findPositionOfValue:hk,setPositionFromValue:(o,s,a,l)=>{const d=Np(a),f=hk(o,l.getSpectrum(o),d,l.getTopEdge(o),l.getBottomEdge(o),a),p=Cr(s.element)/2;Zt(s.element,"top",f-p+"px")},onLeft:mm,onRight:sS,onUp:d7,onDown:u7,edgeActions:f7});const Ng=(o,s)=>{Vt(o,px(),{value:s})},bk=(o,s)=>({x:o,y:s}),xx=(o,s)=>(a,l,d)=>((f,p,b,y,_)=>{const E=f>0?QC:JC,w=p?Np(y).x:E(Np(y).x,Op(y),Qh(y),qy(y,_)),A=p?E(Np(y).y,Ap(y),eb(y),qy(y,_)):Np(y).y;return Ng(b,bk(w,A)),O.some(w)})(o,s,a,l,d).map(jt),aS=xx(-1,!1),p7=xx(1,!1),iS=xx(-1,!0),lS=xx(1,!0),g7={"top-left":O.some((o,s)=>{Mu(o,Rp(ck(s),Zy(s)))}),top:O.some((o,s)=>{Mu(o,Rp(QT(s),Zy(s)))}),"top-right":O.some((o,s)=>{Mu(o,Rp(Wy(s),Zy(s)))}),right:O.some((o,s)=>{Mu(o,Rp(Wy(s),e5(s)))}),"bottom-right":O.some((o,s)=>{Mu(o,Rp(Wy(s),dk(s)))}),bottom:O.some((o,s)=>{Mu(o,Rp(QT(s),dk(s)))}),"bottom-left":O.some((o,s)=>{Mu(o,Rp(ck(s),dk(s)))}),left:O.some((o,s)=>{Mu(o,Rp(ck(s),e5(s)))})};var v5=Object.freeze({__proto__:null,setValueFrom:(o,s,a)=>{const l=tS(o,s,a.left),d=bx(o,s,a.top),f=bk(l,d);return Ng(o,f),f},setToMin:(o,s)=>{const a=Op(s),l=Ap(s);Ng(o,bk(a,l))},setToMax:(o,s)=>{const a=Qh(s),l=eb(s);Ng(o,bk(a,l))},getValueFromEvent:o=>KC(o),setPositionFromValue:(o,s,a,l)=>{const d=Np(a),f=oS(o,l.getSpectrum(o),d.x,l.getLeftEdge(o),l.getRightEdge(o),a),p=hk(o,l.getSpectrum(o),d.y,l.getTopEdge(o),l.getBottomEdge(o),a),b=ae(s.element)/2,y=Cr(s.element)/2;Zt(s.element,"left",f-b+"px"),Zt(s.element,"top",p-y+"px")},onLeft:aS,onRight:p7,onUp:iS,onDown:lS,edgeActions:g7});const ou=wl({name:"Slider",configFields:[Ee("stepSize",1),Ee("speedMultiplier",10),Ee("onChange",et),Ee("onChoose",et),Ee("onInit",et),Ee("onDragStart",et),Ee("onDragEnd",et),Ee("snapToGrid",!1),Ee("rounded",!0),Jo("snapStart"),Qs("model",Ua("mode",{x:[Ee("minX",0),Ee("maxX",100),ca("value",o=>Mt(o.mode.minX)),Ge("getInitialValue"),Yr("manager",rS)],y:[Ee("minY",0),Ee("maxY",100),ca("value",o=>Mt(o.mode.minY)),Ge("getInitialValue"),Yr("manager",m7)],xy:[Ee("minX",0),Ee("maxX",100),Ee("minY",0),Ee("maxY",100),ca("value",o=>Mt({x:o.mode.minX,y:o.mode.minY})),Ge("getInitialValue"),Yr("manager",v5)]})),ke("sliderBehaviours",[Kt,se]),ca("mouseIsDown",()=>Mt(!1))],partFields:mx,factory:(o,s,a,l)=>{const d=j=>vg(j,o,"thumb"),f=j=>vg(j,o,"spectrum"),p=j=>Lr(j,o,"left-edge"),b=j=>Lr(j,o,"right-edge"),y=j=>Lr(j,o,"top-edge"),_=j=>Lr(j,o,"bottom-edge"),E=o.model,w=E.manager,A=(j,Z)=>{w.setPositionFromValue(j,Z,o,{getLeftEdge:p,getRightEdge:b,getTopEdge:y,getBottomEdge:_,getSpectrum:f})},P=(j,Z)=>{E.value.set(Z);const te=d(j);A(j,te)},I=j=>{const Z=o.mouseIsDown.get();o.mouseIsDown.set(!1),Z&&Lr(j,o,"thumb").each(te=>{const oe=E.value.get();o.onChoose(j,te,oe)})},Y=(j,Z)=>{Z.stop(),o.mouseIsDown.set(!0),o.onDragStart(j,d(j))},G=(j,Z)=>{Z.stop(),o.onDragEnd(j,d(j)),I(j)},J=j=>{Lr(j,o,"spectrum").map(Kt.focusIn)};return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.sliderBehaviours,[Kt.config({mode:"special",focusIn:J}),se.config({store:{mode:"manual",getValue:j=>E.value.get(),setValue:P}}),Il.config({channels:{[u0()]:{onReceive:I}}})]),events:mr([je(px(),(j,Z)=>{((te,oe)=>{P(te,oe);const ce=d(te);o.onChange(te,ce,oe)})(j,Z.event.value)}),Jn((j,Z)=>{const te=E.getInitialValue();E.value.set(te);const oe=d(j);A(j,oe);const ce=f(j);o.onInit(j,oe,ce,E.value.get())}),je(Ln(),Y),je(Wi(),G),je(Da(),(j,Z)=>{J(j),Y(j,Z)}),je(Ds(),G)]),apis:{resetToMin:j=>{w.setToMin(j,o)},resetToMax:j=>{w.setToMax(j,o)},setValue:P,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,s,a)=>{o.setValue(s,a)},resetToMin:(o,s)=>{o.resetToMin(s)},resetToMax:(o,s)=>{o.resetToMax(s)},refresh:(o,s)=>{o.refresh(s)}}}),cS=wt("rgb-hex-update"),dS=wt("slider-update"),uS=wt("palette-update"),_5="form",h7=[ke("formBehaviours",[se])],k5=o=>"<alloy.field."+o+">",b7=(o,s)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.formBehaviours,[se.config({store:{mode:"manual",getValue:a=>{const l=Qw(a,o);return Rn(l,(d,f)=>d().bind(p=>{return b=_n.getCurrent(p),y=new Error(`Cannot find a current component to extract the value from for form part '${f}': `+$m(p.element)),b.fold(()=>re.error(y),re.value);var b,y}).map(se.getValue))},setValue:(a,l)=>{er(l,(d,f)=>{Lr(a,o,f).each(p=>{_n.getCurrent(p).each(b=>{se.setValue(b,d)})})})}}})]),apis:{getField:(a,l)=>Lr(a,o,l).bind(_n.getCurrent)}}),Gy={getField:Lb((o,s,a)=>o.getField(s,a)),sketch:o=>{const s=(()=>{const f=[];return{field:(p,b)=>(f.push(p),Yw(_5,k5(p),b)),record:ue(f)}})(),a=o(s),l=s.record(),d=Se(l,f=>rl({name:f,pname:k5(f)}));return Yv(_5,h7,d,b7,a)}},fS=wt("valid-input"),mS=wt("invalid-input"),w5=wt("validating-input"),yk="colorcustom.rgb.",vx={isEnabled:jt,setEnabled:et,immediatelyShow:et,immediatelyHide:et},C5=(o,s,a,l,d,f)=>{const p=(P,I)=>{const Y=I.get();P!==Y.isEnabled()&&(Y.setEnabled(P),P?Y.immediatelyShow():Y.immediatelyHide())},b=(P,I,Y)=>um.config({invalidClass:s("invalid"),notify:{onValidate:G=>{Vt(G,w5,{type:P})},onValid:G=>{p(!1,Y),Vt(G,fS,{type:P,value:se.getValue(G)})},onInvalid:G=>{p(!0,Y),Vt(G,mS,{type:P,value:se.getValue(G)})}},validator:{validate:G=>{const J=se.getValue(G),j=I(J)?re.value(!0):re.error(o("aria.input.invalid"));return Ep(j)},validateOnLoad:!1}}),y=(P,I,Y,G,J)=>{const j=Mt(vx),Z=o(yk+"range"),te=tn.parts.label({dom:{tag:"label"},components:[Or(Y)]}),oe=tn.parts.field({data:J,factory:bp,inputAttributes:{type:"text","aria-label":G,...I==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:xe([b(I,P,j),_r.config({}),Xr.config({...d({tooltipText:"",onSetup:$e=>{j.set({isEnabled:()=>Xr.isEnabled($e),setEnabled:Ye=>Xr.setEnabled($e,Ye),immediatelyShow:()=>Xr.immediateOpenClose($e,!0),immediatelyHide:()=>Xr.immediateOpenClose($e,!1)}),Xr.setEnabled($e,!1)},onShow:($e,Ye)=>{Xr.setComponents($e,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Or(o(I==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:$e=>{um.isInvalid($e)&&um.run($e).get(et)}}),ce=wt("aria-invalid"),be=Bn(f("invalid",O.some(ce),"warning")),we=[te,oe,Bn({dom:{tag:"div",classes:[s("invalid-icon")]},components:[be.asSpec()]}).asSpec()],Ae=I!=="hex"?[tn.parts["aria-descriptor"]({text:Z})]:[],Ue=we.concat(Ae);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Ue}},_=(P,I)=>{const Y=I.red,G=I.green,J=I.blue;se.setValue(P,{red:Y,green:G,blue:J})},E=Bn({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),w=(P,I)=>{E.getOpt(P).each(Y=>{Zt(Y.element,"background-color","#"+I.value)})};return yd({factory:()=>{const P={red:Mt(O.some(255)),green:Mt(O.some(255)),blue:Mt(O.some(255)),hex:Mt(O.some("ffffff"))},I=we=>P[we].get(),Y=(we,Ae)=>{P[we].set(Ae)},G=we=>{const Ae=we.red,Ue=we.green,$e=we.blue;Y("red",O.some(Ae)),Y("green",O.some(Ue)),Y("blue",O.some($e))},J=(we,Ae)=>{const Ue=Ae.event;Ue.type!=="hex"?Y(Ue.type,O.none()):l(we)},j=(we,Ae)=>{const Ue=Ae.event;($e=>$e.type==="hex")(Ue)?(($e,Ye)=>{a($e);const mt=hC(Ye);Y("hex",O.some(mt.value));const $t=J0(mt);_($e,$t),G($t),Vt($e,cS,{hex:mt}),w($e,mt)})(we,Ue.value):(($e,Ye,mt)=>{const $t=parseInt(mt,10);Y(Ye,O.some($t)),I("red").bind(Xt=>I("green").bind(so=>I("blue").map(jo=>zg(Xt,so,jo,1)))).each(Xt=>{const so=((jo,pr)=>{const Qr=Fy(pr);return Gy.getField(jo,"hex").each(An=>{ho.isFocused(An)||se.setValue(jo,{hex:Qr.value})}),Qr})($e,Xt);Vt($e,cS,{hex:so}),w($e,so)})})(we,Ue.type,Ue.value)},Z=we=>({label:o(yk+we+".label"),description:o(yk+we+".description")}),te=Z("red"),oe=Z("green"),ce=Z("blue"),be=Z("hex");return Er(Gy.sketch(we=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[we.field("red",tn.sketch(y(X0,"red",te.label,te.description,255))),we.field("green",tn.sketch(y(X0,"green",oe.label,oe.description,255))),we.field("blue",tn.sketch(y(X0,"blue",ce.label,ce.description,255))),we.field("hex",tn.sketch(y(Cp,"hex",be.label,be.description,"ffffff"))),E.asSpec()],formBehaviours:xe([um.config({invalidClass:s("form-invalid")}),wo("rgb-form-events",[je(fS,j),je(mS,J),je(w5,J)])])})),{apis:{updateHex:(we,Ae)=>{se.setValue(we,{hex:Ae.value}),((Ue,$e)=>{const Ye=J0($e);_(Ue,Ye),G(Ye)})(we,Ae),w(we,Ae)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(P,I,Y)=>{P.updateHex(I,Y)}},extraApis:{}})},y7=(o,s,a,l)=>yd({name:"ColourPicker",configFields:[Ge("dom"),Ee("onValidHex",et),Ee("onInvalidHex",et)],factory:f=>{const p=C5(o,s,f.onValidHex,f.onInvalidHex,a,l),b=((J,j)=>{const Z=ou.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[j("sv-palette-spectrum")]}}),te=ou.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[j("sv-palette-thumb")],innerHtml:`<div class=${j("sv-palette-inner-thumb")} role="presentation"></div>`}}),oe=(ce,be)=>{const{width:we,height:Ae}=ce,Ue=ce.getContext("2d");if(Ue===null)return;Ue.fillStyle=be,Ue.fillRect(0,0,we,Ae);const $e=Ue.createLinearGradient(0,0,we,0);$e.addColorStop(0,"rgba(255,255,255,1)"),$e.addColorStop(1,"rgba(255,255,255,0)"),Ue.fillStyle=$e,Ue.fillRect(0,0,we,Ae);const Ye=Ue.createLinearGradient(0,0,0,Ae);Ye.addColorStop(0,"rgba(0,0,0,0)"),Ye.addColorStop(1,"rgba(0,0,0,1)"),Ue.fillStyle=Ye,Ue.fillRect(0,0,we,Ae)};return yd({factory:ce=>{const be=ue({x:0,y:0}),we=xe([_n.config({find:O.some}),ho.config({})]);return ou.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":J(["Saturation {0}%, Brightness {1}%",0,0])},classes:[j("sv-palette")]},model:{mode:"xy",getInitialValue:be},rounded:!1,components:[Z,te],onChange:(Ae,Ue,$e)=>{sn($e)||lo(Ae.element,"aria-valuetext",J(["Saturation {0}%, Brightness {1}%",Math.floor($e.x),Math.floor(100-$e.y)])),Vt(Ae,uS,{value:$e})},onInit:(Ae,Ue,$e,Ye)=>{oe($e.element.dom,Q0(K_))},sliderBehaviours:we})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ce,be,we)=>{((Ae,Ue)=>{const $e=Ae.components()[0].element.dom,Ye=ox(Ue,100,100),mt=yC(Ye);oe($e,Q0(mt))})(be,we)},setThumb:(ce,be,we)=>{((Ae,Ue)=>{const $e=wC(J0(Ue));ou.setValue(Ae,{x:$e.saturation,y:100-$e.value}),lo(Ae.element,"aria-valuetext",J(["Saturation {0}%, Brightness {1}%",$e.saturation,$e.value]))})(be,we)}},extraApis:{}})})(o,s),y={paletteRgba:Mt(K_),paletteHue:Mt(0)},_=Bn(((J,j)=>{const Z=ou.parts.spectrum({dom:{tag:"div",classes:[j("hue-slider-spectrum")],attributes:{role:"presentation"}}}),te=ou.parts.thumb({dom:{tag:"div",classes:[j("hue-slider-thumb")],attributes:{role:"presentation"}}});return ou.sketch({dom:{tag:"div",classes:[j("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ue(0)},components:[Z,te],sliderBehaviours:xe([ho.config({})]),onChange:(oe,ce,be)=>{lo(oe.element,"aria-valuenow",Math.floor(360-3.6*be)),Vt(oe,dS,{value:be})}})})(0,s)),E=Bn(b.sketch({})),w=Bn(p.sketch({})),A=(J,j,Z)=>{E.getOpt(J).each(te=>{b.setHue(te,Z)})},P=(J,j)=>{w.getOpt(J).each(Z=>{p.updateHex(Z,j)})},I=(J,j,Z)=>{_.getOpt(J).each(te=>{ou.setValue(te,(oe=>100-oe/360*100)(Z))})},Y=(J,j)=>{E.getOpt(J).each(Z=>{b.setThumb(Z,j)})},G=(J,j,Z,te)=>{((oe,ce)=>{const be=J0(oe);y.paletteRgba.set(be),y.paletteHue.set(ce)})(j,Z),ot(te,oe=>{oe(J,j,Z)})};return{uid:f.uid,dom:f.dom,components:[E.asSpec(),_.asSpec(),w.asSpec()],behaviours:xe([wo("colour-picker-events",[je(cS,(()=>{const J=[A,I,Y];return(j,Z)=>{const te=Z.event.hex,oe=(ce=>wC(J0(ce)))(te);G(j,te,oe.hue,J)}})()),je(uS,(()=>{const J=[P];return(j,Z)=>{const te=Z.event.value,oe=y.paletteHue.get(),ce=ox(oe,te.x,100-te.y),be=CC(ce);G(j,be,oe,J)}})()),je(dS,(()=>{const J=[A,P];return(j,Z)=>{const te=(Ae=>(100-Ae)/100*360)(Z.event.value),oe=y.paletteRgba.get(),ce=wC(oe),be=ox(te,ce.saturation,ce.value),we=CC(be);G(j,we,te,J)}})())]),_n.config({find:J=>w.getOpt(J)}),Kt.config({mode:"acyclic"})])}}}),Rg=()=>_n.config({find:O.some}),xk=o=>_n.config({find:s=>ur(s.element,o).bind(a=>s.getSystem().getByDom(a).toOptional())}),x7=no([Ee("preprocess",Ct),Ee("postprocess",Ct)]),v7=(o,s)=>{const a=ka("RepresentingConfigs.memento processors",x7,s);return se.config({store:{mode:"manual",getValue:l=>{const d=o.get(l),f=se.getValue(d);return a.postprocess(f)},setValue:(l,d)=>{const f=a.preprocess(d),p=o.get(l);se.setValue(p,f)}}})},Dg=(o,s,a)=>se.config({store:{mode:"manual",...o.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:a}}),pS=(o,s,a)=>Dg(o,l=>s(l.element),(l,d)=>a(l.element,d)),_x=o=>se.config({store:{mode:"memory",initialValue:o}}),S5={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var _7=tinymce.util.Tools.resolve("tinymce.Resource");const E5=o=>ko(o,"init");var pm=tinymce.util.Tools.resolve("tinymce.util.Tools");const kx=wt("browse.files.event"),gS=(o,s,a)=>{const l=(_,E)=>{E.stop()},d=_=>(E,w)=>{ot(_,A=>{A(E,w)})},f=Bn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:xe([wo("input-file-events",[lc(Oc()),lc(ad())])])}),p=o.label.map(_=>zp(_,s)),b=tn.parts.field({factory:qa,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Or(s.translate("Browse for an image")),f.asSpec()],action:_=>{f.get(_).element.dom.click()},buttonBehaviours:xe([Rg(),_x(a.getOr([])),_r.config({}),q0(()=>s.checkUiComponentContext(o.context).shouldDisable),Jr(()=>s.checkUiComponentContext(o.context))])}),y={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:xe([Wt.config({disabled:()=>s.checkUiComponentContext(o.context).shouldDisable}),Jr(()=>s.checkUiComponentContext(o.context)),Uo.config({toggleClass:"dragenter",toggleOnExecute:!1}),wo("dropzone-events",[je("dragenter",d([l,Uo.toggle])),je("dragleave",d([l,Uo.toggle])),je("dragover",l),je("drop",d([l,(_,E)=>{var w;if(!Wt.isDisabled(_)){const A=E.event.raw;Vt(_,kx,{files:(w=A.dataTransfer)===null||w===void 0?void 0:w.files})}}])),je(Tc(),(_,E)=>{const w=E.event.raw.target;Vt(_,kx,{files:w.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Or(s.translate("Drop an image here"))]},b]}]};return ux(p,y,["tox-form__group--stretched"],[wo("handle-files",[je(kx,(_,E)=>{tn.getField(_).each(w=>{var A,P;A=w,(P=E.event.files)&&(se.setValue(A,((I,Y)=>{const G=pm.explode(Y.getOption("images_file_types"));return Eo(to(I),J=>un(G,j=>zl(J.name.toLowerCase(),`.${j.toLowerCase()}`)))})(P,s)),Vt(A,$l,{name:o.name}))})})])])},vk=(o,s)=>{let a=null;const l=()=>{qt(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...d)=>{l(),a=setTimeout(()=>{a=null,o.apply(null,d)},s)}}},_k=wt("alloy-fake-before-tabstop"),kk=wt("alloy-fake-after-tabstop"),z5=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:xe([ho.config({ignore:!0}),_r.config({})])}),wk=(o,s)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[z5([_k]),s,z5([kk])],behaviours:xe([xk(1)])}),T5=(o,s)=>{Vt(o,Kr(),{raw:{which:9,shiftKey:s}})},O5=(o,s)=>{const a=s.element;cr(a,_k)?T5(o,!0):cr(a,kk)&&T5(o,!1)},Ky=o=>jy(o,["."+_k,"."+kk].join(","),Le),gm=wt("update-dialog"),A5=wt("update-title"),Ck=wt("update-body"),wx=wt("update-footer"),N5=wt("body-send-message"),Cx=wt("dialog-focus-shifted"),Sk=Js().browser,Yy=Sk.isSafari(),hS=Sk.isFirefox(),bS=Yy||hS,k7=Sk.isChromium(),R5=({scrollTop:o,scrollHeight:s,clientHeight:a})=>Math.ceil(o)+a>=s,yS=(o,s)=>o.scrollTo(0,s==="bottom"?99999999:s),xS=(o,s,a)=>{const l=o.dom;O.from(l.contentDocument).fold(a,d=>{let f=0;const p=((y,_)=>{const E=y.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(_)&&(!k7&&!Yy||Ht(E)&&(E.scrollTop!==0||Math.abs(E.scrollHeight-E.clientHeight)>1))?E:y.documentElement)})(d,s).map(y=>(f=y.scrollTop,y)).forall(R5),b=()=>{const y=l.contentWindow;Ht(y)&&(p?yS(y,"bottom"):!p&&bS&&f!==0&&yS(y,f))};Yy&&l.addEventListener("load",b,{once:!0}),d.open(),d.write(s),d.close(),Yy||b()})},D5=Fo(bS,Yy?500:200).map(o=>((s,a)=>{let l=null,d=null;return{cancel:()=>{qt(l)||(clearTimeout(l),l=null,d=null)},throttle:(...f)=>{d=f,qt(l)&&(l=setTimeout(()=>{const p=d;l=null,d=null,s.apply(null,p)},a))}}})(xS,o)),vS=wt("toolbar.button.execute"),Dp=wt("common-button-display-events"),M5={[ta()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[lt()]:["toolbar-button-events",Dp],[ld()]:["toolbar-button-events","dropdown-events","tooltipping"],[Da()]:["focusing","alloy.base.behaviour",Dp]},_S=o=>Zt(o.element,"width",Us(o.element,"width")),B5=(o,s,a)=>_d(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),kS=(o,s)=>B5(o,s,[]),Mp=(o,s)=>B5(o,s,[yo.config({})]),Xy=(o,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Or(a.translate(o))],behaviours:xe([yo.config({})])}),Cd=wt("update-menu-text"),ob=wt("update-menu-icon"),P5=wt("update-tooltip-text"),wS=(o,s,a,l)=>{const d=Mt(et),f=Mt(o.tooltip),p=o.text.map(G=>Bn(Xy(G,s,a.providers))),b=o.icon.map(G=>Bn(Mp(G,a.providers.icons))),y=(G,J)=>{const j=se.getValue(G);return ho.focus(j),Vt(j,"keydown",{raw:J.event.raw}),Uc.close(j),O.some(!0)},_=o.role.fold(()=>({}),G=>({role:G})),E=O.from(o.listRole).map(G=>({listRole:G})).getOr({}),w=o.ariaLabel.fold(()=>({}),G=>({"aria-label":a.providers.translate(G)})),A=_d("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),P=wt("common-button-display-events"),I="dropdown-events";return Bn(Uc.sketch({...o.uid?{uid:o.uid}:{},..._,...E,dom:{tag:"button",classes:[s,`${s}--select`].concat(Se(o.classes,G=>`${s}--${G}`)),attributes:{...w,...Ht(l)?{"data-mce-name":l}:{}}},components:Uh([b.map(G=>G.asSpec()),p.map(G=>G.asSpec()),O.some(A)]),matchWidth:!0,useMinWidth:!0,onOpen:(G,J,j)=>{o.searchable&&(Z=>{B_(Z).each(te=>ho.focus(te))})(j)},dropdownBehaviours:xe([...o.dropdownBehaviours,q0(()=>o.disabled||a.providers.checkUiComponentContext(o.context).shouldDisable),Jr(()=>a.providers.checkUiComponentContext(o.context)),Jh.config({}),yo.config({}),...o.tooltip.map(G=>Xr.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(G),onShow:J=>{if(rt(f.get(),o.tooltip,(j,Z)=>Z!==j).getOr(!1)){const j=a.providers.translate(f.get().getOr(""));Xr.setComponents(J,a.providers.tooltips.getComponents({tooltipText:j}))}}}))).toArray(),wo(I,[Ru(o,d),_p(o,d)]),wo(P,[Jn((G,J)=>{o.listRole!=="listbox"&&_S(G)})]),wo("update-dropdown-width-variable",[je(xu(),(G,J)=>Uc.close(G))]),wo("menubutton-update-display-text",[je(Cd,(G,J)=>{p.bind(j=>j.getOpt(G)).each(j=>{yo.set(j,[Or(a.providers.translate(J.event.text))])})}),je(ob,(G,J)=>{b.bind(j=>j.getOpt(G)).each(j=>{yo.set(j,[Mp(J.event.icon,a.providers.icons)])})}),je(P5,(G,J)=>{const j=a.providers.translate(J.event.text);lo(G.element,"aria-label",j),f.set(O.some(J.event.text))})])]),eventOrder:Er(M5,{[Da()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[lt()]:["toolbar-button-events",Xr.name(),I,P]}),sandboxBehaviours:xe([Kt.config({mode:"special",onLeft:y,onRight:y}),wo("dropdown-sandbox-events",[je(J2,(G,J)=>{(j=>{const Z=se.getValue(j),te=H0(j).map(My);Uc.refetch(Z).get(()=>{const oe=Ls.getCoupled(Z,"sandbox");te.each(ce=>H0(oe).each(be=>((we,Ae)=>{se.setValue(we,Ae.fetchPattern),we.element.dom.selectionStart=Ae.selectionStart,we.element.dom.selectionEnd=Ae.selectionEnd})(be,ce)))})})(G),J.stop()}),je(Rz,(G,J)=>{((j,Z)=>{(te=>xn.getState(te).bind($n.getHighlighted).bind($n.getHighlighted))(j).each(te=>{((oe,ce,be,we)=>{const Ae={...we,target:ce};oe.getSystem().triggerEvent(be,ce,Ae)})(j,te.element,Z.event.eventType,Z.event.interactionEvent)})})(G,J),J.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...im(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:BT,onCollapseMenu:(G,J,j)=>{$n.getHighlighted(j).each(Z=>{BT(G,j,Z)})},onDehighlightItem:LC}}},getAnchorOverrides:()=>({maxHeightFunction:(G,J)=>{J1()(G,J-10)}}),fetch:G=>Tg(qe(o.fetch,G))})).asSpec()},L5=o=>o.type==="separator",w7={type:"separator"},Sx=(o,s)=>{const a=((l,d)=>{const f=fo(l,(p,b)=>(y=>Ot(y))(b)?b===""?p:b==="|"?p.length>0&&!L5(p[p.length-1])?p.concat([w7]):p:ko(d,b.toLowerCase())?p.concat([d[b.toLowerCase()]]):p:p.concat([b]),[]);return f.length>0&&L5(f[f.length-1])&&f.pop(),f})(Ot(o)?o.split(" "):o,s);return bo(a,(l,d)=>{if((f=>ko(f,"getSubmenuItems"))(d)){const f=(b=>{const y=ut(b,"value").getOrThunk(()=>wt("generated-menu-item"));return Er({value:y},b)})(d),p=((b,y)=>{const _=b.getSubmenuItems(),E=Sx(_,y);return{item:b,menus:Er(E.menus,{[b.value]:E.items}),expansions:Er(E.expansions,{[b.value]:b.value})}})(f,s);return{menus:Er(l.menus,p.menus),items:[p.item,...l.items],expansions:Er(l.expansions,p.expansions)}}return{...l,items:[d,...l.items]}},{menus:{},expansions:{},items:[]})},Jy=(o,s,a,l)=>{const d=wt("primary-menu"),f=Sx(o,a.shared.providers.menuItems());if(f.items.length===0)return O.none();const p=(w=>w.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-field",placeholder:A.placeholder})))(l),b=tk(d,f.items,s,a,l.isHorizontalMenu,p),y=(w=>w.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-results"})))(l),_=Rn(f.menus,(w,A)=>tk(A,w,s,a,!1,y)),E=Er(_,M(d,b));return O.from(pp.tieredData(d,E,f.expansions))},Ex=o=>!ko(o,"items"),I5="data-value",CS=(o,s,a,l,d)=>Se(a,f=>Ex(f)?{type:"togglemenuitem",...d?{}:{role:"option"},text:f.text,value:f.value,active:f.value===l,onAction:()=>{se.setValue(o,f.value),Vt(o,$l,{name:s}),ho.focus(o)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:()=>CS(o,s,f.items,l,d)}),Ek=(o,s)=>mo(o,a=>Ex(a)?Fo(a.value===s,a):Ek(a.items,s)),C7=yd({name:"HtmlSelect",configFields:[Ge("options"),ke("selectBehaviours",[ho,se]),Ee("selectClasses",[]),Ee("selectAttributes",{}),Jo("data")],factory:(o,s)=>{const a=Se(o.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),l=o.data.map(d=>M("initialValue",d)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:a,behaviours:Fe(o.selectBehaviours,[ho.config({}),se.config({store:{mode:"manual",getValue:d=>sf(d.element),setValue:(d,f)=>{const p=it(o.options);H(o.options,b=>b.value===f).isSome()?ud(d.element,f):d.element.dom.selectedIndex===-1&&f===""&&p.each(b=>ud(d.element,b.value))},...l}})])}}}),F5=ue([Ee("field1Name","field1"),Ee("field2Name","field2"),rf("onLockedChange"),nf(["lockClass"]),Ee("locked",!1),Qe("coupledFieldBehaviours",[_n,se]),Xn("onInput",et)]),SS=(o,s)=>rl({factory:tn,name:o,overrides:a=>({fieldBehaviours:xe([wo("coupled-input-behaviour",[je(rs(),l=>{((d,f,p)=>Lr(d,f,p).bind(_n.getCurrent))(l,a,s).each(d=>{Lr(l,a,"lock").each(f=>{Uo.isOn(f)&&a.onLockedChange(l,d,f),a.onInput(l)})})})])])})}),H5=ue([SS("field1","field2"),SS("field2","field1"),rl({factory:qa,schema:[Ge("dom")],name:"lock",overrides:o=>({buttonBehaviours:xe([Uo.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),Is=wl({name:"FormCoupledInputs",configFields:F5(),partFields:H5(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:st(o.coupledFieldBehaviours,[_n.config({find:O.some}),se.config({store:{mode:"manual",getValue:d=>{const f=e2(d,o,["field1","field2"]);return{[o.field1Name]:se.getValue(f.field1()),[o.field2Name]:se.getValue(f.field2())}},setValue:(d,f)=>{const p=e2(d,o,["field1","field2"]);Io(f,o.field1Name)&&se.setValue(p.field1(),f[o.field1Name]),Io(f,o.field2Name)&&se.setValue(p.field2(),f[o.field2Name])}}})]),apis:{getField1:d=>Lr(d,o,"field1"),getField2:d=>Lr(d,o,"field2"),getLock:d=>Lr(d,o,"lock")}}),apis:{getField1:(o,s)=>o.getField1(s),getField2:(o,s)=>o.getField2(s),getLock:(o,s)=>o.getLock(s)}}),V5=o=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let a=o.value.toFixed((l=o.unit)in s?s[l]:1);var l;return a.indexOf(".")!==-1&&(a=a.replace(/\.?0*$/,"")),a+o.unit},zk=o=>{const s=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(s!==null){const a=parseFloat(s[1]),l=s[2];return re.value({value:a,unit:l})}return re.error(o)},$5=(o,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=d=>ko(a,d);return o.unit===s?O.some(o.value):l(o.unit)&&l(s)?a[o.unit]===a[s]?O.some(o.value):O.some(o.value/a[o.unit]*a[s]):O.none()},Tk=o=>O.none(),ES=(o,s)=>{const a=zk(o).toOptional(),l=zk(s).toOptional();return rt(a,l,(d,f)=>$5(d,f.unit).map(p=>f.value/p).map(p=>{return b=p,y=f.unit,_=>$5(_,y).map(E=>({value:E*b,unit:y}));var b,y}).getOr(Tk)).getOr(Tk)},zS=(o,s)=>{const a=o.label.map(E=>zp(E,s)),l=[Wt.config({disabled:()=>o.disabled||s.checkUiComponentContext(o.context).shouldDisable}),Jr(()=>s.checkUiComponentContext(o.context)),Kt.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:E=>(Vo(E,fx),O.some(!0))}),wo("textfield-change",[je(rs(),(E,w)=>{Vt(E,$l,{name:o.name})}),je(Hf(),(E,w)=>{Vt(E,$l,{name:o.name})})]),_r.config({})],d=o.validation.map(E=>um.config({getRoot:w=>yi(w.element),invalidClass:"tox-invalid",validator:{validate:w=>{const A=se.getValue(w),P=E.validator(A);return Ep(P===!0?re.value(A):re.error(P))},validateOnLoad:E.validateOnLoad}})).toArray(),f={...o.placeholder.fold(ue({}),E=>({placeholder:s.translate(E)})),...o.inputMode.fold(ue({}),E=>({inputmode:E})),"data-mce-name":o.name},p=tn.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(E=>({data:E})).getOr({}),inputAttributes:f,inputClasses:[o.classname],inputBehaviours:xe(ir([l,d])),selectOnFocus:!1,factory:bp}),b=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,y=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),_=[Wt.config({disabled:()=>o.disabled||s.checkUiComponentContext(o.context).shouldDisable,onDisabled:E=>{tn.getField(E).each(Wt.disable)},onEnabled:E=>{tn.getField(E).each(Wt.enable)}}),Jr(()=>s.checkUiComponentContext(o.context))];return ux(a,b,y,_)},zx=(o,s)=>s.getAnimationRoot.fold(()=>o.element,a=>a(o)),Bp=o=>o.dimension.property,nb=(o,s)=>o.dimension.getDimension(s),Ok=(o,s)=>{const a=zx(o,s);li(a,[s.shrinkingClass,s.growingClass])},TS=(o,s)=>{lr(o.element,s.openClass),Tr(o.element,s.closedClass),Zt(o.element,Bp(s),"0px"),ul(o.element)},OS=(o,s)=>{lr(o.element,s.closedClass),Tr(o.element,s.openClass),an(o.element,Bp(s))},U5=(o,s,a,l)=>{a.setCollapsed(),Zt(o.element,Bp(s),nb(s,o.element)),Ok(o,s),TS(o,s),s.onStartShrink(o),s.onShrunk(o)},S7=(o,s,a,l)=>{const d=l.getOrThunk(()=>nb(s,o.element));a.setCollapsed(),Zt(o.element,Bp(s),d),ul(o.element);const f=zx(o,s);lr(f,s.growingClass),Tr(f,s.shrinkingClass),TS(o,s),s.onStartShrink(o)},Ak=(o,s,a)=>{const l=nb(s,o.element);(l==="0px"?U5:S7)(o,s,a,O.some(l))},AS=(o,s,a)=>{const l=zx(o,s),d=cr(l,s.shrinkingClass),f=nb(s,o.element);OS(o,s);const p=nb(s,o.element);(d?()=>{Zt(o.element,Bp(s),f),ul(o.element)}:()=>{TS(o,s)})(),lr(l,s.shrinkingClass),Tr(l,s.growingClass),OS(o,s),Zt(o.element,Bp(s),p),a.setExpanded(),s.onStartGrow(o)},j5=(o,s,a)=>{const l=zx(o,s);return cr(l,s.growingClass)===!0},Z5=(o,s,a)=>{const l=zx(o,s);return cr(l,s.shrinkingClass)===!0};var W5=Object.freeze({__proto__:null,refresh:(o,s,a)=>{if(a.isExpanded()){an(o.element,Bp(s));const l=nb(s,o.element);Zt(o.element,Bp(s),l)}},grow:(o,s,a)=>{a.isExpanded()||AS(o,s,a)},shrink:(o,s,a)=>{a.isExpanded()&&Ak(o,s,a)},immediateShrink:(o,s,a)=>{a.isExpanded()&&U5(o,s,a)},hasGrown:(o,s,a)=>a.isExpanded(),hasShrunk:(o,s,a)=>a.isCollapsed(),isGrowing:j5,isShrinking:Z5,isTransitioning:(o,s,a)=>j5(o,s)||Z5(o,s),toggleGrow:(o,s,a)=>{(a.isExpanded()?Ak:AS)(o,s,a)},disableTransitions:Ok,immediateGrow:(o,s,a)=>{a.isExpanded()||(OS(o,s),Zt(o.element,Bp(s),nb(s,o.element)),Ok(o,s),a.setExpanded(),s.onStartGrow(o),s.onGrown(o))}}),E7=Object.freeze({__proto__:null,exhibit:(o,s,a)=>{const l=s.expanded;return k(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:M(s.dimension.property,"0px")})},events:(o,s)=>mr([Es(Ac(),(a,l)=>{l.event.raw.propertyName===o.dimension.property&&(Ok(a,o),s.isExpanded()&&an(a.element,o.dimension.property),(s.isExpanded()?o.onGrown:o.onShrunk)(a))})])}),z7=[Ge("closedClass"),Ge("openClass"),Ge("shrinkingClass"),Ge("growingClass"),Jo("getAnimationRoot"),Bo("onShrunk"),Bo("onStartShrink"),Bo("onGrown"),Bo("onStartGrow"),Ee("expanded",!1),Qs("dimension",Ua("property",{width:[Yr("property","width"),Yr("getDimension",o=>ae(o)+"px")],height:[Yr("property","height"),Yr("getDimension",o=>Cr(o)+"px")]}))];const Ul=Gt({fields:z7,name:"sliding",active:E7,apis:W5,state:Object.freeze({__proto__:null,init:o=>{const s=Mt(o.expanded);return Ie({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:qe(s.set,!1),setExpanded:qe(s.set,!0),readState:()=>"expanded: "+s.get()})}})}),NS=o=>({isEnabled:()=>!Wt.isDisabled(o),setEnabled:s=>Wt.set(o,!s),setActive:s=>{const a=o.element;s?(Tr(a,"tox-tbtn--enabled"),lo(a,"aria-pressed",!0)):(lr(a,"tox-tbtn--enabled"),Ur(a,"aria-pressed"))},isActive:()=>cr(o.element,"tox-tbtn--enabled"),setTooltip:s=>{Vt(o,P5,{text:s})},setText:s=>{Vt(o,Cd,{text:s})},setIcon:s=>Vt(o,ob,{icon:s})}),Qy=(o,s,a,l,d=!0,f)=>{const p=o.buttonType==="bordered"?["bordered"]:[];return wS({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:l,fetch:(b,y)=>{const _={pattern:o.search.isSome()?PT(b):""};o.fetch(E=>{y(Jy(E,Au.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:o.search}))},_,NS(b))},onSetup:o.onSetup,getApi:b=>NS(b),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...d?[_r.config({})]:[]],context:o.context},s,a.shared,f)},T7=(o,s,a)=>{const l=f=>p=>{const b=!p.isActive();p.setActive(b),f.storage.set(b),a.shared.getSink().each(y=>{s().getOpt(y).each(_=>{Ba(_.element),Vt(_,dm,{name:f.name,value:f.storage.get()})})})},d=f=>p=>{p.setActive(f.storage.get())};return f=>{f(Se(o,p=>{const b=p.text.fold(()=>({}),y=>({text:y}));return{type:p.type,active:!1,...b,context:p.context,onAction:l(p),onSetup:d(p)}}))}},q5=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[Or(o)]}),G5=(o,s,a)=>{o.customStateIcon.each(l=>s.push(K5(l,a.shared.providers.icons,o.customStateIconTooltip.fold(()=>[],d=>[Xr.config(a.shared.providers.tooltips.getConfig({tooltipText:d}))]),["tox-icon-custom-state"])))},RS=wt("leaf-label-event-id"),Tx=({leaf:o,onLeafAction:s,visible:a,treeId:l,selectedId:d,backstage:f})=>{const p=o.menu.map(y=>Qy(y,"tox-mbtn",f,O.none(),a)),b=[q5(o.title)];return G5(o,b,f),p.each(y=>b.push(y)),qa.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:y=>{s(o.id),y.getSystem().broadcastOn([`update-active-item-${l}`],{value:o.id})},eventOrder:{[Kr()]:[RS,"keying"]},buttonBehaviours:xe([...a?[_r.config({})]:[],Uo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Il.config({channels:{[`update-active-item-${l}`]:{onReceive:(y,_)=>{(_.value===o.id?Uo.on:Uo.off)(y)}}}}),wo(RS,[Jn((y,_)=>{d.each(E=>{(E===o.id?Uo.on:Uo.off)(y)})}),je(Kr(),(y,_)=>{const E=_.event.raw.code==="ArrowLeft",w=_.event.raw.code==="ArrowRight";E?(Ha(y.element,".tox-tree--directory").each(A=>{y.getSystem().getByDom(A).each(P=>{Fd(A,".tox-tree--directory__label").each(I=>{P.getSystem().getByDom(I).each(ho.focus)})})}),_.stop()):w&&_.stop()})])])})},K5=(o,s,a,l,d)=>_d(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:a,attributes:d},s),Y5=wt("directory-label-event-id"),O7=({directory:o,visible:s,noChildren:a,backstage:l})=>{const d=o.menu.map(y=>Qy(y,"tox-mbtn",l,O.none())),f=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,K5("chevron-right",p,[]))]},q5(o.title)];var p;G5(o,f,l),d.each(y=>{f.push(y)});const b=y=>{Ha(y.element,".tox-tree--directory").each(_=>{y.getSystem().getByDom(_).each(E=>{const w=!Uo.isOn(E);Uo.toggle(E),Vt(y,"expand-tree-node",{expanded:w,node:o.id})})})};return qa.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:f,action:b,eventOrder:{[Kr()]:[Y5,"keying"]},buttonBehaviours:xe([...s?[_r.config({})]:[],wo(Y5,[je(Kr(),(y,_)=>{const E=_.event.raw.code==="ArrowRight",w=_.event.raw.code==="ArrowLeft";E&&a&&_.stop(),(E||w)&&Ha(y.element,".tox-tree--directory").each(A=>{y.getSystem().getByDom(A).each(P=>{!Uo.isOn(P)&&E||Uo.isOn(P)&&w?(b(y),_.stop()):w&&!Uo.isOn(P)&&(Ha(P.element,".tox-tree--directory").each(I=>{Fd(I,".tox-tree--directory__label").each(Y=>{P.getSystem().getByDom(Y).each(ho.focus)})}),_.stop())})})})])])})},A7=({children:o,onLeafAction:s,visible:a,treeId:l,expandedIds:d,selectedId:f,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(b=>b.type==="leaf"?Tx({leaf:b,selectedId:f,onLeafAction:s,visible:a,treeId:l,backstage:p}):DS({directory:b,expandedIds:d,selectedId:f,onLeafAction:s,labelTabstopping:a,treeId:l,backstage:p})),behaviours:xe([Ul.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),yo.config({})])}),N7=wt("directory-event-id"),DS=({directory:o,onLeafAction:s,labelTabstopping:a,treeId:l,backstage:d,expandedIds:f,selectedId:p})=>{const{children:b}=o,y=Mt(f),_=f.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[O7({directory:o,visible:a,noChildren:o.children.length===0,backstage:d}),A7({children:b,expandedIds:f,selectedId:p,onLeafAction:s,visible:_,treeId:l,backstage:d})],behaviours:xe([wo(N7,[Jn((E,w)=>{Uo.set(E,_)}),je("expand-tree-node",(E,w)=>{const{expanded:A,node:P}=w.event;y.set(A?[...y.get(),P]:y.get().filter(I=>I!==P))})]),Uo.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(E,w)=>{const A=E.components()[1],P=(I=w,b.map(Y=>Y.type==="leaf"?Tx({leaf:Y,selectedId:p,onLeafAction:s,visible:I,treeId:l,backstage:d}):DS({directory:Y,expandedIds:y.get(),selectedId:p,onLeafAction:s,labelTabstopping:I,treeId:l,backstage:d})));var I;w?Ul.grow(A):Ul.shrink(A),yo.set(A,P)}})])}},X5=wt("tree-event-id");var J5=Object.freeze({__proto__:null,events:(o,s)=>{const a=o.stream.streams.setup(o,s);return mr([je(o.event,a),zr(()=>s.cancel())].concat(o.cancelEvent.map(l=>[je(l,()=>s.cancel())]).getOr([])))}});const Q5=o=>{const s=Mt(null);return Ie({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:a=>{s.set(a)},cancel:()=>{const a=s.get();a!==null&&a.cancel()}})};var R7=Object.freeze({__proto__:null,throttle:Q5,init:o=>o.stream.streams.state(o)}),D7=[Qs("stream",Ua("mode",{throttle:[Ge("delay"),Ee("stopEvent",!0),Yr("streams",{setup:(o,s)=>{const a=o.stream,l=vk(o.onStream,a.delay);return s.setTimer(l),(d,f)=>{l.throttle(d,f),a.stopEvent&&f.stop()}},state:Q5})]})),Ee("event","input"),Jo("cancelEvent"),rf("onStream")];const jl=Gt({fields:D7,name:"streaming",active:J5,state:R7}),jc=(o,s,a)=>{const l=se.getValue(a);se.setValue(s,l),Nk(s)},MS=(o,s)=>{const a=o.element,l=sf(a),d=a.dom;ds(a,"type")!=="number"&&s(d,l)},Nk=o=>{MS(o,(s,a)=>s.setSelectionRange(a.length,a.length))},Ox=ue("alloy.typeahead.itemexecute"),Rk=ue([Jo("lazySink"),Ge("fetch"),Ee("minChars",5),Ee("responseTime",1e3),Bo("onOpen"),Ee("getHotspot",O.some),Ee("getAnchorOverrides",ue({})),Ee("layouts",O.none()),Ee("eventOrder",{}),Ff("model",{},[Ee("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Ee("selectsOver",!0),Ee("populateFromBrowse",!0)]),Bo("onSetValue"),di("onExecute"),Bo("onItemExecute"),Ee("inputClasses",[]),Ee("inputAttributes",{}),Ee("inputStyles",{}),Ee("matchWidth",!0),Ee("useMinWidth",!1),Ee("dismissOnBlur",!0),nf(["openClass"]),Jo("initialData"),Jo("listRole"),ke("typeaheadBehaviours",[ho,se,jl,Kt,Uo,Ls]),ca("lazyTypeaheadComp",()=>Mt(O.none)),ca("previewing",()=>Mt(!0))].concat(Nz()).concat(lx())),M7=ue([Eu({schema:[nh()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(s,a,l)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(d=>{((f,p,b)=>{if(f.selectsOver){const y=se.getValue(p),_=f.getDisplayText(y),E=se.getValue(b);return f.getDisplayText(E).indexOf(_)===0?O.some(()=>{jc(0,p,b),((w,A)=>{MS(w,(P,I)=>P.setSelectionRange(A,I.length))})(p,_.length)}):O.none()}return O.none()})(o.model,d,l).fold(()=>{o.model.selectsOver?($n.dehighlight(a,l),o.previewing.set(!0)):o.previewing.set(!1)},f=>{f(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&jc(o.model,d,l),us(l.element,"id").each(f=>lo(d.element,"aria-activedescendant",f))})},onExecute:(s,a)=>o.lazyTypeaheadComp.get().map(l=>(Vt(l,Ox(),{item:a}),!0)),onHover:(s,a)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(l=>{o.model.populateFromBrowse&&jc(o.model,l,a)})}})})]),eO=wl({name:"Typeahead",configFields:Rk(),partFields:M7(),factory:(o,s,a,l)=>{const d=(w,A,P)=>{o.previewing.set(!1);const I=Ls.getCoupled(w,"sandbox");if(xn.isOpen(I))_n.getCurrent(I).each(Y=>{$n.getHighlighted(Y).fold(()=>{P(Y)},()=>{Yg(I,Y.element,"keydown",A)})});else{const Y=G=>{_n.getCurrent(G).each(P)};ax(o,p(w),w,I,l,Y,is.HighlightMenuAndItem).get(et)}},f=X2(o),p=w=>A=>A.map(P=>{const I=Ys(P.menus),Y=Go(I,G=>Eo(G.items,J=>J.type==="item"));return se.getState(w).update(Se(Y,G=>G.data)),P}),b=w=>_n.getCurrent(w),y="typeaheadevents",_=[ho.config({}),se.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:w=>sf(w.element),getFallbackEntry:w=>({value:w,meta:{}}),setValue:(w,A)=>{ud(w.element,o.model.getDisplayText(A))},...o.initialData.map(w=>M("initialValue",w)).getOr({})}}),jl.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(w,A)=>{const P=Ls.getCoupled(w,"sandbox");if(ho.isFocused(w)&&sf(w.element).length>=o.minChars){const I=b(P).bind(G=>$n.getHighlighted(G).map(se.getValue));o.previewing.set(!0);const Y=G=>{b(P).each(J=>{I.fold(()=>{o.model.selectsOver&&$n.highlightFirst(J)},j=>{$n.highlightBy(J,Z=>se.getValue(Z).value===j.value),$n.getHighlighted(J).orThunk(()=>($n.highlightFirst(J),O.none()))})})};ax(o,p(w),w,P,l,Y,is.HighlightJustMenu).get(et)}},cancelEvent:Vf()}),Kt.config({mode:"special",onDown:(w,A)=>(d(w,A,$n.highlightFirst),O.some(!0)),onEscape:w=>{const A=Ls.getCoupled(w,"sandbox");return xn.isOpen(A)?(xn.close(A),O.some(!0)):O.none()},onUp:(w,A)=>(d(w,A,$n.highlightLast),O.some(!0)),onEnter:w=>{const A=Ls.getCoupled(w,"sandbox"),P=xn.isOpen(A);if(P&&!o.previewing.get())return b(A).bind(I=>$n.getHighlighted(I)).map(I=>(Vt(w,Ox(),{item:I}),!0));{const I=se.getValue(w);return Vo(w,Vf()),o.onExecute(A,w,I),P&&xn.close(A),O.some(!0)}}}),Uo.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Ls.config({others:{sandbox:w=>PC(o,w,{onOpen:()=>Uo.on(w),onClose:()=>{o.lazyTypeaheadComp.get().each(A=>Ur(A.element,"aria-activedescendant")),Uo.off(w)}})}}),wo(y,[Jn(w=>{o.lazyTypeaheadComp.set(O.some(w))}),zr(w=>{o.lazyTypeaheadComp.set(O.none())}),Wd(w=>{const A=et;Uy(o,p(w),w,l,A,is.HighlightMenuAndItem).get(et)}),je(Ox(),(w,A)=>{const P=Ls.getCoupled(w,"sandbox");jc(o.model,w,A.event.item),Vo(w,Vf()),o.onItemExecute(w,P,A.event.item,se.getValue(w)),xn.close(P),Nk(w)})].concat(o.dismissOnBlur?[je(bl(),w=>{const A=Ls.getCoupled(w,"sandbox");Di(A.element).isNone()&&xn.close(A)})]:[]))],E={[ld()]:[se.name(),jl.name(),y],...o.eventOrder};return{uid:o.uid,dom:M_(Er(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...f,...Fe(o.typeaheadBehaviours,_)},eventOrder:E}}}),xf=o=>({...o,toCached:()=>xf(o.toCached()),bindFuture:s=>xf(o.bind(a=>a.fold(l=>Ep(re.error(l)),l=>s(l)))),bindResult:s=>xf(o.map(a=>a.bind(s))),mapResult:s=>xf(o.map(a=>a.map(s))),mapError:s=>xf(o.map(a=>a.mapError(s))),foldResult:(s,a)=>o.map(l=>l.fold(s,a)),withTimeout:(s,a)=>xf(Tg(l=>{let d=!1;const f=setTimeout(()=>{d=!0,l(re.error(a()))},s);o.get(p=>{d||(clearTimeout(f),l(p))})}))}),B7=o=>xf(Tg(o)),rb=(o,s,a=[],l,d,f,p)=>{const b=s.fold(()=>({}),E=>({action:E})),y={buttonBehaviours:xe([oT(()=>!o.enabled||p.checkUiComponentContext(o.context).shouldDisable),Jr(()=>p.checkUiComponentContext(o.context)),_r.config({}),...f.map(E=>Xr.config(p.tooltips.getConfig({tooltipText:p.translate(E)}))).toArray(),wo("button press",[A1("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},_=Er(y,{dom:l});return Er(_,{components:d})},BS=(o,s,a,l=[],d)=>{const f={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(y=>({"aria-label":a.translate(y)})).getOr({}),"data-mce-name":d}},p=o.icon.map(y=>kS(y,a.icons)),b=Uh([p]);return rb(o,s,l,f,b,o.tooltip,a)},Dk=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},e1=(o,s,a,l=[],d=[])=>{const f=a.translate(o.text),p=o.icon.map(w=>kS(w,a.icons)),b=[p.getOrThunk(()=>Or(f))],y=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),_={tag:"button",classes:[...Dk(y),...p.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":f,"data-mce-name":o.text}},E=o.icon.map(ue(f));return rb(o,s,l,_,b,E,a)},tO=(o,s,a,l=[],d=[])=>{const f=e1(o,O.some(s),a,l,d);return qa.sketch(f)},oO=(o,s)=>a=>{s==="custom"?Vt(a,dm,{name:o,value:{}}):s==="submit"?Vo(a,fx):s==="cancel"?Vo(a,Og):console.error("Unknown button type: ",s)},Sd=(o,s,a)=>{if(((l,d)=>d==="menu")(0,s)){const l=()=>p,d=o,f={...o,buttonType:"default",type:"menubutton",search:O.none(),onSetup:b=>(b.setEnabled(o.enabled),et),fetch:T7(d.items,l,a)},p=Bn(Qy(f,"tox-tbtn",a,O.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return p.asSpec()}if(((l,d)=>d==="custom"||d==="cancel"||d==="submit")(0,s)){const l=oO(o.name,s),d={...o,context:s==="cancel"?"any":o.context,borderless:!1};return tO(d,l,a.shared.providers,[])}if(((l,d)=>d==="togglebutton")(0,s))return((l,d,f)=>{var p,b;const y=l.icon.map(Z=>Mp(Z,d.icons)).map(Bn),_=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b},w=E.tooltip.or(l.text).map(Z=>({"aria-label":d.translate(Z)})).getOr({}),A=Dk(_??"secondary"),P=l.icon.isSome()&&l.text.isSome(),I={tag:"button",classes:[...A.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...P?["tox-button--icon-and-text"]:[]],attributes:{...w,...Ht(f)?{"data-mce-name":f}:{}}},Y=d.translate(l.text.getOr("")),G=Or(Y),J=[...Uh([y.map(Z=>Z.asSpec())]),...l.text.isSome()?[G]:[]],j=rb(E,O.some(Z=>{Vt(Z,dm,{name:l.name,value:{setIcon:te=>{y.map(oe=>oe.getOpt(Z).each(ce=>{yo.set(ce,[Mp(te,d.icons)])}))}}})}),[],I,J,l.tooltip,d);return qa.sketch(j)})(o,a.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},Zc={type:"separator"},Ax=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:et}),Zl=(o,s)=>({type:"menuitem",value:s,text:o,meta:{attach:void 0},onAction:et}),nO=(o,s)=>(a=>Se(a,Ax))(((a,l)=>Eo(l,d=>d.type===a))(o,s)),Fr=o=>nO("header",o.targets),P7=o=>nO("anchor",o.targets),sb=o=>O.from(o.anchorTop).map(s=>Zl("<top>",s)).toArray(),Nx=o=>O.from(o.anchorBottom).map(s=>Zl("<bottom>",s)).toArray(),Mk=(o,s)=>{const a=o.toLowerCase();return Eo(s,l=>{var d;const f=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(d=l.value)!==null&&d!==void 0?d:"";return bs(f.toLowerCase(),a)||bs(p.toLowerCase(),a)})},Bk=wt("aria-invalid"),PS=(o,s)=>{o.dom.checked=s},L7=o=>o.dom.checked,ua=o=>(s,a,l,d,f)=>ut(a,"name").fold(()=>o(a,d,O.none(),f),p=>s.field(p,o(a,d,ut(l,p),f))),I7={bar:ua((o,s)=>((a,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Se(a.items,l.interpreter)}))(o,s.shared)),collection:ua((o,s,a)=>e7(o,s.shared.providers,a)),alertbanner:ua((o,s)=>((a,l)=>{const d=Ez(a.icon,l.icons);return yf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${a.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:a.url?void 0:d},components:a.url?[qa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:d,attributes:{title:l.translate(a.iconTooltip)}},action:f=>Vt(f,dm,{name:"alert-banner",value:a.url}),buttonBehaviours:xe([Ph()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(a.text)}}]})})(o,s.shared.providers)),input:ua((o,s,a)=>((l,d,f)=>zS({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:O.none(),maximized:l.maximized,data:f,context:l.context},d))(o,s.shared.providers,a)),textarea:ua((o,s,a)=>((l,d,f)=>zS({name:l.name,multiline:!0,label:l.label,inputMode:O.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:O.none(),maximized:l.maximized,data:f,context:l.context},d))(o,s.shared.providers,a)),label:ua((o,s,a,l)=>((d,f,p)=>{const b="tox-label",y=d.align==="center"?[`${b}--center`]:[],_=d.align==="end"?[`${b}--end`]:[],E=Bn({dom:{tag:"label",classes:[b,...y,..._]},components:[Or(f.providers.translate(d.label))]}),w=Se(d.items,f.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[E.asSpec(),...w],behaviours:xe([Rg(),yo.config({}),(A=O.none(),pS(A,oh,of)),Kt.config({mode:"acyclic"}),wo("label",[Jn(P=>{d.for.each(I=>{p(I).each(Y=>{E.getOpt(P).each(G=>{var J;const j=(J=ds(Y.element,"id"))!==null&&J!==void 0?J:wt("form-field");lo(Y.element,"id",j),lo(G.element,"for",j)})})})})])])};var A})(o,s.shared,l)),iframe:(OO=(o,s,a)=>((l,d,f)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],y=l.border?["tox-navobj-bordered"]:[],_={...l.label.map(P=>({title:P})).getOr({}),...f.map(P=>({srcdoc:P})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},E=((P,I)=>{const Y=Mt(P.getOr(""));return{getValue:G=>Y.get(),setValue:(G,J)=>{if(Y.get()!==J){const j=G.element,Z=()=>lo(j,"srcdoc",J);I?D5.fold(ue(xS),te=>te.throttle)(j,J,Z):Z()}Y.set(J)}}})(f,l.streamContent),w=l.label.map(P=>zp(P,d)),A=tn.parts.field({factory:{sketch:P=>wk(O.from(y),{uid:P.uid,dom:{tag:"iframe",attributes:_,classes:[p,...b]},behaviours:xe([_r.config({}),ho.config({}),Dg(f,E.getValue,E.setValue),Il.config({channels:{[Cx]:{onReceive:(I,Y)=>{Y.newFocus.each(G=>{yi(I.element).each(J=>{(yn(I.element,G)?Tr:lr)(J,"tox-navobj-bordered-focus")})})}}}})])})}});return ux(w,A,["tox-form__group--stretched"],[])})(o,s.shared.providers,a),(o,s,a,l,d)=>{const f=Er(s,{source:"dynamic"});return ua(OO)(o,f,a,l,d)}),button:ua((o,s)=>((a,l)=>{const d=oO(a.name,"custom");return f=O.none(),p=tn.parts.field({factory:qa,...e1(a,O.some(d),l,[_x(""),Rg()])}),ux(f,p,[],[]);var f,p})(o,s.shared.providers)),checkbox:ua((o,s,a)=>((l,d,f)=>{const p=w=>(w.element.dom.click(),O.some(!0)),b=tn.parts.field({factory:{sketch:Ct},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:xe([Rg(),Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:w=>{yi(w.element).each(A=>Tr(A,"tox-checkbox--disabled"))},onEnabled:w=>{yi(w.element).each(A=>lr(A,"tox-checkbox--disabled"))}}),_r.config({}),ho.config({}),pS(f,L7,PS),Kt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),wo("checkbox-events",[je(Tc(),(w,A)=>{Vt(w,$l,{name:l.name})})])])}),y=tn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Or(d.translate(l.label))],behaviours:xe([Jh.config({})])}),_=w=>_d(w==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+w]},d.icons),E=Bn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[_("checked"),_("unchecked")]});return tn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,E.asSpec(),y],fieldBehaviours:xe([Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),Jr(()=>d.checkUiComponentContext(l.context))])})})(o,s.shared.providers,a)),colorinput:ua((o,s,a)=>((l,d,f,p)=>{const b=tn.parts.field({factory:bp,inputClasses:["tox-textfield"],data:p,onSetValue:w=>um.run(w).get(et),inputBehaviours:xe([Wt.config({disabled:()=>d.providers.isDisabled()||d.providers.checkUiComponentContext(l.context).shouldDisable}),Jr(()=>d.providers.checkUiComponentContext(l.context)),_r.config({}),um.config({invalidClass:"tox-textbox-field-invalid",getRoot:w=>yi(w.element),notify:{onValid:w=>{const A=se.getValue(w);Vt(w,Ag,{color:A})}},validator:{validateOnLoad:!1,validate:w=>{const A=se.getValue(w);if(A.length===0)return Ep(re.value(!0));{const P=Os("span");Zt(P,"background-color",A);const I=wr(P,"background-color").fold(()=>re.error("blah"),Y=>re.value(A));return Ep(I)}}}})]),selectOnFocus:!1}),y=l.label.map(w=>zp(w,d.providers)),_=(w,A)=>{Vt(w,WT,{value:A})},E=Bn(((w,A)=>Uc.sketch({dom:w.dom,components:w.components,toggleClass:"mce-active",dropdownBehaviours:xe([q0(()=>A.providers.isDisabled()||A.providers.checkUiComponentContext(w.context).shouldDisable),Jr(()=>A.providers.checkUiComponentContext(w.context)),Jh.config({}),_r.config({})]),layouts:w.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:A.getSink,fetch:P=>Tg(I=>w.fetch(I)).map(I=>O.from(IC(Er(Q_(wt("menu-value"),I,Y=>{w.onItemAction(P,Y)},w.columns,w.presets,Au.CLOSE_ON_EXECUTE,Le,A.providers),{movement:sx(w.columns,w.presets)})))),parts:{menu:im(0,0,w.presets)}}))({dom:{tag:"span",attributes:{"aria-label":d.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ms,Ts,gs],onLtr:()=>[Ts,Ms,gs]},components:[],fetch:J_(f.getColors(l.storageKey),l.storageKey,f.hasCustomColors()),columns:f.getColorCols(l.storageKey),presets:"color",onItemAction:(w,A)=>{E.getOpt(w).each(P=>{A==="custom"?f.colorPicker(I=>{I.fold(()=>Vo(P,qT),Y=>{_(P,Y),kC(l.storageKey,Y)})},"#ffffff"):_(P,A==="remove"?"":A)})},context:l.context},d));return tn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,E.asSpec()]}]),fieldBehaviours:xe([wo("form-field-events",[je(Ag,(w,A)=>{E.getOpt(w).each(P=>{Zt(P.element,"background-color",A.event.color)}),Vt(w,$l,{name:l.name})}),je(WT,(w,A)=>{tn.getField(w).each(P=>{se.setValue(P,A.event.value),_n.getCurrent(w).each(ho.focus)})}),je(qT,(w,A)=>{tn.getField(w).each(P=>{_n.getCurrent(w).each(ho.focus)})})])])})})(o,s.shared,s.colorinput,a)),colorpicker:ua((o,s,a)=>((l,d,f)=>{const p=_=>"tox-"+_,b=y7((_=>E=>Ot(E)?_.translate(S5[E]):_.translate(E))(d),p,d.tooltips.getConfig,(_,E,w=_,A=_)=>_d(w,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_],attributes:{title:d.translate(A),"aria-live":"polite",...E.fold(()=>({}),P=>({id:P}))}},d.icons)),y=Bn(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_=>{Vt(_,dm,{name:"hex-valid",value:!0})},onInvalidHex:_=>{Vt(_,dm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[y.asSpec()],behaviours:xe([Dg(f,_=>{const E=y.get(_);return _n.getCurrent(E).bind(w=>se.getValue(w).hex).map(w=>"#"+Wn(w,"#")).getOr("")},(_,E)=>{const w=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(E)).bind(P=>yt(P,1)),A=y.get(_);_n.getCurrent(A).fold(()=>{console.log("Can not find form")},P=>{se.setValue(P,{hex:w.getOr("")}),Gy.getField(P,"hex").each(I=>{Vo(I,rs())})})}),Rg()])}})(0,s.shared.providers,a)),dropzone:ua((o,s,a)=>gS(o,s.shared.providers,a)),grid:ua((o,s)=>((a,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${a.columns}col`]},components:Se(a.items,l.interpreter)}))(o,s.shared)),listbox:ua((o,s,a)=>((l,d,f)=>{const p=un(l.items,A=>!Ex(A)),b=d.shared.providers,y=f.bind(A=>Ek(l.items,A)).orThunk(()=>it(l.items).filter(Ex)),_=l.label.map(A=>zp(A,b)),E=tn.parts.field({dom:{},factory:{sketch:A=>wS({context:l.context,uid:A.uid,text:y.map(P=>P.text),icon:O.none(),tooltip:O.none(),role:Fo(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(P,I)=>{const Y=CS(P,l.name,l.items,se.getValue(P),p);I(Jy(Y,Au.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:O.none()}))},onSetup:ue(et),getApi:ue({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[_r.config({}),Dg(y.map(P=>P.value),P=>ds(P.element,I5),(P,I)=>{Ek(l.items,I).each(Y=>{lo(P.element,I5,Y.value),Vt(P,Cd,{text:Y.text})})})]},"tox-listbox",d.shared)}}),w={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return tn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ir([_.toArray(),[w]]),fieldBehaviours:xe([Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{tn.getField(A).each(Wt.disable)},onEnabled:A=>{tn.getField(A).each(Wt.enable)}})])})})(o,s,a)),selectbox:ua((o,s,a)=>((l,d,f)=>{const p=Se(l.items,w=>({text:d.translate(w.text),value:w.value})),b=l.label.map(w=>zp(w,d)),y=tn.parts.field({dom:{},...f.map(w=>({data:w})).getOr({}),selectAttributes:{size:l.size},options:p,factory:C7,selectBehaviours:xe([Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),_r.config({}),wo("selectbox-change",[je(Tc(),(w,A)=>{Vt(w,$l,{name:l.name})})])])}),_=l.size>1?O.none():O.some(_d("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},d.icons)),E={dom:{tag:"div",classes:["tox-selectfield"]},components:ir([[y],_.toArray()])};return tn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ir([b.toArray(),[E]]),fieldBehaviours:xe([Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:w=>{tn.getField(w).each(Wt.disable)},onEnabled:w=>{tn.getField(w).each(Wt.enable)}}),Jr(()=>d.checkUiComponentContext(l.context))])})})(o,s.shared.providers,a)),sizeinput:ua((o,s)=>((a,l)=>{let d=Tk;const f=wt("ratio-event"),p=J=>_d(J,{tag:"span",classes:["tox-icon","tox-lock-icon__"+J]},l.icons),b=()=>!a.enabled||l.checkUiComponentContext(a.context).shouldDisable,y=Jr(()=>l.checkUiComponentContext(a.context)),_=a.label.getOr("Constrain proportions"),E=l.translate(_),w=Is.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":_}},components:[p("lock"),p("unlock")],buttonBehaviours:xe([Wt.config({disabled:b}),y,_r.config({}),Xr.config(l.tooltips.getConfig({tooltipText:E}))])}),A=J=>({dom:{tag:"div",classes:["tox-form__group"]},components:J}),P=J=>tn.parts.field({factory:bp,inputClasses:["tox-textfield"],inputBehaviours:xe([Wt.config({disabled:b}),y,_r.config({}),wo("size-input-events",[je(hl(),(j,Z)=>{Vt(j,f,{isField1:J})}),je(Tc(),(j,Z)=>{Vt(j,$l,{name:a.name})})])]),selectOnFocus:!1}),I=J=>({dom:{tag:"label",classes:["tox-label"]},components:[Or(l.translate(J))]}),Y=Is.parts.field1(A([tn.parts.label(I("Width")),P(!0)])),G=Is.parts.field2(A([tn.parts.label(I("Height")),P(!1)]));return Is.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,G,A([I(" "),w])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(J,j,Z)=>{zk(se.getValue(J)).each(te=>{d(te).each(oe=>{se.setValue(j,V5(oe))})})},coupledFieldBehaviours:xe([Wt.config({disabled:b,onDisabled:J=>{Is.getField1(J).bind(tn.getField).each(Wt.disable),Is.getField2(J).bind(tn.getField).each(Wt.disable),Is.getLock(J).each(Wt.disable)},onEnabled:J=>{Is.getField1(J).bind(tn.getField).each(Wt.enable),Is.getField2(J).bind(tn.getField).each(Wt.enable),Is.getLock(J).each(Wt.enable)}}),Jr(()=>l.checkUiComponentContext("mode:design")),wo("size-input-events2",[je(f,(J,j)=>{const Z=j.event.isField1,te=Z?Is.getField1(J):Is.getField2(J),oe=Z?Is.getField2(J):Is.getField1(J),ce=te.map(se.getValue).getOr(""),be=oe.map(se.getValue).getOr("");d=ES(ce,be)})])])})})(o,s.shared.providers)),slider:ua((o,s,a)=>((l,d,f)=>{const p=ou.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Or(d.translate(l.label))]}),b=ou.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=ou.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ou.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ue(f.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,y],sliderBehaviours:xe([Rg(),ho.config({})]),onChoose:(_,E,w)=>{Vt(_,$l,{name:l.name,value:w})},onChange:(_,E,w)=>{Vt(_,$l,{name:l.name,value:w})}})})(o,s.shared.providers,a)),urlinput:ua((o,s,a)=>((l,d,f,p)=>{const b=d.shared.providers,y=j=>{const Z=se.getValue(j);f.addToHistory(Z.value,l.filetype)},_={...p.map(j=>({initialData:j})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Bk,type:"url"},minChars:0,responseTime:0,fetch:j=>{const Z=((oe,ce,be)=>{var we,Ae;const Ue=se.getValue(ce),$e=(Ae=(we=Ue==null?void 0:Ue.meta)===null||we===void 0?void 0:we.text)!==null&&Ae!==void 0?Ae:Ue.value;return be.getLinkInformation().fold(()=>[],Ye=>{const mt=Mk($e,(Xt=>Se(Xt,so=>Zl(so,so)))(be.getHistory(oe)));return oe==="file"?($t=[mt,Mk($e,Fr(Ye)),Mk($e,ir([sb(Ye),P7(Ye),Nx(Ye)]))],fo($t,(Xt,so)=>Xt.length===0||so.length===0?Xt.concat(so):Xt.concat(Zc,so),[])):mt;var $t})})(l.filetype,j,f),te=Jy(Z,Au.BUBBLE_TO_SANDBOX,d,{isHorizontalMenu:!1,search:O.none()});return Ep(te)},getHotspot:j=>G.getOpt(j),onSetValue:(j,Z)=>{j.hasConfigured(um)&&um.run(j).get(et)},typeaheadBehaviours:xe([...f.getValidationHandler().map(j=>um.config({getRoot:Z=>yi(Z.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Z,te)=>{A.getOpt(Z).each(oe=>{lo(oe.element,"title",b.translate(te))})}},validator:{validate:Z=>{const te=se.getValue(Z);return B7(oe=>{j({type:l.filetype,url:te.value},ce=>{if(ce.status==="invalid"){const be=re.error(ce.message);oe(be)}else{const be=re.value(ce.message);oe(be)}})})},validateOnLoad:!1}})).toArray(),Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable}),_r.config({}),wo("urlinput-events",[je(rs(),j=>{const Z=sf(j.element),te=Z.trim();te!==Z&&ud(j.element,te),l.filetype==="file"&&Vt(j,$l,{name:l.name})}),je(Tc(),j=>{Vt(j,$l,{name:l.name}),y(j)}),je(Hf(),j=>{Vt(j,$l,{name:l.name}),y(j)})])]),eventOrder:{[rs()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:j=>j.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:d.shared.getSink,parts:{menu:im(0,0,"normal")},onExecute:(j,Z,te)=>{Vt(Z,fx,{})},onItemExecute:(j,Z,te,oe)=>{y(j),Vt(j,$l,{name:l.name})}},E=tn.parts.field({..._,factory:eO}),w=l.label.map(j=>zp(j,b)),A=Bn(((j,Z,te=j,oe=j)=>_d(te,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+j],attributes:{title:b.translate(oe),"aria-live":"polite",...Z.fold(()=>({}),ce=>({id:ce}))}},b.icons))("invalid",O.some(Bk),"warning")),P=Bn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),I=f.getUrlPicker(l.filetype),Y=wt("browser.url.event"),G=Bn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[E,P.asSpec()],behaviours:xe([Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable})])}),J=Bn(tO({context:l.context,name:l.name,icon:O.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:O.none(),borderless:!0},j=>Vo(j,Y),b,[],["tox-browse-url"]));return tn.sketch({dom:sk([]),components:w.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ir([[G.asSpec()],I.map(()=>J.asSpec()).toArray()])}]),fieldBehaviours:xe([Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:j=>{tn.getField(j).each(Wt.disable),J.getOpt(j).each(Wt.disable)},onEnabled:j=>{tn.getField(j).each(Wt.enable),J.getOpt(j).each(Wt.enable)}}),Jr(()=>b.checkUiComponentContext(l.context)),wo("url-input-events",[je(Y,j=>{_n.getCurrent(j).each(Z=>{const te=se.getValue(Z),oe={fieldname:l.name,...te};I.each(ce=>{ce(oe).get(be=>{se.setValue(Z,be),Vt(j,$l,{name:l.name})})})})})])])})})(o,s,s.urlinput,a)),customeditor:ua(o=>{const s=cn(),a=Bn({dom:{tag:o.tag}}),l=cn(),d=!E5(o)&&o.onFocus.isSome()?[ho.config({onFocus:f=>{o.onFocus.each(p=>{p(f.element.dom)})}}),_r.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:xe([wo("custom-editor-events",[Jn(f=>{a.getOpt(f).each(p=>{(E5(o)?o.init(p.element.dom):_7.load(o.scriptId,o.scriptUrl).then(b=>b(p.element.dom,o.settings))).then(b=>{l.on(y=>{b.setValue(y)}),l.clear(),s.set(b)})})})]),Dg(O.none(),()=>s.get().fold(()=>l.get().getOr(""),f=>f.getValue()),(f,p)=>{s.get().fold(()=>l.set(p),b=>b.setValue(p))}),Rg()].concat(d)),components:[a.asSpec()]}}),htmlpanel:ua((o,s)=>((a,l)=>{const d=["tox-form__group",...a.stretched?["tox-form__group--stretched"]:[]],f=wo("htmlpanel",[Jn(p=>{a.onInit(p.element.dom)})]);return a.presets==="presentation"?yf.sketch({dom:{tag:"div",classes:d,innerHtml:a.html},containerBehaviours:xe([Xr.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{Vn(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Di(p.element)).each(b=>{us(b,"data-mce-tooltip").each(y=>{Xr.setComponents(p,l.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:Vn(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Di(p.element).filter(b=>us(b,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:ue([gs,vs,Ts,Za,Ms,da]),onRtl:ue([gs,vs,Ts,Za,Ms,da])},bubble:_l(0,-2,{})})}),f])}):yf.sketch({dom:{tag:"div",classes:d,innerHtml:a.html,attributes:{role:"document"}},containerBehaviours:xe([_r.config({}),ho.config({}),f])})})(o,s.shared.providers)),imagepreview:ua((o,s,a)=>((l,d)=>{const f=Mt(d.getOr({url:""})),p=Bn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:d.map(E=>({src:E.url})).getOr({})}}),b=Bn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),y={};l.height.each(E=>y.height=E);const _=d.map(E=>({url:E.url,zoom:O.from(E.zoom),cachedWidth:O.from(E.cachedWidth),cachedHeight:O.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:xe([Rg(),Dg(_,()=>f.get(),(E,w)=>{const A={url:w.url};w.zoom.each(I=>A.zoom=I),w.cachedWidth.each(I=>A.cachedWidth=I),w.cachedHeight.each(I=>A.cachedHeight=I),f.set(A);const P=()=>{const{cachedWidth:I,cachedHeight:Y,zoom:G}=A;if(!hr(I)&&!hr(Y)){if(hr(G)){const j=((Z,te,oe)=>{const ce=ae(Z),be=Cr(Z);return Math.min(ce/te,be/oe,1)})(E.element,I,Y);A.zoom=j}const J=((j,Z,te,oe,ce)=>{const be=te*ce,we=oe*ce,Ae=Math.max(0,j/2-be/2),Ue=Math.max(0,Z/2-we/2);return{left:Ae.toString()+"px",top:Ue.toString()+"px",width:be.toString()+"px",height:we.toString()+"px"}})(ae(E.element),Cr(E.element),I,Y,A.zoom);b.getOpt(E).each(j=>{ti(j.element,J)})}};p.getOpt(E).each(I=>{const Y=I.element;w.url!==ds(Y,"src")&&(lo(Y,"src",w.url),lr(E.element,"tox-imagepreview__loaded")),P(),iT(Y).then(G=>{E.getSystem().isConnected()&&(Tr(E.element,"tox-imagepreview__loaded"),A.cachedWidth=G.dom.naturalWidth,A.cachedHeight=G.dom.naturalHeight,P())})})})])}})(o,a)),table:ua((o,s)=>((a,l)=>{const d=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=a.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Se(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(f=a.cells,{dom:{tag:"tbody"},components:Se(f,b=>({dom:{tag:"tr"},components:Se(b,d)}))})],behaviours:xe([_r.config({}),ho.config({})])};var f,p})(o,s.shared.providers)),tree:ua((o,s)=>((a,l)=>{const d=a.onLeafAction.getOr(et),f=a.onToggleExpand.getOr(et),p=a.defaultExpandedIds,b=Mt(p),y=Mt(a.defaultSelectedId),_=wt("tree-id"),E=(w,A)=>a.items.map(P=>P.type==="leaf"?Tx({leaf:P,selectedId:w,onLeafAction:d,visible:!0,treeId:_,backstage:l}):DS({directory:P,selectedId:w,onLeafAction:d,expandedIds:A,labelTabstopping:!0,treeId:_,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(y.get(),b.get()),behaviours:xe([Kt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),wo(X5,[je("expand-tree-node",(w,A)=>{const{expanded:P,node:I}=A.event;b.set(P?[...b.get(),I]:b.get().filter(Y=>Y!==I)),f(b.get(),{expanded:P,node:I})})]),Il.config({channels:{[`update-active-item-${_}`]:{onReceive:(w,A)=>{y.set(O.some(A.value)),yo.set(w,E(O.some(A.value),b.get()))}}}}),yo.config({})])}})(o,s)),panel:ua((o,s)=>((a,l)=>({dom:{tag:"div",classes:a.classes},components:Se(a.items,l.shared.interpreter)}))(o,s))},rO={field:(o,s)=>s,record:ue([])},LS=(o,s,a,l,d)=>{const f=Er(l,{shared:{interpreter:p=>Rx(o,p,a,f,d)}});return Rx(o,s,a,f,d)},Rx=(o,s,a,l,d)=>ut(I7,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),f=>f(o,s,a,l,d)),IS=(o,s,a,l)=>Rx(rO,o,s,a,l),vf="layout-inset",FS=o=>o.x,sO=(o,s)=>o.x+o.width/2-s.width/2,HS=(o,s)=>o.x+o.width-s.width,VS=o=>o.y,$S=(o,s)=>o.y+o.height-s.height,US=(o,s)=>o.y+o.height/2-s.height/2,Pk=(o,s,a)=>oa(HS(o,s),$S(o,s),a.insetSouthwest(),Km(),"southwest",Ni(o,{right:0,bottom:3}),vf),Lk=(o,s,a)=>oa(FS(o),$S(o,s),a.insetSoutheast(),Gm(),"southeast",Ni(o,{left:1,bottom:3}),vf),t1=(o,s,a)=>oa(HS(o,s),VS(o),a.insetNorthwest(),Hb(),"northwest",Ni(o,{right:0,top:2}),vf),Dx=(o,s,a)=>oa(FS(o),VS(o),a.insetNortheast(),Mc(),"northeast",Ni(o,{left:1,top:2}),vf),nu=(o,s,a)=>oa(sO(o,s),VS(o),a.insetNorth(),Yf(),"north",Ni(o,{top:2}),vf),Pp=(o,s,a)=>oa(sO(o,s),$S(o,s),a.insetSouth(),ih(),"south",Ni(o,{bottom:3}),vf),aO=(o,s,a)=>oa(HS(o,s),US(o,s),a.insetEast(),Ev(),"east",Ni(o,{right:0}),vf),iO=(o,s,a)=>oa(FS(o),US(o,s),a.insetWest(),W1(),"west",Ni(o,{left:1}),vf),lO=o=>{switch(o){case"north":return nu;case"northeast":return Dx;case"northwest":return t1;case"south":return Pp;case"southeast":return Lk;case"southwest":return Pk;case"east":return aO;case"west":return iO}},jS=(o,s,a,l,d)=>Y1(l).map(lO).getOr(nu)(o,s,a,l,d),ZS=o=>{switch(o){case"north":return Pp;case"northeast":return Lk;case"northwest":return Pk;case"south":return nu;case"southeast":return Dx;case"southwest":return t1;case"east":return iO;case"west":return aO}},cO=(o,s,a,l,d)=>Y1(l).map(ZS).getOr(nu)(o,s,a,l,d),Mx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},F7=(o,s,a)=>{const l={maxHeightFunction:qd()};return()=>a()?{type:"node",root:yr(cs(o())),node:O.from(o()),bubble:_l(12,12,Mx),layouts:{onRtl:()=>[Dx],onLtr:()=>[t1]},overrides:l}:{type:"hotspot",hotspot:s(),bubble:_l(-12,12,Mx),layouts:{onRtl:()=>[Ts,Ms,gs],onLtr:()=>[Ms,Ts,gs]},overrides:l}},H7=(o,s,a,l)=>{const d={maxHeightFunction:qd()};return()=>l()?{type:"node",root:yr(cs(s())),node:O.from(s()),bubble:_l(12,12,Mx),layouts:{onRtl:()=>[nu],onLtr:()=>[nu]},overrides:d}:o?{type:"node",root:yr(cs(s())),node:O.from(s()),bubble:_l(0,-Aa(s()),Mx),layouts:{onRtl:()=>[vs],onLtr:()=>[vs]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:_l(0,0,Mx),layouts:{onRtl:()=>[vs],onLtr:()=>[vs]},overrides:d}},V7=(o,s,a)=>()=>a()?{type:"node",root:yr(cs(o())),node:O.from(o()),layouts:{onRtl:()=>[nu],onLtr:()=>[nu]}}:{type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[gs],onLtr:()=>[gs]}},$7=(o,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=o.selection.getRng(),l=o.model.table.getSelectedCells();if(l.length>1){const d=l[0],f=l[l.length-1],p={firstCell:_t(d),lastCell:_t(f)};return O.some(p)}return O.some(ff.range(_t(a.startContainer),a.startOffset,_t(a.endContainer),a.endOffset))}}),U7=o=>s=>({type:"node",root:o(),node:s}),dO=(o,s,a,l)=>{const d=Cg(o),f=()=>_t(o.getBody()),p=()=>_t(o.getContentAreaContainer()),b=()=>d||!l();return{inlineDialog:F7(p,s,b),inlineBottomDialog:H7(o.inline,p,a,b),banner:V7(p,s,b),cursor:$7(o,f),node:U7(f)}},Pu=o=>(s,a)=>{ST(o)(s,a)},j7=o=>()=>vT(o),WS=o=>s=>nx(o,s),uO=o=>s=>zC(o,s),fO=o=>()=>y_(o),mO=o=>Io(o,"items"),qS=o=>Io(o,"format"),GS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],KS=o=>fo(o,(s,a)=>{if(ko(a,"items")){const l=KS(a.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:a.title,items:l.formats}])}}if(ko(a,"inline")||(l=>ko(l,"block"))(a)||(l=>ko(l,"selector"))(a)){const l=`custom-${Ot(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:l,format:a}]),formats:s.formats.concat([{title:a.title,format:l,icon:a.icon}])}}return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),pO=o=>GE(o).map(s=>{const a=((l,d)=>{const f=KS(d),p=b=>{ot(b,y=>{l.formatter.has(y.name)||l.formatter.register(y.name,y.format)})};return l.formatter?p(f.customFormats):l.on("init",()=>{p(f.customFormats)}),f.formats})(o,s);return KE(o)?GS.concat(a):a}).getOr(GS),gO=(o,s,a)=>({...o,type:"formatter",isSelected:s(o.format),getStylePreview:a(o.format)}),hO=(o,s,a,l)=>{const d=f=>Se(f,p=>mO(p)?(b=>{const y=d(b.items);return{...b,type:"submenu",getStyleItems:ue(y)}})(p):qS(p)?(b=>gO(b,a,l))(p):(b=>{const y=Wo(b);return y.length===1&&Je(y,"title")})(p)?{...p,type:"separator"}:(b=>{const y=Ot(b.name)?b.name:wt(b.title),_=`custom-${y}`,E={...b,type:"formatter",format:_,isSelected:a(_),getStylePreview:l(_)};return o.formatter.register(y,E),E})(p));return d(s)},Z7=o=>{let s=0;const a=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Or(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>s>0?60:300,delayForHide:ue(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:a(l),onShow:(d,f)=>{s++,l.onShow&&l.onShow(d,f)},onHide:(d,f)=>{s--,l.onHide&&l.onHide(d,f)},onSetup:l.onSetup}),getComponents:a}},W7=pm.trim,bO=o=>s=>!!((a=>Ht(a)&&a.nodeType===1)(s)&&(s.contentEditable===o||s.getAttribute("data-mce-contenteditable")===o)),q7=bO("true"),yO=bO("false"),YS=(o,s,a,l,d)=>({type:o,title:s,url:a,level:l,attach:d}),XS=o=>o.innerText||o.textContent,G7=o=>(s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0)(o)&&vO(o),xO=o=>o&&/^(H[1-6])$/.test(o.nodeName),vO=o=>(s=>{let a=s;for(;a=a.parentNode;){const l=a.contentEditable;if(l&&l!=="inherit")return q7(a)}return!1})(o)&&!yO(o),o1=o=>xO(o)&&vO(o),K7=o=>{var s;const a=(l=>l.id?l.id:wt("h"))(o);return YS("header",(s=XS(o))!==null&&s!==void 0?s:"","#"+a,(l=>xO(l)?parseInt(l.nodeName.substr(1),10):0)(o),()=>{o.id=a})},_O=o=>{const s=o.id||o.name,a=XS(o);return YS("anchor",a||"#"+s,"#"+s,0,et)},kO=o=>W7(o.title).length>0,wO=o=>{const s=(a=>Se(Ki(_t(a),"h1,h2,h3,h4,h5,h6,a:not([href])"),d=>d.dom))(o);return Eo((a=>Se(Eo(a,o1),K7))(s).concat((a=>Se(Eo(a,G7),_O))(s)),kO)},Bx="tinymce-url-history",Ik=o=>Ot(o)&&/^https?/.test(o),Fk=o=>So(o)&&Yo(o,s=>{return!(uo(a=s)&&a.length<=5&&gi(a,Ik));var a}).isNone(),Hk=()=>{const o=Gh.getItem(Bx);if(o===null)return{};let s;try{s=JSON.parse(o)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+Bx+" was not valid JSON",a),{};throw a}return Fk(s)?s:(console.log("Local storage "+Bx+" was not valid format",s),{})},CO=o=>{const s=Hk();return ut(s,o).getOr([])},Y7=(o,s)=>{if(!Ik(o))return;const a=Hk(),l=ut(a,s).getOr([]),d=Eo(l,f=>f!==o);a[s]=[o].concat(d).slice(0,5),(f=>{if(!Fk(f))throw new Error(`Bad format for history:
`+JSON.stringify(f));Gh.setItem(Bx,JSON.stringify(f))})(a)},JS=o=>!!o,X7=o=>Rn(pm.makeMap(o,/[, ]/),JS),QS=o=>O.from(tz(o)),SO=o=>O.from(o).filter(Ot).getOrUndefined(),EO=o=>({getHistory:CO,addToHistory:Y7,getLinkInformation:()=>(s=>oz(s)?O.some({targets:wO(s.getBody()),anchorTop:SO(nz(s)),anchorBottom:SO(E2(s))}):O.none())(o),getValidationHandler:()=>(s=>O.from(S2(s)))(o),getUrlPicker:s=>((a,l)=>((d,f)=>{const p=(b=>{const y=O.from(_y(b)).filter(JS).map(X7);return QS(b).fold(Le,_=>y.fold(jt,E=>Wo(E).length>0&&E))})(d);return bn(p)?p?QS(d):O.none():p[f]?QS(d):O.none()})(a,l).map(d=>f=>Tg(p=>{const b={filetype:l,fieldname:f.fieldname,...O.from(f.meta).getOr({})};d.call(a,(y,_)=>{if(!Ot(y))throw new Error("Expected value to be string");if(_!==void 0&&!So(_))throw new Error("Expected meta to be a object");p({value:y,meta:_})},f.value,b)})))(o,s)}),Pa=mR,_f=F3,J7=ue([Ee("shell",!1),Ge("makeItem"),Ee("setupItem",et),Qe("listBehaviours",[yo])]),Q7=Yd({name:"items",overrides:()=>({behaviours:xe([yo.config({})])})}),e8=ue([Q7]),zO=wl({name:ue("CustomList")(),configFields:J7(),partFields:e8(),factory:(o,s,a,l)=>{const d=o.shell?{behaviours:[yo.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:Fe(o.listBehaviours,d.behaviours),apis:{setItems:(f,p)=>{var b;(b=f,o.shell?O.some(b):Lr(b,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},y=>{const _=yo.contents(y),E=p.length,w=E-_.length,A=w>0?Li(w,()=>o.makeItem()):[],P=_.slice(E);ot(P,Y=>yo.remove(y,Y)),ot(A,Y=>yo.append(y,Y));const I=yo.contents(y);ot(I,(Y,G)=>{o.setupItem(f,Y,p[G],G)})})}}}},apis:{setItems:(o,s,a)=>{o.setItems(s,a)}}}),n1=ue([Ge("dom"),Ee("shell",!0),ke("toolbarBehaviours",[yo])]),t8=ue([Yd({name:"groups",overrides:()=>({behaviours:xe([yo.config({})])})})]),kf=wl({name:"Toolbar",configFields:n1(),partFields:t8(),factory:(o,s,a,l)=>{const d=o.shell?{behaviours:[yo.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:Fe(o.toolbarBehaviours,d.behaviours),apis:{setGroups:(f,p)=>{var b;(b=f,o.shell?O.some(b):Lr(b,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},y=>{yo.set(y,p)})},refresh:et},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)}}}),o8=et,n8=Le,TO=ue([]);var OO,AO=Object.freeze({__proto__:null,setup:o8,isDocked:n8,getBehaviours:TO});const e4=ue(wt("toolbar-height-change")),hm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},NO="tox-tinymce--toolbar-sticky-on",RO="tox-tinymce--toolbar-sticky-off",Vk=(o,s)=>Je(Mn.getModes(o),s),r1=o=>{const s=o.element;yi(s).each(a=>{const l="padding-"+Mn.getModes(o)[0];if(Mn.isDocked(o)){const d=ae(a);Zt(s,"width",d+"px"),Zt(a,l,(f=>Aa(f)+(parseInt(Us(f,"margin-top"),10)||0)+(parseInt(Us(f,"margin-bottom"),10)||0))(s)+"px")}else an(s,"width"),an(a,l)})},t4=(o,s)=>{s?(lr(o,hm.fadeOutClass),yl(o,[hm.transitionClass,hm.fadeInClass])):(lr(o,hm.fadeInClass),yl(o,[hm.fadeOutClass,hm.transitionClass]))},DO=(o,s)=>{const a=_t(o.getContainer());s?(Tr(a,NO),lr(a,RO)):(Tr(a,RO),lr(a,NO))},MO=(o,s)=>{const a=cn(),l=s.getSink,d=b=>{l().each(y=>b(y.element))},f=b=>{o.inline||r1(b),DO(o,Mn.isDocked(b)),b.getSystem().broadcastOn([pf()],{}),l().each(y=>y.getSystem().broadcastOn([pf()],{}))},p=o.inline?[]:[Il.config({channels:{[e4()]:{onReceive:r1}}})];return[ho.config({}),Mn.config({contextual:{lazyContext:b=>{const y=Aa(b.element),_=o.inline?o.getContentAreaContainer():o.getContainer();return O.from(_).map(E=>{const w=Ns(_t(E));return Bs(o,b.element).fold(()=>{const A=w.height-y,P=w.y+(Vk(b,"top")?0:y);return Sn(w.x,P,w.width,A)},A=>{const P=Rs(w,Rh(A)),I=Vk(b,"top")?P.y:P.y+y;return Sn(P.x,I,P.width,P.height-y)})})},onShow:()=>{d(b=>t4(b,!0))},onShown:b=>{d(y=>li(y,[hm.transitionClass,hm.fadeInClass])),a.get().each(y=>{((_,E)=>{const w=pa(E);pc(w).filter(A=>!yn(E,A)).filter(A=>yn(A,_t(w.dom.body))||ys(_,A)).each(()=>Ba(E))})(b.element,y),a.clear()})},onHide:b=>{((y,_)=>Di(y).orThunk(()=>_().toOptional().bind(E=>Di(E.element))))(b.element,l).fold(a.clear,a.set),d(y=>t4(y,!1))},onHidden:()=>{d(b=>li(b,[hm.transitionClass]))},...hm},lazyViewport:b=>Bs(o,b.element).fold(()=>{const y=Cs(),_=QE(o),E=y.y+(Vk(b,"top")&&!vd(o)?_:0),w=y.height-(Vk(b,"bottom")?_:0);return{bounds:Sn(y.x,E,y.width,w),optScrollEnv:O.none()}},y=>({bounds:Rh(y),optScrollEnv:O.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Gr(y.element).top})})),modes:[s.header.getDockingMode()],onDocked:f,onUndocked:f}),...p]};var r8=Object.freeze({__proto__:null,setup:(o,s,a)=>{o.inline||(s.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{a().each(Mn.reset)}),o.on("ResizeWindow ResizeEditor",()=>{a().each(r1)}),o.on("SkinLoaded",()=>{a().each(l=>{Mn.isDocked(l)?Mn.reset(l):Mn.refresh(l)})}),o.on("FullscreenStateChanged",()=>{a().each(Mn.reset)})),o.on("AfterScrollIntoView",l=>{a().each(d=>{Mn.refresh(d);const f=d.element;cE(f)&&((p,b)=>{const y=pa(b),_=Md(b).dom.innerHeight,E=xs(y),w=_t(p.elm),A=Rl(w),P=Cr(w),I=A.y,Y=I+P,G=Gr(b),J=Cr(b),j=G.top,Z=j+J,te=Math.abs(j-E.top)<2,oe=Math.abs(Z-(E.top+_))<2;if(te&&I<Z)ia(E.left,I-J,y);else if(oe&&Y>j){const ce=I-_+P+J;ia(E.left,ce,y)}})(l,f)})}),o.on("PostRender",()=>{DO(o,!1)})},isDocked:o=>o().map(Mn.isDocked).getOr(!1),getBehaviours:MO});const s8=no([Ps,Qs("items",nd([hu([$0,jr("items",Mr)]),Mr]))].concat($h)),a8=[or("buttonType","default"),Zr("text"),Zr("tooltip"),Zr("icon"),wa("search",!1,nd([yu,no([Zr("placeholder")])],o=>bn(o)?o?O.some({placeholder:O.none()}):O.none():O.some(o))),Ti("fetch"),Xn("onSetup",()=>et),or("context","mode:design")],BO=no([Ps,...a8]),$k=o=>tr("menubutton",BO,o),PO=no([Ps,lm,xc,xp,kD,xD,Vh,Ca("presets","normal",["normal","color","listpreview"]),wD(1),Hh,_D,or("context","mode:design")]);var Uk=yd({factory:(o,s)=>{const a={focus:Kt.focusIn,setMenus:(l,d)=>{const f=Se(d,p=>{const b={type:"menubutton",text:p.text,fetch:_=>{_(p.getItems())},context:"any"},y=$k(b).mapError(_=>si(_)).getOrDie();return Qy(y,"tox-mbtn",s.backstage,O.some("menuitem"))});yo.set(l,f)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:xe([yo.config({}),wo("menubar-events",[Jn(l=>{o.onSetup(l)}),je(Oi(),(l,d)=>{Vn(l.element,".tox-mbtn--active").each(f=>{Ui(d.event.target,".tox-mbtn").each(p=>{yn(f,p)||l.getSystem().getByDom(f).each(b=>{l.getSystem().getByDom(p).each(y=>{Uc.expand(y),Uc.close(b),ho.focus(y)})})})})}),je(cd(),(l,d)=>{d.event.prevFocus.bind(f=>l.getSystem().getByDom(f).toOptional()).each(f=>{d.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{Uc.isOpen(f)&&(Uc.expand(p),Uc.close(f))})})})]),Kt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(o.onEscape(l),O.some(!0))}),_r.config({})]),apis:a,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ge("dom"),Ge("uid"),Ge("onEscape"),Ge("backstage"),Ee("onSetup",et)],apis:{focus:(o,s)=>{o.focus(s)},setMenus:(o,s,a)=>{o.setMenus(s,a)}}});const LO="container",IO=[ke("slotBehaviours",[])],FO=o=>"<alloy.field."+o+">",i8=(o,s)=>{const a=E=>U3(o),l=(E,w)=>(A,P)=>Lr(A,o,P).map(I=>E(I,P)).getOr(w),d=(E,w)=>ds(E.element,"aria-hidden")!=="true",f=l(d,!1),p=l((E,w)=>{if(d(E)){const A=E.element;Zt(A,"display","none"),lo(A,"aria-hidden","true"),Vt(E,Ku(),{name:w,visible:!1})}}),b=(E=>(w,A)=>{ot(A,P=>E(w,P))})(p),y=l((E,w)=>{if(!d(E)){const A=E.element;an(A,"display"),Ur(A,"aria-hidden"),Vt(E,Ku(),{name:w,visible:!0})}}),_={getSlotNames:a,getSlot:(E,w)=>Lr(E,o,w),isShowing:f,hideSlot:p,hideAllSlots:E=>b(E,a()),showSlot:y};return{uid:o.uid,dom:o.dom,components:s,behaviours:We(o.slotBehaviours),apis:_}},il={...Rn({getSlotNames:(o,s)=>o.getSlotNames(s),getSlot:(o,s,a)=>o.getSlot(s,a),isShowing:(o,s,a)=>o.isShowing(s,a),hideSlot:(o,s,a)=>o.hideSlot(s,a),hideAllSlots:(o,s)=>o.hideAllSlots(s),showSlot:(o,s,a)=>o.showSlot(s,a)},o=>Lb(o)),sketch:o=>{const s=(()=>{const f=[];return{slot:(p,b)=>(f.push(p),Yw(LO,FO(p),b)),record:ue(f)}})(),a=o(s),l=s.record(),d=Se(l,f=>rl({name:f,pname:FO(f)}));return Yv(LO,IO,d,i8,a)}},l8=no([xc,lm,Xn("onShow",et),Xn("onHide",et),Vh]),c8=o=>({element:()=>o.element.dom}),d8=(o,s)=>{const a=Se(Wo(s),l=>{const d=s[l],f=la((p=>tr("sidebar",l8,p))(d));return{name:l,getApi:c8,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return Se(a,l=>{const d=Mt(et);return o.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:W0([Ru(l,d),_p(l,d),je(Ku(),(f,p)=>{const b=p.event;H(a,_=>_.name===b.name).each(_=>{(b.visible?_.onShow:_.onHide)(_.getApi(f))})})])})})},u8=o=>il.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:d8(s,o),slotBehaviours:W0([Jn(a=>il.hideAllSlots(a))])})),jk=(o,s)=>{lo(o,"role",s)},f8=o=>_n.getCurrent(o).bind(s=>Ul.isGrowing(s)||Ul.hasGrown(s)?_n.getCurrent(s).bind(a=>H(il.getSlotNames(a),l=>il.isShowing(a,l))):O.none()),o4=wt("FixSizeEvent"),s1=wt("AutoSizeEvent");var n4=Object.freeze({__proto__:null,block:(o,s,a,l)=>{lo(o.element,"aria-busy",!0);const d=s.getRoot(o).getOr(o),f=xe([Kt.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),ho.config({})]),p=l(d,f),b=d.getSystem().build(p);yo.append(d,Ll(b)),b.hasConfigured(Kt)&&s.focus&&Kt.focusIn(b),a.isBlocked()||s.onBlock(o),a.blockWith(()=>yo.remove(d,b))},unblock:(o,s,a)=>{Ur(o.element,"aria-busy"),a.isBlocked()&&s.onUnblock(o),a.clear()},isBlocked:(o,s,a)=>a.isBlocked()}),r4=[Xn("getRoot",O.none),ea("focus",!0),Bo("onBlock"),Bo("onUnblock")];const Lu=Gt({fields:r4,name:"blocking",apis:n4,state:Object.freeze({__proto__:null,init:()=>{const o=Dl(s=>s.destroy());return Ie({readState:o.isSet,blockWith:s=>{o.set({destroy:s})},clear:o.clear,isBlocked:o.isSet})}})}),HO=o=>_n.getCurrent(o).each(s=>Ba(s.element,!0)),m8=(o,s,a)=>{const l=Mt(!1),d=cn(),f=b=>{var y;l.get()&&(!(_=>_.type==="focusin")(y=b)||!(y.composed?it(y.composedPath()):O.from(y.target)).map(_t).filter(dr).exists(_=>cr(_,"mce-pastebin")))&&(b.preventDefault(),HO(s()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",f),o.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&f(b)})});const p=b=>{b!==l.get()&&(l.set(b),((y,_,E,w)=>{const A=_.element;if(((P,I)=>{const Y="tabindex",G=`data-mce-${Y}`;O.from(P.iframeElement).map(_t).each(J=>{I?(us(J,Y).each(j=>lo(J,G,j)),lo(J,Y,-1)):(Ur(J,Y),us(J,G).each(j=>{lo(J,Y,j),Ur(J,G)}))})})(y,E),E)Lu.block(_,(P=>(I,Y)=>({dom:{tag:"div",attributes:{"aria-label":P.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:hp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(w)),an(A,"display"),Ur(A,"aria-hidden"),y.hasFocus()&&HO(_);else{const P=_n.getCurrent(_).exists(I=>fd(I.element));Lu.unblock(_),Zt(A,"display","none"),lo(A,"aria-hidden","true"),P&&y.focus()}})(o,s(),b,a.providers),((y,_)=>{y.dispatch("AfterProgressState",{state:_})})(o,b))};o.on("ProgressState",b=>{if(d.on(clearTimeout),sn(b.time)){const y=f_.setEditorTimeout(o,()=>p(b.state),b.time);d.set(y)}else p(b.state),d.clear()})},Px=(o,s,a)=>({within:o,extra:s,withinWidth:a}),Zk=(o,s,a)=>{const l=fo(o,(p,b)=>((y,_)=>{const E=a(y);return O.some({element:y,start:_,finish:_+E,width:E})})(b,p.len).fold(ue(p),y=>({len:y.finish,list:p.list.concat([y])})),{len:0,list:[]}).list,d=Eo(l,p=>p.finish<=s),f=bo(d,(p,b)=>p+b.width,0);return{within:d,extra:l.slice(d.length),withinWidth:f}},ab=o=>Se(o,s=>s.element),s4=(o,s)=>{const a=Se(s,l=>Ll(l));kf.setGroups(o,a)},VO=(o,s,a)=>{const l=s.builtGroups.get();if(l.length===0)return;const d=vg(o,s,"primary"),f=Ls.getCoupled(o,"overflowGroup");Zt(d.element,"visibility","hidden");const p=l.concat([f]),b=mo(p,_=>Di(_.element).bind(E=>_.getSystem().getByDom(E).toOptional()));a([]),s4(d,p);const y=((_,E,w,A)=>{const P=((J,j,Z)=>{const te=Zk(j,J,Z);return te.extra.length===0?O.some(te):O.none()})(_,E,w).getOrThunk(()=>Zk(E,_-w(A),w)),I=P.within,Y=P.extra,G=P.withinWidth;return Y.length===1&&Y[0].width<=w(A)?((J,j,Z)=>{const te=ab(J.concat(j));return Px(te,[],Z)})(I,Y,G):Y.length>=1?((J,j,Z,te)=>{const oe=ab(J).concat([Z]);return Px(oe,ab(j),te)})(I,Y,A,G):((J,j,Z)=>Px(ab(J),[],Z))(I,0,G)})(ae(d.element),s.builtGroups.get(),_=>Math.ceil(_.element.dom.getBoundingClientRect().width),f);y.extra.length===0?(yo.remove(d,f),a([])):(s4(d,y.within),a(y.extra)),an(d.element,"visibility"),ul(d.element),b.each(ho.focus)},$O=ue([ke("splitToolbarBehaviours",[Ls]),ca("builtGroups",()=>Mt([]))]),p8=ue([nf(["overflowToggledClass"]),Na("getOverflowBounds"),Ge("lazySink"),ca("overflowGroups",()=>Mt([])),Bo("onOpened"),Bo("onClosed")].concat($O())),g8=ue([rl({factory:kf,schema:n1(),name:"primary"}),Eu({schema:n1(),name:"overflow"}),Eu({name:"overflow-button"}),Eu({name:"overflow-group"})]),a4=ue((o,s)=>{((a,l)=>{const d=q.max(a,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Zt(a,"max-width",d+"px")})(o,Math.floor(s))}),h8=ue([nf(["toggledClass"]),Ge("lazySink"),Ti("fetch"),Na("getBounds"),dn("fireDismissalEventInstead",[Ee("event",Gu())]),Sa(),Bo("onToggled")]),b8=ue([Eu({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:xe([Uo.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),Eu({factory:kf,schema:n1(),name:"toolbar",overrides:o=>({toolbarBehaviours:xe([Kt.config({mode:"cyclic",onEscape:s=>(Lr(s,o,"button").each(ho.focus),O.none())})])})})]),Wk=cn(),i4=(o,s)=>{const a=Ls.getCoupled(o,"toolbarSandbox");xn.isOpen(a)?xn.close(a):xn.open(a,s.toolbar())},l4=(o,s,a,l)=>{const d=a.getBounds.map(p=>p()),f=a.lazySink(o).getOrDie();hs.positionWithinBounds(f,s,{anchor:{type:"hotspot",hotspot:o,layouts:l,overrides:{maxWidthFunction:a4()}}},d)},UO=(o,s,a,l,d)=>{kf.setGroups(s,d),l4(o,s,a,l),Uo.on(o)},Mg=wl({name:"FloatingToolbarButton",factory:(o,s,a,l)=>({...qa.sketch({...l.button(),action:d=>{i4(d,l)},buttonBehaviours:st({dump:l.button().buttonBehaviours},[Ls.config({others:{toolbarSandbox:d=>((f,p,b)=>{const y=Sv();return{dom:{tag:"div",attributes:{id:y.id}},behaviours:xe([Kt.config({mode:"special",onEscape:_=>(xn.close(_),O.some(!0))}),xn.config({onOpen:(_,E)=>{const w=Wk.get().getOr(!1);b.fetch().get(A=>{UO(f,E,b,p.layouts,A),y.link(f.element),w||Kt.focusIn(E)})},onClose:()=>{Uo.off(f),Wk.get().getOr(!1)||ho.focus(f),y.unlink(f.element)},isPartOf:(_,E,w)=>qm(E,w)||qm(f,w),getAttachPoint:()=>b.lazySink(f).getOrDie()}),Il.config({channels:{...f0({isExtraPart:Le,...b.fireDismissalEventInstead.map(_=>({fireEventInstead:{event:_.event}})).getOr({})}),...h({doReposition:()=>{xn.getState(Ls.getCoupled(f,"toolbarSandbox")).each(_=>{l4(f,_,b,p.layouts)})}})}})])}})(d,a,o)}})])}),apis:{setGroups:(d,f)=>{xn.getState(Ls.getCoupled(d,"toolbarSandbox")).each(p=>{UO(d,p,o,a.layouts,f)})},reposition:d=>{xn.getState(Ls.getCoupled(d,"toolbarSandbox")).each(f=>{l4(d,f,o,a.layouts)})},toggle:d=>{i4(d,l)},toggleWithoutFocusing:d=>{((f,p)=>{Wk.set(!0),i4(f,p),Wk.clear()})(d,l)},getToolbar:d=>xn.getState(Ls.getCoupled(d,"toolbarSandbox")),isOpen:d=>xn.isOpen(Ls.getCoupled(d,"toolbarSandbox"))}}),configFields:h8(),partFields:b8(),apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggleWithoutFocusing(s)},getToolbar:(o,s)=>o.getToolbar(s),isOpen:(o,s)=>o.isOpen(s)}}),y8=ue([Ge("items"),nf(["itemSelector"]),ke("tgroupBehaviours",[Kt])]),jO=ue([Wv({name:"items",unit:"item"})]),qk=wl({name:"ToolbarGroup",configFields:y8(),partFields:jO(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.tgroupBehaviours,[Kt.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),ZO=o=>Se(o,s=>Ll(s)),wf=(o,s,a)=>{VO(o,a,l=>{a.overflowGroups.set(l),s.getOpt(o).each(d=>{Mg.setGroups(d,ZO(l))})})},WO=wl({name:"SplitFloatingToolbar",configFields:p8(),partFields:g8(),factory:(o,s,a,l)=>{const d=Bn(Mg.sketch({fetch:()=>Tg(f=>{f(ZO(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Ms,Ts],onRtl:()=>[Ts,Ms],onBottomLtr:()=>[da,Za],onBottomRtl:()=>[Za,da]},getBounds:a.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(f,p)=>o[p?"onOpened":"onClosed"](f)}));return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.splitToolbarBehaviours,[Ls.config({others:{overflowGroup:()=>qk.sketch({...l["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(f,p)=>{o.builtGroups.set(Se(p,f.getSystem().build)),wf(f,d,o)},refresh:f=>wf(f,d,o),toggle:f=>{d.getOpt(f).each(p=>{Mg.toggle(p)})},toggleWithoutFocusing:f=>{d.getOpt(f).each(Mg.toggleWithoutFocusing)},isOpen:f=>d.getOpt(f).map(Mg.isOpen).getOr(!1),reposition:f=>{d.getOpt(f).each(p=>{Mg.reposition(p)})},getOverflow:f=>d.getOpt(f).bind(Mg.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)},refresh:(o,s)=>{o.refresh(s)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s),getOverflow:(o,s)=>o.getOverflow(s)}}),x8=ue([nf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Bo("onOpened"),Bo("onClosed")].concat($O())),c4=ue([rl({factory:kf,schema:n1(),name:"primary"}),rl({factory:kf,schema:n1(),name:"overflow",overrides:o=>({toolbarBehaviours:xe([Ul.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:s=>{Lr(s,o,"overflow-button").each(a=>{Uo.off(a)}),o.onClosed(s)},onGrown:s=>{o.onOpened(s)},onStartGrow:s=>{Lr(s,o,"overflow-button").each(Uo.on)}}),Kt.config({mode:"acyclic",onEscape:s=>(Lr(s,o,"overflow-button").each(ho.focus),O.some(!0))})])})}),Eu({name:"overflow-button",overrides:o=>({buttonBehaviours:xe([Uo.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Eu({name:"overflow-group"})]),za=(o,s,a)=>{Lr(o,s,"overflow-button").each(l=>{Lr(o,s,"overflow").each(d=>{if(d4(o,s),Ul.hasShrunk(d)){const f=s.onOpened;s.onOpened=p=>{a||Kt.focusIn(d),f(p),s.onOpened=f}}else{const f=s.onClosed;s.onClosed=p=>{a||ho.focus(l),f(p),s.onClosed=f}}Ul.toggleGrow(d)})})},d4=(o,s)=>{Lr(o,s,"overflow").each(a=>{VO(o,s,l=>{const d=Se(l,f=>Ll(f));kf.setGroups(a,d)}),Lr(o,s,"overflow-button").each(l=>{Ul.hasGrown(a)&&Uo.on(l)}),Ul.refresh(a)})},u4=wl({name:"SplitSlidingToolbar",configFields:x8(),partFields:c4(),factory:(o,s,a,l)=>{const d="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.splitToolbarBehaviours,[Ls.config({others:{overflowGroup:f=>qk.sketch({...l["overflow-group"](),items:[qa.sketch({...l["overflow-button"](),action:p=>{Vo(f,d)}})]})}}),wo("toolbar-toggle-events",[je(d,f=>{za(f,o,!1)})])]),apis:{setGroups:(f,p)=>{((b,y)=>{const _=Se(y,b.getSystem().build);o.builtGroups.set(_)})(f,p),d4(f,o)},refresh:f=>d4(f,o),toggle:f=>{za(f,o,!1)},toggleWithoutFocusing:f=>{za(f,o,!0)},isOpen:f=>((p,b)=>Lr(p,b,"overflow").map(Ul.hasGrown).getOr(!1))(f,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)},refresh:(o,s)=>{o.refresh(s)},toggle:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s)}}),qO=o=>{const s=o.label.isNone()?o.title.fold(()=>({}),a=>({attributes:{"aria-label":a}})):o.label.fold(()=>({}),a=>({attributes:{"aria-label":a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(o.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...o.label.map(a=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Or(a)]})).toArray(),qk.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:xe([_r.config({}),ho.config({ignore:!0})])}},Gk=o=>qk.sketch(qO(o)),GO=(o,s)=>{const a=Jn(l=>{const d=Se(o.initGroups,Gk);kf.setGroups(l,d)});return xe([U_(()=>o.providers.checkUiComponentContext("any").shouldDisable),Jr(()=>o.providers.checkUiComponentContext("any")),Kt.config({mode:s,onEscape:o.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),wo("toolbar-events",[a])])},KO=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":qO({title:O.none(),label:O.none(),items:[]}),"overflow-button":BS({context:"any",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items")},O.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:GO(o,s)}},v8=o=>{const s=KO(o),a=WO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return WO.sketch({...s,lazySink:o.getSink,getOverflowBounds:()=>{const l=o.moreDrawerData.lazyHeader().element,d=Rl(l),f=Uu(l),p=Rl(f),b=Math.max(f.dom.scrollHeight,p.height);return Sn(d.x+4,p.y,d.width-8,b)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[a],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>o.onToggled(l,!0),onClosed:l=>o.onToggled(l,!1)})},_8=o=>{const s=u4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=u4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=KO(o);return u4.sketch({...l,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([e4()],{type:"opened"}),o.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([e4()],{type:"closed"}),o.onToggled(d,!1)}})},f4=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return kf.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===sl.scrolling?["tox-toolbar--scrolling"]:[])},components:[kf.parts.groups({})],toolbarBehaviours:GO(o,s)})},YO=[xp,xc,Zr("tooltip"),Ca("buttonType","secondary",["primary","secondary"]),ea("borderless",!1),Ti("onAction"),or("context","mode:design")],XO={button:[...YO,yp,Ws("type",["button"])],togglebutton:[...YO,ea("active",!1),Ws("type",["togglebutton"])]},k8=[Ws("type",["group"]),sc("buttons",[],Ua("type",XO))],w8=Ua("type",{...XO,group:k8}),C8=no([sc("buttons",[],w8),Ti("onShow"),Ti("onHide")]),JO=(o,s)=>((a,l)=>{var d,f;const p=a.type==="togglebutton",b=a.icon.map(j=>Mp(j,l.icons)).map(Bn),y={...a,name:p?a.text.getOr(a.icon.getOr("")):(d=a.text)!==null&&d!==void 0?d:a.icon.getOr(""),primary:a.buttonType==="primary",buttonType:O.from(a.buttonType),tooltip:a.tooltip,icon:a.icon,enabled:!0,borderless:a.borderless},_=Dk((f=a.buttonType)!==null&&f!==void 0?f:"secondary"),E=p?a.text.map(l.translate):O.some(l.translate(a.text)),w=E.map(Or),A=y.tooltip.or(E).map(j=>({"aria-label":l.translate(j)})).getOr({}),P=b.map(j=>j.asSpec()),I=Uh([P,w]),Y=a.icon.isSome()&&w.isSome(),G={tag:"button",classes:_.concat(...a.icon.isSome()&&!Y?["tox-button--icon"]:[]).concat(...Y?["tox-button--icon-and-text"]:[]).concat(...a.borderless?["tox-button--naked"]:[]).concat(...a.type==="togglebutton"&&a.active?["tox-button--enabled"]:[]),attributes:A},J=rb(y,O.some(j=>{const Z=te=>{b.map(oe=>oe.getOpt(j).each(ce=>{yo.set(ce,[Mp(te,l.icons)])}))};return p?a.onAction({setIcon:Z,setActive:te=>{const oe=j.element;te?(Tr(oe,"tox-button--enabled"),lo(oe,"aria-pressed",!0)):(lr(oe,"tox-button--enabled"),Ur(oe,"aria-pressed"))},isActive:()=>cr(j.element,"tox-button--enabled"),focus:()=>Ba(j.element)}):a.type==="button"?a.onAction({setIcon:Z}):void 0}),[],G,I,a.tooltip,l);return qa.sketch(J)})(o,s),QO=Js().deviceType,S8=QO.isPhone(),E8=QO.isTablet();var a1=wl({name:"silver.View",configFields:[Ge("viewConfig")],partFields:[Yd({factory:{sketch:o=>{let s=!1;const a=Se(o.buttons,l=>l.type==="group"?(s=!0,((d,f)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Se(d.buttons,p=>JO(p,f))}))(l,o.providers)):JO(l,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...S8||E8?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:xe([ho.config({}),Kt.config({mode:"flow",selector:"button, .tox-button",focusInside:_g.OnEnterOrSpaceMode})]),components:s?a:[yf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),yf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}}},schema:[Ge("buttons"),Ge("providers")],name:"header"}),Yd({factory:{sketch:o=>({uid:o.uid,behaviours:xe([ho.config({}),_r.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,s,a,l)=>{const d={getPane:f=>Pa.getPart(f,o,"pane"),getOnShow:f=>o.viewConfig.onShow,getOnHide:f=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:s,behaviours:xe([ho.config({}),Kt.config({mode:"cyclic",focusInside:_g.OnEnterOrSpaceMode})]),apis:d}},apis:{getPane:(o,s)=>o.getPane(s),getOnShow:(o,s)=>o.getOnShow(s),getOnHide:(o,s)=>o.getOnHide(s)}});const z8=(o,s,a)=>$r(s,(l,d)=>{const f=la(tr("view",C8,l));return o.slot(d,a1.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:f,components:[...f.buttons.length>0?[a1.parts.header({buttons:f.buttons,providers:a})]:[],a1.parts.pane({})]}))}),T8=(o,s)=>il.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:z8(a,o,s),slotBehaviours:W0([Jn(l=>il.hideAllSlots(l))])})),eA=o=>H(il.getSlotNames(o),s=>il.isShowing(o,s)),tA=(o,s,a)=>{il.getSlot(o,s).each(l=>{a1.getPane(l).each(d=>{var f;a(l)((f=d.element.dom,{getContainer:ue(f)}))})})};var Kk=yd({factory:(o,s)=>{const a={setViews:(l,d)=>{yo.set(l,[T8(d,s.backstage.shared.providers)])},whichView:l=>_n.getCurrent(l).bind(eA),toggleView:(l,d,f,p)=>_n.getCurrent(l).exists(b=>{const y=eA(b),_=y.exists(w=>p===w),E=il.getSlot(b,p).isSome();return E&&(il.hideAllSlots(b),_?((w=>{const A=w.element;Zt(A,"display","none"),lo(A,"aria-hidden","true")})(l),d()):(f(),(w=>{const A=w.element;an(A,"display"),Ur(A,"aria-hidden")})(l),il.showSlot(b,p),((w,A)=>{tA(w,A,a1.getOnShow)})(b,p)),y.each(w=>((A,P)=>tA(A,P,a1.getOnHide))(b,w))),E})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:xe([yo.config({}),_n.config({find:l=>{const d=yo.contents(l);return it(d)}})]),apis:a}},name:"silver.ViewWrapper",configFields:[Ge("backstage")],apis:{setViews:(o,s,a)=>o.setViews(s,a),toggleView:(o,s,a,l,d)=>o.toggleView(s,a,l,d),whichView:(o,s)=>o.whichView(s)}});const O8=_f.optional({factory:Uk,name:"menubar",schema:[Ge("backstage")]}),oA=_f.optional({factory:{sketch:o=>zO.sketch({uid:o.uid,dom:o.dom,listBehaviours:xe([Kt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>f4({type:o.type,uid:wt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),O.some(!0))}),setupItem:(s,a,l,d)=>{kf.setGroups(a,l)},shell:!0})},name:"multiple-toolbar",schema:[Ge("dom"),Ge("onEscape")]}),A8=_f.optional({factory:{sketch:o=>(a=>a.type===sl.sliding?_8:a.type===sl.floating?v8:f4)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),O.some(!0)),onToggled:(a,l)=>o.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[Ge("dom"),Ge("onEscape"),Ge("getSink")]}),nA=_f.optional({factory:{sketch:o=>{const s=o.editor,a=o.sticky?MO:TO;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:xe(a(s,o.sharedBackstage))}}},name:"header",schema:[Ge("dom")]}),N8=_f.optional({factory:{sketch:o=>{const s=o.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝Get all features"}}]:[];return{uid:o.uid,dom:o.dom,components:s}}},name:"promotion",schema:[Ge("dom"),Ge("promotionLink")]}),R8=_f.optional({name:"socket",schema:[Ge("dom")]}),D8=_f.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:xe([_r.config({}),ho.config({}),Ul.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{_n.getCurrent(s).each(il.hideAllSlots),Vo(s,s1)},onGrown:s=>{Vo(s,s1)},onStartGrow:s=>{Vt(s,o4,{width:wr(s.element,"width").getOr("")})},onStartShrink:s=>{Vt(s,o4,{width:ae(s.element)+"px"})}}),yo.config({}),_n.config({find:s=>{const a=yo.contents(s);return it(a)}})])}],behaviours:xe([xk(0),wo("sidebar-sliding-events",[je(o4,(s,a)=>{Zt(s.element,"width",a.event.width)}),je(s1,(s,a)=>{an(s.element,"width")})])])})},name:"sidebar",schema:[Ge("dom")]}),rA=_f.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:xe([yo.config({}),Lu.config({focus:!1}),_n.config({find:s=>it(s.components())})]),components:[]})},name:"throbber",schema:[Ge("dom")]}),M8=_f.optional({factory:Kk,name:"viewWrapper",schema:[Ge("backstage")]}),B8=_f.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Hr=wl({name:"OuterContainer",factory:(o,s,a)=>{let l=!1;const d=p=>{Am(p,".tox-statusbar").each(b=>{Us(b,"display")==="none"&&ds(b,"aria-hidden")==="true"?(an(b,"display"),Ur(b,"aria-hidden")):(Zt(b,"display","none"),lo(b,"aria-hidden","true"))})},f={getSocket:p=>Pa.getPart(p,o,"socket"),setSidebar:(p,b,y)=>{Pa.getPart(p,o,"sidebar").each(_=>((E,w,A)=>{_n.getCurrent(E).each(P=>{yo.set(P,[u8(w)]);const I=A==null?void 0:A.toLowerCase();Ot(I)&&ko(w,I)&&_n.getCurrent(P).each(Y=>{il.showSlot(Y,I),Ul.immediateGrow(P),an(P.element,"width"),jk(E.element,"region")})})})(_,b,y))},toggleSidebar:(p,b)=>{Pa.getPart(p,o,"sidebar").each(y=>((_,E)=>{_n.getCurrent(_).each(w=>{_n.getCurrent(w).each(A=>{Ul.hasGrown(w)?il.isShowing(A,E)?(Ul.shrink(w),jk(_.element,"presentation")):(il.hideAllSlots(A),il.showSlot(A,E),jk(_.element,"region")):(il.hideAllSlots(A),il.showSlot(A,E),Ul.grow(w),jk(_.element,"region"))})})})(y,b))},whichSidebar:p=>Pa.getPart(p,o,"sidebar").bind(f8).getOrNull(),getHeader:p=>Pa.getPart(p,o,"header"),getToolbar:p=>Pa.getPart(p,o,"toolbar"),setToolbar:(p,b)=>{Pa.getPart(p,o,"toolbar").each(y=>{const _=Se(b,Gk);y.getApis().setGroups(y,_)})},setToolbars:(p,b)=>{Pa.getPart(p,o,"multiple-toolbar").each(y=>{const _=Se(b,E=>Se(E,Gk));zO.setItems(y,_)})},refreshToolbar:p=>{Pa.getPart(p,o,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{Pa.getPart(p,o,"toolbar").each(b=>{Ka(b.getApis().toggle,y=>y(b))})},toggleToolbarDrawerWithoutFocusing:p=>{Pa.getPart(p,o,"toolbar").each(b=>{Ka(b.getApis().toggleWithoutFocusing,y=>y(b))})},isToolbarDrawerToggled:p=>Pa.getPart(p,o,"toolbar").bind(b=>O.from(b.getApis().isOpen).map(y=>y(b))).getOr(!1),getThrobber:p=>Pa.getPart(p,o,"throbber"),focusToolbar:p=>{Pa.getPart(p,o,"toolbar").orThunk(()=>Pa.getPart(p,o,"multiple-toolbar")).each(b=>{Kt.focusIn(b)})},setMenubar:(p,b)=>{Pa.getPart(p,o,"menubar").each(y=>{Uk.setMenus(y,b)})},focusMenubar:p=>{Pa.getPart(p,o,"menubar").each(b=>{Uk.focus(b)})},setViews:(p,b)=>{Pa.getPart(p,o,"viewWrapper").each(y=>{Kk.setViews(y,b)})},toggleView:(p,b)=>Pa.getPart(p,o,"viewWrapper").exists(y=>Kk.toggleView(y,()=>f.showMainView(p),()=>f.hideMainView(p),b)),whichView:p=>Pa.getPart(p,o,"viewWrapper").bind(Kk.whichView).getOrNull(),hideMainView:p=>{l=f.isToolbarDrawerToggled(p),l&&f.toggleToolbarDrawer(p),Pa.getPart(p,o,"editorContainer").each(b=>{const y=b.element;d(y),Zt(y,"display","none"),lo(y,"aria-hidden","true")})},showMainView:p=>{l&&f.toggleToolbarDrawer(p),Pa.getPart(p,o,"editorContainer").each(b=>{const y=b.element;d(y),an(y,"display"),Ur(y,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:s,apis:f,behaviours:o.behaviours}},configFields:[Ge("dom"),Ge("behaviours")],partFields:[nA,O8,A8,oA,R8,D8,N8,rA,M8,B8],apis:{getSocket:(o,s)=>o.getSocket(s),setSidebar:(o,s,a,l)=>{o.setSidebar(s,a,l)},toggleSidebar:(o,s,a)=>{o.toggleSidebar(s,a)},whichSidebar:(o,s)=>o.whichSidebar(s),getHeader:(o,s)=>o.getHeader(s),getToolbar:(o,s)=>o.getToolbar(s),setToolbar:(o,s,a)=>{o.setToolbar(s,a)},setToolbars:(o,s,a)=>{o.setToolbars(s,a)},refreshToolbar:(o,s)=>o.refreshToolbar(s),toggleToolbarDrawer:(o,s)=>{o.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(o,s)=>{o.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(o,s)=>o.isToolbarDrawerToggled(s),getThrobber:(o,s)=>o.getThrobber(s),setMenubar:(o,s,a)=>{o.setMenubar(s,a)},focusMenubar:(o,s)=>{o.focusMenubar(s)},focusToolbar:(o,s)=>{o.focusToolbar(s)},setViews:(o,s,a)=>{o.setViews(s,a)},toggleView:(o,s,a)=>o.toggleView(s,a),whichView:(o,s)=>o.whichView(s)}});const sA={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Yk=o=>o.split(" "),aA=(o,s)=>{const a={...sA,...s.menus},l=Wo(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?Yk("file edit view insert format tools table help"):Yk(s.menubar===!1?"":s.menubar),f=Eo(d,b=>{const y=ko(sA,b);return l?y||ut(s.menus,b).exists(_=>ko(_,"items")):y}),p=Se(f,b=>{const y=a[b];return((_,E,w)=>{const A=JE(w).split(/[ ,]/);return{text:_.title,getItems:()=>Go(_.items,P=>{const I=P.toLowerCase();return I.trim().length===0||un(A,Y=>Y===I)?[]:I==="separator"||I==="|"?[{type:"separator"}]:E.menuItems[I]?[E.menuItems[I]]:[]})}})({title:y.title,items:Yk(y.items)},s,o)});return Eo(p,b=>b.getItems().length>0&&un(b.getItems(),y=>Ot(y)||y.type!=="separator"))},m4=(o,s,a)=>(o.on("remove",()=>a.unload(s)),a.load(s)),Xk=(o,s,a,l)=>(o.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,a)),iA=o=>O.from(tinymce.Resource.get(o)).filter(Ot),p4=(o,s,a="")=>{const l=(f=>{const p=sz(f);return p?O.from(p):O.none()})(o).map(f=>((p,b)=>"ui/"+p+"/"+b)(f,`${s}.css`)),d=l.bind(iA);return rt(l,d,(f,p)=>({_kind:"load-raw",key:f,css:p})).getOrThunk(()=>{const f=o.editorManager.suffix;return{_kind:"load-stylesheet",url:a+`/${s}${f}.css`}})},P8=(o,s)=>{const a=o.ui.styleSheetLoader,l=p4(o,"skin",s);switch(l._kind){case"load-raw":const{key:d,css:f}=l;return Xk(o,d,f,a),Promise.resolve();case"load-stylesheet":const{url:p}=l;return m4(o,p,a);default:return Promise.resolve()}},L8=(o,s)=>{var a;if(a=_t(o.getElement()),!vi(a).isSome())return Promise.resolve();{const l=T0.DOM.styleSheetLoader,d=p4(o,"skin.shadowdom",s);switch(d._kind){case"load-raw":const{key:f,css:p}=d;return Xk(o,f,p,l),Promise.resolve();case"load-stylesheet":const{url:b}=d;return m4(o,b,l);default:return Promise.resolve()}}},lA=(o,s)=>(async(a,l)=>{const d=Nh(l);if(await((f,p,b)=>{const y=p4(f,p?"content.inline":"content",b);switch(y._kind){case"load-raw":const{key:_,css:E}=y;return p?Xk(f,_,E,f.ui.styleSheetLoader):f.on("PostRender",()=>{Xk(f,_,E,f.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:w}=y;return b&&f.contentCSS.push(w),Promise.resolve();default:return Promise.resolve()}})(l,a,d),!w_(l)&&Ot(d))return Promise.all([P8(l,d),L8(l,d)]).then()})(o,s).then((a=>{const l=()=>{a._skinLoaded=!0,(d=>{d.dispatch("SkinLoaded")})(a)};return()=>{a.initialized?l():a.on("init",l)}})(s),(a=>()=>((l,d)=>{l.dispatch("SkinLoadError",d)})(a,{message:"Skin could not be loaded"}))(s)),I8=qe(lA,!1),F8=qe(lA,!0),H8=ue([Ge("toggleClass"),Ge("fetch"),rf("onExecute"),Ee("getHotspot",O.some),Ee("getAnchorOverrides",ue({})),Sa(),rf("onItemExecute"),Jo("lazySink"),Ge("dom"),Bo("onOpen"),ke("splitDropdownBehaviours",[Ls,Kt,ho]),Ee("matchWidth",!1),Ee("useMinWidth",!1),Ee("eventOrder",{}),Jo("role"),Jo("listRole")].concat(lx())),V8=rl({factory:qa,schema:[Ge("dom")],name:"arrow",defaults:()=>({buttonBehaviours:xe([ho.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(qi)},buttonBehaviours:xe([Uo.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),$8=rl({factory:qa,schema:[Ge("dom")],name:"button",defaults:()=>({buttonBehaviours:xe([ho.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(a=>{o.onExecute(a,s)})}})}),U8=ue([V8,$8,Yd({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ge("text")],name:"aria-descriptor"}),Eu({schema:[nh()],name:"menu",defaults:o=>({onExecute:(s,a)=>{s.getSystem().getByUid(o.uid).each(l=>{o.onItemExecute(l,s,a)})}})}),DC()]),Jk=wl({name:"SplitDropdown",configFields:H8(),partFields:U8(),factory:(o,s,a,l)=>{const d=_=>{_n.getCurrent(_).each(E=>{$n.highlightFirst(E),Kt.focusIn(E)})},f=_=>{Uy(o,Ct,_,l,d,is.HighlightMenuAndItem).get(et)},p=_=>{const E=vg(_,o,"button");return qi(E),O.some(!0)},b={...mr([Jn((_,E)=>{Lr(_,o,"aria-descriptor").each(w=>{const A=wt("aria");lo(w.element,"id",A),lo(_.element,"aria-describedby",A)})})]),...d_(O.some(f))},y={repositionMenus:_=>{Uo.isOn(_)&&ix(_)}};return{uid:o.uid,dom:o.dom,components:s,apis:y,eventOrder:{...o.eventOrder,[ta()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:Fe(o.splitDropdownBehaviours,[Ls.config({others:{sandbox:_=>{const E=vg(_,o,"arrow");return PC(o,_,{onOpen:()=>{Uo.on(E),Uo.on(_)},onClose:()=>{Uo.off(E),Uo.off(_)}})}}}),Kt.config({mode:"special",onSpace:p,onEnter:p,onDown:_=>(f(_),O.some(!0))}),ho.config({}),Uo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,s)=>o.repositionMenus(s)}}),cA=o=>({isEnabled:()=>!Wt.isDisabled(o),setEnabled:s=>Wt.set(o,!s),setText:s=>Vt(o,Cd,{text:s}),setIcon:s=>Vt(o,ob,{icon:s})}),j8=o=>({setActive:s=>{Uo.set(o,s)},isActive:()=>Uo.isOn(o),isEnabled:()=>!Wt.isDisabled(o),setEnabled:s=>Wt.set(o,!s),setText:s=>Vt(o,Cd,{text:s}),setIcon:s=>Vt(o,ob,{icon:s})}),g4=(o,s)=>o.map(a=>({"aria-label":s.translate(a)})).getOr({}),dA=wt("focus-button"),h4=(o,s,a,l,d,f,p)=>{const b=s.map(_=>Bn(Xy(_,"tox-tbtn",d))),y=o.map(_=>Bn(Mp(_,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...g4(a,d),...Ht(p)?{"data-mce-name":p}:{}}},components:Uh([y.map(_=>_.asSpec()),b.map(_=>_.asSpec())]),eventOrder:{[Da()]:["focusing","alloy.base.behaviour",Dp],[lt()]:[Dp,"toolbar-group-button-events"],[ld()]:[Dp,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:xe([U_(()=>d.checkUiComponentContext(f).shouldDisable),Jr(()=>d.checkUiComponentContext(f)),wo(Dp,[Jn((_,E)=>_S(_)),je(Cd,(_,E)=>{b.bind(w=>w.getOpt(_)).each(w=>{yo.set(w,[Or(d.translate(E.event.text))])})}),je(ob,(_,E)=>{y.bind(w=>w.getOpt(_)).each(w=>{yo.set(w,[Mp(E.event.icon,d.icons)])})}),je(Da(),(_,E)=>{E.event.prevent(),Vo(_,dA)})])].concat(l.getOr([])))}},uA=(o,s,a,l)=>{var d;const f=Mt(et),p=h4(o.icon,o.text,o.tooltip,O.none(),a,o.context,l);return qa.sketch({dom:p.dom,components:p.components,eventOrder:M5,buttonBehaviours:{...xe([wo("toolbar-button-events",[(b={onAction:o.onAction,getApi:s.getApi},Wd((y,_)=>{G0(b,y)(E=>{Vt(y,vS,{buttonApi:E}),b.onAction(E)})})),Ru(s,f),_p(s,f)]),...o.tooltip.map(y=>Xr.config(a.tooltips.getConfig({tooltipText:a.translate(y)+o.shortcut.map(_=>` (${Z_(_)})`).getOr("")}))).toArray(),U_(()=>!o.enabled||a.checkUiComponentContext(o.context).shouldDisable),Jr(()=>a.checkUiComponentContext(o.context))].concat(s.toolbarButtonBehaviours)),[Dp]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[Dp]}});var b},b4=(o,s,a,l)=>uA(o,{toolbarButtonBehaviours:a.length>0?[wo("toolbarButtonWith",a)]:[],getApi:cA,onSetup:o.onSetup},s,l),fA=(o,s,a,l)=>uA(o,{toolbarButtonBehaviours:[yo.config({}),Uo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[wo("toolbarToggleButtonWith",a)]:[]),getApi:j8,onSetup:o.onSetup},s,l),y4=(o,s,a)=>l=>Tg(d=>s.fetch(d)).map(d=>O.from(IC(Er(Q_(wt("menu-value"),d,f=>{s.onItemAction(o(l),f)},s.columns,s.presets,Au.CLOSE_ON_EXECUTE,s.select.getOr(Le),a),{movement:sx(s.columns,s.presets),menuBehaviours:W0(s.columns!=="auto"?[]:[Jn((f,p)=>{cC(f,4,Ih(s.presets)).each(({numRows:b,numColumns:y})=>{Kt.setGridSize(f,b,y)})})])})))),mA=o=>{Kn.getContent(o).each(s=>{Vn(s.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Kt.focusIn(s),Ba)})},pA=wt("forward-slide"),Qk=wt("backward-slide"),ew=wt("change-slide-event"),tw="tox-pop--resizing",i1=(o,s,a)=>Tl(a)?o.translate(s):o.translate([s,o.translate(a)]),Z8=(o,s)=>{const a=(f,p,b,y)=>{const _=o.shared.providers.translate(f.title);if(f.type==="separator")return O.some({type:"separator",text:_});if(f.type==="submenu"){const E=Go(f.getStyleItems(),w=>l(w,p,y));return p===0&&E.length<=0?O.none():O.some({type:"nestedmenuitem",text:_,enabled:E.length>0,getSubmenuItems:()=>Go(f.getStyleItems(),w=>l(w,p,y))})}return O.some({type:"togglemenuitem",text:_,icon:f.icon,active:f.isSelected(y),enabled:!b,onAction:s.onAction(f),...f.getStylePreview().fold(()=>({}),E=>({meta:{style:E}}))})},l=(f,p,b)=>{const y=f.type==="formatter"&&s.isInvalid(f);return p===0?y?[]:a(f,p,!1,b).toArray():a(f,p,y,b).toArray()},d=f=>{const p=s.getCurrentValue(),b=s.shouldHide?0:1;return Go(f,y=>l(y,b,p))};return{validateItems:d,getFetch:(f,p)=>(b,y)=>{const _=p(),E=d(_);y(Jy(E,Au.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:O.none()}))}}},ib=(o,s)=>{const a=s.dataset,l=a.type==="basic"?()=>Se(a.data,d=>gO(d,s.isSelectedFor,s.getPreviewFor)):a.getData;return{items:Z8(o,s),getStyleItems:l}},Lx=(o,s,a,l,d,f)=>{const{items:p,getStyleItems:b}=ib(s,a),y=Mt(a.tooltip);return wS({context:"mode:design",text:a.icon.isSome()?O.none():a.text,icon:a.icon,ariaLabel:O.some(a.tooltip),tooltip:O.none(),role:O.none(),fetch:p.getFetch(s,b),onSetup:_=>{const E=w=>_.setTooltip(i1(o,l(w.value),w.value));return o.on(d,E),ex(qh(o,"NodeChange",w=>{const A=w.getComponent();a.updateText(A),Wt.set(w.getComponent(),!o.selection.isEditable())})(_),()=>o.off(d,E))},getApi:_=>({getComponent:ue(_),setTooltip:E=>{const w=s.shared.providers.translate(E);lo(_.element,"aria-label",w),y.set(E)}}),columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Xr.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(a.tooltip),onShow:_=>{if(a.tooltip!==y.get()){const E=s.shared.providers.translate(y.get());Xr.setComponents(_,s.shared.providers.tooltips.getComponents({tooltipText:E}))}}})})]},"tox-tbtn",s.shared,f)};var l1;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(l1||(l1={}));const x4=(o,s,a)=>{const l=(d=((f,p)=>p===l1.SemiColon?f.replace(/;$/,"").split(";"):f.split(" "))(o.options.get(s),a),Se(d,f=>{let p=f,b=f;const y=f.split("=");return y.length>1&&(p=y[0],b=y[1]),{title:p,format:b}}));var d;return{type:"basic",data:l}},gA=ue("Alignment {0}"),hA="left",v4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Ix=o=>{const s={type:"basic",data:v4};return{tooltip:i1(o,gA(),hA),text:O.none(),icon:O.some("align-left"),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:O.none,getPreviewFor:a=>O.none,onAction:a=>()=>H(v4,l=>l.format===a.format).each(l=>o.execCommand(l.command)),updateText:a=>{const l=H(v4,d=>o.formatter.match(d.format)).fold(ue(hA),d=>d.title.toLowerCase());Vt(a,ob,{icon:`align-${l}`}),((d,f)=>{d.dispatch("AlignTextUpdate",f)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},bA=(o,s)=>{const a=s(),l=Se(a,d=>d.format);return O.from(o.formatter.closest(l)).bind(d=>H(a,f=>f.format===d))},Fx=ue("Block {0}"),_4="Paragraph",yA=o=>{const s=x4(o,"block_formats",l1.SemiColon);return{tooltip:i1(o,Fx(),_4),text:O.some(_4),icon:O.none(),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:O.none,getPreviewFor:a=>()=>{const l=o.formatter.get(a);return l?O.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(a))}):O.none()},onAction:Y_(o),updateText:a=>{const l=bA(o,()=>s.data).fold(ue(_4),d=>d.title);Vt(a,Cd,{text:l}),((d,f)=>{d.dispatch("BlocksTextUpdate",f)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},xA=ue("Font {0}"),k4="System Font",zP=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Hx=o=>{const s=o.split(/\s*,\s*/);return Se(s,a=>a.replace(/^['"]+|['"]+$/g,""))},lb=(o,s)=>s.length>0&&gi(s,a=>o.indexOf(a.toLowerCase())>-1),w4=o=>{const s=()=>{const l=_=>_?Hx(_)[0]:"",d=o.queryCommandValue("FontName"),f=a.data,p=d?d.toLowerCase():"",b=T2(o);return{matchOpt:H(f,_=>{const E=_.format;return E.toLowerCase()===p||l(E).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Fo(((_,E)=>{if(_.indexOf("-apple-system")===0||E.length>0){const w=Hx(_.toLowerCase());return lb(w,zP)||lb(w,E)}return!1})(p,b),{title:k4,format:p})),font:d}},a=x4(o,"font_family_formats",l1.SemiColon);return{tooltip:i1(o,xA(),k4),text:O.some(k4),icon:O.none(),isSelectedFor:l=>d=>d.exists(f=>f.format===l),getCurrentValue:()=>{const{matchOpt:l}=s();return l},getPreviewFor:l=>()=>O.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:d,font:f}=s(),p=d.fold(ue(f),b=>b.title);Vt(l,Cd,{text:p}),((b,y)=>{b.dispatch("FontFamilyTextUpdate",y)})(o,{value:p})},dataset:a,shouldHide:!1,isInvalid:Le}},vA={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},W8=(()=>{const o="[0-9]+",s="[eE][+-]?"+o,a=d=>`(?:${d})?`,l=["Infinity",o+"\\."+a(o)+a(s),"\\."+o+a(s),o+a(s)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),ow=(o,s)=>O.from(W8.exec(o)).bind(a=>{const l=Number(a[1]),d=a[2];return((f,p)=>un(p,b=>un(vA[b],y=>f===y)))(d,s)?O.some({value:l,unit:d}):O.none()}),_A={tab:ue(9),escape:ue(27),enter:ue(13),backspace:ue(8),delete:ue(46),left:ue(37),up:ue(38),right:ue(39),down:ue(40),space:ue(32),home:ue(36),end:ue(35),pageUp:ue(33),pageDown:ue(34)},kA=ue("Font size {0}"),wA="12pt",q8={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},G8={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},K8=(o,s)=>/[0-9.]+px$/.test(o)?((a,l)=>{const d=Math.pow(10,l);return Math.round(a*d)/d})(72*parseInt(o,10)/96,s||0)+"pt":ut(G8,o).getOr(o),Y8=o=>ut(q8,o).getOr(""),CA=o=>{const s=()=>{let d=O.none();const f=l.data,p=o.queryCommandValue("FontSize");if(p)for(let b=3;d.isNone()&&b>=0;b--){const y=K8(p,b),_=Y8(y);d=H(f,E=>E.format===p||E.format===y||E.format===_)}return{matchOpt:d,size:p}},a=ue(O.none),l=x4(o,"font_size_formats",l1.Space);return{tooltip:i1(o,kA(),wA),text:O.some(wA),icon:O.none(),isSelectedFor:d=>f=>f.exists(p=>p.format===d),getPreviewFor:a,getCurrentValue:()=>{const{matchOpt:d}=s();return d},onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,d.format)})},updateText:d=>{const{matchOpt:f,size:p}=s(),b=f.fold(ue(p),y=>y.title);Vt(d,Cd,{text:b}),((y,_)=>{y.dispatch("FontSizeTextUpdate",_)})(o,{value:b})},dataset:l,shouldHide:!1,isInvalid:Le}},SA=o=>Tl(o)?"Formats":"Format {0}",C4=(o,s)=>{const a="Formats";return{tooltip:i1(o,SA(""),""),text:O.some(a),icon:O.none(),isSelectedFor:l=>()=>o.formatter.match(l),getCurrentValue:O.none,getPreviewFor:l=>()=>{const d=o.formatter.get(l);return d!==void 0?O.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(l))}):O.none()},onAction:Y_(o),updateText:l=>{const d=b=>mO(b)?Go(b.items,d):qS(b)?[{title:b.title,format:b.format}]:[],f=Go(pO(o),d),p=bA(o,ue(f)).fold(ue({title:a,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));Vt(l,Cd,{text:p.title}),((b,y)=>{b.dispatch("StylesTextUpdate",y)})(o,{value:p.tooltipLabel})},shouldHide:YE(o),isInvalid:l=>!o.formatter.canApply(l.format),dataset:s}},c1=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Cf=(o,s)=>(a,l,d,f)=>{const p=o(a).mapError(b=>si(b)).getOrDie();return s(p,l,d,f)},X8={button:Cf(aC,(o,s,a,l)=>((d,f,p)=>b4(d,f,[],p))(o,s.shared.providers,l)),togglebutton:Cf($z,(o,s,a,l)=>((d,f,p)=>fA(d,f,[],p))(o,s.shared.providers,l)),menubutton:Cf($k,(o,s,a,l)=>Qy(o,"tox-tbtn",s,O.none(),!1,l)),splitbutton:Cf(o=>tr("SplitButton",PO,o),(o,s,a,l)=>((d,f,p)=>{const b=Mt(d.tooltip.getOr("")),y=w=>({isEnabled:()=>!Wt.isDisabled(w),setEnabled:A=>Wt.set(w,!A),setIconFill:(A,P)=>{Vn(w.element,`svg path[class="${A}"], rect[class="${A}"]`).each(I=>{lo(I,"fill",P)})},setActive:A=>{lo(w.element,"aria-pressed",A),Vn(w.element,"span").each(P=>{w.getSystem().getByDom(P).each(I=>Uo.set(I,A))})},isActive:()=>Vn(w.element,"span").exists(A=>w.getSystem().getByDom(A).exists(Uo.isOn)),setText:A=>Vn(w.element,"span").each(P=>w.getSystem().getByDom(P).each(I=>Vt(I,Cd,{text:A}))),setIcon:A=>Vn(w.element,"span").each(P=>w.getSystem().getByDom(P).each(I=>Vt(I,ob,{icon:A}))),setTooltip:A=>{const P=f.providers.translate(A);lo(w.element,"aria-label",P),b.set(A)}}),_=Mt(et),E={getApi:y,onSetup:d.onSetup};return Jk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...g4(d.tooltip,f.providers),...Ht(p)?{"data-mce-name":p}:{}}},onExecute:w=>{const A=y(w);A.isEnabled()&&d.onAction(A)},onItemExecute:(w,A,P)=>{},splitDropdownBehaviours:xe([wo("split-dropdown-events",[Jn((w,A)=>_S(w)),je(dA,ho.focus),Ru(E,_),_p(E,_)]),dC(()=>f.providers.isDisabled()||f.providers.checkUiComponentContext(d.context).shouldDisable),Jr(()=>f.providers.checkUiComponentContext(d.context)),Jh.config({}),...d.tooltip.map(w=>Xr.config({...f.providers.tooltips.getConfig({tooltipText:f.providers.translate(w),onShow:A=>{if(b.get()!==w){const P=f.providers.translate(b.get());Xr.setComponents(A,f.providers.tooltips.getComponents({tooltipText:P}))}}})})).toArray()]),eventOrder:{[lt()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[ld()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:f.getSink,fetch:y4(y,d,f.providers),parts:{menu:im(0,d.columns,d.presets)},components:[Jk.parts.button(h4(d.icon,d.text,O.none(),O.some([Uo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),U_(Le),Jr(ue({contextType:"any",shouldDisable:!1}))]),f.providers,d.context)),Jk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Ez("chevron-down",f.providers.icons)},buttonBehaviours:xe([dC(Le),Jr(ue({contextType:"any",shouldDisable:!1}))])}),Jk.parts["aria-descriptor"]({text:f.providers.translate("To open the popup, press Shift+Enter")})]})})(o,s.shared,l)),grouptoolbarbutton:Cf(o=>tr("GroupToolbarButton",s8,o),(o,s,a,l)=>{const d=a.ui.registry.getAll().buttons,f={[Gs]:s.shared.header.isPositionedAtTop()?df.TopToBottom:df.BottomToTop};if(Cl(a)===sl.floating)return((p,b,y,_,E)=>{const w=b.shared,A=Mt(et),P={toolbarButtonBehaviours:[],getApi:cA,onSetup:p.onSetup},I=[wo("toolbar-group-button-events",[Ru(P,A),_p(P,A)]),...p.tooltip.map(Y=>Xr.config(b.shared.providers.tooltips.getConfig({tooltipText:b.shared.providers.translate(Y)}))).toArray()];return Mg.sketch({lazySink:w.getSink,fetch:()=>Tg(Y=>{Y(Se(y(p.items),Gk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:h4(p.icon,p.text,p.tooltip,O.some(I),w.providers,p.context,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:_}}}})})(o,s,p=>Vx(a,{buttons:d,toolbar:p,allowToolbarGroups:!1},s,O.none()),f,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},S4={styles:(o,s)=>{const a={type:"advanced",...s.styles};return Lx(o,s,C4(o,a),SA,"StylesTextUpdate","styles")},fontsize:(o,s)=>Lx(o,s,CA(o),kA,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,s)=>((a,l,d,f)=>{let p=O.none();const b=qh(a,"NodeChange SwitchMode DisabledStateChange",te=>{const oe=te.getComponent();p=O.some(oe),d.updateInputValue(oe),Wt.set(oe,!a.selection.isEditable()||m_(a))}),y=te=>({getComponent:ue(te)}),_=Mt(et),E=wt("custom-number-input-events"),w=(te,oe,ce)=>{const be=p.map(Ye=>se.getValue(Ye)).getOr(""),we=d.getNewValue(be,te),Ae=be.length-`${we}`.length,Ue=p.map(Ye=>Ye.element.dom.selectionStart-Ae),$e=p.map(Ye=>Ye.element.dom.selectionEnd-Ae);d.onAction(we,ce),p.each(Ye=>{se.setValue(Ye,we),oe&&(Ue.each(mt=>Ye.element.dom.selectionStart=mt),$e.each(mt=>Ye.element.dom.selectionEnd=mt))})},A=(te,oe)=>w((ce,be)=>ce-be,te,oe),P=(te,oe)=>w((ce,be)=>ce+be,te,oe),I=te=>yi(te.element).fold(O.none,oe=>(Ba(oe),O.some(!0))),Y=te=>fd(te.element)?(Vi(te.element).each(oe=>Ba(oe)),O.some(!0)):O.none(),G=(te,oe,ce,be)=>{const we=Mt(et),Ae=l.shared.providers.translate(ce),Ue=wt("altExecuting"),$e=qh(a,"NodeChange SwitchMode DisabledStateChange",mt=>{Wt.set(mt.getComponent(),!a.selection.isEditable()||m_(a))}),Ye=mt=>{Wt.isDisabled(mt)||te(!0)};return qa.sketch({dom:{tag:"button",attributes:{"aria-label":Ae,"data-mce-name":oe},classes:be.concat(oe)},components:[kS(oe,l.shared.providers.icons)],buttonBehaviours:xe([Wt.config({}),Xr.config(l.shared.providers.tooltips.getConfig({tooltipText:Ae})),wo(Ue,[Ru({onSetup:$e,getApi:y},we),_p({getApi:y},we),je(Kr(),(mt,$t)=>{$t.event.raw.keyCode!==_A.space()&&$t.event.raw.keyCode!==_A.enter()||Wt.isDisabled(mt)||te(!1)}),je(Oc(),Ye),je(Wi(),Ye)])]),eventOrder:{[Kr()]:[Ue,"keying"],[Oc()]:[Ue,"alloy.base.behaviour"],[Wi()]:[Ue,"alloy.base.behaviour"],[lt()]:["alloy.base.behaviour",Ue,"tooltipping"],[ld()]:[Ue,"tooltipping"]}})},J=Bn(G(te=>A(!1,te),"minus","Decrease font size",[])),j=Bn(G(te=>P(!1,te),"plus","Increase font size",[])),Z=Bn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[bp.sketch({inputBehaviours:xe([Wt.config({}),wo(E,[Ru({onSetup:b,getApi:y},_),_p({getApi:y},_)]),wo("input-update-display-text",[je(Cd,(te,oe)=>{se.setValue(te,oe.event.text)}),je(Xp(),te=>{d.onAction(se.getValue(te))}),je(Tc(),te=>{d.onAction(se.getValue(te))})]),Kt.config({mode:"special",onEnter:te=>(w(Ct,!0,!0),O.some(!0)),onEscape:I,onUp:te=>(P(!0,!1),O.some(!0)),onDown:te=>(A(!0,!1),O.some(!0)),onLeft:(te,oe)=>(oe.cut(),O.none()),onRight:(te,oe)=>(oe.cut(),O.none())})])})],behaviours:xe([ho.config({}),Kt.config({mode:"special",onEnter:Y,onSpace:Y,onEscape:I}),wo("input-wrapper-events",[je(Oi(),te=>{ot([J,j],oe=>{const ce=_t(oe.get(te).element.dom);fd(ce)&&cg(ce)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ht(f)?{"data-mce-name":f}:{}}},components:[J.asSpec(),Z.asSpec(),j.asSpec()],behaviours:xe([ho.config({}),Kt.config({mode:"flow",focusInside:_g.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:te=>fd(te.element)?O.none():(Ba(te.element),O.some(!0))})])}})(o,s,(a=>{const l=()=>a.queryCommandValue("FontSize");return{updateInputValue:d=>Vt(d,Cd,{text:l()}),onAction:(d,f)=>a.execCommand("FontSize",!1,d,{skip_focus:!f}),getNewValue:(d,f)=>{ow(d,["unsupportedLength","empty"]);const p=l(),b=ow(d,["unsupportedLength","empty"]).or(ow(p,["unsupportedLength","empty"])),y=b.map(P=>P.value).getOr(16),_=Ah(a),E=b.map(P=>P.unit).filter(P=>P!=="").getOr(_),w=f(y,(P=>{var I;return(I={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[P])!==null&&I!==void 0?I:{step:1}})(E).step),A=`${(P=>P>=0)(w)?w:y}${E}`;return A!==p&&((P,I)=>{P.dispatch("FontSizeInputTextUpdate",I)})(a,{value:A}),A}}})(o),"fontsizeinput"),fontfamily:(o,s)=>Lx(o,s,w4(o),xA,"FontFamilyTextUpdate","fontfamily"),blocks:(o,s)=>Lx(o,s,yA(o),Fx,"BlocksTextUpdate","blocks"),align:(o,s)=>Lx(o,s,Ix(o),gA,"AlignTextUpdate","align"),navigateback:(o,s)=>{const a=la(aC({type:"button",icon:"chevron-left",tooltip:"Back",onAction:et}));return b4(a,s.shared.providers,[je(vS,l=>{Vo(l,Qk)})])}},Vx=(o,s,a,l)=>{const d=(p=>{const b=p.toolbar,y=p.buttons;return b===!1?[]:b===void 0||b===!0?(_=>{const E=Se(c1,w=>{const A=Eo(w.items,P=>ko(_,P)||ko(S4,P));return{name:w.name,items:A}});return Eo(E,w=>w.items.length>0)})(y):Ot(b)?(_=>{const E=_.split("|");return Se(E,w=>({items:w.trim().split(" ")}))})(b):(_=>Nn(_,E=>(ko(E,"name")||ko(E,"label"))&&ko(E,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(s),f=Se(d,p=>{const b=Go(p.items,y=>y.trim().length===0?[]:((_,E,w,A,P,I)=>ut(E,w.toLowerCase()).orThunk(()=>I.bind(Y=>mo(Y,G=>ut(E,G+w.toLowerCase())))).fold(()=>ut(S4,w.toLowerCase()).map(Y=>Y(_,P)),Y=>Y.type!=="grouptoolbarbutton"||A?((G,J,j,Z)=>ut(X8,G.type).fold(()=>(console.error("skipping button defined by",G),O.none()),te=>O.some(te(G,J,j,Z))))(Y,P,_,w.toLowerCase()):(console.warn(`Ignoring the '${w}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none())))(o,s.buttons,y,s.allowToolbarGroups,a,l).toArray());return{title:O.from(o.translate(p.name)),label:Fo(p.label!==void 0,o.translate(p.label)),items:b}});return Eo(f,p=>p.items.length>0)},$x=(o,s,a,l)=>{const d=s.mainUi.outerContainer,f=a.toolbar,p=a.buttons;if(Nn(f,Ot)){const b=f.map(y=>{const _={toolbar:y,buttons:p,allowToolbarGroups:a.allowToolbarGroups};return Vx(o,_,l,O.none())});Hr.setToolbars(d,b)}else Hr.setToolbar(d,Vx(o,a,l,O.none()))},EA=Js(),Ux=EA.os.isiOS()&&EA.os.version.major<=12;var jx=Object.freeze({__proto__:null,render:(o,s,a,l,d)=>{const{mainUi:f,uiMotherships:p}=s,b=Mt(0),y=f.outerContainer;I8(o);const _=_t(d.targetNode),E=yr(cs(_));bd(_,f.mothership),((I,Y,G)=>{nm(I)&&bd(G.mainUi.mothership.element,G.popupUi.mothership),Pc(Y,G.dialogUi.mothership)})(o,E,s),o.on("PostRender",()=>{Hr.setSidebar(y,a.sidebar,wy(o))}),o.on("SkinLoaded",()=>{$x(o,s,a,l),b.set(o.getWin().innerWidth),Hr.setMenubar(y,aA(o,a)),Hr.setViews(y,a.views),((I,Y)=>{const{uiMotherships:G}=Y,J=I.dom;let j=I.getWin();const Z=I.getDoc().documentElement,te=Mt(Dn(j.innerWidth,j.innerHeight)),oe=Mt(Dn(Z.offsetWidth,Z.offsetHeight)),ce=()=>{const Ue=te.get();Ue.left===j.innerWidth&&Ue.top===j.innerHeight||(te.set(Dn(j.innerWidth,j.innerHeight)),Hy(I))},be=()=>{const Ue=I.getDoc().documentElement,$e=oe.get();$e.left===Ue.offsetWidth&&$e.top===Ue.offsetHeight||(oe.set(Dn(Ue.offsetWidth,Ue.offsetHeight)),Hy(I))},we=Ue=>{(($e,Ye)=>{$e.dispatch("ScrollContent",Ye)})(I,Ue)};J.bind(j,"resize",ce),J.bind(j,"scroll",we);const Ae=Kb(_t(I.getBody()),"load",be);I.on("hide",()=>{ot(G,Ue=>{Zt(Ue.element,"display","none")})}),I.on("show",()=>{ot(G,Ue=>{an(Ue.element,"display")})}),I.on("NodeChange",be),I.on("remove",()=>{Ae.unbind(),J.unbind(j,"resize",ce),J.unbind(j,"scroll",we),j=null})})(o,s)});const w=Hr.getSocket(y).getOrDie("Could not find expected socket element");if(Ux){ti(w.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const I=(G=>{let J=null;return{cancel:()=>{qt(J)||(clearTimeout(J),J=null)},throttle:(...j)=>{qt(J)&&(J=setTimeout(()=>{J=null,G.apply(null,j)},20))}}})(()=>{o.dispatch("ScrollContent")}),Y=Gi(w.element,"scroll",I.throttle);o.on("remove",Y.unbind)}uC(o,s),o.addCommand("ToggleSidebar",(I,Y)=>{Hr.toggleSidebar(y,Y),(G=>{G.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var I;return(I=Hr.whichSidebar(y))!==null&&I!==void 0?I:""}),o.addCommand("ToggleView",(I,Y)=>{if(Hr.toggleView(y,Y)){const G=y.element;f.mothership.broadcastOn([Cu()],{target:G}),ot(p,J=>{J.broadcastOn([Cu()],{target:G})}),qt(Hr.whichView(y))&&(o.focus(),o.nodeChanged(),Hr.refreshToolbar(y)),(J=>{J.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var I;return(I=Hr.whichView(y))!==null&&I!==void 0?I:""});const A=Cl(o);A!==sl.sliding&&A!==sl.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const I=o.getWin().innerWidth;I!==b.get()&&(Hr.refreshToolbar(s.mainUi.outerContainer),b.set(I))});const P={setEnabled:I=>{Ly(s,I?"setEnabled":"setDisabled")},isEnabled:()=>!Wt.isDisabled(y)};return{iframeContainer:w.element.dom,editorContainer:y.element.dom,api:P}}});const E4=o=>sn(o)?o+"px":o,nw=(o,s,a)=>{const l=s.filter(f=>o<f),d=a.filter(f=>o>f);return l.or(d).getOr(o)},zA=o=>{const s=p_(o),a=g_(o),l=A0(o);return(d=s,/^[0-9\.]+(|px)$/i.test(""+d)?O.some(parseInt(""+d,10)):O.none()).map(f=>nw(f,a,l));var d},{ToolbarLocation:z4,ToolbarMode:TA}=oD,J8=(o,s,a,l,d)=>{const{mainUi:f,uiMotherships:p}=a,b=T0.DOM,y=Cg(o),_=gp(o),E=A0(o).or(zA(o)),w=l.shared.header,A=w.isPositionedAtTop,P=Cl(o),I=P===TA.sliding||P===TA.floating,Y=Mt(!1),G=()=>Y.get()&&!o.removed,J=oe=>I?oe.fold(ue(0),ce=>ce.components().length>1?Cr(ce.components()[1].element):0):0,j=()=>{ot(p,oe=>{oe.broadcastOn([pf()],{})})},Z=oe=>{if(!G())return;y||d.on(we=>{const Ae=E.getOrThunk(()=>Tn().width-js(s).left-10);Zt(we.element,"max-width",Ae+"px")});const ce=xs(),be=!(y||y||!(Gr(f.outerContainer.element).left+_e(f.outerContainer.element)>=window.innerWidth-40||wr(f.outerContainer.element,"width").isSome())||(Zt(f.outerContainer.element,"position","absolute"),Zt(f.outerContainer.element,"left","0px"),an(f.outerContainer.element,"width"),0));if(I&&Hr.refreshToolbar(f.outerContainer),!y){const we=xs(),Ae=Fo(ce.left!==we.left,ce);((Ue,$e)=>{d.on(Ye=>{const mt=Hr.getToolbar(f.outerContainer),$t=J(mt),Xt=Ns(s),so=((An,ln)=>nm(An)?pn(ln):O.none())(o,f.outerContainer.element),jo=so.fold(()=>Xt.x,An=>{const ln=Ns(An);return yn(An,ha())?Xt.x:Xt.x-ln.x}),pr=Fo(Ue,Math.ceil(f.outerContainer.element.dom.getBoundingClientRect().width)).filter(An=>An>150).map(An=>{const ln=$e.getOr(xs()),Jt=window.innerWidth-(jo-ln.left),gr=Math.max(Math.min(An,Jt),150);return Jt<An&&Zt(f.outerContainer.element,"width",gr+"px"),{width:gr+"px"}}).getOr({width:"max-content"}),Qr={position:"absolute",left:Math.round(jo)+"px",top:so.fold(()=>A()?Math.max(Xt.y-Cr(Ye.element)+$t,0):Xt.bottom,An=>{var ln;const Jt=Ns(An),gr=(ln=An.dom.scrollTop)!==null&&ln!==void 0?ln:0,Un=yn(An,ha())?Math.max(Xt.y-Cr(Ye.element)+$t,0):Xt.y-Jt.y+gr-Cr(Ye.element)+$t;return A()?Un:Xt.bottom})+"px"};ti(f.outerContainer.element,{...Qr,...pr})})})(be,Ae),Ae.each(Ue=>{ia(Ue.left,we.top)})}_&&d.on(oe),j()},te=()=>!(y||!_||!G())&&d.get().exists(oe=>{const ce=w.getDockingMode(),be=(Ae=>{switch(vy(o)){case z4.auto:const Ue=Hr.getToolbar(f.outerContainer),$e=J(Ue),Ye=Cr(Ae.element)-$e,mt=Ns(s);if(mt.y>Ye)return"top";{const $t=Uu(s),Xt=Math.max($t.dom.scrollHeight,Cr($t));return mt.bottom<Xt-Ye||Cs().bottom<mt.bottom-Ye?"bottom":"top"}case z4.bottom:return"bottom";case z4.top:default:return"top"}})(oe);return be!==ce&&(we=be,d.on(Ae=>{Mn.setModes(Ae,[we]),w.setDockingMode(we);const Ue=A()?df.TopToBottom:df.BottomToTop;lo(Ae.element,Gs,Ue)}),!0);var we});return{isVisible:G,isPositionedAtTop:A,show:()=>{Y.set(!0),Zt(f.outerContainer.element,"display","flex"),b.addClass(o.getBody(),"mce-edit-focus"),ot(p,oe=>{an(oe.element,"display")}),te(),nm(o)?Z(oe=>Mn.isDocked(oe)?Mn.reset(oe):Mn.refresh(oe)):Z(Mn.refresh)},hide:()=>{Y.set(!1),Zt(f.outerContainer.element,"display","none"),b.removeClass(o.getBody(),"mce-edit-focus"),ot(p,oe=>{Zt(oe.element,"display","none")})},update:Z,updateMode:()=>{te()&&Z(Mn.reset)},repositionPopups:j}},Zx=(o,s)=>{const a=Ns(o);return{pos:s?a.y:a.bottom,bounds:a}};var Q8=Object.freeze({__proto__:null,render:(o,s,a,l,d)=>{const{mainUi:f}=s,p=cn(),b=_t(d.targetNode),y=J8(o,b,s,l,p),_=h_(o);F8(o);const E=()=>{if(p.isSet())return void y.show();p.set(Hr.getHeader(f.outerContainer).getOrDie());const A=Ey(o);nm(o)?(bd(b,f.mothership),bd(b,s.popupUi.mothership)):Pc(A,f.mothership),Pc(A,s.dialogUi.mothership);const P=()=>{$x(o,s,a,l),Hr.setMenubar(f.outerContainer,aA(o,a)),y.show(),((I,Y,G,J)=>{const j=Mt(Zx(Y,G.isPositionedAtTop())),Z=be=>{const{pos:we,bounds:Ae}=Zx(Y,G.isPositionedAtTop()),{pos:Ue,bounds:$e}=j.get(),Ye=Ae.height!==$e.height||Ae.width!==$e.width;j.set({pos:we,bounds:Ae}),Ye&&Hy(I,be),G.isVisible()&&(Ue!==we?G.update(Mn.reset):Ye&&(G.updateMode(),G.repositionPopups()))};J||(I.on("activate",G.show),I.on("deactivate",G.hide)),I.on("SkinLoaded ResizeWindow",()=>G.update(Mn.reset)),I.on("NodeChange keydown",be=>{requestAnimationFrame(()=>Z(be))});let te=0;const oe=vk(()=>G.update(Mn.refresh),33);I.on("ScrollWindow",()=>{const be=xs().left;be!==te&&(te=be,oe.throttle()),G.updateMode()}),nm(I)&&I.on("ElementScroll",be=>{G.update(Mn.refresh)});const ce=ed();ce.set(Kb(_t(I.getBody()),"load",be=>Z(be.raw))),I.on("remove",()=>{ce.clear()})})(o,b,y,_),o.nodeChanged()};_?o.once("SkinLoaded",P):P()};o.on("show",E),o.on("hide",y.hide),_||(o.on("focus",E),o.on("blur",y.hide)),o.on("init",()=>{(o.hasFocus()||_)&&E()}),uC(o,s);const w={show:E,hide:y.hide,setEnabled:A=>{Ly(s,A?"setEnabled":"setDisabled")},isEnabled:()=>!Wt.isDisabled(f.outerContainer)};return{editorContainer:f.outerContainer.element.dom,api:w}}}),rw=tinymce.util.Tools.resolve("tinymce.util.VK");const OA="contexttoolbar-hide",d1=(o,s,a)=>({setInputEnabled:l=>{!l&&a&&Ba(a),Wt.set(o,!l)},isInputEnabled:()=>!Wt.isDisabled(o),hide:()=>{Vo(o,jd())},back:()=>{Vo(o,Qk)},getValue:()=>s.get().getOrThunk(()=>se.getValue(o)),setValue:l=>{o.getSystem().isConnected()?se.setValue(o,l):s.set(l)}}),T4=(o,s,a)=>je(vS,(l,d)=>{const f=o.get(l),p=d1(f,a,l.element);s.onAction(p,d.event.buttonApi)}),O4=(o,s,a,l)=>{const d=Se(s,f=>Bn(((p,b,y,_)=>(E=>E.type==="contextformtogglebutton")(b)?((E,w,A,P)=>{const{primary:I,...Y}=w.original,G=la($z({...Y,type:"togglebutton",onAction:et}));return fA(G,A,[T4(E,w,P)])})(p,b,y,_):((E,w,A,P)=>{const{primary:I,...Y}=w.original,G=la(aC({...Y,type:"button",onAction:et}));return b4(G,A,[T4(E,w,P)])})(p,b,y,_))(o,f,a,l)));return{asSpecs:()=>Se(d,f=>f.asSpec()),findPrimary:f=>mo(s,(p,b)=>p.primary?O.from(d[b]).bind(y=>y.getOpt(f)).filter(Zn(Wt.isDisabled)):O.none())}},AA=(o,s,a,l)=>{const{width:d,height:f}=o.initValue();let p=Tk;const b=wt("ratio-event"),y=be=>d1(be,l),_=be=>_d(be,{tag:"span",classes:["tox-icon","tox-lock-icon__"+be]},s.icons),E=()=>!1,w=o.label.getOr("Constrain proportions"),A=s.translate(w),P=Is.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":w}},components:[_("lock"),_("unlock")],buttonBehaviours:xe([Wt.config({disabled:E}),_r.config({}),Xr.config(s.tooltips.getConfig({tooltipText:A}))])}),I=be=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:be}),Y=be=>Ha(be.element,"div.tox-focusable-wrapper").fold(O.none,we=>(Ba(we),O.some(!0))),G=be=>tn.parts.field({factory:bp,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:be?d:f,inputBehaviours:xe([Wt.config({disabled:E}),_r.config({}),wo("size-input-toolbar-events",[je(hl(),(we,Ae)=>{Vt(we,b,{isField1:be})})]),Kt.config({mode:"special",onEnter:a,onEscape:Y})]),selectOnFocus:!1}),J=be=>({dom:{tag:"label",classes:["tox-label"]},components:[Or(s.translate(be))]}),j=be=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[be],behaviours:xe([_r.config({}),ho.config({}),Kt.config({mode:"special",onEnter:we=>Vn(we.element,"input").fold(O.none,Ae=>(Ba(Ae),O.some(!0)))})])}),Z=j(Is.parts.field1(I([tn.parts.label(J("Width:")),G(!0)]))),te=j(Is.parts.field2(I([tn.parts.label(J("Height:")),G(!1)]))),oe=Mt(et),ce=[Ru({onBeforeSetup:be=>Vn(be.element,"input").each(Ba),onSetup:o.onSetup,getApi:y},oe),j_({getApi:y},oe,l)];return Is.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[Z,te,I([J(" "),P])],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(be,we,Ae)=>{zk(se.getValue(be)).each(Ue=>{p(Ue).each($e=>{se.setValue(we,V5($e))})})},onInput:be=>Vo(be,HT),coupledFieldBehaviours:xe([ho.config({}),Kt.config({mode:"flow",focusInside:_g.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Wt.config({disabled:E,onDisabled:be=>{Is.getField1(be).bind(tn.getField).each(Wt.disable),Is.getField2(be).bind(tn.getField).each(Wt.disable),Is.getLock(be).each(Wt.disable)},onEnabled:be=>{Is.getField1(be).bind(tn.getField).each(Wt.enable),Is.getField2(be).bind(tn.getField).each(Wt.enable),Is.getLock(be).each(Wt.enable)}}),Jr(()=>s.checkUiComponentContext("mode:design")),wo("size-input-toolbar-events2",[je(b,(be,we)=>{const Ae=we.event.isField1,Ue=Ae?Is.getField1(be):Is.getField2(be),$e=Ae?Is.getField2(be):Is.getField1(be),Ye=Ue.map(se.getValue).getOr(""),mt=$e.map(se.getValue).getOr("");p=ES(Ye,mt)}),je(HT,be=>o.onInput(y(be))),...ce])])})},bm=(o,s,a)=>tn.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...o.toArray(),s],fieldBehaviours:xe([Wt.config({disabled:()=>a.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(d=>{Di(d.element).each(f=>{Ha(f,'[tabindex="-1"]').each(p=>{Ba(p)})})})(l),tn.getField(l).each(Wt.disable)},onEnabled:l=>{tn.getField(l).each(Wt.enable)}})])}),cb=(o,s,a,l)=>{const d=Mt(et),f=y=>d1(y,l),p=o.label.map(y=>tn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Or(s.translate(y))]})),b=tn.parts.field({factory:bp,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(o.min()),max:String(o.max())},data:o.initValue().toString(),fromInputValue:y=>(_=>{const E=parseFloat(_);return isNaN(E)?O.none():O.some(E)})(y).getOr(o.min()),toInputValue:y=>String(y),inputBehaviours:xe([Wt.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Jr(()=>s.checkUiComponentContext("mode:design")),Kt.config({mode:"special",onEnter:a,onLeft:(y,_)=>(_.cut(),O.none()),onRight:(y,_)=>(_.cut(),O.none())}),wo("slider-events",[Ru({onSetup:o.onSetup,getApi:f,onBeforeSetup:Kt.focusIn},d),j_({getApi:f},d,l),je(rs(),y=>{o.onInput(f(y))})])])});return bm(p,b,s)},eM=(o,s,a,l)=>{const d=Mt(et),f=_=>d1(_,l),p=o.label.map(_=>tn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Or(s.translate(_))]})),b={...o.placeholder.map(_=>({placeholder:s.translate(_)})).getOr({})},y=tn.parts.field({factory:bp,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:b,data:o.initValue(),selectOnFocus:!0,inputBehaviours:xe([Wt.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Jr(()=>s.checkUiComponentContext("mode:design")),Kt.config({mode:"special",onEnter:a,onLeft:(_,E)=>(E.cut(),O.none()),onRight:(_,E)=>(E.cut(),O.none())}),wo("input-events",[Ru({onSetup:o.onSetup,getApi:_=>Ha(_.element,".tox-toolbar").bind(E=>Vn(E,"button:enabled")).fold(()=>d1(_,l),E=>d1(_,l,E)),onBeforeSetup:Kt.focusIn},d),j_({getApi:f},d,l),je(rs(),_=>{o.onInput(f(_))})])])});return bm(p,y,s)},A4=(o,s,a)=>{const l=cn(),d=Bn(o(a,y=>p.findPrimary(y).orThunk(()=>b.findPrimary(y)).map(_=>(qi(_),!0)),l)),f=$o(s.commands,y=>y.align==="start"),p=O4(d,f.pass,a,l),b=O4(d,f.fail,a,l);return Eo([{title:O.none(),label:O.none(),items:p.asSpecs()},{title:O.none(),label:O.none(),items:[d.asSpec()]},{title:O.none(),label:O.none(),items:b.asSpecs()}],y=>y.items.length>0)},NA=(o,s)=>{switch(o.type){case"contextform":return A4(qe(eM,o),o,s);case"contextsliderform":return A4(qe(cb,o),o,s);case"contextsizeinputform":return A4(qe(AA,o),o,s)}},RA=(o,s,a)=>s.bottom-o.y>=a&&o.bottom-s.y>=a,sw=o=>{const s=(a=>{const l=a.getBoundingClientRect();if(l.height<=0&&l.width<=0){const d=ga(_t(a.startContainer),a.startOffset).element;return(ma(d)?os(d):O.some(d)).filter(dr).map(f=>f.dom.getBoundingClientRect()).getOr(l)}return l})(o.selection.getRng());if(o.inline){const a=xs();return Sn(a.left+s.left,a.top+s.top,s.width,s.height)}{const a=Rl(_t(o.getBody()));return Sn(a.x+s.left,a.y+s.top,s.width,s.height)}},DA=(o,s,a,l=0)=>{const d=Tn(window),f=Ns(_t(o.getContentAreaContainer())),p=Cy(o)||S_(o)||Sy(o),{x:b,width:y}=((_,E,w)=>{const A=Math.max(_.x+w,E.x);return{x:A,width:Math.min(_.right-w,E.right)-A}})(f,d,l);if(o.inline&&!p)return Sn(b,d.y,y,d.height);{const _=s.header.isPositionedAtTop(),{y:E,bottom:w}=((A,P,I,Y,G,J)=>{const j=_t(A.getContainer()),Z=Vn(j,".tox-editor-header").getOr(j),te=Ns(Z),oe=te.y>=P.bottom,ce=Y&&!oe;if(A.inline&&ce)return{y:Math.max(te.bottom+J,I.y),bottom:I.bottom};if(A.inline&&!ce)return{y:I.y,bottom:Math.min(te.y-J,I.bottom)};const be=G==="line"?Ns(j):P;return ce?{y:Math.max(te.bottom+J,I.y),bottom:Math.min(be.bottom-J,I.bottom)}:{y:Math.max(be.y+J,I.y),bottom:Math.min(te.y-J,I.bottom)}})(o,f,d,_,a,l);return Sn(b,E,y,w-E)}},MA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},BA={maxHeightFunction:qd(),maxWidthFunction:a4()},PA=o=>o==="node",tM=(o,s,a,l,d)=>{const f=sw(o),p=l.lastElement().exists(b=>yn(a,b));return((b,y)=>{const _=b.selection.getRng(),E=ga(_t(_.startContainer),_.startOffset);return _.startContainer===_.endContainer&&_.startOffset===_.endOffset-1&&yn(E.element,y)})(o,a)?p?jS:nu:p?((b,y)=>{const _=wr(b,"position");Zt(b,"position",y);const E=RA(f,Ns(s),-20)&&!l.isReposition()?cO:jS;return _.each(w=>Zt(b,"position",w)),E})(s,l.getMode()):(l.getMode()==="fixed"?d.y+xs().top:d.y)+(Cr(s)+12)<=f.y?nu:Pp},oM=(o,s,a,l)=>{const d=p=>(b,y,_,E,w)=>({...tM(o,E,p,a,w)({...b,y:w.y,height:w.height},y,_,E,w),alwaysFit:!0}),f=p=>PA(l)?[d(p)]:[];return s?{onLtr:p=>[gs,Ts,Ms,Za,da,vs].concat(f(p)),onRtl:p=>[gs,Ms,Ts,da,Za,vs].concat(f(p))}:{onLtr:p=>[vs,gs,Za,Ts,da,Ms].concat(f(p)),onRtl:p=>[vs,gs,da,Ms,Za,Ts].concat(f(p))}},N4=(o,s)=>{const a=Eo(s,f=>f.predicate(o.dom)),{pass:l,fail:d}=$o(a,f=>f.type==="contexttoolbar");return{contextToolbars:l,contextForms:d}},nM=(o,s)=>{const a={},l=[],d=[],f={},p={},b=Wo(o);return ot(b,y=>{const _=o[y];_.type==="contextform"||_.type==="contextsliderform"||_.type==="contextsizeinputform"?((E,w)=>{const A=la(tr("ContextForm",AD,w));a[E]=A,A.launch.map(P=>{f["form:"+E]={...w.launch,type:P.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(A)}}}),A.scope==="editor"?d.push(A):l.push(A),p[E]=A})(y,_):_.type==="contexttoolbar"&&((E,w)=>{var A;(A=w,tr("ContextToolbar",Z0,A)).each(P=>{P.launch.isSome()&&(f["toolbar:"+E]={...w.launch,type:"button",onAction:()=>{s(P)}}),w.scope==="editor"?d.push(P):l.push(P),p[E]=P})})(y,_)}),{forms:a,inNodeScope:l,inEditorScope:d,lookupTable:p,formNavigators:f}},Wx="tox-pop--transition",rM=(o,s,a,l)=>{const d=l.backstage,f=d.shared,p=Js().deviceType.isTouch,b=cn(),y=cn(),_=cn(),E=(we=>{const Ae=Mt([]);return{sketch:Kn.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:$e=>{Ae.set([]),Kn.getContent($e).each(Ye=>{an(Ye.element,"visibility")}),lr($e.element,tw),an($e.element,"width")},onHide:()=>{Ae.set([]),we.onHide()},inlineBehaviours:xe([wo("context-toolbar-events",[Es(Ac(),($e,Ye)=>{Ye.event.raw.propertyName==="width"&&(lr($e.element,tw),an($e.element,"width"))}),je(ew,($e,Ye)=>{const mt=$e.element;an(mt,"width");const $t=ae(mt),Xt=Di($e.element).isSome();an(mt,"left"),an(mt,"right"),an(mt,"max-width"),Kn.setContent($e,Ye.event.contents),Tr(mt,tw);const so=ae(mt);Zt(mt,"transition","none"),Kn.reposition($e),an(mt,"transition"),Zt(mt,"width",$t+"px"),Ye.event.focus.fold(()=>{Xt&&mA($e)},jo=>{pc(cs($e.element)).fold(()=>Ba(jo),pr=>{yn(pr,jo)||Ba(jo)})}),setTimeout(()=>{Zt($e.element,"width",so+"px")},0)}),je(pA,($e,Ye)=>{Kn.getContent($e).each(mt=>{Ae.set(Ae.get().concat([{bar:mt,focus:pc(cs($e.element))}]))}),Vt($e,ew,{contents:Ye.event.forwardContents,focus:O.none()})}),je(Qk,($e,Ye)=>{we.onBack(),Ke(Ae.get()).each(mt=>{Ae.set(Ae.get().slice(0,Ae.get().length-1)),Vt($e,ew,{contents:Ll(mt.bar),focus:mt.focus})})})]),Kt.config({mode:"special",onEscape:$e=>Ke(Ae.get()).fold(()=>we.onEscape(),Ye=>(Vo($e,Qk),O.some(!0)))})]),lazySink:()=>re.value(we.sink)}),inSubtoolbar:()=>Ae.get().length>0}})({sink:a,onEscape:()=>(o.focus(),_C(o),O.some(!0)),onHide:()=>{_C(o)},onBack:()=>{(we=>{we.dispatch("ContextFormSlideBack")})(o)}}),w=qs(E.sketch),A=()=>{const we=_.get().getOr("node"),Ae=PA(we)?1:0;return DA(o,f,we,Ae)},P=()=>!(o.removed||p()&&d.isContextMenuOpen()),I=()=>{if(P()){const we=A(),Ae=Xs(_.get(),"node")?((Ue,$e)=>$e.filter(Ye=>qn(Ye)&&Fi(Ye)).map(Rl).getOrThunk(()=>sw(Ue)))(o,b.get()):sw(o);return we.height<=0||!RA(Ae,we,.01)}return!0},Y=()=>{b.clear(),y.clear(),_.clear(),Kn.hide(w)},G=()=>{if(Kn.isOpen(w)){const we=w.element;an(we,"display"),I()?Zt(we,"display","none"):(y.set(0),Kn.reposition(w))}},J=we=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[we],behaviours:xe([Kt.config({mode:"acyclic"}),wo("pop-dialog-wrap-events",[Jn(Ae=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Kt.focusIn(Ae))}),zr(Ae=>{o.shortcuts.remove("ctrl+F9")})])])}),j=we=>{const Ae=te([we]);Vt(w,pA,{forwardContents:J(Ae)})},Z=He(()=>nM(s,j)),te=we=>{const{buttons:Ae}=o.ui.registry.getAll(),Ue={...Ae,...Z().formNavigators},$e=Cl(o)===sl.scrolling?sl.scrolling:sl.default,Ye=ir(Se(we,mt=>{return mt.type==="contexttoolbar"?((Xt,so)=>Vx(o,{buttons:Xt,toolbar:so.items,allowToolbarGroups:!1},l.backstage,O.some(["form:","toolbar:"])))(Ue,($t=mt,{...$t,launch:$t.launch.getOrUndefined(),items:Ot($t.items)?$t.items:Se($t.items,Zz)})):((Xt,so)=>NA(Xt,so))(mt,f.providers);var $t}));return f4({type:$e,uid:wt("context-toolbar"),initGroups:Ye,onEscape:O.none,cyclicKeying:!0,providers:f.providers})},oe=(we,Ae)=>{if(be.cancel(),!P())return;const Ue=te(we),$e=we[0].position,Ye=(($t,Xt)=>{const so=$t==="node"?f.anchors.node(Xt):f.anchors.cursor(),jo=((pr,Qr,An,ln)=>Qr==="line"?{bubble:_l(12,0,MA),layouts:{onLtr:()=>[Xm],onRtl:()=>[af]},overrides:BA}:{bubble:_l(0,12,MA,1/12),layouts:oM(pr,An,ln,Qr),overrides:BA})(o,$t,p(),{lastElement:b.get,isReposition:()=>Xs(y.get(),0),getMode:()=>hs.getMode(a)});return Er(so,jo)})($e,Ae);_.set($e),y.set(1);const mt=w.element;an(mt,"display"),($t=>Xs(rt($t,b.get(),yn),!0))(Ae)||(lr(mt,Wx),hs.reset(a,w)),Kn.showWithinBounds(w,J(Ue),{anchor:Ye,transition:{classes:[Wx],mode:"placement"}},()=>O.some(A())),Ae.fold(b.clear,b.set),I()&&Zt(mt,"display","none")};let ce=!1;const be=vk(()=>{!o.hasFocus()||o.removed||ce||(cr(w.element,Wx)?be.throttle():((we,Ae)=>{const Ue=_t(Ae.getBody()),$e=mt=>yn(mt,Ue),Ye=_t(Ae.selection.getNode());return(mt=>!$e(mt)&&!ys(Ue,mt))(Ye)?O.none():((mt,$t,Xt)=>{const so=N4(mt,$t);if(so.contextForms.length>0)return O.some({elem:mt,toolbars:[so.contextForms[0]]});{const jo=N4(mt,Xt);if(jo.contextForms.length>0)return O.some({elem:mt,toolbars:[jo.contextForms[0]]});if(so.contextToolbars.length>0||jo.contextToolbars.length>0){const pr=(Qr=>{if(Qr.length<=1)return Qr;{const An=Un=>un(Qr,na=>na.position===Un),ln=Un=>Eo(Qr,na=>na.position===Un),Jt=An("selection"),gr=An("node");if(Jt||gr){if(gr&&Jt){const Un=ln("node"),na=Se(ln("selection"),sr=>({...sr,position:"node"}));return Un.concat(na)}return ln(Jt?"selection":"node")}return ln("line")}})(so.contextToolbars.concat(jo.contextToolbars));return O.some({elem:mt,toolbars:pr})}return O.none()}})(Ye,we.inNodeScope,we.inEditorScope).orThunk(()=>((mt,$t,Xt)=>mt($t)?O.none():ge($t,so=>{if(dr(so)){const{contextToolbars:jo,contextForms:pr}=N4(so,Xt.inNodeScope),Qr=pr.length>0?pr:(An=>{if(An.length<=1)return An;{const ln=Jt=>H(An,gr=>gr.position===Jt);return ln("selection").orThunk(()=>ln("node")).orThunk(()=>ln("line")).map(Jt=>Jt.position).fold(()=>[],Jt=>Eo(An,gr=>gr.position===Jt))}})(jo);return Qr.length>0?O.some({elem:so,toolbars:Qr}):O.none()}return O.none()},mt))($e,Ye,we))})(Z(),o).fold(Y,we=>{oe(we.toolbars,O.some(we.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",G),o.on("click focus SetContent",be.throttle),o.on("keyup",we=>{var Ae;((Ae=we.keyCode)!==rw.ENTER&&Ae!==rw.SPACEBAR||!E.inSubtoolbar())&&be.throttle()}),o.on(OA,Y),o.on("contexttoolbar-show",we=>{const Ae=Z();ut(Ae.lookupTable,we.toolbarKey).each(Ue=>{oe([Ue],Fo(we.target!==o,we.target)),mA(w)})}),o.on("focusout",we=>{f_.setEditorTimeout(o,()=>{Di(a.element).isNone()&&Di(w.element).isNone()&&!o.hasFocus()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("DisabledStateChange",we=>{we.state&&Y()}),o.on("ExecCommand",({command:we})=>{we.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",we=>{we.state?Y():o.hasFocus()&&be.throttle()}),o.on("dragstart",()=>{ce=!0}),o.on("dragend drop",()=>{ce=!1}),o.on("NodeChange",we=>{E.inSubtoolbar()?(Zt(w.element,"transition","none"),G(),an(w.element,"transition")):Di(w.element).fold(be.throttle,et)})})},LA=(o,s)=>{const a=()=>{const l=s.getOptions(o),d=s.getCurrent(o).map(s.hash),f=cn();return Se(l,p=>({type:"togglemenuitem",text:s.display(p),onSetup:b=>{const y=E=>{E&&(f.on(w=>w.setActive(!1)),f.set(b)),b.setActive(E)};y(Xs(d,s.hash(p)));const _=s.watcher(o,p,y);return()=>{f.clear(),_()}},onAction:()=>s.setCurrent(o,p)}))};o.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(a()),onSetup:s.onToolbarSetup}),o.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},sM=o=>{LA(o,(s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:C_,hash:a=>(l=>ow(l,["fixed","relative","empty"]).map(({value:d,unit:f})=>d+f))(a).getOr(a),display:Ct,watcher:(a,l,d)=>a.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:a=>O.from(a.queryCommandValue("LineHeight")),setCurrent:(a,l)=>a.execCommand("LineHeight",!1,l),onToolbarSetup:al(s),onMenuSetup:al(s)}))(o)),(s=>O.from(XE(s)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:ue(a),hash:l=>hr(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,d,f)=>{var p;return l.formatter.formatChanged("lang",f,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const d=_t(l.selection.getNode());return nt(d,f=>O.some(f).filter(dr).bind(p=>us(p,"lang").map(b=>({code:b,customCode:us(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,d)=>l.execCommand("Lang",!1,d),onToolbarSetup:l=>{const d=ed();return l.setActive(s.formatter.match("lang",{},void 0,!0)),d.set(s.formatter.formatChanged("lang",l.setActive,!0)),ex(d.clear,al(s)(l))},onMenuSetup:al(s)})))(o).each(s=>LA(o,s))},IA=o=>qh(o,"NodeChange",s=>{s.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),FA=(o,s)=>a=>{a.setActive(s.get());const l=d=>{s.set(d.state),a.setActive(d.state)};return o.on("PastePlainTextToggle",l),ex(()=>o.off("PastePlainTextToggle",l),al(o)(a))},R4=(o,s)=>()=>{o.execCommand("mceToggleFormat",!1,s)},aM=o=>{(s=>{(a=>{pm.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,d)=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:tx(a,l.name),onAction:R4(a,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const d="h"+l,f=`Access+${l}`;a.ui.registry.addToggleButton(d,{text:d.toUpperCase(),tooltip:"Heading "+l,onSetup:tx(a,d),onAction:R4(a,d),shortcut:f})}})(s),(a=>{pm.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:$c(a,l.action),shortcut:l.shortcut,context:l.context})}),pm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:al(a),onAction:$c(a,l.action)})})})(s),(a=>{pm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:$c(a,l.action),onSetup:tx(a,l.name)})})})(s)})(o),(s=>{pm.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],a=>{s.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:$c(s,a.action),context:a.context})}),pm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{s.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onSetup:al(s),onAction:$c(s,a.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:al(s),onAction:R4(s,"code")})})(o)},qx=(o,s)=>qh(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!o.mode.isReadOnly()&&o.undoManager[s]())}),iM=o=>qh(o,"VisualAid",s=>{s.setActive(o.hasVisual)}),lM=(o,s)=>{(a=>{ot([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:$c(a,l.cmd),onSetup:tx(a,l.name)})}),a.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:al(a),onAction:$c(a,"JustifyNone")})})(o),aM(o),((a,l)=>{((d,f)=>{const p=ib(f,Ix(d));d.ui.registry.addNestedMenuItem("align",{text:f.shared.providers.translate("Align"),onSetup:al(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,f)=>{const p=ib(f,w4(d));d.ui.registry.addNestedMenuItem("fontfamily",{text:f.shared.providers.translate("Fonts"),onSetup:al(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,f)=>{const p={type:"advanced",...f.styles},b=ib(f,C4(d,p));d.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:al(d),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(a,l),((d,f)=>{const p=ib(f,yA(d));d.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:al(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,f)=>{const p=ib(f,CA(d));d.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:al(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l)})(o,s),(a=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:qx(l,"hasUndo"),onAction:$c(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:qx(l,"hasRedo"),onAction:$c(l,"redo")})})(a),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:qx(l,"hasUndo"),onAction:$c(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:qx(l,"hasRedo"),onAction:$c(l,"redo"),shortcut:"Meta+Y"})})(a)})(o),(a=>{(b=>{b.addCommand("mceApplyTextcolor",(y,_)=>{((E,w,A)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.apply(w,{value:A}),E.nodeChanged()})})(b,y,_)}),b.addCommand("mceRemoveTextcolor",y=>{((_,E)=>{_.undoManager.transact(()=>{_.focus(),_.formatter.remove(E,{value:null},void 0,!0),_.nodeChanged()})})(b,y)})})(a);const l=_T(a),d=HD(a),f=Mt(l),p=Mt(d);NC(a,"forecolor","forecolor",f),NC(a,"backcolor","hilitecolor",p),RC(a,"forecolor","forecolor","Text color",f),RC(a,"backcolor","hilitecolor","Background color",p)})(o),(a=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:$c(l,"mceToggleVisualAid"),context:"any"})})(a),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:iM(l),onAction:$c(l,"mceToggleVisualAid"),context:"any"})})(a)})(o),(a=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:IA(l),onAction:$c(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:al(l),onAction:$c(l,"indent")})})(a)})(o),sM(o),(a=>{const l=Mt(z2(a)),d=()=>a.execCommand("mceTogglePlainTextPaste");a.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:d,onSetup:FA(a,l)}),a.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:d,onSetup:FA(a,l)})})(o),(a=>{a.ui.registry.addContext("editable",()=>a.selection.isEditable()),a.ui.registry.addContext("mode",l=>a.mode.get()===l),a.ui.registry.addContext("any",jt),a.ui.registry.addContext("formatting",l=>a.formatter.canApply(l)),a.ui.registry.addContext("insert",l=>a.schema.isValidChild(a.selection.getNode().tagName,l))})(o)},cM=o=>Ot(o)?o.split(/[ ,]/):o,HA=o=>s=>s.options.get(o),VA=HA("contextmenu_never_use_native"),$A=HA("contextmenu_avoid_overlap"),D4=o=>{const s=o.ui.registry.getAll().contextMenus,a=o.options.get("contextmenu");return o.options.isSet("contextmenu")?a:Eo(a,l=>ko(s,l))},Gx=(o,s)=>({type:"makeshift",x:o,y:s}),UA=o=>o.type==="longpress"||o.type.indexOf("touch")===0,dM=(o,s)=>s.type==="contextmenu"||s.type==="longpress"?o.inline?(a=>{if(UA(a)){const l=a.touches[0];return Gx(l.pageX,l.pageY)}return Gx(a.pageX,a.pageY)})(s):((a,l)=>{const d=T0.DOM.getPos(a);return((f,p,b)=>Gx(f.x+p,f.y+b))(l,d.x,d.y)})(o.getContentAreaContainer(),(a=>{if(UA(a)){const l=a.touches[0];return Gx(l.clientX,l.clientY)}return Gx(a.clientX,a.clientY)})(s)):jA(o),jA=o=>({type:"selection",root:_t(o.selection.getNode())}),ZA=(o,s,a)=>{switch(a){case"node":return(l=>({type:"node",node:O.some(_t(l.selection.getNode())),root:_t(l.getBody())}))(o);case"point":return dM(o,s);case"selection":return jA(o)}},WA=(o,s,a,l,d,f)=>{const p=a(),b=ZA(o,s,f);Jy(p,Au.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:O.none()}).map(y=>{s.preventDefault(),Kn.showMenuAt(d,{anchor:b},{menu:{markers:am("normal")},data:y})})},u1={onLtr:()=>[gs,Ts,Ms,Za,da,vs,nu,Pp,Dx,Lk,t1,Pk],onRtl:()=>[gs,Ms,Ts,da,Za,vs,nu,Pp,t1,Pk,Dx,Lk]},uM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},fM=(o,s,a,l,d,f)=>{const p=Js(),b=p.os.isiOS(),y=p.os.isMacOS(),_=p.os.isAndroid(),E=p.deviceType.isTouch(),w=()=>{const A=a();((P,I,Y,G,J,j,Z)=>{const te=((oe,ce,be)=>{const we=ZA(oe,ce,be);return{bubble:_l(0,be==="point"?12:0,uM),layouts:u1,overrides:{maxWidthFunction:a4(),maxHeightFunction:qd()},...we}})(P,I,j);Jy(Y,Au.CLOSE_ON_EXECUTE,G,{isHorizontalMenu:!0,search:O.none()}).map(oe=>{I.preventDefault();const ce=Z?is.HighlightMenuAndItem:is.HighlightNone;Kn.showMenuWithinBounds(J,{anchor:te},{menu:{markers:am("normal"),highlightOnOpen:ce},data:oe,type:"horizontal"},()=>O.some(DA(P,G.shared,j==="node"?"node":"selection"))),P.dispatch(OA)})})(o,s,A,l,d,f,!(_||b||y&&E))};if((y||b)&&f!=="node"){const A=()=>{(P=>{const I=P.selection.getRng(),Y=()=>{f_.setEditorTimeout(P,()=>{P.selection.setRng(I)},10),j()};P.once("touchend",Y);const G=Z=>{Z.preventDefault(),Z.stopImmediatePropagation()};P.on("mousedown",G,!0);const J=()=>j();P.once("longpresscancel",J);const j=()=>{P.off("touchend",Y),P.off("longpresscancel",J),P.off("mousedown",G)}})(o),w()};((P,I)=>{const Y=P.selection;if(Y.isCollapsed()||I.touches.length<1)return!1;{const G=I.touches[0],J=Y.getRng();return o0(P.getWin(),ff.domRange(J)).exists(j=>j.left<=G.clientX&&j.right>=G.clientX&&j.top<=G.clientY&&j.bottom>=G.clientY)}})(o,s)?A():(o.once("selectionchange",A),o.once("touchend",()=>o.off("selectionchange",A)))}else w()},qA=o=>Ot(o)?o==="|":o.type==="separator",f1={type:"separator"},Ed=o=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Ot(o))return o;switch(o.type){case"separator":return f1;case"submenu":return{type:"nestedmenuitem",...s(o),getSubmenuItems:()=>{const l=o.getSubmenuItems();return Ot(l)?l:Se(l,Ed)}};default:const a=o;return{type:"menuitem",...s(a),onAction:Ut(a.onAction)}}},aw=(o,s)=>{if(s.length===0)return o;const a=Ke(o).filter(l=>!qA(l)).fold(()=>[],l=>[f1]);return o.concat(a).concat(s).concat([f1])},M4=(o,s)=>!(a=>a.type==="longpress"||ko(a,"touches"))(s)&&(s.button!==2||s.target===o.getBody()&&s.pointerType===""),GA=(o,s)=>M4(o,s)?o.selection.getStart(!0):s.target,mM=(o,s,a)=>{const l=Js().deviceType.isTouch,d=qs(Kn.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>o.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:xe([wo("dismissContextMenu",[je(Gu(),(b,y)=>{xn.close(b),o.focus()})])])})),f=()=>Kn.hide(d),p=b=>{if(VA(o)&&b.preventDefault(),((_,E)=>E.ctrlKey&&!VA(_))(o,b)||(_=>D4(_).length===0)(o))return;const y=((_,E)=>{const w=$A(_),A=M4(_,E)?"selection":"point";if(Oa(w)){const P=GA(_,E);return jy(_t(P),w)?"node":A}return A})(o,b);(l()?fM:WA)(o,b,()=>{const _=GA(o,b),E=o.ui.registry.getAll(),w=D4(o);return((A,P,I)=>{const Y=fo(P,(G,J)=>ut(A,J.toLowerCase()).map(j=>{const Z=j.update(I);if(Ot(Z)&&Oa(Ji(Z)))return aw(G,Z.split(" "));if(uo(Z)&&Z.length>0){const te=Se(Z,Ed);return aw(G,te)}return G}).getOrThunk(()=>G.concat([J])),[]);return Y.length>0&&qA(Y[Y.length-1])&&Y.pop(),Y})(E.contextMenus,w,_)},a,d,y)};o.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");o.on(b,f),o.on("longpress contextmenu",p)})},B4=S([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),iw=o=>s=>s.translate(-o.left,-o.top),Kx=o=>s=>s.translate(o.left,o.top),ym=o=>(s,a)=>fo(o,(l,d)=>d(l),Dn(s,a)),lw=(o,s,a)=>o.fold(ym([Kx(a),iw(s)]),ym([iw(s)]),ym([])),m1=(o,s,a)=>o.fold(ym([Kx(a)]),ym([]),ym([Kx(s)])),P4=(o,s,a)=>o.fold(ym([]),ym([iw(a)]),ym([Kx(s),iw(a)])),KA=(o,s,a)=>{const l=o.fold((d,f)=>({position:O.some("absolute"),left:O.some(d+"px"),top:O.some(f+"px")}),(d,f)=>({position:O.some("absolute"),left:O.some(d-a.left+"px"),top:O.some(f-a.top+"px")}),(d,f)=>({position:O.some("fixed"),left:O.some(d+"px"),top:O.some(f+"px")}));return{right:O.none(),bottom:O.none(),...l}},cw=(o,s,a,l)=>{const d=(f,p)=>(b,y)=>{const _=f(s,a,l);return p(b.getOr(_.left),y.getOr(_.top))};return o.fold(d(P4,Yx),d(m1,Lp),d(lw,db))},Yx=B4.offset,Lp=B4.absolute,db=B4.fixed,YA=(o,s)=>{const a=ds(o,s);return hr(a)?NaN:parseInt(a,10)},pM=(o,s,a,l,d,f)=>{const p=((_,E,w,A)=>((P,I)=>{const Y=P.element,G=YA(Y,I.leftAttr),J=YA(Y,I.topAttr);return isNaN(G)||isNaN(J)?O.none():O.some(Dn(G,J))})(_,E).fold(()=>w,P=>db(P.left+A.left,P.top+A.top)))(o,s,a,l),b=s.mustSnap?gM(o,s,p,d,f):hM(o,s,p,d,f),y=lw(p,d,f);return((_,E,w)=>{const A=_.element;lo(A,E.leftAttr,w.left+"px"),lo(A,E.topAttr,w.top+"px")})(o,s,y),b.fold(()=>({coord:db(y.left,y.top),extra:O.none()}),_=>({coord:_.output,extra:_.extra}))},XA=(o,s,a,l)=>mo(o,d=>{const f=d.sensor;return((b,y,_,E,w,A)=>{const P=m1(b,w,A),I=m1(y,w,A);return Math.abs(P.left-I.left)<=_&&Math.abs(P.top-I.top)<=E})(s,f,d.range.left,d.range.top,a,l)?O.some({output:cw(d.output,s,a,l),extra:d.extra}):O.none()}),gM=(o,s,a,l,d)=>{const f=s.getSnapPoints(o);return XA(f,a,l,d).orThunk(()=>fo(f,(b,y)=>{const _=y.sensor,E=((w,A,P,I,Y,G)=>{const J=m1(w,Y,G),j=m1(A,Y,G),Z=Math.abs(J.left-j.left),te=Math.abs(J.top-j.top);return Dn(Z,te)})(a,_,y.range.left,y.range.top,l,d);return b.deltas.fold(()=>({deltas:O.some(E),snap:O.some(y)}),w=>(E.left+E.top)/2<=(w.left+w.top)/2?{deltas:O.some(E),snap:O.some(y)}:b)},{deltas:O.none(),snap:O.none()}).snap.map(b=>({output:cw(b.output,a,l,d),extra:b.extra})))},hM=(o,s,a,l,d)=>{const f=s.getSnapPoints(o);return XA(f,a,l,d)};var L4=Object.freeze({__proto__:null,snapTo:(o,s,a,l)=>{const d=s.getTarget(o.element);if(s.repositionTarget){const f=pa(o.element),p=xs(f),b=as(d),y=((E,w,A)=>({coord:cw(E.output,E.output,w,A),extra:E.extra}))(l,p,b),_=KA(y.coord,0,b);_i(d,_)}}});const I4="data-initial-z-index",JA=(o,s)=>{o.getSystem().addToGui(s),(a=>{os(a.element).filter(dr).each(l=>{wr(l,"z-index").each(d=>{lo(l,I4,d)}),Zt(l,"z-index",Us(a.element,"z-index"))})})(s)},QA=o=>{(s=>{os(s.element).filter(dr).each(a=>{us(a,I4).fold(()=>an(a,"z-index"),l=>Zt(a,"z-index",l)),Ur(a,I4)})})(o),o.getSystem().removeFromGui(o)},e6=(o,s,a)=>o.getSystem().build(yf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var bM=dn("snaps",[Ge("getSnapPoints"),Bo("onSensor"),Ge("leftAttr"),Ge("topAttr"),Ee("lazyViewport",Cs),Ee("mustSnap",!1)]);const F4=[Ee("useFixed",Le),Ge("blockerClass"),Ee("getTarget",Ct),Ee("onDrag",et),Ee("repositionTarget",!0),Ee("onDrop",et),Xn("getBounds",Cs),bM],yM=o=>{return(s=wr(o,"left"),a=wr(o,"top"),l=wr(o,"position"),s.isSome()&&a.isSome()&&l.isSome()?O.some(((d,f,p)=>(p==="fixed"?db:Yx)(parseInt(d,10),parseInt(f,10)))(s.getOrDie(),a.getOrDie(),l.getOrDie())):O.none()).getOrThunk(()=>{const d=Gr(o);return Lp(d.left,d.top)});var s,a,l},t6=(o,s)=>({bounds:o.getBounds(),height:Aa(s.element),width:_e(s.element)}),H4=(o,s,a,l,d)=>{const f=a.update(l,d),p=a.getStartData().getOrThunk(()=>t6(s,o));f.each(b=>{((y,_,E,w)=>{const A=_.getTarget(y.element);if(_.repositionTarget){const P=pa(y.element),I=xs(P),Y=as(A),G=yM(A),J=((Z,te,oe,ce,be,we,Ae)=>((Ue,$e,Ye,mt,$t)=>{const Xt=$t.bounds,so=m1($e,Ye,mt),jo=uc(so.left,Xt.x,Xt.x+Xt.width-$t.width),pr=uc(so.top,Xt.y,Xt.y+Xt.height-$t.height),Qr=Lp(jo,pr);return $e.fold(()=>{const An=P4(Qr,Ye,mt);return Yx(An.left,An.top)},ue(Qr),()=>{const An=lw(Qr,Ye,mt);return db(An.left,An.top)})})(0,te.fold(()=>{const Ue=($e=oe,Ye=we.left,mt=we.top,$e.fold((Xt,so)=>Yx(Xt+Ye,so+mt),(Xt,so)=>Lp(Xt+Ye,so+mt),(Xt,so)=>db(Xt+Ye,so+mt)));var $e,Ye,mt;const $t=lw(Ue,ce,be);return db($t.left,$t.top)},Ue=>{const $e=pM(Z,Ue,oe,we,ce,be);return $e.extra.each(Ye=>{Ue.onSensor(Z,Ye)}),$e.coord}),ce,be,Ae))(y,_.snaps,G,I,Y,w,E),j=KA(J,0,Y);_i(A,j)}_.onDrag(y,A,w)})(o,s,p,b)})},o6=(o,s,a,l)=>{s.each(QA),a.snaps.each(f=>{((p,b)=>{((y,_)=>{const E=y.element;Ur(E,_.leftAttr),Ur(E,_.topAttr)})(p,b)})(o,f)});const d=a.getTarget(o.element);l.reset(),a.onDrop(o,d)},dw=o=>(s,a)=>{const l=d=>{a.setStartData(t6(s,d))};return mr([je(Im(),d=>{a.getStartData().each(()=>l(d))}),...o(s,a,l)])};var n6=Object.freeze({__proto__:null,getData:o=>O.from(Dn(o.x,o.y)),getDelta:(o,s)=>Dn(s.left-o.left,s.top-o.top)});const r6=(o,s,a)=>[je(Da(),(l,d)=>{if(d.event.raw.button!==0)return;d.stop();const f=()=>o6(l,O.some(y),o,s),p=FC(f,200),b={drop:f,delayDrop:p.schedule,forceDrop:f,move:_=>{p.cancel(),H4(l,o,s,n6,_)}},y=e6(l,o.blockerClass,(_=>mr([je(Da(),_.forceDrop),je(Ds(),_.drop),je(Bm(),(E,w)=>{_.move(w.event)}),je(Ud(),_.delayDrop)]))(b));a(l),JA(l,y)})],xM=[...F4,Yr("dragger",{handlers:dw(r6)})];var s6=Object.freeze({__proto__:null,getData:o=>{const s=o.raw.touches;return s.length===1?(a=>{const l=a[0];return O.some(Dn(l.clientX,l.clientY))})(s):O.none()},getDelta:(o,s)=>Dn(s.left-o.left,s.top-o.top)});const a6=(o,s,a)=>{const l=cn(),d=f=>{o6(f,l.get(),o,s),l.clear()};return[je(Ln(),(f,p)=>{p.stop();const b=()=>d(f),y={drop:b,delayDrop:et,forceDrop:b,move:E=>{H4(f,o,s,s6,E)}},_=e6(f,o.blockerClass,(E=>mr([je(Ln(),E.forceDrop),je(Wi(),E.drop),je(ai(),E.drop),je(ns(),(w,A)=>{E.move(A.event)})]))(y));l.set(_),a(f),JA(f,_)}),je(ns(),(f,p)=>{p.stop(),H4(f,o,s,s6,p.event)}),je(Wi(),(f,p)=>{p.stop(),d(f)}),je(ai(),d)]},vM=xM,_M=[...F4,Yr("dragger",{handlers:dw(a6)})],i6=[...F4,Yr("dragger",{handlers:dw((o,s,a)=>[...r6(o,s,a),...a6(o,s,a)])})];var l6=Object.freeze({__proto__:null,mouse:vM,touch:_M,mouseOrTouch:i6}),c6=Object.freeze({__proto__:null,init:()=>{let o=O.none(),s=O.none();const a=ue({});return Ie({readState:a,reset:()=>{o=O.none(),s=O.none()},update:(l,d)=>l.getData(d).bind(f=>((p,b)=>{const y=o.map(_=>p.getDelta(_,b));return o=O.some(b),y})(l,f)),getStartData:()=>s,setStartData:l=>{s=O.some(l)}})}});const Ip=nr({branchKey:"mode",branches:l6,name:"dragging",active:{events:(o,s)=>o.dragger.handlers(o,s)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:O.from(o.extra)})},state:c6,apis:L4}),d6=(o,s,a,l,d,f)=>o.fold(()=>Ip.snap({sensor:Lp(a-20,l-20),range:Dn(d,f),output:Lp(O.some(a),O.some(l)),extra:{td:s}}),p=>{const b=a-20,y=l-20,_=p.element.dom.getBoundingClientRect();return Ip.snap({sensor:Lp(b,y),range:Dn(40,40),output:Lp(O.some(a-_.width/2),O.some(l-_.height/2)),extra:{td:s}})}),V4=(o,s,a)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,d)=>{const f=d.td;((p,b)=>p.exists(y=>yn(y,b)))(s.get(),f)||(s.set(f),a(f))},mustSnap:!0}),u6=o=>Bn(qa.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:xe([Ip.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),Jh.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),kM=(o,s)=>{const a=Mt([]),l=Mt([]),d=Mt(!1),f=cn(),p=cn(),b=j=>{const Z=Rl(j);return d6(w.getOpt(s),j,Z.x,Z.y,Z.width,Z.height)},y=j=>{const Z=Rl(j);return d6(A.getOpt(s),j,Z.right,Z.bottom,Z.width,Z.height)},_=V4(()=>Se(a.get(),j=>b(j)),f,j=>{p.get().each(Z=>{o.dispatch("TableSelectorChange",{start:j,finish:Z})})}),E=V4(()=>Se(l.get(),j=>y(j)),p,j=>{f.get().each(Z=>{o.dispatch("TableSelectorChange",{start:Z,finish:j})})}),w=u6(_),A=u6(E),P=qs(w.asSpec()),I=qs(A.asSpec()),Y=(j,Z,te,oe)=>{const ce=te(Z);Ip.snapTo(j,ce),((be,we)=>{const Ae=we.dom.getBoundingClientRect();an(be.element,"display");const Ue=Md(_t(o.getBody())).dom.innerHeight,$e=Ae[oe]<0,Ye=((mt,$t)=>mt[oe]>$t)(Ae,Ue);($e||Ye)&&Zt(be.element,"display","none")})(j,Z)},G=j=>Y(P,j,b,"top"),J=j=>Y(I,j,y,"bottom");if(Js().deviceType.isTouch()){const j=Z=>Se(Z,_t);o.on("TableSelectionChange",Z=>{d.get()||(em(s,P),em(s,I),d.set(!0));const te=_t(Z.start),oe=_t(Z.finish);f.set(te),p.set(oe),O.from(Z.otherCells).each(ce=>{a.set(j(ce.upOrLeftCells)),l.set(j(ce.downOrRightCells)),G(te),J(oe)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{f.get().each(G),p.get().each(J)}),o.on("TableSelectionClear",()=>{d.get()&&(wu(P),wu(I),d.set(!1)),f.clear(),p.clear()})}},wM=(o,s,a)=>{var l;const d=(l=s.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:xe([Kt.config({mode:"flow",selector:"div[role=button]"}),Wt.config({disabled:a.isDisabled}),Jr(()=>a.checkUiComponentContext("any")),_r.config({}),yo.config({}),wo("elementPathEvents",[Jn((f,p)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Kt.focusIn(f)),o.on("NodeChange",b=>{const y=(E=>{const w=[];let A=E.length;for(;A-- >0;){const I=E[A];if(I.nodeType===1&&(P=I).nodeName!=="BR"&&!P.getAttribute("data-mce-bogus")&&P.getAttribute("data-mce-type")!=="bookmark"){const Y=FD(o,I);if(Y.isDefaultPrevented()||w.push({name:Y.name,element:I}),Y.isPropagationStopped())break}}var P;return w})(b.parents),_=y.length>0?fo(y,(E,w,A)=>{const P=((I,Y,G)=>qa.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":G}},components:[Or(I)],action:J=>{o.focus(),o.selection.select(Y),o.nodeChanged()},buttonBehaviours:xe([Xr.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",Y.nodeName.toLowerCase()]),onShow:(J,j)=>{((Z,te)=>{const oe=O.from(ds(Z,"id")).getOrThunk(()=>{const ce=wt("aria");return lo(te,"id",ce),ce});lo(Z,"aria-describedby",oe)})(J.element,j.element)},onHide:J=>{var j;j=J.element,Ur(j,"aria-describedby")}})}),q0(a.isDisabled),Jr(()=>a.checkUiComponentContext("any"))])}))(w.name,w.element,A);return A===0?E.concat([P]):E.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Or(` ${d} `)]},P])},[]):[];yo.set(f,_)})})])]),components:[]}};var Bg;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Bg||(Bg={}));const uw=(o,s,a)=>{const l=_t(o.getContainer()),d=((f,p,b,y,_)=>{const E={height:nw(y+p.top,O0(f),w2(f))};return b===Bg.Both&&(E.width=nw(_+p.left,g_(f),A0(f))),E})(o,s,a,Cr(l),ae(l));er(d,(f,p)=>{sn(f)&&Zt(l,p,E4(f))}),(f=>{f.dispatch("ResizeEditor")})(o)},Iu=(o,s,a,l)=>{const d=Dn(20*a,20*l);return uw(o,d,s),O.some(!0)},CM=(o,s)=>{const a=()=>{const l=[],d=rz(o),f=v_(o),p=ky(o)||o.hasPlugin("wordcount");return f&&l.push(wM(o,{},s)),d&&l.push((()=>{const b=Z_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Or(Jd.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return o.hasPlugin("wordcount")&&b.push(((y,_)=>{const E=(w,A,P)=>yo.set(w,[Or(_.translate(["{0} "+P,A[P]]))]);return qa.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:xe([q0(_.isDisabled),Jr(()=>_.checkUiComponentContext("any")),_r.config({}),yo.config({}),se.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),wo("wordcount-events",[Wd(w=>{const A=se.getValue(w),P=A.mode==="words"?"characters":"words";se.setValue(w,{mode:P,count:A.count}),E(w,A.count,P)}),Jn(w=>{y.on("wordCountUpdate",A=>{const{mode:P}=se.getValue(w);se.setValue(w,{mode:P,count:A.wordCount}),E(w,A.wordCount,P)})})])]),eventOrder:{[ta()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,s)),ky(o)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:xe([ho.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",y="tox-statusbar__text-container--flex-end";if(d){const _="tox-statusbar__text-container-3-cols";return p||f?p&&!f?[_,y]:[_,b]:[_,"tox-statusbar__text-container--space-around"]}return[p&&!f?y:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=a(),d=((f,p)=>{const b=(_=>{const E=__(_);return E===!1?Bg.None:E==="both"?Bg.Both:Bg.Vertical})(f);if(b===Bg.None)return O.none();const y=b===Bg.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(_d("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":p.translate(y),"data-mce-name":"resize-handle"},behaviours:[Ip.config({mode:"mouse",repositionTarget:!1,onDrag:(_,E,w)=>uw(f,w,b),blockerClass:"tox-blocker"}),Kt.config({mode:"special",onLeft:()=>Iu(f,b,-1,0),onRight:()=>Iu(f,b,1,0),onUp:()=>Iu(f,b,0,-1),onDown:()=>Iu(f,b,0,1)}),_r.config({}),ho.config({}),Xr.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(o,s);return l.concat(d.toArray())})()}},p1=(o,s)=>s.get().getOrDie(`UI for ${o} has not been rendered`),SM=(o,s)=>{const a=o.inline,l=a?Q8:jx,d=gp(o)?r8:AO,f=(()=>{const ce=cn(),be=cn(),we=cn();return{dialogUi:ce,popupUi:be,mainUi:we,getUiMotherships:()=>{const Ae=ce.get().map($e=>$e.mothership),Ue=be.get().map($e=>$e.mothership);return Ae.fold(()=>Ue.toArray(),$e=>Ue.fold(()=>[$e],Ye=>yn($e.element,Ye.element)?[$e]:[$e,Ye]))},lazyGetInOuterOrDie:(Ae,Ue)=>()=>we.get().bind($e=>Ue($e.outerContainer)).getOrDie(`Could not find ${Ae} element in OuterContainer`)}})(),p=cn(),b=cn(),y=cn(),_=Js().deviceType.isTouch()?["tox-platform-touch"]:[],E=om(o),w=Cl(o),A=Bn({dom:{tag:"div",classes:["tox-anchorbar"]}}),P=Bn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),I=()=>f.mainUi.get().map(ce=>ce.outerContainer).bind(Hr.getHeader),Y=f.lazyGetInOuterOrDie("anchor bar",A.getOpt),G=f.lazyGetInOuterOrDie("bottom anchor bar",P.getOpt),J=f.lazyGetInOuterOrDie("toolbar",Hr.getToolbar),j=f.lazyGetInOuterOrDie("throbber",Hr.getThrobber),Z=((ce,be,we,Ae)=>{const Ue=Mt(!1),$e=(ln=>{const Jt=Mt(om(ln)?"bottom":"top");return{isPositionedAtTop:()=>Jt.get()==="top",getDockingMode:Jt.get,setDockingMode:Jt.set}})(be),Ye={icons:()=>be.ui.registry.getAll().icons,menuItems:()=>be.ui.registry.getAll().menuItems,translate:Jd.translate,isDisabled:()=>!be.ui.isEnabled(),getOption:be.options.get,tooltips:Z7(ce.dialog),checkUiComponentContext:ln=>{if(m_(be))return{contextType:"disabled",shouldDisable:!0};const[Jt,gr=""]=ln.split(":"),Un=be.ui.registry.getAll().contexts;return{contextType:Jt,shouldDisable:!ut(Un,Jt).fold(()=>ut(Un,"mode").map(na=>na("design")).getOr(!1),na=>gr.charAt(0)==="!"?!na(gr.slice(1)):na(gr))}}},mt=EO(be),$t=(ln=>{const Jt=ra=>()=>ln.formatter.match(ra),gr=ra=>()=>{const Ta=ln.formatter.get(ra);return Ta!==void 0?O.some({tag:Ta.length>0&&(Ta[0].inline||Ta[0].block)||"div",styles:ln.dom.parseStyle(ln.formatter.getCssText(ra))}):O.none()},Un=Mt([]),na=Mt([]),sr=Mt(!1);return ln.on("PreInit",ra=>{const Ta=pO(ln),Hp=hO(ln,Ta,Jt,gr);Un.set(Hp)}),ln.on("addStyleModifications",ra=>{const Ta=hO(ln,ra.items,Jt,gr);na.set(Ta),sr.set(ra.replace)}),{getData:()=>{const ra=sr.get()?[]:Un.get(),Ta=na.get();return ra.concat(Ta)}}})(be),Xt=(ln=>({colorPicker:Pu(ln),hasCustomColors:j7(ln),getColors:WS(ln),getColorCols:uO(ln)}))(be),so=(ln=>({isDraggableModal:fO(ln)}))(be),jo={shared:{providers:Ye,anchors:dO(be,we,Ae,$e.isPositionedAtTop),header:$e},urlinput:mt,styles:$t,colorinput:Xt,dialog:so,isContextMenuOpen:()=>Ue.get(),setContextMenuState:ln=>Ue.set(ln)},pr=ln=>O.none(),Qr={...jo,shared:{...jo.shared,interpreter:ln=>IS(ln,{},Qr,pr),getSink:ce.popup}},An={...jo,shared:{...jo.shared,interpreter:ln=>IS(ln,{},An,pr),getSink:ce.dialog}};return{popup:Qr,dialog:An}})({popup:()=>re.fromOption(f.popupUi.get().map(ce=>ce.sink),"(popup) UI has not been rendered"),dialog:()=>re.fromOption(f.dialogUi.get().map(ce=>ce.sink),"UI has not been rendered")},o,Y,G),te=()=>{const ce=(()=>{const jo={attributes:{[Gs]:E?df.BottomToTop:df.TopToBottom}},pr=Hr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Z.popup,onEscape:()=>{o.focus()}}),Qr=Hr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Z.popup.shared.getSink,providers:Z.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:Ta=>{((Hp,pb)=>{Hp.dispatch("ToggleToolbarDrawer",{state:pb})})(o,Ta)},type:w,lazyToolbar:J,lazyHeader:()=>I().getOrDie("Could not find header element"),...jo}),An=Hr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Z.popup.shared.providers,onEscape:()=>{o.focus()},type:w}),ln=Sy(o),Jt=S_(o),gr=Cy(o),Un=k_(o),na=ln||Jt||gr,sr=[(ra=Un,Hr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:ra})),pr];var ra;return Hr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(na?[]:["tox-editor-header--empty"]),...jo},components:ir([gr?sr:[],ln?[An]:Jt?[Qr]:[],Cg(o)?[]:[A.asSpec()]]),sticky:gp(o),editor:o,sharedBackstage:Z.popup.shared})})(),be={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Hr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Hr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},we=Hr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Z.popup}),Ae=Hr.parts.viewWrapper({backstage:Z.popup}),Ue=x_(o)&&!a?O.some(CM(o,Z.popup.shared.providers)):O.none(),$e=ir([E?[]:[ce],a?[]:[be],E?[ce]:[]]),Ye=Hr.parts.editorContainer({components:ir([$e,a?[]:[P.asSpec()]])}),mt=z_(o),$t={role:"application",...Jd.isRtl()?{dir:"rtl"}:{},...mt?{"aria-hidden":"true"}:{}},Xt=qs(Hr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(_),styles:{visibility:"hidden",...mt?{opacity:"0",border:"0"}:{}},attributes:$t},components:[Ye,...a?[]:[Ae,...Ue.toArray()],we],behaviours:xe([Jr(()=>Z.popup.shared.providers.checkUiComponentContext("any")),Wt.config({disableClass:"tox-tinymce--disabled"}),Kt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),so=rk(Xt);return p.set(so),{mothership:so,outerContainer:Xt}},oe=ce=>{const be=E4((Ae=>(Ue=>{const $e=(($t,Xt)=>{if(typeof Xt=="number")return O.from(Xt);const so=/^([0-9.]+)(pt|em|px)$/.exec(Xt.trim());if(so){const jo=so[2],pr=Number.parseFloat(so[1]);if(Number.isNaN(pr)||pr<0)return O.none();if(jo==="em")return O.from(pr*Number.parseFloat(window.getComputedStyle($t.dom).fontSize));if(jo==="pt")return O.from(.75*pr);if(jo==="px")return O.from(pr)}return O.none()})(_t(Ue.targetElm),k2(Ue)),Ye=O0(Ue),mt=w2(Ue);return $e.map($t=>nw($t,Ye,mt))})(Ae).getOr(k2(Ae)))(o)),we=E4((Ae=>zA(Ae).getOr(p_(Ae)))(o));return o.inline||(ki("div","width",we)&&Zt(ce.element,"width",we),ki("div","height",be)?Zt(ce.element,"height",be):Zt(ce.element,"height","400px")),be};return{popups:{backstage:Z.popup,getMothership:()=>p1("popups",y)},dialogs:{backstage:Z.dialog,getMothership:()=>p1("dialogs",b)},renderUI:()=>{const ce=te(),be=(()=>{const Ae=Ey(o),Ue=yn(ha(),Ae)&&Us(Ae,"display")==="grid",$e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(_),attributes:{...Jd.isRtl()?{dir:"rtl"}:{}}},behaviours:xe([hs.config({useFixed:()=>d.isDocked(I)})])},Ye={dom:{styles:{width:document.body.clientWidth+"px"}},events:mr([je(xu(),Xt=>{Zt(Xt.element,"width",document.body.clientWidth+"px")})])},mt=qs(Er($e,Ue?Ye:{})),$t=rk(mt);return b.set($t),{sink:mt,mothership:$t}})(),we=nm(o)?(()=>{const Ae={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(_),attributes:{...Jd.isRtl()?{dir:"rtl"}:{}}},behaviours:xe([hs.config({useFixed:()=>d.isDocked(I),getBounds:()=>s.getPopupSinkBounds()})])},Ue=qs(Ae),$e=rk(Ue);return y.set($e),{sink:Ue,mothership:$e}})():(Ae=>(y.set(Ae.mothership),Ae))(be);return f.dialogUi.set(be),f.popupUi.set(we),f.mainUi.set(ce),(Ae=>{const{mainUi:Ue,popupUi:$e,uiMotherships:Ye}=Ae;Rn(tD(o),(Jt,gr)=>{o.ui.registry.addGroupToolbarButton(gr,Jt)});const{buttons:mt,menuItems:$t,contextToolbars:Xt,sidebars:so,views:jo}=o.ui.registry.getAll(),pr=O2(o),Qr={menuItems:$t,menus:az(o),menubar:ez(o),toolbar:pr.getOrThunk(()=>b_(o)),allowToolbarGroups:w===sl.floating,buttons:mt,sidebar:so,views:jo};var An;An=Ue.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Hr.focusMenubar(An)}),o.addShortcut("alt+F10","focus toolbar",()=>{Hr.focusToolbar(An)}),o.addCommand("ToggleToolbarDrawer",(Jt,gr)=>{gr!=null&&gr.skipFocus?Hr.toggleToolbarDrawerWithoutFocusing(An):Hr.toggleToolbarDrawer(An)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Hr.isToolbarDrawerToggled(An)),((Jt,gr,Un)=>{const na=(kn,Fg)=>{ot([gr,...Un],zf=>{zf.broadcastEvent(kn,Fg)})},sr=(kn,Fg)=>{ot([gr,...Un],zf=>{zf.broadcastOn([kn],Fg)})},ra=kn=>sr(Cu(),{target:kn.target}),Ta=fl(),Hp=Gi(Ta,"touchstart",ra),pb=Gi(Ta,"touchmove",kn=>na(Cb(),kn)),ww=Gi(Ta,"touchend",kn=>na(id(),kn)),Cw=Gi(Ta,"mousedown",ra),Vp=Gi(Ta,"mouseup",kn=>{kn.raw.button===0&&sr(u0(),{target:kn.target})}),Lg=kn=>sr(Cu(),{target:_t(kn.target)}),vm=kn=>{kn.button===0&&sr(u0(),{target:_t(kn.target)})},y1=()=>{ot(Jt.editorManager.get(),kn=>{Jt!==kn&&kn.dispatch("DismissPopups",{relatedTarget:Jt})})},gb=kn=>na(Im(),fh(kn)),_m=kn=>{sr(pf(),{}),na(xu(),fh(kn))},hb=cs(_t(Jt.getElement())),$p=Kb(hb,"scroll",kn=>{requestAnimationFrame(()=>{if(Jt.getContainer()!=null){const Fg=Bs(Jt,gr.element).map(zf=>[zf.element,...zf.others]).getOr([]);un(Fg,zf=>yn(zf,kn.target))&&(Jt.dispatch("ElementScroll",{target:kn.target.dom}),na(ss(),kn))}})}),nv=()=>sr(pf(),{}),rv=kn=>{kn.state&&sr(Cu(),{target:_t(Jt.getContainer())})},x1=kn=>{sr(Cu(),{target:_t(kn.relatedTarget.getContainer())})},Ig=kn=>Jt.dispatch("focusin",kn),km=kn=>Jt.dispatch("focusout",kn);Jt.on("PostRender",()=>{Jt.on("click",Lg),Jt.on("tap",Lg),Jt.on("mouseup",vm),Jt.on("mousedown",y1),Jt.on("ScrollWindow",gb),Jt.on("ResizeWindow",_m),Jt.on("ResizeEditor",nv),Jt.on("AfterProgressState",rv),Jt.on("DismissPopups",x1),ot([gr,...Un],kn=>{kn.element.dom.addEventListener("focusin",Ig),kn.element.dom.addEventListener("focusout",km)})}),Jt.on("remove",()=>{Jt.off("click",Lg),Jt.off("tap",Lg),Jt.off("mouseup",vm),Jt.off("mousedown",y1),Jt.off("ScrollWindow",gb),Jt.off("ResizeWindow",_m),Jt.off("ResizeEditor",nv),Jt.off("AfterProgressState",rv),Jt.off("DismissPopups",x1),ot([gr,...Un],kn=>{kn.element.dom.removeEventListener("focusin",Ig),kn.element.dom.removeEventListener("focusout",km)}),Cw.unbind(),Hp.unbind(),pb.unbind(),ww.unbind(),Vp.unbind(),$p.unbind()}),Jt.on("detach",()=>{ot([gr,...Un],Ve),ot([gr,...Un],kn=>kn.destroy())})})(o,Ue.mothership,Ye),d.setup(o,Z.popup.shared,I),lM(o,Z.popup),mM(o,Z.popup.shared.getSink,Z.popup),(Jt=>{const{sidebars:gr}=Jt.ui.registry.getAll();ot(Wo(gr),Un=>{const na=gr[Un],sr=()=>Xs(O.from(Jt.queryCommandValue("ToggleSidebar")),Un);Jt.ui.registry.addToggleButton(Un,{icon:na.icon,tooltip:na.tooltip,onAction:ra=>{Jt.execCommand("ToggleSidebar",!1,Un),ra.setActive(sr())},onSetup:ra=>{ra.setActive(sr());const Ta=()=>ra.setActive(sr());return Jt.on("ToggleSidebar",Ta),()=>{Jt.off("ToggleSidebar",Ta)}},context:"any"})})})(o),m8(o,j,Z.popup.shared),rM(o,Xt,$e.sink,{backstage:Z.popup}),kM(o,$e.sink);const ln={targetNode:o.getElement(),height:oe(Ue.outerContainer)};return l.render(o,Ae,Qr,Z.popup,ln)})({popupUi:we,dialogUi:be,mainUi:ce,uiMotherships:f.getUiMotherships()})}}},$4=ue([Ge("lazySink"),Jo("dragBlockClass"),Xn("getBounds",Cs),Ee("useTabstopAt",jt),Ee("firstTabstop",0),Ee("eventOrder",{}),ke("modalBehaviours",[Kt]),di("onExecute"),L1("onEscape")]),U4={sketch:Ct},EM=ue([Yd({name:"draghandle",overrides:(o,s)=>({behaviours:xe([Ip.config({mode:"mouse",getTarget:a=>Ha(a,'[role="dialog"]').getOr(a),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:o.getDragBounds})])})}),rl({schema:[Ge("dom")],name:"title"}),rl({factory:U4,schema:[Ge("dom")],name:"close"}),rl({factory:U4,schema:[Ge("dom")],name:"body"}),Yd({factory:U4,schema:[Ge("dom")],name:"footer"}),Eu({factory:{sketch:(o,s)=>({...o,dom:s.dom,components:s.components})},schema:[Ee("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ee("components",[])],name:"blocker"})]),La=wl({name:"ModalDialog",configFields:$4(),partFields:EM(),factory:(o,s,a,l)=>{const d=cn(),f=wt("modal-events"),p={...o.eventOrder,[lt()]:[f].concat(o.eventOrder["alloy.system.attached"]||[])},b=Js();return{uid:o.uid,dom:o.dom,components:s,apis:{show:y=>{d.set(y);const _=o.lazySink(y).getOrDie(),E=l.blocker(),w=_.getSystem().build({...E,components:E.components.concat([Ll(y)]),behaviours:xe([ho.config({}),wo("dialog-blocker-events",[Es(hl(),()=>{Lu.isBlocked(y)||Kt.focusIn(y)})])])});em(_,w),Kt.focusIn(y)},hide:y=>{d.clear(),os(y.element).each(_=>{y.getSystem().getByDom(_).each(E=>{wu(E)})})},getBody:y=>vg(y,o,"body"),getFooter:y=>Lr(y,o,"footer"),setIdle:y=>{Lu.unblock(y)},setBusy:(y,_)=>{Lu.block(y,_)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Fe(o.modalBehaviours,[yo.config({}),Kt.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Lu.config({getRoot:d.get}),wo(f,[Jn(y=>{const _=vg(y,o,"title").element,E=(w=>w.dom.textContent)(_);b.os.isMacOS()&&Ht(E)?lo(y.element,"aria-label",E):((w,A)=>{const P=us(w,"id").fold(()=>{const I=wt("dialog-label");return lo(A,"id",I),I},Ct);lo(w,"aria-labelledby",P)})(y.element,_)})])])}},apis:{show:(o,s)=>{o.show(s)},hide:(o,s)=>{o.hide(s)},getBody:(o,s)=>o.getBody(s),getFooter:(o,s)=>o.getFooter(s),setBusy:(o,s,a)=>{o.setBusy(s,a)},setIdle:(o,s)=>{o.setIdle(s)}}}),f6=no([Ps,$0].concat(Eg)),zM=yu,Xx=[sC("button"),xc,Ca("align","end",["start","end"]),oC,Nu,Mm("buttonType",["primary","secondary"]),or("context","mode:design")],fw=[...Xx,yp],Jx=[Ws("type",["submit","cancel","custom"]),...fw],TM=[Ws("type",["menu"]),xp,lm,xc,jr("items",f6),...Xx],zd=[...Xx,Ws("type",["togglebutton"]),lm,xc,xp,ea("active",!1)],OM=Ua("type",{submit:Jx,cancel:Jx,custom:Jx,menu:TM,togglebutton:zd}),AM=[Ps,yp,Ws("level",["info","warn","error","success"]),U0,Ee("url","")],m6=no(AM),p6=[Ps,yp,Nu,sC("button"),xc,Fz,Mm("buttonType",["primary","secondary","toolbar"]),oC,or("context","mode:design")],NM=no(p6),g1=[Ps,$0],Sf=g1.concat([bf]),RM=g1.concat([F_,Nu,or("context","mode:design")]),DM=no(RM),MM=yu,BM=Sf.concat([wD("auto"),or("context","mode:design")]),g6=no(BM),PM=hu([Fh,yp,U0]),LM=Sf.concat([or("storageKey","default"),or("context","mode:design")]),IM=no(LM),h6=Mr,j4=no(Sf),b6=Mr,y6=g1.concat([or("tag","textarea"),ms("scriptId"),ms("scriptUrl"),Na("onFocus"),wa("settings",void 0,Pf)]),x6=g1.concat([or("tag","textarea"),Ti("init")]),v6=nc(o=>tr("customeditor.old",Si(x6),o).orThunk(()=>tr("customeditor.new",Si(y6),o))),Z4=Mr,FM=Sf.concat([or("context","mode:design")]),W4=no(FM),h1=Ei(_a),_6=o=>[Ps,zi("columns"),o],k6=[Ps,ms("html"),Ca("presets","presentation",["presentation","document"]),Xn("onInit",et),ea("stretched",!1)],w6=no(k6),HM=Sf.concat([ea("border",!1),ea("sandboxed",!0),ea("streamContent",!1),ea("transparent",!0)]),VM=no(HM),mw=Mr,$M=no(g1.concat([Zr("height")])),UM=no([ms("url"),Br("zoom"),Br("cachedWidth"),Br("cachedHeight")]),C6=Sf.concat([Zr("inputMode"),Zr("placeholder"),ea("maximized",!1),Nu,or("context","mode:design")]),S6=no(C6),q4=Mr,E6=o=>[Ps,F_,o,Ca("align","start",["start","center","end"]),Zr("for")],Wl=[yp,Fh],z6=[yp,jr("items",zc(0,()=>T6))],T6=nd([no(Wl),no(z6)]),jM=Sf.concat([jr("items",T6),Nu,or("context","mode:design")]),O6=no(jM),ZM=Mr,WM=Sf.concat([If("items",[yp,Fh]),Ra("size",1),Nu,or("context","mode:design")]),qM=no(WM),A6=Mr,xm=Sf.concat([ea("constrain",!0),Nu,or("context","mode:design")]),G4=no(xm),K4=no([ms("width"),ms("height")]),pw=g1.concat([F_,Ra("min",0),Ra("max",0)]),Y4=no(pw),GM=bu,KM=[Ps,jr("header",Mr),jr("cells",Ei(Mr))],YM=no(KM),XM=Sf.concat([Zr("placeholder"),ea("maximized",!1),Nu,or("context","mode:design")]),JM=no(XM),QM=Mr,N6=[Ws("type",["directory","leaf"]),eC,ms("id"),Zi("menu",BO),Zr("customStateIcon"),Zr("customStateIconTooltip")],X4=no(N6),eB=N6.concat([jr("children",zc(0,()=>oc("type",{directory:Ef,leaf:X4})))]),Ef=no(eB),gw=oc("type",{directory:Ef,leaf:X4}),tB=[Ps,jr("items",gw),Na("onLeafAction"),Na("onToggleExpand"),sc("defaultExpandedIds",[],Mr),Zr("defaultSelectedId")],oB=no(tB),R6=Sf.concat([Ca("filetype","file",["image","media","file"]),Nu,Zr("picker_text"),or("context","mode:design")]),D6=no(R6),J4=no([Fh,nC]),b1=o=>Ss("items","items",{tag:"required",process:{}},Ei(nc(s=>tr(`Checking item of ${o}`,ub,s).fold(a=>re.error(si(a)),a=>re.value(a))))),ub=mu(()=>{return oc("type",{alertbanner:m6,bar:no((o=b1("bar"),[Ps,o])),button:NM,checkbox:DM,colorinput:IM,colorpicker:j4,dropzone:W4,grid:no(_6(b1("grid"))),iframe:VM,input:S6,listbox:O6,selectbox:qM,sizeinput:G4,slider:Y4,textarea:JM,urlinput:D6,customeditor:v6,htmlpanel:w6,imagepreview:$M,collection:g6,label:no(E6(b1("label"))),table:YM,tree:oB,panel:Q4});var o}),Qx=[Ps,Ee("classes",[]),jr("items",ub)],Q4=no(Qx),M6=[sC("tab"),eC,jr("items",ub)],B6=[Ps,If("tabs",M6)],P6=no(B6),nB=fw,rB=OM,sB=no([ms("title"),Qs("body",oc("type",{panel:Q4,tabpanel:P6})),or("size","normal"),sc("buttons",[],rB),Ee("initialData",{}),Xn("onAction",et),Xn("onChange",et),Xn("onSubmit",et),Xn("onClose",et),Xn("onCancel",et),Xn("onTabChange",et)]),aB=no([Ws("type",["cancel","custom"]),...nB]),iB=no([ms("title"),ms("url"),Br("height"),Br("width"),rc("buttons",aB),Xn("onAction",et),Xn("onCancel",et),Xn("onClose",et),Xn("onMessage",et)]),hw=o=>So(o)?[o].concat(Go(Ys(o),hw)):uo(o)?Go(o,hw):[],L6=o=>Ot(o.type)&&Ot(o.name),lB={checkbox:MM,colorinput:h6,colorpicker:b6,dropzone:h1,input:q4,iframe:mw,imagepreview:UM,selectbox:A6,sizeinput:K4,slider:GM,listbox:ZM,size:K4,textarea:QM,urlinput:J4,customeditor:Z4,collection:PM,togglemenuitem:zM},I6=o=>{const s=(l=>Eo(hw(l),L6))(o),a=Go(s,l=>(d=>O.from(lB[d.type]))(l).fold(()=>[],d=>[Qs(l.name,d)]));return no(a)},F6=o=>{var s;return{internalDialog:la(tr("dialog",sB,o)),dataValidator:I6(o),initialData:(s=o.initialData)!==null&&s!==void 0?s:{}}},Pg={open:(o,s)=>{const a=F6(s);return o(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(o,s)=>o(la(tr("dialog",iB,s))),redial:o=>F6(o)};var fb=Object.freeze({__proto__:null,events:(o,s)=>{const a=(l,d)=>{o.updateState.each(f=>{const p=f(l,d);s.set(p)}),o.renderComponents.each(f=>{const p=f(d,s.get());(o.reuseDom?p2:m2)(l,p)})};return mr([je(At(),(l,d)=>{const f=d;if(!f.universal){const p=o.channel;Je(f.channels,p)&&a(l,f.data)}}),Jn((l,d)=>{o.initialData.each(f=>{a(l,f)})})])}}),cB=Object.freeze({__proto__:null,getState:(o,s,a)=>a}),H6=[Ge("channel"),Jo("renderComponents"),Jo("updateState"),Jo("initialData"),ea("reuseDom",!0)];const Wc=Gt({fields:H6,name:"reflecting",active:fb,apis:cB,state:Object.freeze({__proto__:null,init:()=>{const o=Mt(O.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(O.none())}}})}),V6=o=>{const s=[],a={};return er(o,(l,d)=>{l.fold(()=>{s.push(d)},f=>{a[d]=f})}),s.length>0?re.error(s):re.value(a)},dB=(o,s,a,l)=>{const d=Bn(Gy.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:Se(o.items,b=>LS(p,b,s,a,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:xe([Kt.config({mode:"acyclic",useTabstopAt:Zn(Ky)}),(f=d,_n.config({find:f.getOpt})),v7(d,{postprocess:p=>V6(p).fold(b=>(console.error(b),{}),Ct)}),wo("dialog-body-panel",[je(hl(),(p,b)=>{p.getSystem().broadcastOn([Cx],{newFocus:O.some(b.event.target)})})])])};var f},uB=yd({name:"TabButton",configFields:[Ee("uid",void 0),Ge("value"),Ss("dom","dom",od(()=>({attributes:{role:"tab",id:wt("aria"),"aria-selected":"false"}})),ji()),Jo("action"),Ee("domModification",{}),ke("tabButtonBehaviours",[ho,Kt,se]),Ge("view")],factory:(o,s)=>({uid:o.uid,dom:o.dom,components:o.components,events:d_(o.action),behaviours:Fe(o.tabButtonBehaviours,[ho.config({}),Kt.config({mode:"execution",useSpace:!0,useEnter:!0}),se.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),$6=ue([Ge("tabs"),Ge("dom"),Ee("clickToDismiss",!1),ke("tabbarBehaviours",[$n,Kt]),nf(["tabClass","selectedClass"])]),fB=Wv({factory:uB,name:"tabs",unit:"tab",overrides:o=>{const s=(l,d)=>{$n.dehighlight(l,d),Vt(l,Ai(),{tabbar:l,button:d})},a=(l,d)=>{$n.highlight(l,d),Vt(l,Zd(),{tabbar:l,button:d})};return{action:l=>{const d=l.getSystem().getByUid(o.uid).getOrDie(),f=$n.isHighlighted(d,l);(f&&o.clickToDismiss?s:f?et:a)(d,l)},domModification:{classes:[o.markers.tabClass]}}}}),U6=ue([fB]),bw=wl({name:"Tabbar",configFields:$6(),partFields:U6(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Fe(o.tabbarBehaviours,[$n.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(d,f)=>{lo(f.element,"aria-selected","true")},onDehighlight:(d,f)=>{lo(f.element,"aria-selected","false")}}),Kt.config({mode:"flow",getInitial:d=>$n.getHighlighted(d).map(f=>f.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),Fp=yd({name:"Tabview",configFields:[ke("tabviewBehaviours",[yo])],factory:(o,s)=>({uid:o.uid,dom:o.dom,behaviours:Fe(o.tabviewBehaviours,[yo.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),e3=ue([Ee("selectFirst",!0),Bo("onChangeTab"),Bo("onDismissTab"),Ee("tabs",[]),ke("tabSectionBehaviours",[])]),j6=rl({factory:bw,schema:[Ge("dom"),gl("markers",[Ge("tabClass"),Ge("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Z6=rl({factory:Fp,name:"tabview"}),t3=ue([j6,Z6]),mb=wl({name:"TabSection",configFields:e3(),partFields:t3(),factory:(o,s,a,l)=>{const d=(f,p)=>{Lr(f,o,"tabbar").each(b=>{p(b).each(qi)})};return{uid:o.uid,dom:o.dom,components:s,behaviours:We(o.tabSectionBehaviours),events:mr(ir([o.selectFirst?[Jn((f,p)=>{d(f,$n.getFirst)})]:[],[je(Zd(),(f,p)=>{(b=>{const y=se.getValue(b);Lr(b,o,"tabview").each(_=>{H(o.tabs,E=>E.value===y).each(E=>{const w=E.view();us(b.element,"id").each(A=>{lo(_.element,"aria-labelledby",A)}),yo.set(_,w),o.onChangeTab(_,b,w)})})})(p.event.button)}),je(Ai(),(f,p)=>{const b=p.event.button;o.onDismissTab(f,b)})]])),apis:{getViewItems:f=>Lr(f,o,"tabview").map(p=>yo.contents(p)).getOr([]),showTab:(f,p)=>{d(f,b=>{const y=$n.getCandidates(b);return H(y,_=>se.getValue(_)===p).filter(_=>!$n.isHighlighted(b,_))})}}}},apis:{getViewItems:(o,s)=>o.getViewItems(s),showTab:(o,s,a)=>{o.showTab(s,a)}}}),ev=(o,s)=>{Zt(o,"height",s+"px"),Zt(o,"flex-basis",s+"px")},tv=(o,s,a)=>{Ha(o,'[role="dialog"]').each(l=>{Vn(l,'[role="tablist"]').each(d=>{a.get().map(f=>(Zt(s,"height","0"),Zt(s,"flex-basis","0"),Math.min(f,((p,b,y)=>{const _=Uu(p).dom,E=Ha(p,".tox-dialog-wrap").getOr(p);let w;w=Us(E,"position")==="fixed"?Math.max(_.clientHeight,window.innerHeight):Math.max(_.offsetHeight,_.scrollHeight);const A=Cr(b),P=b.dom.offsetLeft>=y.dom.offsetLeft+ae(y)?Math.max(Cr(y),A):A,I=parseInt(Us(p,"margin-top"),10)||0,Y=parseInt(Us(p,"margin-bottom"),10)||0;return w-(Cr(p)+I+Y-P)})(l,s,d)))).each(f=>{ev(s,f)})})})},yw=o=>Vn(o,'[role="tabpanel"]'),W6="send-data-to-section",q6="send-data-to-view",mB=(o,s,a,l)=>{const d=Mt({}),f=E=>{const w=se.getValue(E),A=V6(w).getOr({}),P=d.get(),I=Er(P,A);d.set(I)},p=E=>{const w=d.get();se.setValue(E,w)},b=Mt(null),y=Se(o.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Or(a.shared.providers.translate(E.title))],view:()=>[Gy.sketch(w=>({dom:{tag:"div",classes:["tox-form"]},components:Se(E.items,A=>LS(w,A,s,a,l)),formBehaviours:xe([Kt.config({mode:"acyclic",useTabstopAt:Zn(Ky)}),wo("TabView.form.events",[Jn(p),zr(f)]),Il.config({channels:U([{key:W6,value:{onReceive:f}},{key:q6,value:{onReceive:p}}])})])}))]})),_=(E=>{const w=cn();return{extraEvents:[Jn(P=>{const I=P.element;yw(I).each(Y=>{Zt(Y,"visibility","hidden"),P.getSystem().getByDom(Y).toOptional().each(G=>{const J=((Z,te,oe)=>Se(Z,(ce,be)=>{yo.set(oe,Z[be].view());const we=te.dom.getBoundingClientRect();return yo.set(oe,[]),we.height}))(E,Y,G);(Z=>it(Ne(Z,(te,oe)=>te>oe?-1:te<oe?1:0)))(J).fold(w.clear,w.set)}),tv(I,Y,w),an(Y,"visibility"),((G,J)=>{it(G).each(j=>mb.showTab(J,j.value))})(E,P),requestAnimationFrame(()=>{tv(I,Y,w)})})}),je(xu(),P=>{const I=P.element;yw(I).each(Y=>{tv(I,Y,w)})}),je(ak,(P,I)=>{const Y=P.element;yw(Y).each(G=>{const J=pc(cs(G));Zt(G,"visibility","hidden");const j=wr(G,"height").map(te=>parseInt(te,10));an(G,"height"),an(G,"flex-basis");const Z=G.dom.getBoundingClientRect().height;j.forall(te=>Z>te)?(w.set(Z),tv(Y,G,w)):j.each(te=>{ev(G,te)}),an(G,"visibility"),J.each(Ba)})})],selectFirst:!1}})(y);return mb.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,w,A)=>{const P=se.getValue(w);Vt(E,ZC,{name:P,oldName:b.get()}),b.set(P)},tabs:y,components:[mb.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[bw.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:xe([_r.config({})])}),mb.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:xe([wo("tabpanel",_.extraEvents),Kt.config({mode:"acyclic"}),_n.config({find:E=>it(mb.getViewItems(E))}),Dg(O.none(),E=>(E.getSystem().broadcastOn([W6],{}),d.get()),(E,w)=>{d.set(w),E.getSystem().broadcastOn([q6],{})})])})},G6=(o,s,a,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(p=>({id:p})).getOr({}),...d?{"aria-live":"polite"}:{}}},components:[],behaviours:xe([xk(0),Wc.config({channel:`${Ck}-${s}`,updateState:(p,b)=>O.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:p=>{const b=p.body;return b.type==="tabpanel"?[mB(b,p.initialData,l,f)]:[dB(b,p.initialData,l,f)]},initialData:o})])}),pB=Th.deviceType.isTouch(),o3=(o,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,s]}),n3=(o,s)=>La.parts.close(qa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:o,buttonBehaviours:xe([_r.config({})])})),K6=()=>La.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Y6=(o,s)=>La.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:hp(`<p>${wz(s.translate(o))}</p>`)}]}]}),X6=o=>La.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),ov=(o,s)=>[yf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),yf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],r3=o=>{const s="tox-dialog",a=s+"-wrap",l=a+"__backdrop",d=s+"__disable-scroll";return La.sketch({lazySink:o.lazySink,onEscape:f=>(o.onEscape(f),O.some(!0)),useTabstopAt:f=>!Ky(f),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[s].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:hp(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:pB?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:a,modalBehaviours:xe([ho.config({}),wo("dialog-events",o.dialogEvents.concat([Es(hl(),(f,p)=>{Lu.isBlocked(f)||Kt.focusIn(f)}),je(cd(),(f,p)=>{f.getSystem().broadcastOn([Cx],{newFocus:p.event.newFocus})})])),wo("scroll-lock",[Jn(()=>{Tr(ha(),d)}),zr(()=>{lr(ha(),d)})]),...o.extraBehaviours]),eventOrder:{[ta()]:["dialog-events"],[lt()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ld()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},J6=o=>qa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:xe([_r.config({}),Xr.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[_d("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:s=>{Vo(s,Og)}}),s3=(o,s,a,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(d=>({id:d})).getOr({})}},components:[],behaviours:xe([Wc.config({channel:`${A5}-${s}`,initialData:o,renderComponents:d=>[Or(l.translate(d.title))]})])}),a3=()=>({dom:hp('<div class="tox-dialog__draghandle"></div>')}),Q6=(o,s,a)=>((l,d,f)=>{const p=La.parts.title(s3(l,d,O.none(),f)),b=La.parts.draghandle(a3()),y=La.parts.close(J6(f)),_=[p].concat(l.draggable?[b]:[]).concat([y]);return yf.sketch({dom:hp('<div class="tox-dialog__header"></div>'),components:_})})({title:a.shared.providers.translate(o),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),eN=(o,s,a,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:hp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),xw=(o,s,a)=>({onClose:()=>a.closeWindow(),onBlock:l=>{const d=Vn(o().element,".tox-dialog__header").map(f=>Cr(f));La.setBusy(o(),(f,p)=>eN(l.message,p,s,d))},onUnblock:()=>{La.setIdle(o())}}),tN="tox-dialog--fullscreen",vw="tox-dialog--width-lg",i3="tox-dialog--width-md",_w=o=>{switch(o){case"large":return O.some(vw);case"medium":return O.some(i3);default:return O.none()}},oN=(o,s)=>{const a=_t(s.element.dom);cr(a,tN)||(li(a,[vw,i3]),_w(o).each(l=>Tr(a,l)))},l3=(o,s)=>{const a=_t(o.element.dom),l=jf(a),d=H(l,f=>f===vw||f===i3).or(_w(s));((f,p)=>{ot(p,b=>{((y,_)=>{ja(y)?y.dom.classList.toggle(_):((E,w)=>Je(ii(E),w)?dd(E,w):dc(E,w))(y,_),zs(y)})(f,b)})})(a,[tN,...d.toArray()])},c3=(o,s,a)=>qs(r3({...o,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[_x({}),...o.extraBehaviours],onEscape:l=>{Vo(l,Og)},dialogEvents:s,eventOrder:{[At()]:[Wc.name(),Il.name()],[lt()]:["scroll-lock",Wc.name(),"messages","dialog-events","alloy.base.behaviour"],[ld()]:["alloy.base.behaviour","dialog-events","messages",Wc.name(),"scroll-lock"]}})),d3=(o,s={})=>Se(o,a=>a.type==="menu"?(l=>{const d=Se(l.items,f=>{const p=ut(s,f.name).getOr(Mt(!1));return{...f,storage:p}});return{...l,items:d}})(a):a),nN=o=>fo(o,(s,a)=>a.type==="menu"?fo(a.items,(l,d)=>(l[d.name]=d.storage,l),s):s,{}),rN=(o,s)=>[Qu(hl(),O5),o(Xh,(a,l,d,f)=>{fd(f.element)&&pc(cs(f.element)).each(cg),s.onClose(),l.onClose()}),o(Og,(a,l,d,f)=>{l.onCancel(a),Vo(f,Xh)}),je(jC,(a,l)=>s.onUnblock()),je(UC,(a,l)=>s.onBlock(l.event))],sN=(o,s,a)=>{const l=(f,p)=>je(f,(b,y)=>{d(b,(_,E)=>{p(o(),_,y.event,b)})}),d=(f,p)=>{Wc.getState(f).get().each(b=>{p(b.internalDialog,f)})};return[...rN(l,s),l(fx,(f,p)=>p.onSubmit(f)),l($l,(f,p,b)=>{p.onChange(f,{name:b.name})}),l(dm,(f,p,b,y)=>{const _=()=>y.getSystem().isConnected()?Kt.focusIn(y):void 0,E=P=>au(P,"disabled")||us(P,"aria-disabled").exists(I=>I==="true"),w=cs(y.element),A=pc(w);p.onAction(f,{name:b.name,value:b.value}),pc(w).fold(_,P=>{E(P)||A.exists(I=>ys(P,I)&&E(I))?_():a().toOptional().filter(I=>!ys(I.element,P)).each(_)})}),l(ZC,(f,p,b)=>{p.onTabChange(f,{newTabName:b.name,oldTabName:b.oldName})}),zr(f=>{const p=o();se.setValue(f,p.getData())})]},aN=(o,s)=>{const a=s.map(f=>f.footerButtons).getOr([]),l=$o(a,f=>f.align==="start"),d=(f,p)=>yf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${f}`]},components:Se(p,b=>b.memento.asSpec())});return[d("start",l.pass),d("end",l.fail)]},iN=(o,s,a)=>({dom:hp('<div class="tox-dialog__footer"></div>'),components:[],behaviours:xe([Wc.config({channel:`${wx}-${s}`,initialData:o,updateState:(l,d)=>{const f=Se(d.buttons,p=>{const b=Bn(((y,_)=>Sd(y,y.type,_))(p,a));return{name:p.name,align:p.align,memento:b}});return O.some({lookupByName:p=>((b,y,_)=>H(y,E=>E.name===_).bind(E=>E.memento.getOpt(b)))(l,f,p),footerButtons:f})},renderComponents:aN})])}),u3=(o,s,a)=>La.parts.footer(iN(o,s,a)),kw=(o,s)=>{if(o.getRoot().getSystem().isConnected()){const a=_n.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return Gy.getField(a,s).orThunk(()=>o.getFooter().bind(d=>Wc.getState(d).get()).bind(d=>d.lookupByName(s)))}return O.none()},lN=(o,s,a)=>{const l=f=>{const p=o.getRoot();p.getSystem().isConnected()&&f(p)},d={getData:()=>{const f=o.getRoot(),p=f.getSystem().isConnected()?o.getFormWrapper():f;return{...se.getValue(p),...Rn(a,b=>b.get())}},setData:f=>{l(p=>{const b=d.getData(),y=Er(b,f),_=((w,A)=>{const P=w.getRoot();return Wc.getState(P).get().map(I=>la(tr("data",I.dataValidator,A))).getOr(A)})(o,y),E=o.getFormWrapper();se.setValue(E,_),er(a,(w,A)=>{ko(y,A)&&w.set(y[A])})})},setEnabled:(f,p)=>{kw(o,f).each(p?Wt.enable:Wt.disable)},focus:f=>{kw(o,f).each(ho.focus)},block:f=>{if(!Ot(f))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{Vt(p,UC,{message:f})})},unblock:()=>{l(f=>{Vo(f,jC)})},showTab:f=>{l(p=>{const b=o.getBody();Wc.getState(b).get().exists(y=>y.isTabPanel())&&_n.getCurrent(b).each(y=>{mb.showTab(y,f)})})},redial:f=>{l(p=>{const b=o.getId(),y=s(f),_=d3(y.internalDialog.buttons,a);p.getSystem().broadcastOn([`${gm}-${b}`],y),p.getSystem().broadcastOn([`${A5}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${Ck}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${wx}-${b}`],{...y.internalDialog,buttons:_}),d.setData(y.initialData)})},close:()=>{l(f=>{Vo(f,Xh)})},toggleFullscreen:o.toggleFullscreen};return d},cN=(o,s,a,l=!1,d)=>{const f=wt("dialog"),p=wt("dialog-label"),b=wt("dialog-content"),y=o.internalDialog,_=Mt(y.size),E=_w(_.get()).toArray(),w=Bn(((oe,ce,be,we)=>yf.sketch({dom:hp('<div class="tox-dialog__header"></div>'),components:[s3(oe,ce,O.some(be),we),a3(),J6(we)],containerBehaviours:xe([Ip.config({mode:"mouse",blockerClass:"blocker",getTarget:Ae=>Ui(Ae,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(Ae,Ue)=>{Ae.getSystem().broadcastOn([Cu()],{target:Ue})}})])}))({title:y.title,draggable:!0},f,p,a.shared.providers)),A=Bn(((oe,ce,be,we,Ae,Ue)=>G6(oe,ce,O.some(be),we,Ae,Ue))({body:y.body,initialData:y.initialData},f,b,a,l,oe=>kw(Z,oe))),P=d3(y.buttons),I=nN(P),Y=Fo(P.length!==0,Bn(((oe,ce,be)=>iN(oe,ce,be))({buttons:P},f,a))),G=sN(()=>te,{onBlock:oe=>{Lu.block(j,(ce,be)=>{const we=w.getOpt(j).map(Ae=>Cr(Ae.element));return eN(oe.message,be,a.shared.providers,we)})},onUnblock:()=>{Lu.unblock(j)},onClose:()=>s.closeWindow()},a.shared.getSink),J=Js().os,j=qs({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...E],attributes:{role:"dialog",...J.isMacOS()?{"aria-label":y.title}:{"aria-labelledby":p}}},eventOrder:{[At()]:[Wc.name(),Il.name()],[ta()]:["execute-on-form"],[lt()]:["reflecting","execute-on-form"]},behaviours:xe([Kt.config({mode:"cyclic",onEscape:oe=>(Vo(oe,Xh),O.some(!0)),useTabstopAt:oe=>!Ky(oe)&&(Ia(oe)!=="button"||ds(oe,"disabled")!=="disabled"),firstTabstop:1}),Wc.config({channel:`${gm}-${f}`,updateState:(oe,ce)=>(_.set(ce.internalDialog.size),oN(ce.internalDialog.size,oe),d(),O.some(ce)),initialData:o}),ho.config({}),wo("execute-on-form",G.concat([Es(hl(),(oe,ce)=>{Kt.focusIn(oe)}),je(cd(),(oe,ce)=>{oe.getSystem().broadcastOn([Cx],{newFocus:ce.event.newFocus})})])),Lu.config({getRoot:()=>O.some(j)}),yo.config({}),_x({})]),components:[w.asSpec(),A.asSpec(),...Y.map(oe=>oe.asSpec()).toArray()]}),Z={getId:ue(f),getRoot:ue(j),getFooter:()=>Y.map(oe=>oe.get(j)),getBody:()=>A.get(j),getFormWrapper:()=>{const oe=A.get(j);return _n.getCurrent(oe).getOr(oe)},toggleFullscreen:()=>{l3(j,_.get())}},te=lN(Z,s.redial,I);return{dialog:j,instanceApi:te}};var f3=tinymce.util.Tools.resolve("tinymce.util.URI");const gB=["insertContent","setContent","execCommand","close","block","unblock"],dN=o=>So(o)&&gB.indexOf(o.mceAction)!==-1,hB=(o,s,a,l)=>{const d=wt("dialog"),f=Q6(o.title,d,l),p=(J=>{const j={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[wk(O.none(),{dom:{tag:"iframe",attributes:{src:J.url}},behaviours:xe([_r.config({}),ho.config({})])})]}],behaviours:xe([Kt.config({mode:"acyclic",useTabstopAt:Zn(Ky)})])};return La.parts.body(j)})(o),b=o.buttons.bind(J=>J.length===0?O.none():O.some(u3({buttons:J},d,l))),y=((J,j)=>{const Z=(oe,ce)=>je(oe,(be,we)=>{te(be,(Ae,Ue)=>{ce(G,Ae,we.event,be)})}),te=(oe,ce)=>{Wc.getState(oe).get().each(be=>{ce(be,oe)})};return[...rN(Z,j),Z(dm,(oe,ce,be)=>{ce.onAction(oe,{name:be.name})})]})(0,xw(()=>Y,l.shared.providers,s)),_={...o.height.fold(()=>({}),J=>({height:J+"px","max-height":J+"px"})),...o.width.fold(()=>({}),J=>({width:J+"px","max-width":J+"px"}))},E=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],w=new f3(o.url,{base_uri:new f3(window.location.href)}),A=`${w.protocol}://${w.host}${w.port?":"+w.port:""}`,P=ed(),I=[Wc.config({channel:`${gm}-${d}`,updateState:(J,j)=>O.some(j),initialData:o}),wo("messages",[Jn(()=>{const J=Gi(_t(window),"message",j=>{if(w.isSameOrigin(new f3(j.raw.origin))){const Z=j.raw.data;dN(Z)?((te,oe,ce)=>{switch(ce.mceAction){case"insertContent":te.insertContent(ce.content);break;case"setContent":te.setContent(ce.content);break;case"execCommand":const be=!!bn(ce.ui)&&ce.ui;te.execCommand(ce.cmd,be,ce.value);break;case"close":oe.close();break;case"block":oe.block(ce.message);break;case"unblock":oe.unblock()}})(a,G,Z):(te=>!dN(te)&&So(te)&&ko(te,"mceAction"))(Z)&&o.onMessage(G,Z)}});P.set(J)}),zr(P.clear)]),Il.config({channels:{[N5]:{onReceive:(J,j)=>{Vn(J.element,"iframe").each(Z=>{const te=Z.dom.contentWindow;Ht(te)&&te.postMessage(j,A)})}}}})],Y=c3({id:d,header:f,body:p,footer:b,extraClasses:E,extraBehaviours:I,extraStyles:_},y,l),G=(J=>{const j=Z=>{J.getSystem().isConnected()&&Z(J)};return{block:Z=>{if(!Ot(Z))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");j(te=>{Vt(te,UC,{message:Z})})},unblock:()=>{j(Z=>{Vo(Z,jC)})},close:()=>{j(Z=>{Vo(Z,Xh)})},sendMessage:Z=>{j(te=>{te.getSystem().broadcastOn([N5],Z)})}}})(Y);return{dialog:Y,instanceApi:G}},uN=(o,s)=>la(tr("data",s,o)),fN=o=>jy(o,".tox-alert-dialog")||jy(o,".tox-confirm-dialog"),m3=(o,s,a)=>s&&a?[]:[Mn.config({contextual:{lazyContext:()=>O.some(Ns(_t(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>Bs(o,l.element).map(d=>({bounds:Rh(d),optScrollEnv:O.some({currentScrollTop:d.element.dom.scrollTop,scrollElmTop:Gr(d.element).top})})).getOrThunk(()=>({bounds:Cs(),optScrollEnv:O.none()}))})],bB=o=>{const s=o.editor,a=gp(s),l=(y=>{const _=y.shared;return{open:(E,w)=>{const A=()=>{La.hide(G),w()},P=Bn(Sd({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",y)),I=K6(),Y=n3(A,_.providers),G=qs(r3({lazySink:()=>_.getSink(),header:o3(I,Y),body:Y6(E,_.providers),footer:O.some(X6(ov([],[P.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(Og,A)],eventOrder:{}}));La.show(G);const J=P.get(G);ho.focus(J)}}})(o.backstages.dialog),d=(y=>{const _=y.shared;return{open:(E,w)=>{const A=Z=>{La.hide(J),w(Z)},P=Bn(Sd({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",y)),I=Sd({context:"any",name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",y),Y=K6(),G=n3(()=>A(!1),_.providers),J=qs(r3({lazySink:()=>_.getSink(),header:o3(Y,G),body:Y6(E,_.providers),footer:O.some(X6(ov([],[I,P.asSpec()]))),onEscape:()=>A(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(Og,()=>A(!1)),je(fx,()=>A(!0))],eventOrder:{}}));La.show(J);const j=P.get(J);ho.focus(j)}}})(o.backstages.dialog),f=(y,_)=>Pg.open((E,w,A)=>{const P=w,I=((Y,G,J)=>{const j=wt("dialog"),Z=Y.internalDialog,te=Q6(Z.title,j,J),oe=Mt(Z.size),ce=_w(oe.get()).toArray(),be=((so,jo,pr,Qr)=>{const An=G6(so,jo,O.none(),pr,!1,Qr);return La.parts.body(An)})({body:Z.body,initialData:Z.initialData},j,J,so=>kw($t,so)),we=d3(Z.buttons),Ae=nN(we),Ue=Fo(we.length!==0,u3({buttons:we},j,J)),$e=sN(()=>Xt,xw(()=>mt,J.shared.providers,G),J.shared.getSink),Ye={id:j,header:te,body:be,footer:Ue,extraClasses:ce,extraBehaviours:[Wc.config({channel:`${gm}-${j}`,updateState:(so,jo)=>(oe.set(jo.internalDialog.size),oN(jo.internalDialog.size,so),O.some(jo)),initialData:Y})],extraStyles:{}},mt=c3(Ye,$e,J),$t={getId:ue(j),getRoot:ue(mt),getBody:()=>La.getBody(mt),getFooter:()=>La.getFooter(mt),getFormWrapper:()=>{const so=La.getBody(mt);return _n.getCurrent(so).getOr(so)},toggleFullscreen:()=>{l3(mt,oe.get())}},Xt=lN($t,G.redial,Ae);return{dialog:mt,instanceApi:Xt}})({dataValidator:A,initialData:P,internalDialog:E},{redial:Pg.redial,closeWindow:()=>{La.hide(I.dialog),_(I.instanceApi)}},o.backstages.dialog);return La.show(I.dialog),I.instanceApi.setData(P),I.instanceApi},y),p=(y,_,E,w)=>Pg.open((A,P,I)=>{const Y=uN(P,I),G=cn(),J=o.backstages.popup.shared.header.isPositionedAtTop(),j=()=>G.on(oe=>{Kn.reposition(oe),a&&J||Mn.refresh(oe)}),Z=cN({dataValidator:I,initialData:Y,internalDialog:A},{redial:Pg.redial,closeWindow:()=>{G.on(Kn.hide),s.off("ResizeEditor",j),G.clear(),E(Z.instanceApi)}},o.backstages.popup,w.ariaAttrs,j),te=qs(Kn.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:w.persistent?{event:"doNotDismissYet"}:{},...J?{}:{fireRepositionEventInstead:{}},inlineBehaviours:xe([wo("window-manager-inline-events",[je(Gu(),(oe,ce)=>{Vo(Z.dialog,Og)})]),...m3(s,a,J)]),isExtraPart:(oe,ce)=>fN(ce)}));return G.set(te),Kn.showWithinBounds(te,Ll(Z.dialog),{anchor:_},()=>{const oe=s.inline?ha():_t(s.getContainer()),ce=Ns(oe);return O.some(ce)}),a&&J||(Mn.refresh(te),s.on("ResizeEditor",j)),Z.instanceApi.setData(Y),Kt.focusIn(Z.dialog),Z.instanceApi},y),b=(y,_,E,w)=>Pg.open((A,P,I)=>{const Y=uN(P,I),G=cn(),J=o.backstages.popup.shared.header.isPositionedAtTop(),j=()=>G.on(oe=>{Kn.reposition(oe),Mn.refresh(oe)}),Z=cN({dataValidator:I,initialData:Y,internalDialog:A},{redial:Pg.redial,closeWindow:()=>{G.on(Kn.hide),s.off("ResizeEditor ScrollWindow ElementScroll",j),G.clear(),E(Z.instanceApi)}},o.backstages.popup,w.ariaAttrs,j),te=qs(Kn.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:w.persistent?{event:"doNotDismissYet"}:{},...J?{}:{fireRepositionEventInstead:{}},inlineBehaviours:xe([wo("window-manager-inline-events",[je(Gu(),(oe,ce)=>{Vo(Z.dialog,Og)})]),Mn.config({contextual:{lazyContext:()=>O.some(Ns(_t(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:oe=>Bs(s,oe.element).map(ce=>({bounds:Rh(ce),optScrollEnv:O.some({currentScrollTop:ce.element.dom.scrollTop,scrollElmTop:Gr(ce.element).top})})).getOrThunk(()=>({bounds:Cs(),optScrollEnv:O.none()}))})]),isExtraPart:(oe,ce)=>fN(ce)}));return G.set(te),Kn.showWithinBounds(te,Ll(Z.dialog),{anchor:_},()=>o.backstages.popup.shared.getSink().toOptional().bind(oe=>{const ce=Bs(s,oe.element).map(Ae=>Rh(Ae)).getOr(Cs()),be=Ns(_t(s.getContentAreaContainer())),we=Rs(be,ce);return O.some(Sn(we.x,we.y,we.width,we.height-15))})),Mn.refresh(te),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",j),Z.instanceApi.setData(Y),Kt.focusIn(Z.dialog),Z.instanceApi},y);return{open:(y,_,E)=>{if(!hr(_)){if(_.inline==="toolbar")return p(y,o.backstages.popup.shared.anchors.inlineDialog(),E,_);if(_.inline==="bottom")return b(y,o.backstages.popup.shared.anchors.inlineBottomDialog(),E,_);if(_.inline==="cursor")return p(y,o.backstages.popup.shared.anchors.cursor(),E,_)}return f(y,E)},openUrl:(y,_)=>((E,w)=>Pg.openUrl(A=>{const P=hB(A,{closeWindow:()=>{La.hide(P.dialog),w(P.instanceApi)}},s,o.backstages.dialog);return La.show(P.dialog),P.instanceApi},E))(y,_),alert:(y,_)=>{l.open(y,_)},close:y=>{y.close()},confirm:(y,_)=>{d.open(y,_)}}},yB=o=>{WE(o),(s=>{const a=s.options.register,l=f=>{return Nn(f,Ot)?{value:(p=f,Vy(p.map((b,y)=>y%2==0?"#"+(_=>{return(E=_,Cp(E)?O.some({value:mT(E)}):O.none()).orThunk(()=>xC(_).map(Fy)).getOrThunk(()=>{const w=document.createElement("canvas");w.height=1,w.width=1;const A=w.getContext("2d");A.clearRect(0,0,w.width,w.height),A.fillStyle="#FFFFFF",A.fillStyle=_,A.fillRect(0,0,1,1);const P=A.getImageData(0,0,1,1).data,I=P[0],Y=P[1],G=P[2],J=P[3];return Fy(zg(I,Y,G,J))});var E})(b).value:b))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},d=f=>sn(f)&&f>0?{value:f,valid:!0}:{valid:!1,message:"Must be a positive number."};a("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),a("color_map_raw",{processor:f=>Nn(f,Ot)?{value:Vy(f),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),a("color_map_background",{processor:l}),a("color_map_foreground",{processor:l}),a("color_cols",{processor:d,default:EC(s)}),a("color_cols_foreground",{processor:d,default:xT(s,Kh)}),a("color_cols_background",{processor:d,default:xT(s,SC)}),a("custom_colors",{processor:"boolean",default:!0}),a("color_default_foreground",{processor:"string",default:X_}),a("color_default_background",{processor:"string",default:X_})})(o),(s=>{const a=s.options.register;a("contextmenu_avoid_overlap",{processor:"string",default:""}),a("contextmenu_never_use_native",{processor:"boolean",default:!1}),a("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:Ot(l)||Nn(l,Ot)?{value:cM(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(o)};Hd.add("silver",o=>{yB(o);let s=()=>Cs();const{dialogs:a,popups:l,renderUI:d}=SM(o,{getPopupSinkBounds:()=>s()});ok(o,l.backstage.shared);const f=bB({editor:o,backstages:{popup:l.backstage,dialog:a.backstage}}),p=cn();return{renderUI:()=>{const b=d();return Bs(o,l.getMothership().element).each(y=>{s=()=>Rh(y)}),b},getWindowManagerImpl:ue(f),getNotificationManagerImpl:()=>j2(o,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>Vn(_t(o.getContainer()),".tox-promotion").map(b=>b.dom).getOrNull()}})}()),MF}uG();(function(){var Tt=tinymce.util.Tools.resolve("tinymce.ModelManager");const zo=m=>h=>(v=>{const z=typeof v;return v===null?"null":z==="object"&&Array.isArray(v)?"array":z==="object"&&(N=D=v,(F=String).prototype.isPrototypeOf(N)||(($=D.constructor)===null||$===void 0?void 0:$.name)===F.name)?"string":z;var N,D,F,$})(h)===m,Lo=m=>h=>typeof h===m,Qo=m=>h=>m===h,No=zo("string"),Ot=zo("object"),So=zo("array"),Ro=Qo(null),uo=Lo("boolean"),qt=Qo(void 0),bn=m=>!(h=>h==null)(m),hr=Lo("function"),Vr=Lo("number"),Ht=()=>{},Yt=m=>()=>m,sn=m=>m,Nn=(m,h)=>m===h;function et(m,...h){return(...v)=>{const z=h.concat(v);return m.apply(null,z)}}const Ut=m=>h=>!m(h),ht=m=>m(),ue=Yt(!1),Ct=Yt(!0);class pe{constructor(h,v){this.tag=h,this.value=v}static some(h){return new pe(!0,h)}static none(){return pe.singletonNone}fold(h,v){return this.tag?v(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?pe.some(h(this.value)):pe.none()}bind(h){return this.tag?h(this.value):pe.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:pe.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return bn(h)?pe.some(h):pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pe.singletonNone=new pe(!1);const qe=Array.prototype.slice,Zn=Array.prototype.indexOf,ar=Array.prototype.push,Po=(m,h)=>{return v=m,z=h,Zn.call(v,z)>-1;var v,z},Le=(m,h)=>{for(let v=0,z=m.length;v<z;v++)if(h(m[v],v))return!0;return!1},jt=(m,h)=>{const v=[];for(let z=0;z<m;z++)v.push(h(z));return v},O=(m,h)=>{const v=m.length,z=new Array(v);for(let N=0;N<v;N++){const D=m[N];z[N]=h(D,N)}return z},To=(m,h)=>{for(let v=0,z=m.length;v<z;v++)h(m[v],v)},io=(m,h)=>{const v=[],z=[];for(let N=0,D=m.length;N<D;N++){const F=m[N];(h(F,N)?v:z).push(F)}return{pass:v,fail:z}},Do=(m,h)=>{const v=[];for(let z=0,N=m.length;z<N;z++){const D=m[z];h(D,z)&&v.push(D)}return v},qr=(m,h,v)=>(((z,N)=>{for(let D=z.length-1;D>=0;D--)N(z[D],D)})(m,(z,N)=>{v=h(v,z,N)}),v),Je=(m,h,v)=>(To(m,(z,N)=>{v=h(v,z,N)}),v),un=(m,h)=>((v,z,N)=>{for(let D=0,F=v.length;D<F;D++){const $=v[D];if(z($,D))return pe.some($);if(N($,D))break}return pe.none()})(m,h,ue),Li=(m,h)=>{for(let v=0,z=m.length;v<z;v++)if(h(m[v],v))return pe.some(v);return pe.none()},De=m=>{const h=[];for(let v=0,z=m.length;v<z;++v){if(!So(m[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+m);ar.apply(h,m[v])}return h},Se=(m,h)=>De(O(m,h)),ot=(m,h)=>{for(let v=0,z=m.length;v<z;++v)if(h(m[v],v)!==!0)return!1;return!0},$o=(m,h)=>{const v={};for(let z=0,N=m.length;z<N;z++){const D=m[z];v[String(D)]=h(D,z)}return v},Eo=(m,h)=>h>=0&&h<m.length?pe.some(m[h]):pe.none(),bo=m=>Eo(m,0),fo=m=>Eo(m,m.length-1),H=(m,h)=>{for(let v=0;v<m.length;v++){const z=h(m[v],v);if(z.isSome())return z}return pe.none()},ls=Object.keys,ir=Object.hasOwnProperty,Go=(m,h)=>{const v=ls(m);for(let z=0,N=v.length;z<N;z++){const D=v[z];h(m[D],D)}},gi=(m,h)=>dl(m,(v,z)=>({k:z,v:h(v,z)})),dl=(m,h)=>{const v={};return Go(m,(z,N)=>{const D=h(z,N);v[D.k]=D.v}),v},en=(m,h)=>{const v=[];return Go(m,(z,N)=>{v.push(h(z,N))}),v},Cn=m=>en(m,sn),Ko=(m,h)=>ir.call(m,h),Ne=typeof window<"u"?window:Function("return this;")(),yt=(m,h)=>((v,z)=>{let N=z??Ne;for(let D=0;D<v.length&&N!=null;++D)N=N[v[D]];return N})(m.split("."),h),it=Object.getPrototypeOf,Ke=m=>{const h=yt("ownerDocument.defaultView",m);return Ot(m)&&((v=>((z,N)=>{const D=((F,$)=>yt(F,$))(z,N);if(D==null)throw new Error(z+" not available on this browser");return D})("HTMLElement",v))(h).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(it(m).constructor.name))},to=m=>m.dom.nodeName.toLowerCase(),mo=m=>m.dom.nodeType,Wo=m=>h=>mo(h)===m,zn=m=>mo(m)===8||to(m)==="#comment",er=m=>Rn(m)&&Ke(m.dom),Rn=Wo(1),Yn=Wo(3),ts=Wo(9),Vs=Wo(11),Fn=m=>h=>Rn(h)&&to(h)===m,$r=(m,h,v)=>{if(!(No(v)||uo(v)||Vr(v)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",v,":: Element ",m),new Error("Attribute value was not simple");m.setAttribute(h,v+"")},Yo=(m,h,v)=>{$r(m.dom,h,v)},Ys=(m,h)=>{const v=m.dom;Go(h,(z,N)=>{$r(v,N,z)})},ut=(m,h)=>{const v=m.dom.getAttribute(h);return v===null?void 0:v},ko=(m,h)=>pe.from(ut(m,h)),Io=(m,h)=>{m.dom.removeAttribute(h)},Xs=m=>Je(m.dom.attributes,(h,v)=>(h[v.name]=v.value,h),{}),hi=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},rt={fromHtml:(m,h)=>{const v=(h||document).createElement("div");if(v.innerHTML=m,!v.hasChildNodes()||v.childNodes.length>1){const z="HTML does not have a single root node";throw console.error(z,m),new Error(z)}return hi(v.childNodes[0])},fromTag:(m,h)=>{const v=(h||document).createElement(m);return hi(v)},fromText:(m,h)=>{const v=(h||document).createTextNode(m);return hi(v)},fromDom:hi,fromPoint:(m,h,v)=>pe.from(m.dom.elementFromPoint(h,v)).map(hi)},Ka=(m,h)=>{const v=m.dom;if(v.nodeType!==1)return!1;{const z=v;if(z.matches!==void 0)return z.matches(h);if(z.msMatchesSelector!==void 0)return z.msMatchesSelector(h);if(z.webkitMatchesSelector!==void 0)return z.webkitMatchesSelector(h);if(z.mozMatchesSelector!==void 0)return z.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Fo=m=>m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11||m.childElementCount===0,Ii=(m,h)=>{const v=h===void 0?document:h.dom;return Fo(v)?pe.none():pe.from(v.querySelector(m)).map(rt.fromDom)},Wn=(m,h)=>m.dom===h.dom,bs=(m,h)=>{const v=m.dom,z=h.dom;return v!==z&&v.contains(z)},El=Ka,zl=m=>rt.fromDom(m.dom.ownerDocument),Ji=m=>ts(m)?m:zl(m),Oa=m=>pe.from(m.dom.parentNode).map(rt.fromDom),Tl=m=>pe.from(m.dom.parentElement).map(rt.fromDom),Hn=(m,h)=>{const v=hr(h)?h:ue;let z=m.dom;const N=[];for(;z.parentNode!==null&&z.parentNode!==void 0;){const D=z.parentNode,F=rt.fromDom(D);if(N.push(F),v(F)===!0)break;z=D}return N},go=m=>pe.from(m.dom.previousSibling).map(rt.fromDom),Ya=m=>pe.from(m.dom.nextSibling).map(rt.fromDom),Os=m=>O(m.dom.childNodes,rt.fromDom),kc=(m,h)=>{const v=m.dom.childNodes;return pe.from(v[h]).map(rt.fromDom)},_t=(m,h)=>{Oa(m).each(v=>{v.dom.insertBefore(h.dom,m.dom)})},Qi=(m,h)=>{Ya(m).fold(()=>{Oa(m).each(v=>{Dr(v,h)})},v=>{_t(v,h)})},Xa=(m,h)=>{(z=>kc(z,0))(m).fold(()=>{Dr(m,h)},z=>{m.dom.insertBefore(h.dom,z.dom)})},Dr=(m,h)=>{m.dom.appendChild(h.dom)},Ad=(m,h)=>{_t(m,h),Dr(h,m)},Ia=(m,h)=>{To(h,(v,z)=>{const N=z===0?m:h[z-1];Qi(N,v)})},bi=(m,h)=>{To(h,v=>{Dr(m,v)})},Fi=m=>{m.dom.textContent="",To(Os(m),h=>{dr(h)})},dr=m=>{const h=m.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},ma=m=>{const h=Os(m);h.length>0&&Ia(m,h),dr(m)},Ja=(m,h)=>rt.fromDom(m.dom.cloneNode(h)),ru=m=>Ja(m,!1),Gl=m=>Ja(m,!0),Hi=(m,h)=>{const v=rt.fromTag(h),z=Xs(m);return Ys(v,z),v},Nd=["tfoot","thead","tbody","colgroup"],Rd=(m,h,v)=>({element:m,rowspan:h,colspan:v}),yn=(m,h,v)=>({element:m,cells:h,section:v}),ys=(m,h,v)=>({element:m,isNew:h,isLocked:v}),pa=(m,h,v,z)=>({element:m,cells:h,section:v,isNew:z}),Dd=m=>Vs(m)&&bn(m.dom.host),Uu=m=>rt.fromDom(m.dom.getRootNode()),Md=m=>rt.fromDom(m.dom.host),os=m=>{const h=Yn(m)?m.dom.parentNode:m.dom;if(h==null||h.ownerDocument===null)return!1;const v=h.ownerDocument;return(D=>{const F=Uu(D);return Dd(F)?pe.some(F):pe.none()})(rt.fromDom(h)).fold(()=>v.body.contains(h),(z=os,N=Md,D=>z(N(D))));var z,N},yi=()=>xi(rt.fromDom(document)),xi=m=>{const h=m.dom.body;if(h==null)throw new Error("Body is not available yet");return rt.fromDom(h)},br=(m,h)=>{let v=[];return To(Os(m),z=>{h(z)&&(v=v.concat([z])),v=v.concat(br(z,h))}),v},ur=(m,h,v)=>((z,N,D)=>Do(Hn(z,D),F=>Ka(F,h)))(m,0,v),Vi=(m,h)=>(v=>Do(Os(v),z=>Ka(z,h)))(m),Qa=(m,h)=>((v,z)=>{const N=z===void 0?document:z.dom;return Fo(N)?[]:O(N.querySelectorAll(v),rt.fromDom)})(h,m);var ga=(m,h,v,z,N)=>m(v,z)?pe.some(v):hr(N)&&N(v)?pe.none():h(v,z,N);const el=(m,h,v)=>{let z=m.dom;const N=hr(v)?v:ue;for(;z.parentNode;){z=z.parentNode;const D=rt.fromDom(z);if(h(D))return pe.some(D);if(N(D))break}return pe.none()},cs=(m,h,v)=>ga((z,N)=>N(z),el,m,h,v),yr=(m,h,v)=>el(m,z=>Ka(z,h),v),vi=(m,h)=>(v=>un(v.dom.childNodes,z=>{return N=rt.fromDom(z),Ka(N,h);var N}).map(rt.fromDom))(m),$s=(m,h)=>Ii(h,m),qn=(m,h,v)=>ga((z,N)=>Ka(z,N),yr,m,h,v),ha=(m,h,v=Nn)=>m.exists(z=>v(z,h)),ei=m=>{const h=[],v=z=>{h.push(z)};for(let z=0;z<m.length;z++)m[z].each(v);return h},su=(m,h)=>m?pe.some(h):pe.none(),lo=(m,h,v)=>h===""||m.length>=h.length&&m.substr(v,v+h.length)===h,ws=(m,h,v=0,z)=>{const N=m.indexOf(h,v);return N!==-1&&(!!qt(z)||N+h.length<=z)},ds=(m,h)=>lo(m,h,0),us=(m,h)=>lo(m,h,m.length-h.length),au=(m=>h=>h.replace(m,""))(/^\s+|\s+$/g),Ur=m=>m.length>0,Kl=m=>m.style!==void 0&&hr(m.style.getPropertyValue),Ol=(m,h,v)=>{if(!No(v))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",v,":: Element ",m),new Error("CSS value must be a string: "+v);Kl(m)&&m.style.setProperty(h,v)},Zt=(m,h,v)=>{const z=m.dom;Ol(z,h,v)},ti=(m,h)=>{const v=m.dom;Go(h,(z,N)=>{Ol(v,N,z)})},_i=(m,h)=>{const v=m.dom,z=window.getComputedStyle(v).getPropertyValue(h);return z!==""||os(m)?z:Us(v,h)},Us=(m,h)=>Kl(m)?m.style.getPropertyValue(h):"",wc=(m,h)=>{const v=m.dom,z=Us(v,h);return pe.from(z).filter(N=>N.length>0)},wr=(m,h)=>{((v,z)=>{Kl(v)&&v.style.removeProperty(z)})(m.dom,h),ha(ko(m,"style").map(au),"")&&Io(m,"style")},$i=(m,h,v=0)=>ko(m,h).map(z=>parseInt(z,10)).getOr(v),ki=(m,h)=>$i(m,h,1),an=m=>Fn("col")(m)?$i(m,"span",1)>1:ki(m,"colspan")>1,ul=(m,h)=>parseInt(_i(m,h),10),Al=Yt(10),Bd=Yt(10),Cr=(m,h)=>Aa(m,h,Ct),Aa=(m,h,v)=>Se(Os(m),z=>Ka(z,h)?v(z)?[z]:[]:Aa(z,h,v)),ju=(m,h)=>((v,z,N=ue)=>N(z)?pe.none():Po(v,to(z))?pe.some(z):yr(z,v.join(","),D=>Ka(D,"table")||N(D)))(["td","th"],m,h),Dn=m=>Cr(m,"th,td"),Yl=m=>Ka(m,"colgroup")?Vi(m,"col"):Se(q(m),h=>Vi(h,"col")),Gr=(m,h)=>qn(m,"table",h),js=m=>Cr(m,"tr"),q=m=>Gr(m).fold(Yt([]),h=>Vi(h,"colgroup")),ae=(m,h)=>O(m,v=>{if(to(v)==="colgroup"){const z=O(Yl(v),N=>{const D=$i(N,"span",1);return Rd(N,1,D)});return yn(v,z,"colgroup")}{const z=O(Dn(v),N=>{const D=$i(N,"rowspan",1),F=$i(N,"colspan",1);return Rd(N,D,F)});return yn(v,z,h(v))}}),_e=m=>Oa(m).map(h=>{const v=to(h);return(z=>Po(Nd,z))(v)?v:"tbody"}).getOr("tbody"),He=m=>{const h=js(m),v=[...q(m),...h];return ae(v,_e)},dt=m=>{let h,v=!1;return(...z)=>(v||(v=!0,h=m.apply(null,z)),h)},It=()=>Rt(0,0),Rt=(m,h)=>({major:m,minor:h}),Sr={nu:Rt,detect:(m,h)=>{const v=String(h).toLowerCase();return m.length===0?It():((z,N)=>{const D=(($,X)=>{for(let ie=0;ie<$.length;ie++){const ve=$[ie];if(ve.test(X))return ve}})(z,N);if(!D)return{major:0,minor:0};const F=$=>Number(N.replace(D,"$"+$));return Rt(F(1),F(2))})(m,v)},unknown:It},fn=(m,h)=>{const v=String(h).toLowerCase();return un(m,z=>z.search(v))},xr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fr=m=>h=>ws(h,m),Xc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>ws(m,"edge/")&&ws(m,"chrome")&&ws(m,"safari")&&ws(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xr],search:m=>ws(m,"chrome")&&!ws(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>ws(m,"msie")||ws(m,"trident")},{name:"Opera",versionRegexes:[xr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fr("firefox")},{name:"Safari",versionRegexes:[xr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(ws(m,"safari")||ws(m,"mobile/"))&&ws(m,"applewebkit")}],oi=[{name:"Windows",search:fr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>ws(m,"iphone")||ws(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:fr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fr("linux"),versionRegexes:[]},{name:"Solaris",search:fr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],iu={browsers:Yt(Xc),oses:Yt(oi)},jg="Edge",Df="Chromium",Zg="Opera",gt="Firefox",Pd="Safari",Jc=m=>{const h=m.current,v=m.version,z=N=>()=>h===N;return{current:h,version:v,isEdge:z(jg),isChromium:z(Df),isIE:z("IE"),isOpera:z(Zg),isFirefox:z(gt),isSafari:z(Pd)}},Mf=()=>Jc({current:void 0,version:Sr.unknown()}),ba=Jc,Ld="Windows",lu="Android",Wg="Linux",Yp="macOS",qg="Solaris",_b="FreeBSD",Gg="ChromeOS",Kg=m=>{const h=m.current,v=m.version,z=N=>()=>h===N;return{current:h,version:v,isWindows:z(Ld),isiOS:z("iOS"),isAndroid:z(lu),isMacOS:z(Yp),isLinux:z(Wg),isSolaris:z(qg),isFreeBSD:z(_b),isChromeOS:z(Gg)}},Bf=()=>Kg({current:void 0,version:Sr.unknown()}),Cc=Kg,Id=m=>window.matchMedia(m).matches;let Zu=dt(()=>((m,h,v)=>{const z=iu.browsers(),N=iu.oses(),D=h.bind(X=>((ie,ve)=>H(ve.brands,de=>{const he=de.brand.toLowerCase();return un(ie,fe=>{var se;return he===((se=fe.brand)===null||se===void 0?void 0:se.toLowerCase())}).map(fe=>({current:fe.name,version:Sr.nu(parseInt(de.version,10),0)}))}))(z,X)).orThunk(()=>((X,ie)=>fn(X,ie).map(ve=>{const de=Sr.detect(ve.versionRegexes,ie);return{current:ve.name,version:de}}))(z,m)).fold(Mf,ba),F=((X,ie)=>fn(X,ie).map(ve=>{const de=Sr.detect(ve.versionRegexes,ie);return{current:ve.name,version:de}}))(N,m).fold(Bf,Cc),$=((X,ie,ve,de)=>{const he=X.isiOS()&&/ipad/i.test(ve)===!0,fe=X.isiOS()&&!he,se=X.isiOS()||X.isAndroid(),ke=se||de("(pointer:coarse)"),We=he||!fe&&se&&de("(min-device-width:768px)"),Fe=fe||se&&!We,Qe=ie.isSafari()&&X.isiOS()&&/safari/i.test(ve)===!1,st=!Fe&&!We&&!Qe;return{isiPad:Yt(he),isiPhone:Yt(fe),isTablet:Yt(We),isPhone:Yt(Fe),isTouch:Yt(ke),isAndroid:X.isAndroid,isiOS:X.isiOS,isWebView:Yt(Qe),isDesktop:Yt(st)}})(F,D,m,v);return{browser:D,os:F,deviceType:$}})(window.navigator.userAgent,pe.from(window.navigator.userAgentData),Id));const Js=()=>Zu(),Qc=(m,h)=>{const v=N=>{const D=h(N);if(D<=0||D===null){const F=_i(N,m);return parseFloat(F)||0}return D},z=(N,D)=>Je(D,(F,$)=>{const X=_i(N,$),ie=X===void 0?0:parseInt(X,10);return isNaN(ie)?F:F+ie},0);return{set:(N,D)=>{if(!Vr(D)&&!D.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+D);const F=N.dom;Kl(F)&&(F.style[m]=D+"px")},get:v,getOuter:v,aggregate:z,max:(N,D,F)=>{const $=z(N,F);return D>$?D-$:0}}},Xl=(m,h,v)=>((z,N)=>(D=>{const F=parseFloat(D);return isNaN(F)?pe.none():pe.some(F)})(z).getOr(N))(_i(m,h),v),mn=Qc("width",m=>m.dom.offsetWidth),Fa=m=>mn.get(m),cu=m=>mn.getOuter(m),Om=m=>((h,v)=>{const z=h.dom,N=z.getBoundingClientRect().width||z.offsetWidth;return((D,F,$,X)=>F-Xl(D,`padding-${$}`,0)-Xl(D,`padding-${X}`,0)-Xl(D,`border-${$}-width`,0)-Xl(D,`border-${X}-width`,0))(h,N,"left","right")})(m),ya=(m,h,v)=>{const z=m.cells,N=z.slice(0,h),D=z.slice(h),F=N.concat(v).concat(D);return Nl(m,F)},ni=(m,h,v)=>ya(m,h,[v]),Zs=(m,h,v)=>{m.cells[h]=v},Nl=(m,h)=>pa(m.element,h,m.section,m.isNew),xs=(m,h)=>m.cells[h],ia=(m,h)=>xs(m,h).element,wi=m=>m.cells.length,Tn=m=>{const h=io(m,v=>v.section==="colgroup");return{rows:h.fail,cols:h.pass}},fl=(m,h,v)=>{const z=O(m.cells,v);return pa(h(m.element),z,m.section,!0)},xa="data-snooker-locked-cols",As=m=>ko(m,xa).bind(h=>pe.from(h.match(/\d+/g))).map(h=>$o(h,Ct)),tl=m=>{const h=Je(Tn(m).rows,(z,N)=>(To(N.cells,(D,F)=>{D.isLocked&&(z[F]=!0)}),z),{}),v=en(h,(z,N)=>parseInt(N,10));return(z=>{const N=qe.call(z,0);return N.sort(void 0),N})(v)},Sn=(m,h)=>m+","+h,Ns=(m,h)=>{const v=Se(m.all,z=>z.cells);return Do(v,h)},Rl=m=>{const h={},v=[],z=bo(m).map(he=>he.element).bind(Gr).bind(As).getOr({});let N=0,D=0,F=0;const{pass:$,fail:X}=io(m,he=>he.section==="colgroup");To(X,he=>{const fe=[];To(he.cells,se=>{let ke=0;for(;h[Sn(F,ke)]!==void 0;)ke++;const We=((Qe,st)=>Ko(Qe,st)&&Qe[st]!==void 0&&Qe[st]!==null)(z,ke.toString()),Fe=((Qe,st,ft,ct,xt,Pt)=>({element:Qe,rowspan:st,colspan:ft,row:ct,column:xt,isLocked:Pt}))(se.element,se.rowspan,se.colspan,F,ke,We);for(let Qe=0;Qe<se.colspan;Qe++)for(let st=0;st<se.rowspan;st++){const ft=ke+Qe,ct=Sn(F+st,ft);h[ct]=Fe,D=Math.max(D,ft+1)}fe.push(Fe)}),N++,v.push(yn(he.element,fe,he.section)),F++});const{columns:ie,colgroups:ve}=fo($).map(he=>{const fe=(ke=>{const We={};let Fe=0;return To(ke.cells,Qe=>{const st=Qe.colspan;jt(st,ft=>{const ct=Fe+ft;We[ct]=((xt,Pt,co)=>({element:xt,colspan:Pt,column:co}))(Qe.element,st,ct)}),Fe+=st}),We})(he);return{colgroups:[((ke,We)=>({element:ke,columns:We}))(he.element,Cn(fe))],columns:fe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((he,fe)=>({rows:he,columns:fe}))(N,D),access:h,all:v,columns:ie,colgroups:ve}},Rs=m=>{const h=He(m);return Rl(h)},Cs=Rl,Mt=(m,h,v)=>pe.from(m.access[Sn(h,v)]),Dl=(m,h,v)=>{const z=Ns(m,N=>v(h,N.element));return z.length>0?pe.some(z[0]):pe.none()},ed=Ns,cn=m=>Se(m.all,h=>h.cells),td=m=>Cn(m.columns),du=m=>ls(m.columns).length>0,Jl=(m,h)=>pe.from(m.columns[h]),Wu=(m,h=Ct)=>{const v=m.grid,z=jt(v.columns,sn),N=jt(v.rows,sn);return O(z,D=>Ha(()=>Se(N,F=>Mt(m,F,D).filter($=>$.column===D).toArray()),F=>F.colspan===1&&h(F.element),()=>Mt(m,0,D)))},Ha=(m,h,v)=>{const z=m();return un(z,h).orThunk(()=>pe.from(z[0]).orThunk(v)).map(N=>N.element)},Am=m=>{const h=m.grid,v=jt(h.rows,sn),z=jt(h.columns,sn);return O(v,N=>Ha(()=>Se(z,D=>Mt(m,N,D).filter(F=>F.row===N).fold(Yt([]),F=>[F])),D=>D.rowspan===1,()=>Mt(m,N,0)))},Fd=(m,h)=>v=>Vn(v)==="rtl"?h:m,Vn=m=>_i(m,"direction")==="rtl"?"rtl":"ltr",Ui=Qc("height",m=>{const h=m.dom;return os(m)?h.getBoundingClientRect().height:h.offsetHeight}),Hd=m=>Ui.get(m),Sc=m=>Ui.getOuter(m),qu=(m,h)=>({left:m,top:h,translate:(v,z)=>qu(m+v,h+z)}),re=qu,va=(m,h)=>m!==void 0?m:h!==void 0?h:0,Va=m=>{const h=m.dom.ownerDocument,v=h.body,z=h.defaultView,N=h.documentElement;if(v===m.dom)return re(v.offsetLeft,v.offsetTop);const D=va(z==null?void 0:z.pageYOffset,N.scrollTop),F=va(z==null?void 0:z.pageXOffset,N.scrollLeft),$=va(N.clientTop,v.clientTop),X=va(N.clientLeft,v.clientLeft);return Nm(m).translate(F-X,D-$)},Nm=m=>{const h=m.dom,v=h.ownerDocument.body;return v===h?re(v.offsetLeft,v.offsetTop):os(m)?(z=>{const N=z.getBoundingClientRect();return re(N.left,N.top)})(h):re(0,0)},Rm=(m,h)=>({row:m,y:h}),Ci=(m,h)=>({col:m,x:h}),Xo=m=>Va(m).left+cu(m),$a=m=>Va(m).left,ol=(m,h)=>Ci(m,$a(h)),Ml=(m,h)=>Ci(m,Xo(h)),uu=m=>Va(m).top,Er=(m,h)=>Rm(m,uu(h)),ri=(m,h)=>Rm(m,uu(h)+Sc(h)),Ql=(m,h,v)=>{if(v.length===0)return[];const z=O(v.slice(1),(D,F)=>D.map($=>m(F,$))),N=v[v.length-1].map(D=>h(v.length-1,D));return z.concat([N])},ec={delta:sn,positions:m=>Ql(Er,ri,m),edge:uu},od=Fd({delta:sn,edge:$a,positions:m=>Ql(ol,Ml,m)},{delta:m=>-m,edge:Xo,positions:m=>Ql(Ml,ol,m)}),ml={delta:(m,h)=>od(h).delta(m,h),positions:(m,h)=>od(h).positions(m,h),edge:m=>od(m).edge(m)},Vd={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},fu=(()=>{const m="[0-9]+",h="[eE][+-]?"+m,v=N=>`(?:${N})?`,z=["Infinity",m+"\\."+v(m)+v(h),"\\."+m+v(h),m+v(h)].join("|");return new RegExp(`^([+-]?(?:${z}))(.*)$`)})(),tc=/(\d+(\.\d+)?)%/,_a=/(\d+(\.\d+)?)px|em/,$d=Fn("col"),Dm=Fn("tr"),mu=(m,h,v)=>{const z=Tl(m).getOrThunk(()=>xi(zl(m)));return h(m)/v(z)*100},pu=(m,h)=>{Zt(m,"width",h+"px")},Si=(m,h)=>{Zt(m,"width",h+"%")},no=(m,h)=>{Zt(m,"height",h+"px")},Ei=m=>{const h=(v=>{return Xl(z=v,"height",z.dom.offsetHeight)+"px";var z})(m);return h?((v,z,N,D)=>{const F=parseFloat(v);return us(v,"%")&&to(z)!=="table"?(($,X,ie,ve)=>{const de=Gr($).map(he=>{const fe=ie(he);return Math.floor(X/100*fe)}).getOr(X);return ve($,de),de})(z,F,N,D):F})(h,m,Hd,no):Hd(m)},nd=(m,h)=>wc(m,h).orThunk(()=>ko(m,h).map(v=>v+"px")),gu=m=>nd(m,"width"),hu=m=>mu(m,Fa,Om),ji=m=>{return $d(m)?Fa(m):Xl(h=m,"width",h.dom.offsetWidth);var h},rd=m=>Dm(m)?Hd(m):((h,v,z)=>z(h)/ki(h,"rowspan"))(m,0,Ei),bu=(m,h,v)=>{Zt(m,"width",h+v)},Mr=m=>mu(m,Fa,Om)+"%",yu=Yt(tc),pl=Fn("col"),Ec=m=>gu(m).getOrThunk(()=>ji(m)+"px"),Pf=m=>{return(h=m,nd(h,"height")).getOrThunk(()=>rd(m)+"px");var h},oc=(m,h,v,z,N,D)=>m.filter(z).fold(()=>D(((F,$)=>{if($<0||$>=F.length-1)return pe.none();const X=F[$].fold(()=>{const ve=(de=>{const he=qe.call(de,0);return he.reverse(),he})(F.slice(0,$));return H(ve,(de,he)=>de.map(fe=>({value:fe,delta:he+1})))},ve=>pe.some({value:ve,delta:0})),ie=F[$+1].fold(()=>{const ve=F.slice($+1);return H(ve,(de,he)=>de.map(fe=>({value:fe,delta:he+1})))},ve=>pe.some({value:ve,delta:1}));return X.bind(ve=>ie.map(de=>{const he=de.delta+ve.delta;return Math.abs(de.value-ve.value)/he}))})(v,h)),F=>N(F)),nc=(m,h,v,z)=>{const N=Wu(m),D=du(m)?(X=>O(td(X),ie=>pe.from(ie.element)))(m):N,F=[pe.some(ml.edge(h))].concat(O(ml.positions(N,h),X=>X.map(ie=>ie.x))),$=Ut(an);return O(D,(X,ie)=>oc(X,ie,F,$,ve=>{if((he=>{const fe=Js().browser,se=fe.isChromium()||fe.isFirefox();return!pl(he)||se})(ve))return v(ve);{const he=(de=N[ie])!=null?sn(de):pe.none();return oc(he,ie,F,$,fe=>z(pe.some(Fa(fe))),z)}var de},z))},sd=m=>m.map(h=>h+"px").getOr(""),tr=(m,h,v)=>nc(m,h,ji,z=>z.getOrThunk(v.minCellWidth)),la=(m,h,v,z)=>{const N=Am(m),D=O(m.all,$=>pe.some($.element)),F=[pe.some(ec.edge(h))].concat(O(ec.positions(N,h),$=>$.map(X=>X.y)));return O(D,($,X)=>oc($,X,F,Ct,v,z))},ka=(m,h)=>()=>os(m)?h(m):parseFloat(wc(m,"width").getOr("0")),si=m=>{const h=ka(m,z=>parseFloat(Mr(z))),v=ka(m,Fa);return{width:h,pixelWidth:v,getWidths:(z,N)=>((D,F,$)=>nc(D,F,hu,X=>X.fold(()=>$.minCellWidth(),ie=>ie/$.pixelWidth()*100)))(z,m,N),getCellDelta:z=>z/v()*100,singleColumnWidth:(z,N)=>[100-z],minCellWidth:()=>Al()/v()*100,setElementWidth:Si,adjustTableWidth:z=>{const N=h();Si(m,N+z/100*N)},isRelative:!0,label:"percent"}},Ua=m=>{const h=ka(m,Fa);return{width:h,pixelWidth:h,getWidths:(v,z)=>tr(v,m,z),getCellDelta:sn,singleColumnWidth:(v,z)=>[Math.max(Al(),v+z)-v],minCellWidth:Al,setElementWidth:pu,adjustTableWidth:v=>{const z=h()+v;pu(m,z)},isRelative:!1,label:"pixel"}},zc=m=>gu(m).fold(()=>(h=>{const v=ka(h,Fa),z=Yt(0);return{width:v,pixelWidth:v,getWidths:(N,D)=>tr(N,h,D),getCellDelta:z,singleColumnWidth:Yt([0]),minCellWidth:z,setElementWidth:Ht,adjustTableWidth:Ht,isRelative:!0,label:"none"}})(m),h=>((v,z)=>yu().exec(z)!==null?si(v):Ua(v))(m,h)),Ss=Ua,ca=si,Lf=(m,h,v)=>{const z=m[v].element,N=rt.fromTag("td");Dr(N,rt.fromTag("br")),(h?Dr:Xa)(z,N)},Ge=(m=>{const h=v=>m(v)?pe.from(v.dom.nodeValue):pe.none();return{get:v=>{if(!m(v))throw new Error("Can only get text value of a text node");return h(v).getOr("")},getOption:h,set:(v,z)=>{if(!m(v))throw new Error("Can only set raw text value of a text node");v.dom.nodeValue=z}}})(Yn),Qs=m=>Ge.get(m),zi=m=>Ge.getOption(m),ms=(m,h)=>Ge.set(m,h),Ws=m=>to(m)==="img"?1:zi(m).fold(()=>Os(m).length,h=>h.length),Ti=["img","br"],gl=m=>zi(m).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Po(Ti,to(m))||(h=>er(h)&&ut(h,"contenteditable")==="false")(m),If=m=>((h,v)=>{const z=N=>{for(let D=0;D<N.childNodes.length;D++){const F=rt.fromDom(N.childNodes[D]);if(v(F))return pe.some(F);const $=z(N.childNodes[D]);if($.isSome())return $}return pe.none()};return z(h.dom)})(m,gl),jr=m=>Jo(m,gl),Jo=(m,h)=>{const v=z=>{const N=Os(z);for(let D=N.length-1;D>=0;D--){const F=N[D];if(h(F))return pe.some(F);const $=v(F);if($.isSome())return $}return pe.none()};return v(m)},Zi={scope:["row","col"]},Br=m=>()=>{const h=rt.fromTag("td",m.dom);return Dr(h,rt.fromTag("br",m.dom)),h},Zr=m=>()=>rt.fromTag("col",m.dom),Mm=m=>()=>rt.fromTag("colgroup",m.dom),Na=m=>()=>rt.fromTag("tr",m.dom),rc=(m,h,v)=>{const z=((N,D)=>{const F=Hi(N,D),$=Os(Gl(N));return bi(F,$),F})(m,h);return Go(v,(N,D)=>{N===null?Io(z,D):Yo(z,D,N)}),z},dn=m=>m,Ee=(m,h,v)=>{const z=(N,D)=>{((F,$)=>{const X=F.dom,ie=$.dom;Kl(X)&&Kl(ie)&&(ie.style.cssText=X.style.cssText)})(N.element,D),wr(D,"height"),N.colspan!==1&&wr(D,"width")};return{col:N=>{const D=rt.fromTag(to(N.element),h.dom);return z(N,D),m(N.element,D),D},colgroup:Mm(h),row:Na(h),cell:N=>{const D=rt.fromTag(to(N.element),h.dom),F=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),$=F.length>0?((X,ie,ve)=>If(X).map(de=>{const he=ve.join(","),fe=ur(de,he,se=>Wn(se,X));return qr(fe,(se,ke)=>{const We=ru(ke);return Dr(se,We),We},ie)}).getOr(ie))(N.element,D,F):D;return Dr($,rt.fromTag("br")),z(N,D),((X,ie)=>{Go(Zi,(ve,de)=>ko(X,de).filter(he=>Po(ve,he)).each(he=>Yo(ie,de,he)))})(N.element,D),m(N.element,D),D},replace:rc,colGap:Zr(h),gap:Br(h)}},wa=m=>({col:Zr(m),colgroup:Mm(m),row:Na(m),cell:Br(m),replace:dn,colGap:Zr(m),gap:Br(m)}),Ra=m=>h=>h.options.get(m),or="100%",Ca=m=>{var h;const v=m.dom,z=(h=v.getParent(m.selection.getStart(),v.isBlock))!==null&&h!==void 0?h:m.getBody();return Om(rt.fromDom(z))+"px"},ea=m=>pe.from(m.options.get("table_clone_elements")),Xn=Ra("table_header_type"),sc=Ra("table_column_resizing"),Ff=m=>sc(m)==="preservetable",S=m=>sc(m)==="resizetable",M=Ra("table_sizing_mode"),U=m=>M(m)==="relative",le=m=>M(m)==="fixed",ge=m=>M(m)==="responsive",nt=Ra("table_resize_bars"),ro=Ra("table_style_by_css"),Ho=Ra("table_merge_content_on_paste"),_o=m=>{const h=m.options,v=h.get("table_default_attributes");return h.isSet("table_default_attributes")?v:((z,N)=>ge(z)||ro(z)?N:le(z)?{...N,width:Ca(z)}:{...N,width:or})(m,v)},Dt=Ra("table_use_colgroups"),Ln=Ra("fixed_toolbar_container"),ns=Ra("fixed_toolbar_container_target"),Wi=Ra("ui_mode"),ai=m=>qn(m,"[contenteditable]"),Da=(m,h=!1)=>os(m)?m.dom.isContentEditable:ai(m).fold(Yt(h),v=>Bm(v)==="true"),Bm=m=>m.dom.contentEditable,Ud=m=>rt.fromDom(m.getBody()),Ds=m=>h=>Wn(h,Ud(m)),Oi=m=>{Io(m,"data-mce-style");const h=v=>Io(v,"data-mce-style");To(Dn(m),h),To(Yl(m),h),To(js(m),h)},hl=m=>rt.fromDom(m.selection.getStart()),Xp=m=>m.getBoundingClientRect().width,Kr=m=>m.getBoundingClientRect().height,Pm=m=>(h,v)=>{const z=h.dom.getStyle(v,m)||h.dom.getAttrib(v,m);return pe.from(z).filter(Ur)},rs=Pm("width"),Tc=Pm("height"),Oc=m=>cs(m,Fn("table")).exists(Da),kb=(m,h)=>{const v=h.column,z=h.column+h.colspan-1,N=h.row,D=h.row+h.rowspan-1;return v<=m.finishCol&&z>=m.startCol&&N<=m.finishRow&&D>=m.startRow},Ac=(m,h)=>h.column>=m.startCol&&h.column+h.colspan-1<=m.finishCol&&h.row>=m.startRow&&h.row+h.rowspan-1<=m.finishRow,Jp=(m,h,v)=>{const z=Dl(m,h,Wn),N=Dl(m,v,Wn);return z.bind(D=>N.map(F=>{return $=D,X=F,{startRow:Math.min($.row,X.row),startCol:Math.min($.column,X.column),finishRow:Math.max($.row+$.rowspan-1,X.row+X.rowspan-1),finishCol:Math.max($.column+$.colspan-1,X.column+X.colspan-1)};var $,X}))},wb=(m,h,v)=>Jp(m,h,v).map(z=>{const N=ed(m,et(kb,z));return O(N,D=>D.element)}),ps=(m,h)=>Dl(m,h,(v,z)=>bs(z,v)).map(v=>v.element),O1=(m,h,v)=>{const z=bl(m);return wb(z,h,v)},Nc=(m,h,v,z,N)=>{const D=bl(m),F=Wn(m,v)?pe.some(h):ps(D,h),$=Wn(m,N)?pe.some(z):ps(D,z);return F.bind(X=>$.bind(ie=>wb(D,X,ie)))},bl=Rs;var Hf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],At=()=>({up:Yt({selector:yr,closest:qn,predicate:el,all:Hn}),down:Yt({selector:Qa,predicate:br}),styles:Yt({get:_i,getRaw:wc,set:Zt,remove:wr}),attrs:Yt({get:ut,set:Yo,remove:Io,copyTo:(m,h)=>{const v=Xs(m);Ys(h,v)}}),insert:Yt({before:_t,after:Qi,afterAll:Ia,append:Dr,appendAll:bi,prepend:Xa,wrap:Ad}),remove:Yt({unwrap:ma,remove:dr}),create:Yt({nu:rt.fromTag,clone:m=>rt.fromDom(m.dom.cloneNode(!1)),text:rt.fromText}),query:Yt({comparePosition:(m,h)=>m.dom.compareDocumentPosition(h.dom),prevSibling:go,nextSibling:Ya}),property:Yt({children:Os,name:to,parent:Oa,document:m=>Ji(m).dom,isText:Yn,isComment:zn,isElement:Rn,isSpecial:m=>{const h=to(m);return Po(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:m=>Rn(m)?ko(m,"lang"):pe.none(),getText:Qs,setText:ms,isBoundary:m=>!!Rn(m)&&(to(m)==="body"||Po(Hf,to(m))),isEmptyTag:m=>!!Rn(m)&&Po(["br","img","hr","input"],to(m)),isNonEditable:m=>Rn(m)&&ut(m,"contenteditable")==="false"}),eq:Wn,is:El});const ta=(m,h,v,z)=>{const N=h(m,v);return qr(z,(D,F)=>{const $=h(m,F);return Lm(m,D,$)},N)},Lm=(m,h,v)=>h.bind(z=>v.filter(et(m.eq,z))),ad=At(),Bl=(m,h)=>((v,z,N)=>N.length>0?((D,F,$,X)=>X(D,F,$[0],$.slice(1)))(v,z,N,ta):pe.none())(ad,(v,z)=>m(z),h),jd=m=>yr(m,"table"),Vf=(m,h,v)=>{const z=N=>D=>v!==void 0&&v(D)||Wn(D,N);return Wn(m,h)?pe.some({boxes:pe.some([m]),start:m,finish:h}):jd(m).bind(N=>jd(h).bind(D=>{if(Wn(N,D))return pe.some({boxes:O1(N,m,h),start:m,finish:h});if(bs(N,D)){const F=ur(h,"td,th",z(N)),$=F.length>0?F[F.length-1]:h;return pe.some({boxes:Nc(N,m,N,h,D),start:m,finish:$})}if(bs(D,N)){const F=ur(m,"td,th",z(D)),$=F.length>0?F[F.length-1]:m;return pe.some({boxes:Nc(D,m,N,h,D),start:m,finish:$})}return((F,$)=>((X,ie,ve,de=ue)=>{const he=[ie].concat(X.up().all(ie)),fe=[ve].concat(X.up().all(ve)),se=Qe=>Li(Qe,de).fold(()=>Qe,st=>Qe.slice(0,st+1)),ke=se(he),We=se(fe),Fe=un(ke,Qe=>Le(We,((st,ft)=>et(st.eq,ft))(X,Qe)));return{firstpath:ke,secondpath:We,shared:Fe}})(ad,F,$,void 0))(m,h).shared.bind(F=>qn(F,"table",v).bind($=>{const X=ur(h,"td,th",z($)),ie=X.length>0?X[X.length-1]:h,ve=ur(m,"td,th",z($)),de=ve.length>0?ve[ve.length-1]:m;return pe.some({boxes:Nc($,m,N,h,D),start:de,finish:ie})}))}))},ac=(m,h)=>{const v=Qa(m,h);return v.length>0?pe.some(v):pe.none()},Cb=(m,h,v)=>$s(m,h).bind(z=>$s(m,v).bind(N=>Bl(jd,[z,N]).map(D=>({first:z,last:N,table:D})))),id=(m,h,v,z,N)=>((D,F)=>un(D,$=>Ka($,F)))(m,N).bind(D=>((F,$,X)=>Gr(F).bind(ie=>((ve,de,he,fe)=>Dl(ve,de,Wn).bind(se=>{const ke=he>0?se.row+se.rowspan-1:se.row,We=fe>0?se.column+se.colspan-1:se.column;return Mt(ve,ke+he,We+fe).map(Fe=>Fe.element)}))(bl(ie),F,$,X)))(D,h,v).bind(F=>(($,X)=>yr($,"table").bind(ie=>$s(ie,X).bind(ve=>Vf(ve,$).bind(de=>de.boxes.map(he=>({boxes:he,start:de.start,finish:de.finish}))))))(F,z))),Im=(m,h)=>ac(m,h),xu=(m,h,v)=>Cb(m,h,v).bind(z=>{const N=X=>Wn(m,X),D="thead,tfoot,tbody,table",F=yr(z.first,D,N),$=yr(z.last,D,N);return F.bind(X=>$.bind(ie=>Wn(X,ie)?((ve,de,he)=>((fe,se,ke)=>Jp(fe,se,ke).bind(We=>((Fe,Qe)=>{let st=!0;const ft=et(Ac,Qe);for(let ct=Qe.startRow;ct<=Qe.finishRow;ct++)for(let xt=Qe.startCol;xt<=Qe.finishCol;xt++)st=st&&Mt(Fe,ct,xt).exists(ft);return st?pe.some(Qe):pe.none()})(fe,We)))(bl(ve),de,he))(z.table,z.first,z.last):pe.none()))}),lt=sn,ld=m=>{const h=(v,z)=>ko(v,z).exists(N=>parseInt(N,10)>1);return m.length>0&&ot(m,v=>h(v,"rowspan")||h(v,"colspan"))?pe.some(m):pe.none()},Gu=(m,h,v)=>h.length<=1?pe.none():xu(m,v.firstSelectedSelector,v.lastSelectedSelector).map(z=>({bounds:z,cells:h})),ic="data-mce-selected",cd="data-mce-first-selected",Ku="data-mce-last-selected",ss="["+ic+"]",Zd={selected:ic,selectedSelector:"td["+ic+"],th["+ic+"]",firstSelected:cd,firstSelectedSelector:"td["+cd+"],th["+cd+"]",lastSelected:Ku,lastSelectedSelector:"td["+Ku+"],th["+Ku+"]"},Ai=(m,h,v)=>({element:v,mergable:Gu(h,m,Zd),unmergable:ld(m),selection:lt(m)}),vr=m=>(h,v)=>{const z=to(h),N=z==="col"||z==="colgroup"?Gr(D=h).bind(F=>Im(F,Zd.firstSelectedSelector)).fold(Yt(D),F=>F[0]):h;var D;return qn(N,m,v)},Fm=vr("th,td,caption"),Vo=vr("th,td"),Vt=m=>{return h=m.model.table.getSelectedCells(),O(h,rt.fromDom);var h},qi=(m,h)=>{m.on("BeforeGetContent",v=>{const z=N=>{v.preventDefault(),(D=>Gr(D[0]).map(F=>{const $=((X,ie)=>{const ve=st=>Ka(st.element,ie),de=Gl(X),he=He(de),fe=zc(X),se=Cs(he),ke=((st,ft)=>{const ct=st.grid.columns;let xt=st.grid.rows,Pt=ct,co=0,vn=0;const Oo=[],qo=[];return Go(st.access,Ao=>{if(Oo.push(Ao),ft(Ao)){qo.push(Ao);const Gn=Ao.row,_s=Gn+Ao.rowspan-1,Wa=Ao.column,Ea=Wa+Ao.colspan-1;Gn<xt?xt=Gn:_s>co&&(co=_s),Wa<Pt?Pt=Wa:Ea>vn&&(vn=Ea)}}),((Ao,Gn,_s,Wa,Ea,Yi)=>({minRow:Ao,minCol:Gn,maxRow:_s,maxCol:Wa,allCells:Ea,selectedCells:Yi}))(xt,Pt,co,vn,Oo,qo)})(se,ve),We="th:not("+ie+"),td:not("+ie+")",Fe=Aa(de,"th,td",st=>Ka(st,We));To(Fe,dr),((st,ft,ct,xt)=>{const Pt=Do(st,Oo=>Oo.section!=="colgroup"),co=ft.grid.columns,vn=ft.grid.rows;for(let Oo=0;Oo<vn;Oo++){let qo=!1;for(let Ao=0;Ao<co;Ao++)Oo<ct.minRow||Oo>ct.maxRow||Ao<ct.minCol||Ao>ct.maxCol||(Mt(ft,Oo,Ao).filter(xt).isNone()?Lf(Pt,qo,Oo):qo=!0)}})(he,se,ke,ve);const Qe=((st,ft,ct,xt)=>{if(xt.minCol===0&&ft.grid.columns===xt.maxCol+1)return 0;const Pt=tr(ft,st,ct),co=Je(Pt,(qo,Ao)=>qo+Ao,0),vn=Je(Pt.slice(xt.minCol,xt.maxCol+1),(qo,Ao)=>qo+Ao,0),Oo=vn/co*ct.pixelWidth()-ct.pixelWidth();return ct.getCellDelta(Oo)})(X,Rs(X),fe,ke);return((st,ft,ct,xt)=>{Go(ct.columns,co=>{(co.column<ft.minCol||co.column>ft.maxCol)&&dr(co.element)});const Pt=Do(Cr(st,"tr"),co=>co.dom.childElementCount===0);To(Pt,dr),ft.minCol!==ft.maxCol&&ft.minRow!==ft.maxRow||To(Cr(st,"th,td"),co=>{Io(co,"rowspan"),Io(co,"colspan")}),Io(st,xa),Io(st,"data-snooker-col-series"),zc(st).adjustTableWidth(xt)})(de,ke,se,Qe),de})(F,ss);return Oi($),[$]}))(N).each(D=>{const F=v.format==="text"?(($,X)=>{const ie=$.getDoc(),ve=Uu(rt.fromDom($.getBody())),de=rt.fromTag("div",ie);Yo(de,"data-mce-bogus","all"),ti(de,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const he=(se=>Dd(se)?se:rt.fromDom(Ji(se).dom.body))(ve);bi(de,X),Dr(he,de);const fe=de.dom.innerText;return dr(de),fe})(m,D):(($,X)=>O(X,ie=>$.selection.serializer.serialize(ie.dom,{})).join(""))(m,D);v.content=F})};if(v.selection===!0){const N=(D=>Do(Vt(D),F=>Ka(F,Zd.selectedSelector)))(m);N.length>=1&&z(N)}}),m.on("BeforeSetContent",v=>{if(v.selection===!0&&v.paste===!0){const z=Vt(m);bo(z).each(N=>{Gr(N).each(D=>{const F=Do((X=>{const ie=document.createElement("div");return ie.innerHTML=X,Os(rt.fromDom(ie))})(v.content),X=>to(X)!=="meta"),$=Fn("table");if(Ho(m)&&F.length===1&&$(F[0])){v.preventDefault();const X=rt.fromDom(m.getDoc()),ie=wa(X),ve=((de,he,fe)=>({element:de,clipboard:he,generators:fe}))(N,F[0],ie);h.pasteCells(D,ve).each(()=>{m.focus()})}})})}})},Yu=(m,h)=>({element:m,offset:h}),$f=(m,h,v)=>m.property().isText(h)&&m.property().getText(h).trim().length===0||m.property().isComment(h)?v(h).bind(z=>$f(m,z,v).orThunk(()=>pe.some(z))):pe.none(),Yg=(m,h)=>m.property().isText(h)?m.property().getText(h).length:m.property().children(h).length,mr=(m,h)=>{const v=$f(m,h,m.query().prevSibling).getOr(h);if(m.property().isText(v))return Yu(v,Yg(m,v));const z=m.property().children(v);return z.length>0?mr(m,z[z.length-1]):Yu(v,Yg(m,v))},Sb=mr,A1=At(),je=(m,h)=>{an(m)||(z=>gu(z).bind(N=>{return D=N,F=["fixed","relative","empty"],pe.from(fu.exec(D)).bind($=>{const X=Number($[1]),ie=$[2];return((ve,de)=>Le(de,he=>Le(Vd[he],fe=>ve===fe)))(ie,F)?pe.some({value:X,unit:ie}):pe.none()});var D,F}))(m).each(z=>{const N=z.value/2;bu(m,N,z.unit),bu(h,N,z.unit)})},Xu=m=>O(m,Yt(0)),Hm=(m,h,v,z,N)=>N(m.slice(0,h)).concat(z).concat(N(m.slice(v))),Ju=m=>(h,v,z,N)=>{if(m(z)){const D=Math.max(N,h[v]-Math.abs(z)),F=Math.abs(D-h[v]);return z>=0?F:-F}return z},Qu=Ju(m=>m<0),lc=Ju(Ct),Pl=()=>{const m=(v,z,N,D)=>{const F=(100+N)/100,$=Math.max(D,(v[z]+N)/F);return O(v,(X,ie)=>(ie===z?$:X/F)-X)},h=(v,z,N,D,F,$)=>$?m(v,z,D,F):((X,ie,ve,de,he)=>{const fe=Qu(X,ie,de,he);return Hm(X,ie,ve+1,[fe,0],Xu)})(v,z,N,D,F);return{resizeTable:(v,z)=>v(z),clampTableDelta:Qu,calcLeftEdgeDeltas:h,calcMiddleDeltas:(v,z,N,D,F,$,X)=>h(v,N,D,F,$,X),calcRightEdgeDeltas:(v,z,N,D,F,$)=>{if($)return m(v,N,D,F);{const X=Qu(v,N,D,F);return Xu(v.slice(0,N)).concat([X])}},calcRedestributedWidths:(v,z,N,D)=>{if(D){const F=(z+N)/z,$=O(v,X=>X/F);return{delta:100*F-100,newSizes:$}}return{delta:N,newSizes:v}}}},Es=()=>{const m=(h,v,z,N,D)=>{const F=lc(h,N>=0?z:v,N,D);return Hm(h,v,z+1,[F,-F],Xu)};return{resizeTable:(h,v,z)=>{z&&h(v)},clampTableDelta:(h,v,z,N,D)=>{if(D){if(z>=0)return z;{const F=Je(h,($,X)=>$+X-N,0);return Math.max(-F,z)}}return Qu(h,v,z,N)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(h,v,z,N,D,F)=>m(h,z,N,D,F),calcRightEdgeDeltas:(h,v,z,N,D,F)=>{if(F)return Xu(h);{const $=N/h.length;return O(h,Yt($))}},calcRedestributedWidths:(h,v,z,N)=>({delta:0,newSizes:h})}},Jn=m=>Rs(m).grid,zr=Fn("th"),ef=m=>ot(m,h=>zr(h.element)),Wd=(m,h)=>m&&h?"sectionCells":m?"section":"cells",cc=m=>{const h=m.section==="thead",v=ha(Uf(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:h||v?{type:"header",subType:Wd(h,v)}:{type:"body"}},Uf=m=>{const h=Do(m,v=>zr(v.element));return h.length===0?pe.some("td"):h.length===m.length?pe.some("th"):pe.none()},k=(m,h,v)=>ys(v(m.element,h),!0,m.isLocked),T=(m,h)=>m.section!==h?pa(m.element,m.cells,h,m.isNew):m,V=()=>({transformRow:T,transformCell:(m,h,v)=>{const z=v(m.element,h),N=to(z)!=="td"?(D=>{const F=Hi(D,"td");Qi(D,F);const $=Os(D);return bi(F,$),dr(D),F})(z):z;return ys(N,m.isNew,m.isLocked)}}),Q=()=>({transformRow:T,transformCell:k}),ye=()=>({transformRow:(m,h)=>T(m,h==="thead"?"tbody":h),transformCell:k}),Ie=V,xe=Q,Bt=ye,Gt=()=>({transformRow:sn,transformCell:k}),Mo=(m,h,v,z)=>{v===z?Io(m,h):Yo(m,h,v)},nr=(m,h,v)=>{fo(Vi(m,h)).fold(()=>Xa(m,v),z=>Qi(z,v))},rr=(m,h)=>{const v=[],z=[],N=he=>O(he,fe=>{fe.isNew&&v.push(fe.element);const se=fe.element;return Fi(se),To(fe.cells,ke=>{ke.isNew&&z.push(ke.element),Mo(ke.element,"colspan",ke.colspan,1),Mo(ke.element,"rowspan",ke.rowspan,1),Dr(se,ke.element)}),se}),D=he=>Se(he,fe=>O(fe.cells,se=>(Mo(se.element,"span",se.colspan,1),se.element))),F=(he,fe)=>{const se=((We,Fe)=>{const Qe=vi(We,Fe).getOrThunk(()=>{const st=rt.fromTag(Fe,zl(We).dom);return Fe==="thead"?nr(We,"caption,colgroup",st):Fe==="colgroup"?nr(We,"caption",st):Dr(We,st),st});return Fi(Qe),Qe})(m,fe),ke=(fe==="colgroup"?D:N)(he);bi(se,ke)},$=(he,fe)=>{he.length>0?F(he,fe):(se=>{vi(m,se).each(dr)})(fe)},X=[],ie=[],ve=[],de=[];return To(h,he=>{switch(he.section){case"thead":X.push(he);break;case"tbody":ie.push(he);break;case"tfoot":ve.push(he);break;case"colgroup":de.push(he)}}),$(de,"colgroup"),$(X,"thead"),$(ie,"tbody"),$(ve,"tfoot"),{newRows:v,newCells:z}},Pr=(m,h)=>{if(m.length===0)return 0;const v=m[0];return Li(m,z=>!h(v.element,z.element)).getOr(m.length)},ja=(m,h)=>{const v=O(m,z=>O(z.cells,ue));return O(m,(z,N)=>{const D=Se(z.cells,(F,$)=>{if(v[N][$]===!1){const he=((fe,se,ke,We)=>{const Fe=((ct,xt)=>ct[xt])(fe,se),Qe=Fe.section==="colgroup",st=Pr(Fe.cells.slice(ke),We),ft=Qe?1:Pr(((ct,xt)=>O(ct,Pt=>xs(Pt,xt)))(fe.slice(se),ke),We);return{colspan:st,rowspan:ft}})(m,N,$,h);return((fe,se,ke,We)=>{for(let Fe=fe;Fe<fe+ke;Fe++)for(let Qe=se;Qe<se+We;Qe++)v[Fe][Qe]=!0})(N,$,he.rowspan,he.colspan),[(X=F.element,ie=he.rowspan,ve=he.colspan,de=F.isNew,{element:X,rowspan:ie,colspan:ve,isNew:de})]}return[];var X,ie,ve,de});return((F,$,X,ie)=>({element:F,cells:$,section:X,isNew:ie}))(z.element,D,z.section,z.isNew)})},ii=(m,h,v)=>{const z=[];To(m.colgroups,N=>{const D=[];for(let F=0;F<m.grid.columns;F++){const $=Jl(m,F).map(X=>ys(X.element,v,!1)).getOrThunk(()=>ys(h.colGap(),!0,!1));D.push($)}z.push(pa(N.element,D,"colgroup",v))});for(let N=0;N<m.grid.rows;N++){const D=[];for(let X=0;X<m.grid.columns;X++){const ie=Mt(m,N,X).map(ve=>ys(ve.element,v,ve.isLocked)).getOrThunk(()=>ys(h.gap(),!0,!1));D.push(ie)}const F=m.all[N],$=pa(F.element,D,F.section,v);z.push($)}return z},dc=m=>ja(m,Wn),dd=(m,h)=>H(m.all,v=>un(v.cells,z=>Wn(h,z.element))),Tr=(m,h,v)=>{const z=O(h.selection,D=>ju(D).bind(F=>dd(m,F)).filter(v)),N=ei(z);return su(N.length>0,N)},zs=(m,h,v,z,N)=>(D,F,$,X)=>{const ie=Rs(D),ve=pe.from(X==null?void 0:X.section).getOrThunk(Gt);return h(ie,F).map(de=>{const he=((ke,We)=>ii(ke,We,!1))(ie,$),fe=m(he,de,Wn,N($),ve),se=tl(fe.grid);return{info:de,grid:dc(fe.grid),cursor:fe.cursor,lockedColumns:se}}).bind(de=>{const he=rr(D,de.grid),fe=pe.from(X==null?void 0:X.sizing).getOrThunk(()=>zc(D)),se=pe.from(X==null?void 0:X.resize).getOrThunk(Es);return v(D,de.grid,de.info,{sizing:fe,resize:se,section:ve}),z(D),Io(D,xa),de.lockedColumns.length>0&&Yo(D,xa,de.lockedColumns.join(",")),pe.some({cursor:de.cursor,newRows:he.newRows,newCells:he.newCells})})},lr=(m,h)=>Tr(m,h,Ct).map(v=>({cells:v,generators:h.generators,clipboard:h.clipboard})),cr=(m,h)=>Tr(m,h,Ct),yl=(m,h)=>Tr(m,h,v=>!v.isLocked),li=(m,h)=>ot(h,v=>((z,N)=>dd(z,N).exists(D=>!D.isLocked))(m,v)),jf=(m,h,v,z)=>{const N=Tn(m).rows;let D=!0;for(let F=0;F<N.length;F++)for(let $=0;$<wi(N[0]);$++){const X=N[F],ie=xs(X,$),ve=v(ie.element,h);ve&&!D?Zs(X,$,ys(z(),!0,ie.isLocked)):ve&&(D=!1)}return m},xl=m=>{const h=D=>D(m),v=Yt(m),z=()=>N,N={tag:!0,inner:m,fold:(D,F)=>F(m),isValue:Ct,isError:ue,map:D=>pn.value(D(m)),mapError:z,bind:h,exists:h,forall:h,getOr:v,or:z,getOrThunk:v,orThunk:z,getOrDie:v,each:D=>{D(m)},toOptional:()=>pe.some(m)};return N},Xg=m=>{const h=()=>v,v={tag:!1,inner:m,fold:(N,D)=>N(m),isValue:ue,isError:Ct,map:h,mapError:N=>pn.error(N(m)),bind:h,exists:ue,forall:Ct,getOr:sn,or:sn,getOrThunk:ht,orThunk:ht,getOrDie:(z=String(m),()=>{throw new Error(z)}),each:Ht,toOptional:pe.none};var z;return v},pn={value:xl,error:Xg,fromOption:(m,h)=>m.fold(()=>Xg(h),xl)},as=(m,h)=>({rowDelta:0,colDelta:wi(m[0])-wi(h[0])}),ci=(m,h)=>({rowDelta:m.length-h.length,colDelta:0}),vl=(m,h,v,z)=>{const N=h.section==="colgroup"?v.col:v.cell;return jt(m,D=>ys(N(),!0,z(D)))},Jg=(m,h,v,z)=>{const N=m[m.length-1];return m.concat(jt(h,()=>{const D=N.section==="colgroup"?v.colgroup:v.row,F=fl(N,D,sn),$=vl(F.cells.length,F,v,X=>Ko(z,X.toString()));return Nl(F,$)}))},Eb=(m,h,v,z)=>O(m,N=>{const D=vl(h,N,v,ue);return ya(N,z,D)}),Rc=(m,h,v)=>{const z=h.colDelta<0?Eb:sn,N=h.rowDelta<0?Jg:sn,D=tl(m),F=wi(m[0]),$=Le(D,ve=>ve===F-1),X=z(m,Math.abs(h.colDelta),v,$?F-1:F),ie=tl(X);return N(X,Math.abs(h.rowDelta),v,$o(ie,Ct))},Zf=(m,h,v,z)=>{const N=et(z,xs(m[h],v).element),D=m[h];return m.length>1&&wi(D)>1&&(v>0&&N(ia(D,v-1))||v<D.cells.length-1&&N(ia(D,v+1))||h>0&&N(ia(m[h-1],v))||h<m.length-1&&N(ia(m[h+1],v)))},Qg=(m,h,v)=>Do(v,z=>z>=m.column&&z<=wi(h[0])+m.column),zb=(m,h,v,z,N)=>{((ie,ve,de,he)=>{ve>0&&ve<ie[0].cells.length&&To(ie,fe=>{const se=fe.cells[ve-1];let ke=0;const We=he();for(;fe.cells.length>ve+ke&&de(se.element,fe.cells[ve+ke].element);)Zs(fe,ve+ke,ys(We,!0,fe.cells[ve+ke].isLocked)),ke++})})(h,m,N,z.cell);const D=ci(v,h),F=Rc(v,D,z),$=ci(h,F),X=Rc(h,$,z);return O(X,(ie,ve)=>ya(ie,m,F[ve].cells))},N1=(m,h,v,z,N)=>{((Qe,st,ft,ct)=>{const xt=Tn(Qe).rows;if(st>0&&st<xt.length){const Pt=((co,vn)=>Je(co,(Oo,qo)=>Le(Oo,Ao=>vn(Ao.element,qo.element))?Oo:Oo.concat([qo]),[]))(xt[st-1].cells,ft);To(Pt,co=>{let vn=pe.none();for(let Oo=st;Oo<xt.length;Oo++)for(let qo=0;qo<wi(xt[0]);qo++){const Ao=xt[Oo],Gn=xs(Ao,qo);ft(Gn.element,co.element)&&(vn.isNone()&&(vn=pe.some(ct())),vn.each(_s=>{Zs(Ao,qo,ys(_s,!0,Gn.isLocked))}))}})}})(h,m,N,z.cell);const D=tl(h),F=as(h,v),$={...F,colDelta:F.colDelta-D.length},X=Rc(h,$,z),{cols:ie,rows:ve}=Tn(X),de=tl(X),he=as(v,h),fe={...he,colDelta:he.colDelta+de.length},se=(We=z,Fe=de,O(v,Qe=>Je(Fe,(st,ft)=>{const ct=vl(1,Qe,We,Ct)[0];return ni(st,ft,ct)},Qe))),ke=Rc(se,fe,z);var We,Fe;return[...ie,...ve.slice(0,m),...ke,...ve.slice(m,ve.length)]},R1=(m,h,v,z,N)=>{const{rows:D,cols:F}=Tn(m),$=D.slice(0,h),X=D.slice(h);return[...F,...$,((ie,ve,de,he)=>fl(ie,fe=>he(fe,de),ve))(D[v],(ie,ve)=>h>0&&h<D.length&&z(ia(D[h-1],ve),ia(D[h],ve))?xs(D[h],ve):ys(N(ie.element,z),!0,ie.isLocked),z,N),...X]},Qp=(m,h,v,z,N)=>O(m,D=>{const F=h>0&&h<wi(D)&&z(ia(D,h-1),ia(D,h)),$=((X,ie,ve,de,he,fe,se)=>{if(ve!=="colgroup"&&de)return xs(X,ie);{const ke=xs(X,he);return ys(se(ke.element,fe),!0,!1)}})(D,h,D.section,F,v,z,N);return ni(D,h,$)}),gv=(m,h,v,z)=>((N,D,F,$)=>ia(N[D],F)!==void 0&&D>0&&$(ia(N[D-1],F),ia(N[D],F)))(m,h,v,z)||((N,D,F)=>D>0&&F(ia(N,D-1),ia(N,D)))(m[h],v,z),eg=(m,h,v,z)=>{const N=D=>(F=>F==="row"?($=>ki($,"rowspan")>1)(h):an(h))(D)?`${D}group`:D;return m?zr(h)?N(v):null:z&&zr(h)?N(v==="row"?"col":"row"):null},Vm=(m,h,v)=>ys(v(m.element,h),!0,m.isLocked),Tb=(m,h,v,z,N,D,F)=>O(m,($,X)=>(ie=>{const ve=ie.cells,de=O(ve,(he,fe)=>{if((se=>Le(h,ke=>v(se.element,ke.element)))(he)){const se=F(he,X,fe)?N(he,v,z):he;return D(se,X,fe).each(ke=>{var We,Fe;We=se.element,Fe={scope:pe.from(ke)},Go(Fe,(Qe,st)=>{Qe.fold(()=>{Io(We,st)},ft=>{$r(We.dom,st,ft)})})}),se}return he});return pa(ie.element,de,ie.section,ie.isNew)})($)),D1=(m,h,v)=>Se(m,(z,N)=>gv(m,N,h,v)?[]:[xs(z,h)]),eh=(m,h,v,z,N)=>{const D=Tn(m).rows,F=Se(h,ve=>D1(D,ve,z)),$=O(D,ve=>ef(ve.cells)),X=((ve,de)=>ot(de,sn)&&ef(ve)?Ct:(he,fe,se)=>!(to(he.element)==="th"&&de[fe]))(F,$);return Tb(m,F,z,N,Vm,((ve,de)=>(he,fe)=>pe.some(eg(ve,he.element,"row",de[fe])))(v,$),X)},tf=(m,h,v,z)=>{const N=Tn(m).rows,D=O(h,F=>xs(N[F.row],F.column));return Tb(m,D,v,z,Vm,pe.none,Ct)},Wf=m=>{if(!So(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const h=[],v={};return To(m,(z,N)=>{const D=ls(z);if(D.length!==1)throw new Error("one and only one name per case");const F=D[0],$=z[F];if(v[F]!==void 0)throw new Error("duplicate key detected:"+F);if(F==="cata")throw new Error("cannot have a case named cata (sorry)");if(!So($))throw new Error("case arguments must be an array");h.push(F),v[F]=(...X)=>{const ie=X.length;if(ie!==$.length)throw new Error("Wrong number of arguments to case "+F+". Expected "+$.length+" ("+$+"), got "+ie);return{fold:(...ve)=>{if(ve.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+ve.length);return ve[N].apply(null,X)},match:ve=>{const de=ls(ve);if(h.length!==de.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+de.join(","));if(!ot(h,he=>Po(de,he)))throw new Error("Not all branches were specified when using match. Specified: "+de.join(", ")+`
Required: `+h.join(", "));return ve[F].apply(null,X)},log:ve=>{console.log(ve,{constructors:h,constructor:F,params:X})}}}}),v},tg={...Wf([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Ob=(m,h,v)=>{const z=((N,D)=>du(N)?((F,$)=>{const X=td(F);return O(X,(ie,ve)=>({element:ie.element,width:$[ve],colspan:ie.colspan}))})(N,D):((F,$)=>{const X=cn(F);return O(X,ie=>{const ve=((de,he,fe)=>{let se=0;for(let ke=de;ke<he;ke++)se+=fe[ke]!==void 0?fe[ke]:0;return se})(ie.column,ie.column+ie.colspan,$);return{element:ie.element,width:ve,colspan:ie.colspan}})})(N,D))(m,h);To(z,N=>{v.setElementWidth(N.element,N.width)})},th=(m,h,v,z,N)=>{const D=Rs(m),F=N.getCellDelta(h),$=N.getWidths(D,N),X=v===D.grid.columns-1,ie=z.clampTableDelta($,v,F,N.minCellWidth(),X),ve=((he,fe,se,ke,We)=>{const Fe=he.slice(0),Qe=((ft,ct)=>ft.length===0?tg.none():ft.length===1?tg.only(0):ct===0?tg.left(0,1):ct===ft.length-1?tg.right(ct-1,ct):ct>0&&ct<ft.length-1?tg.middle(ct-1,ct,ct+1):tg.none())(he,fe),st=Yt(O(Fe,Yt(0)));return Qe.fold(st,ft=>ke.singleColumnWidth(Fe[ft],se),(ft,ct)=>We.calcLeftEdgeDeltas(Fe,ft,ct,se,ke.minCellWidth(),ke.isRelative),(ft,ct,xt)=>We.calcMiddleDeltas(Fe,ft,ct,xt,se,ke.minCellWidth(),ke.isRelative),(ft,ct)=>We.calcRightEdgeDeltas(Fe,ft,ct,se,ke.minCellWidth(),ke.isRelative))})($,v,ie,N,z),de=O(ve,(he,fe)=>he+$[fe]);Ob(D,de,N),z.resizeTable(N.adjustTableWidth,ie,X)},M1=(m,h,v)=>{const z=Rs(m),N=((X,ie)=>la(X,ie,rd,ve=>ve.getOrThunk(Bd)))(z,m),D=O(N,(X,ie)=>v===ie?Math.max(h+X,Bd()):X),F=((X,ie)=>O(X.all,(ve,de)=>({element:ve.element,height:ie[de]})))(z,D);To(F,X=>{no(X.element,X.height)}),To(cn(z),X=>{(ie=>{wr(ie,"height")})(X.element)});const $=qr(D,(X,ie)=>X+ie,0);no(m,$)},og=m=>Je(m,(h,v)=>Le(h,z=>z.column===v.column)?h:h.concat([v]),[]).sort((h,v)=>h.column-v.column),oh=Fn("col"),of=Fn("colgroup"),hv=m=>to(m)==="tr"||of(m),$m=m=>({element:m,colspan:$i(m,"colspan",1),rowspan:$i(m,"rowspan",1)}),Dc=m=>ko(m,"scope").map(h=>h.substr(0,3)),fs=(m,h=$m)=>{const v=N=>{if(hv(N))return of((D={element:N}).element)?m.colgroup(D):m.row(D);{const F=N,$=(X=>oh(X.element)?m.col(X):m.cell(X))(h(F));return z=pe.some({item:F,replacement:$}),$}var D};let z=pe.none();return{getOrInit:(N,D)=>z.fold(()=>v(N),F=>D(N,F.item)?F.replacement:v(N))}},B1=m=>h=>{const v=[],z=N=>{const D=m==="td"?{scope:null}:{},F=h.replace(N,m,D);return v.push({item:N,sub:F}),F};return{replaceOrInit:(N,D)=>{if(hv(N)||oh(N))return N;{const F=N;return(($,X)=>un(v,ie=>X(ie.item,$)))(F,D).fold(()=>z(F),$=>D(N,$.item)?$.sub:z(F))}}}},Ab=m=>({unmerge:h=>{const v=Dc(h);return v.each(z=>Yo(h,"scope",z)),()=>{const z=m.cell({element:h,colspan:1,rowspan:1});return wr(z,"width"),wr(h,"width"),v.each(N=>Yo(z,"scope",N)),z}},merge:h=>(wr(h[0],"width"),(()=>{const v=ei(O(h,Dc));if(v.length===0)return pe.none();{const z=v[0],N=["row","col"];return Le(v,D=>D!==z&&Po(N,D))?pe.none():pe.from(z)}})().fold(()=>Io(h[0],"scope"),v=>Yo(h[0],"scope",v+"group")),Yt(h[0]))}),Uw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Nb=At(),ng=m=>((h,v)=>{const z=h.property().name(v);return Po(Uw,z)})(Nb,m),bv=m=>((h,v)=>{const z=h.property().name(v);return Po(["ol","ul"],z)})(Nb,m),P1=m=>{const h=Fn("br"),v=N=>jr(N).bind(D=>{const F=Ya(D).map($=>!!ng($)||!!((X,ie)=>Po(["br","img","hr","input"],X.property().name(ie)))(Nb,$)&&to($)!=="img").getOr(!1);return Oa(D).map($=>{return F===!0||to(X=$)==="li"||el(X,bv).isSome()||h(D)||ng($)&&!Wn(N,$)?[]:[rt.fromTag("br")];var X})}).getOr([]),z=(()=>{const N=Se(m,D=>{const F=Os(D);return($=>ot($,X=>h(X)||Yn(X)&&Qs(X).trim().length===0))(F)?[]:F.concat(v(D))});return N.length===0?[rt.fromTag("br")]:N})();Fi(m[0]),bi(m[0],z)},nh=m=>Da(m,!0),nf=m=>{Dn(m).length===0&&dr(m)},Um=(m,h)=>({grid:m,cursor:h}),Bo=(m,h,v)=>{const z=((N,D,F)=>{var $,X;const ie=Tn(N).rows;return pe.from((X=($=ie[D])===null||$===void 0?void 0:$.cells[F])===null||X===void 0?void 0:X.element).filter(nh).orThunk(()=>(ve=>H(ve,de=>H(de.cells,he=>{const fe=he.element;return su(nh(fe),fe)})))(ie))})(m,h,v);return Um(m,z)},di=m=>Je(m,(h,v)=>Le(h,z=>z.row===v.row)?h:h.concat([v]),[]).sort((h,v)=>h.row-v.row),rf=(m,h)=>(v,z,N,D,F)=>{const $=di(z),X=O($,ve=>ve.row),ie=((ve,de,he,fe,se,ke,We)=>{const{cols:Fe,rows:Qe}=Tn(ve),st=Qe[de[0]],ft=Se(de,Oo=>((qo,Ao,Gn)=>{const _s=qo[Ao];return Se(_s.cells,(Wa,Ea)=>gv(qo,Ao,Ea,Gn)?[]:[Wa])})(Qe,Oo,se)),ct=O(st.cells,(Oo,qo)=>ef(D1(Qe,qo,se))),xt=[...Qe];To(de,Oo=>{xt[Oo]=We.transformRow(Qe[Oo],he)});const Pt=[...Fe,...xt],co=((Oo,qo)=>ot(qo,sn)&&ef(Oo.cells)?Ct:(Ao,Gn,_s)=>!(to(Ao.element)==="th"&&qo[_s]))(st,ct),vn=((Oo,qo)=>(Ao,Gn,_s)=>pe.some(eg(Oo,Ao.element,"col",qo[_s])))(fe,ct);return Tb(Pt,ft,se,ke,We.transformCell,vn,co)})(v,X,m,h,N,D.replaceOrInit,F);return Bo(ie,z[0].row,z[0].column)},L1=rf("thead",!0),Yr=rf("tbody",!1),yv=rf("tfoot",!1),qf=(m,h,v)=>{const z=((D,F)=>ae(D,()=>F))(m,v.section),N=Cs(z);return ii(N,h,!0)},jm=(m,h,v,z)=>((N,D,F,$)=>{const X=Cs(D),ie=$.getWidths(X,$);Ob(X,ie,$)})(0,h,0,z.sizing),Mn=(m,h,v,z)=>((N,D,F,$,X)=>{const ie=Cs(D),ve=$.getWidths(ie,$),de=$.pixelWidth(),{newSizes:he,delta:fe}=X.calcRedestributedWidths(ve,de,F.pixelDelta,$.isRelative);Ob(ie,he,$),$.adjustTableWidth(fe)})(0,h,v,z.sizing,z.resize),I1=(m,h)=>Le(h,v=>v.column===0&&v.isLocked),F1=(m,h)=>Le(h,v=>v.column+v.colspan>=m.grid.columns&&v.isLocked),Gf=(m,h)=>{const v=Wu(m),z=og(h);return Je(z,(N,D)=>N+v[D.column].map(cu).getOr(0),0)},uc=m=>(h,v)=>cr(h,v).filter(z=>!(m?I1:F1)(h,z)).map(z=>({details:z,pixelDelta:Gf(h,z)})),rh=m=>(h,v)=>lr(h,v).filter(z=>!(m?I1:F1)(h,z.cells)),wt=B1("th"),Rb=B1("td"),jw=zs((m,h,v,z)=>{const N=h[0].row,D=di(h),F=qr(D,($,X)=>({grid:R1($.grid,N,X.row+$.delta,v,z.getOrInit),delta:$.delta+1}),{grid:m,delta:0}).grid;return Bo(F,N,h[0].column)},cr,Ht,Ht,fs),H1=zs((m,h,v,z)=>{const N=di(h),D=N[N.length-1],F=D.row+D.rowspan,$=qr(N,(X,ie)=>R1(X,F,ie.row,v,z.getOrInit),m);return Bo($,F,h[0].column)},cr,Ht,Ht,fs),xv=zs((m,h,v,z)=>{const N=h.details,D=og(N),F=D[0].column,$=qr(D,(X,ie)=>({grid:Qp(X.grid,F,ie.column+X.delta,v,z.getOrInit),delta:X.delta+1}),{grid:m,delta:0}).grid;return Bo($,N[0].row,F)},uc(!0),Mn,Ht,fs),Db=zs((m,h,v,z)=>{const N=h.details,D=N[N.length-1],F=D.column+D.colspan,$=og(N),X=qr($,(ie,ve)=>Qp(ie,F,ve.column,v,z.getOrInit),m);return Bo(X,N[0].row,F)},uc(!1),Mn,Ht,fs),rg=zs((m,h,v,z)=>{const N=og(h.details),D=(($,X)=>Se($,ie=>{const ve=ie.cells,de=qr(X,(he,fe)=>fe>=0&&fe<he.length?he.slice(0,fe).concat(he.slice(fe+1)):he,ve);return de.length>0?[pa(ie.element,de,ie.section,ie.isNew)]:[]}))(m,O(N,$=>$.column)),F=D.length>0?D[0].cells.length-1:0;return Bo(D,N[0].row,Math.min(N[0].column,F))},(m,h)=>yl(m,h).map(v=>({details:v,pixelDelta:-Gf(m,v)})),Mn,nf,fs),sg=zs((m,h,v,z)=>{const N=di(h),D=(($,X,ie)=>{const{rows:ve,cols:de}=Tn($);return[...de,...ve.slice(0,X),...ve.slice(ie+1)]})(m,N[0].row,N[N.length-1].row),F=Math.max(Tn(D).rows.length-1,0);return Bo(D,Math.min(h[0].row,F),h[0].column)},cr,Ht,nf,fs),vv=zs((m,h,v,z)=>{const N=og(h),D=O(N,$=>$.column),F=eh(m,D,!0,v,z.replaceOrInit);return Bo(F,h[0].row,h[0].column)},yl,Ht,Ht,wt),Mb=zs((m,h,v,z)=>{const N=og(h),D=O(N,$=>$.column),F=eh(m,D,!1,v,z.replaceOrInit);return Bo(F,h[0].row,h[0].column)},yl,Ht,Ht,Rb),_v=zs(L1,cr,Ht,Ht,wt),Bb=zs(Yr,cr,Ht,Ht,Rb),ag=zs(yv,cr,Ht,Ht,Rb),Pb=zs((m,h,v,z)=>{const N=tf(m,h,v,z.replaceOrInit);return Bo(N,h[0].row,h[0].column)},yl,Ht,Ht,wt),Lb=zs((m,h,v,z)=>{const N=tf(m,h,v,z.replaceOrInit);return Bo(N,h[0].row,h[0].column)},yl,Ht,Ht,Rb),kv=zs((m,h,v,z)=>{const N=h.cells;P1(N);const D=((F,$,X,ie)=>{const ve=Tn(F).rows;if(ve.length===0)return F;for(let de=$.startRow;de<=$.finishRow;de++)for(let he=$.startCol;he<=$.finishCol;he++){const fe=ve[de],se=xs(fe,he).isLocked;Zs(fe,he,ys(ie(),!1,se))}return F})(m,h.bounds,0,z.merge(N));return Um(D,pe.from(N[0]))},(m,h)=>((v,z)=>z.mergable)(0,h).filter(v=>li(m,v.cells)),jm,Ht,Ab),V1=zs((m,h,v,z)=>{const N=qr(h,(D,F)=>jf(D,F,v,z.unmerge(F)),m);return Um(N,pe.from(h[0]))},(m,h)=>((v,z)=>z.unmergable)(0,h).filter(v=>li(m,v)),jm,Ht,Ab),Zw=zs((m,h,v,z)=>{const N=(($,X)=>{const ie=Rs($);return ii(ie,X,!0)})(h.clipboard,h.generators);var D,F;return(($,X,ie,ve,de)=>{const he=tl(X),fe=((Fe,Qe,st)=>{const ft=wi(Qe[0]),ct=Tn(Qe).cols.length+Fe.row,xt=jt(ft-Fe.column,Pt=>Pt+Fe.column);return{row:ct,column:un(xt,Pt=>ot(st,co=>co!==Pt)).getOr(ft-1)}})($,X,he),se=Tn(ie).rows,ke=Qg(fe,se,he);return((Fe,Qe,st)=>{if(Fe.row>=Qe.length||Fe.column>wi(Qe[0]))return pn.error("invalid start address out of table bounds, row: "+Fe.row+", column: "+Fe.column);const ft=Qe.slice(Fe.row),ct=ft[0].cells.slice(Fe.column),xt=wi(st[0]),Pt=st.length;return pn.value({rowDelta:ft.length-Pt,colDelta:ct.length-xt})})(fe,X,se).map(Fe=>{const Qe={...Fe,colDelta:Fe.colDelta-ke.length},st=Rc(X,Qe,ve),ft=tl(st),ct=Qg(fe,se,ft);return((xt,Pt,co,vn,Oo,qo)=>{const Ao=xt.row,Gn=xt.column,_s=Ao+co.length,Wa=Gn+wi(co[0])+qo.length,Ea=$o(qo,Ct);for(let Yi=Ao;Yi<_s;Yi++){let Su=0;for(let kl=Gn;kl<Wa;kl++){if(Ea[kl]){Su++;continue}Zf(Pt,Yi,kl,Oo)&&jf(Pt,ia(Pt[Yi],kl),Oo,vn.cell);const lp=kl-Gn-Su,iy=xs(co[Yi-Ao],lp),ly=iy.element,cy=vn.replace(ly);Zs(Pt[Yi],kl,ys(cy,!0,iy.isLocked))}}return Pt})(fe,st,se,ve,de,ct)})})((D=h.row,F=h.column,{row:D,column:F}),m,N,h.generators,v).fold(()=>Um(m,pe.some(h.element)),$=>Bo($,h.row,h.column))},(m,h)=>ju(h.element).bind(v=>dd(m,v).map(z=>({...z,generators:h.generators,clipboard:h.clipboard}))),jm,Ht,fs),wv=zs((m,h,v,z)=>{const N=Tn(m).rows,D=h.cells[0].column,F=N[h.cells[0].row],$=qf(h.clipboard,h.generators,F),X=zb(D,m,$,h.generators,v);return Bo(X,h.cells[0].row,h.cells[0].column)},rh(!0),Ht,Ht,fs),$1=zs((m,h,v,z)=>{const N=Tn(m).rows,D=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,F=N[h.cells[0].row],$=qf(h.clipboard,h.generators,F),X=zb(D,m,$,h.generators,v);return Bo(X,h.cells[0].row,D)},rh(!1),Ht,Ht,fs),Ww=zs((m,h,v,z)=>{const N=Tn(m).rows,D=h.cells[0].row,F=N[D],$=qf(h.clipboard,h.generators,F),X=N1(D,m,$,h.generators,v);return Bo(X,h.cells[0].row,h.cells[0].column)},lr,Ht,Ht,fs),Zm=zs((m,h,v,z)=>{const N=Tn(m).rows,D=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,F=N[h.cells[0].row],$=qf(h.clipboard,h.generators,F),X=N1(D,m,$,h.generators,v);return Bo(X,D,h.cells[0].column)},lr,Ht,Ht,fs),U1=(m,h)=>{const v=Rs(m);return cr(v,h).bind(z=>{const N=z[z.length-1],D=z[0].column,F=N.column+N.colspan,$=De(O(v.all,X=>Do(X.cells,ie=>ie.column>=D&&ie.column<F)));return Uf($)}).getOr("")},Ib=(m,h)=>{const v=Rs(m);return cr(v,h).bind(Uf).getOr("")},sf=(m,h)=>{const v=Rs(m);return cr(v,h).bind(z=>{const N=z[z.length-1],D=z[0].row,F=N.row+N.rowspan;return($=>{const X=O($,de=>cc(de).type),ie=Po(X,"header"),ve=Po(X,"footer");if(ie||ve){const de=Po(X,"body");return!ie||de||ve?ie||de||!ve?pe.none():pe.some("footer"):pe.some("header")}return pe.some("body")})(v.all.slice(D,F))}).getOr("")},ud=(m,h)=>m.dispatch("NewRow",{node:h}),j1=(m,h)=>m.dispatch("NewCell",{node:h}),fc=(m,h,v)=>{m.dispatch("TableModified",{...v,table:h})},Wm={structure:!1,style:!0},Ma={structure:!0,style:!1},Z1={structure:!0,style:!0},Cv=(m,h)=>U(m)?ca(h):le(m)?Ss(h):zc(h),sh=(m,h,v)=>{const z=ve=>to(Ud(ve))==="table",N=ea(m),D=S(m)?Ht:je,F=ve=>{switch(Xn(m)){case"section":return Ie();case"sectionCells":return xe();case"cells":return Bt();default:return((de,he)=>{var fe;switch((fe=Rs(de),H(fe.all,se=>{const ke=cc(se);return ke.type==="header"?pe.from(ke.subType):pe.none()})).getOr(he)){case"section":return V();case"sectionCells":return Q();case"cells":return ye()}})(ve,"section")}},$=(ve,de,he,fe)=>(se,ke,We=!1)=>{Oi(se);const Fe=rt.fromDom(m.getDoc()),Qe=Ee(he,Fe,N),st={sizing:Cv(m,se),resize:S(m)?Pl():Es(),section:F(se)};return de(se)?ve(se,ke,Qe,st).bind(ft=>{h.refresh(se.dom),To(ft.newRows,xt=>{ud(m,xt.dom)}),To(ft.newCells,xt=>{j1(m,xt.dom)});const ct=((xt,Pt)=>Pt.cursor.fold(()=>{const co=Dn(xt);return bo(co).filter(os).map(vn=>{v.clearSelectedCells(xt.dom);const Oo=m.dom.createRng();return Oo.selectNode(vn.dom),m.selection.setRng(Oo),Yo(vn,"data-mce-selected","1"),Oo})},co=>{const vn=Sb(A1,co),Oo=m.dom.createRng();return Oo.setStart(vn.element.dom,vn.offset),Oo.setEnd(vn.element.dom,vn.offset),m.selection.setRng(Oo),v.clearSelectedCells(xt.dom),pe.some(Oo)}))(se,ft);return os(se)&&(Oi(se),We||fc(m,se.dom,fe)),ct.map(xt=>({rng:xt,effect:fe}))}):pe.none()},X=$(sg,ve=>!z(m)||Jn(ve).rows>1,Ht,Ma),ie=$(rg,ve=>!z(m)||Jn(ve).columns>1,Ht,Ma);return{deleteRow:X,deleteColumn:ie,insertRowsBefore:$(jw,Ct,Ht,Ma),insertRowsAfter:$(H1,Ct,Ht,Ma),insertColumnsBefore:$(xv,Ct,D,Ma),insertColumnsAfter:$(Db,Ct,D,Ma),mergeCells:$(kv,Ct,Ht,Ma),unmergeCells:$(V1,Ct,Ht,Ma),pasteColsBefore:$(wv,Ct,Ht,Ma),pasteColsAfter:$($1,Ct,Ht,Ma),pasteRowsBefore:$(Ww,Ct,Ht,Ma),pasteRowsAfter:$(Zm,Ct,Ht,Ma),pasteCells:$(Zw,Ct,Ht,Z1),makeCellsHeader:$(Pb,Ct,Ht,Ma),unmakeCellsHeader:$(Lb,Ct,Ht,Ma),makeColumnsHeader:$(vv,Ct,Ht,Ma),unmakeColumnsHeader:$(Mb,Ct,Ht,Ma),makeRowsHeader:$(_v,Ct,Ht,Ma),makeRowsBody:$(Bb,Ct,Ht,Ma),makeRowsFooter:$(ag,Ct,Ht,Ma),getTableRowType:sf,getTableCellType:Ib,getTableColType:U1}},Or=(m,h,v)=>{const z=$i(m,h,1);v===1||z<=1?Io(m,h):Yo(m,h,Math.min(v,z))},Kf=(m,h)=>v=>{const z=v.column+v.colspan-1,N=v.column;return z>=m&&N<h},ig=Wf([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Fb=(m,h,v)=>{const z=v.substring(0,v.length-m.length),N=parseFloat(z);return z===N.toString()?h(N):ig.invalid(v)},qs={...ig,from:m=>us(m,"%")?Fb("%",ig.percent,m):us(m,"px")?Fb("px",ig.pixels,m):ig.invalid(m)},Ll=(m,h,v)=>{const z=qs.from(v),N=ot(m,D=>D==="0px")?((D,F)=>{const $=D.fold(()=>Yt(""),X=>Yt(X/F+"px"),()=>Yt(100/F+"%"));return jt(F,$)})(z,m.length):((D,F,$)=>D.fold(()=>F,X=>((ie,ve,de)=>{const he=de/ve;return O(ie,fe=>qs.from(fe).fold(()=>fe,se=>se*he+"px",se=>se/100*de+"px"))})(F,$,X),X=>((ie,ve)=>O(ie,de=>qs.from(de).fold(()=>de,he=>he/ve*100+"%",he=>he+"%")))(F,$)))(z,m,h);return Sv(N)},Ar=(m,h)=>m.length===0?h:qr(m,(v,z)=>qs.from(z).fold(Yt(0),sn,sn)+v,0),ah=(m,h)=>qs.from(m).fold(Yt(m),v=>v+h+"px",v=>v+h+"%"),Sv=m=>{if(m.length===0)return m;const h=qr(m,(z,N)=>{const D=qs.from(N).fold(()=>({value:N,remainder:0}),F=>($=>{const X=Math.floor($);return{value:X+"px",remainder:$-X}})(F),F=>({value:F+"%",remainder:0}));return{output:[D.value].concat(z.output),remainder:z.remainder+D.remainder}},{output:[],remainder:0}),v=h.output;return v.slice(0,v.length-1).concat([ah(v[v.length-1],Math.round(h.remainder))])},qm=qs.from,oa=(m,h,v)=>{const z=Rs(m),N=z.all,D=cn(z),F=td(z);h.each($=>{const X=qm($).fold(Yt("px"),Yt("px"),Yt("%")),ie=Fa(m),ve=((he,fe)=>nc(he,fe,Ec,sd))(z,m),de=Ll(ve,ie,$);du(z)?((he,fe,se)=>{To(fe,(ke,We)=>{const Fe=Ar([he[We]],Al());Zt(ke.element,"width",Fe+se)})})(de,F,X):((he,fe,se)=>{To(fe,ke=>{const We=he.slice(ke.column,ke.colspan+ke.column),Fe=Ar(We,Al());Zt(ke.element,"width",Fe+se)})})(de,D,X),Zt(m,"width",$)}),v.each($=>{const X=Hd(m),ie=((ve,de)=>la(ve,de,Pf,sd))(z,m);((ve,de,he)=>{To(he,fe=>{wr(fe.element,"height")}),To(de,(fe,se)=>{Zt(fe.element,"height",ve[se])})})(Ll(ie,X,$),N,D),Zt(m,"height",$)})},vu=m=>gu(m).exists(h=>tc.test(h)),Mc=m=>gu(m).exists(h=>_a.test(h)),Hb=m=>gu(m).isNone(),Gm=m=>{Io(m,"width"),Io(m,"height")},Km=m=>{const h=Mr(m);oa(m,pe.some(h),pe.none()),Gm(m)},Yf=m=>{const h=(v=>Fa(v)+"px")(m);oa(m,pe.some(h),pe.none()),Gm(m)},ih=m=>{wr(m,"width");const h=Yl(m),v=h.length>0?h:Dn(m);To(v,z=>{wr(z,"width"),Gm(z)}),Gm(m)},W1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Ev=(m,h,v,z)=>jt(m,N=>((D,F,$,X)=>{const ie=rt.fromTag("tr");for(let ve=0;ve<D;ve++){const de=rt.fromTag(X<F||ve<$?"th":"td");ve<$&&Yo(de,"scope","row"),X<F&&Yo(de,"scope","col"),Dr(de,rt.fromTag("br")),Dr(ie,de)}return ie})(h,v,z,N)),Ni=(m,h)=>{m.selection.select(h.dom,!0),m.selection.collapse(!0)},Ym=(m,h,v,z,N)=>{const D=($=>{const X=$.options,ie=X.get("table_default_styles");return X.isSet("table_default_styles")?ie:((ve,de)=>ge(ve)||!ro(ve)?de:le(ve)?{...de,width:Ca(ve)}:{...de,width:or})($,ie)})(m),F={styles:D,attributes:_o(m),colGroups:Dt(m)};return m.undoManager.ignore(()=>{const $=((ie,ve,de,he,fe,se=W1)=>{const ke=rt.fromTag("table"),We=fe!=="cells";ti(ke,se.styles),Ys(ke,se.attributes),se.colGroups&&Dr(ke,(ft=>{const ct=rt.fromTag("colgroup");return jt(ft,()=>Dr(ct,rt.fromTag("col"))),ct})(ve));const Fe=Math.min(ie,de);if(We&&de>0){const ft=rt.fromTag("thead");Dr(ke,ft);const ct=Ev(de,ve,fe==="sectionCells"?Fe:0,he);bi(ft,ct)}const Qe=rt.fromTag("tbody");Dr(ke,Qe);const st=Ev(We?ie-Fe:ie,ve,We?0:de,he);return bi(Qe,st),ke})(v,h,N,z,Xn(m),F);Yo($,"data-mce-id","__mce");const X=(ie=>{const ve=rt.fromTag("div"),de=rt.fromDom(ie.dom.cloneNode(!0));return Dr(ve,de),(he=>he.dom.innerHTML)(ve)})($);m.insertContent(X),m.addVisual()}),$s(Ud(m),'table[data-mce-id="__mce"]').map($=>(le(m)?Yf($):ge(m)?ih($):(U(m)||(X=>No(X)&&X.indexOf("%")!==-1)(D.width))&&Km($),Oi($),Io($,"data-mce-id"),((X,ie)=>{To(Qa(ie,"tr"),ve=>{ud(X,ve.dom),To(Qa(ve,"th,td"),de=>{j1(X,de.dom)})})})(m,$),((X,ie)=>{$s(ie,"td,th").each(et(Ni,X))})(m,$),$.dom)).getOrNull()};var Vb=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const zv="x-tinymce/dom-table-",q1=zv+"rows",$b=zv+"columns",mc=m=>{const h=Vb.FakeClipboardItem(m);Vb.write([h])},ui=m=>{var h;const v=(h=Vb.read())!==null&&h!==void 0?h:[];return H(v,z=>pe.from(z.getType(m)))},Ts=m=>{ui(m).isSome()&&Vb.clear()},Ms=m=>{m.fold(da,h=>mc({[q1]:h}))},Za=()=>ui(q1),da=()=>Ts(q1),vs=m=>{m.fold(Xm,h=>mc({[$b]:h}))},gs=()=>ui($b),Xm=()=>Ts($b),af=m=>Fm(hl(m),Ds(m)).filter(Oc),lg=(m,h)=>{const v=Ds(m),z=de=>Gr(de,v),N=de=>(he=>Vo(hl(he),Ds(he)).filter(Oc))(m).bind(he=>z(he).map(fe=>de(fe,he))),D=de=>{m.focus()},F=(de,he=!1)=>N((fe,se)=>{const ke=Ai(Vt(m),fe,se);de(fe,ke,he).each(D)}),$=()=>N((de,he)=>((fe,se,ke)=>{const We=Rs(fe);return cr(We,se).bind(Fe=>{const Qe=ii(We,ke,!1),st=Tn(Qe).rows.slice(Fe[0].row,Fe[Fe.length-1].row+Fe[Fe.length-1].rowspan),ft=Se(st,xt=>{const Pt=Do(xt.cells,co=>!co.isLocked);return Pt.length>0?[{...xt,cells:Pt}]:[]}),ct=dc(ft);return su(ct.length>0,ct)}).map(Fe=>O(Fe,Qe=>{const st=ru(Qe.element);return To(Qe.cells,ft=>{const ct=Gl(ft.element);Mo(ct,"colspan",ft.colspan,1),Mo(ct,"rowspan",ft.rowspan,1),Dr(st,ct)}),st}))})(de,Ai(Vt(m),de,he),Ee(Ht,rt.fromDom(m.getDoc()),pe.none()))),X=()=>N((de,he)=>((fe,se)=>{const ke=Rs(fe);return yl(ke,se).map(We=>{const Fe=We[We.length-1],Qe=We[0].column,st=Fe.column+Fe.colspan,ft=((xt,Pt,co)=>{if(du(xt)){const vn=Do(td(xt),Kf(Pt,co)),Oo=O(vn,Ao=>{const Gn=Gl(Ao.element);return Or(Gn,"span",co-Pt),Gn}),qo=rt.fromTag("colgroup");return bi(qo,Oo),[qo]}return[]})(ke,Qe,st),ct=((xt,Pt,co)=>O(xt.all,vn=>{const Oo=Do(vn.cells,Kf(Pt,co)),qo=O(Oo,Gn=>{const _s=Gl(Gn.element);return Or(_s,"colspan",co-Pt),_s}),Ao=rt.fromTag("tr");return bi(Ao,qo),Ao}))(ke,Qe,st);return[...ft,...ct]})})(de,Ai(Vt(m),de,he))),ie=(de,he)=>he().each(fe=>{const se=O(fe,ke=>Gl(ke));N((ke,We)=>{const Fe=wa(rt.fromDom(m.getDoc())),Qe=((st,ft,ct,xt)=>({selection:lt(st),clipboard:ct,generators:xt}))(Vt(m),0,se,Fe);de(ke,Qe).each(D)})}),ve=de=>(he,fe)=>((se,ke)=>Ko(se,ke)?pe.from(se[ke]):pe.none())(fe,"type").each(se=>{F(de(se),fe.no_events)});Go({mceTableSplitCells:()=>F(h.unmergeCells),mceTableMergeCells:()=>F(h.mergeCells),mceTableInsertRowBefore:()=>F(h.insertRowsBefore),mceTableInsertRowAfter:()=>F(h.insertRowsAfter),mceTableInsertColBefore:()=>F(h.insertColumnsBefore),mceTableInsertColAfter:()=>F(h.insertColumnsAfter),mceTableDeleteCol:()=>F(h.deleteColumn),mceTableDeleteRow:()=>F(h.deleteRow),mceTableCutCol:()=>X().each(de=>{vs(de),F(h.deleteColumn)}),mceTableCutRow:()=>$().each(de=>{Ms(de),F(h.deleteRow)}),mceTableCopyCol:()=>X().each(de=>vs(de)),mceTableCopyRow:()=>$().each(de=>Ms(de)),mceTablePasteColBefore:()=>ie(h.pasteColsBefore,gs),mceTablePasteColAfter:()=>ie(h.pasteColsAfter,gs),mceTablePasteRowBefore:()=>ie(h.pasteRowsBefore,Za),mceTablePasteRowAfter:()=>ie(h.pasteRowsAfter,Za),mceTableDelete:()=>af(m).each(de=>{Gr(de,v).filter(Ut(v)).each(he=>{const fe=rt.fromText("");if(Qi(he,fe),dr(he),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const se=m.dom.createRng();se.setStart(fe.dom,0),se.setEnd(fe.dom,0),m.selection.setRng(se),m.nodeChanged()}})}),mceTableCellToggleClass:(de,he)=>{N(fe=>{const se=Vt(m),ke=ot(se,Fe=>m.formatter.match("tablecellclass",{value:he},Fe.dom)),We=ke?m.formatter.remove:m.formatter.apply;To(se,Fe=>We("tablecellclass",{value:he},Fe.dom)),fc(m,fe.dom,Wm)})},mceTableToggleClass:(de,he)=>{N(fe=>{m.formatter.toggle("tableclass",{value:he},fe.dom),fc(m,fe.dom,Wm)})},mceTableToggleCaption:()=>{af(m).each(de=>{Gr(de,v).each(he=>{vi(he,"caption").fold(()=>{const fe=rt.fromTag("caption");Dr(fe,rt.fromText("Caption")),((se,ke)=>{kc(se,0).fold(()=>{Dr(se,ke)},We=>{_t(We,ke)})})(he,fe),m.selection.setCursorLocation(fe.dom,0)},fe=>{Fn("caption")(de)&&Ii("td",he).each(se=>m.selection.setCursorLocation(se.dom,0)),dr(fe)}),fc(m,he.dom,Ma)})})},mceTableSizingMode:(de,he)=>(fe=>af(m).each(se=>{ge(m)||le(m)||U(m)||Gr(se,v).each(ke=>{fe!=="relative"||vu(ke)?fe!=="fixed"||Mc(ke)?fe!=="responsive"||Hb(ke)||ih(ke):Yf(ke):Km(ke),Oi(ke),fc(m,ke.dom,Ma)})}))(he),mceTableCellType:ve(de=>de==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:ve(de=>de==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:ve(de=>{switch(de){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(de,he)=>m.addCommand(he,de)),m.addCommand("mceInsertTable",(de,he)=>{((fe,se,ke,We={})=>{const Fe=Qe=>Vr(Qe)&&Qe>0;if(Fe(se)&&Fe(ke)){const Qe=We.headerRows||0,st=We.headerColumns||0;return Ym(fe,ke,se,st,Qe)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(m,he.rows,he.columns,he.options)}),m.addCommand("mceTableApplyCellStyle",(de,he)=>{const fe=We=>"tablecell"+We.toLowerCase().replace("-","");if(!Ot(he))return;const se=Do(Vt(m),Oc);if(se.length===0)return;const ke=((We,Fe)=>{const Qe={};return((st,ft,ct,xt)=>{Go(st,(Pt,co)=>{(ft(Pt,co)?ct:xt)(Pt,co)})})(We,Fe,(st=>(ft,ct)=>{st[ct]=ft})(Qe),Ht),Qe})(he,(We,Fe)=>m.formatter.has(fe(Fe))&&No(We));(We=>{for(const Fe in We)if(ir.call(We,Fe))return!1;return!0})(ke)||(Go(ke,(We,Fe)=>{const Qe=fe(Fe);To(se,st=>{We===""?m.formatter.remove(Qe,{value:null},st.dom,!0):m.formatter.apply(Qe,{value:We},st.dom)})}),z(se[0]).each(We=>fc(m,We.dom,Wm)))})},lh=Wf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ri={before:lh.before,on:lh.on,after:lh.after,cata:(m,h,v,z)=>m.fold(h,v,z),getStart:m=>m.fold(sn,sn,sn)},Jm=(m,h)=>({selection:m,kill:h}),Ub=(m,h)=>{const v=m.document.createRange();return v.selectNode(h.dom),v},jb=(m,h)=>{const v=m.document.createRange();return G1(v,h),v},G1=(m,h)=>m.selectNodeContents(h.dom),Tv=(m,h,v)=>{const z=m.document.createRange();var N;return N=z,h.fold(D=>{N.setStartBefore(D.dom)},(D,F)=>{N.setStart(D.dom,F)},D=>{N.setStartAfter(D.dom)}),((D,F)=>{F.fold($=>{D.setEndBefore($.dom)},($,X)=>{D.setEnd($.dom,X)},$=>{D.setEndAfter($.dom)})})(z,v),z},K1=(m,h,v,z,N)=>{const D=m.document.createRange();return D.setStart(h.dom,v),D.setEnd(z.dom,N),D},Il=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),ch=Wf([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ba=(m,h,v)=>h(rt.fromDom(v.startContainer),v.startOffset,rt.fromDom(v.endContainer),v.endOffset),cg=(m,h)=>{const v=((z,N)=>N.match({domRange:D=>({ltr:Yt(D),rtl:pe.none}),relative:(D,F)=>({ltr:dt(()=>Tv(z,D,F)),rtl:dt(()=>pe.some(Tv(z,F,D)))}),exact:(D,F,$,X)=>({ltr:dt(()=>K1(z,D,F,$,X)),rtl:dt(()=>pe.some(K1(z,$,X,D,F)))})}))(m,h);return((z,N)=>{const D=N.ltr();return D.collapsed?N.rtl().filter(F=>F.collapsed===!1).map(F=>ch.rtl(rt.fromDom(F.endContainer),F.endOffset,rt.fromDom(F.startContainer),F.startOffset)).getOrThunk(()=>Ba(0,ch.ltr,D)):Ba(0,ch.ltr,D)})(0,v)},fd=(m,h)=>cg(m,h).match({ltr:(v,z,N,D)=>{const F=m.document.createRange();return F.setStart(v.dom,z),F.setEnd(N.dom,D),F},rtl:(v,z,N,D)=>{const F=m.document.createRange();return F.setStart(N.dom,D),F.setEnd(v.dom,z),F}});ch.ltr,ch.rtl;const pc=(m,h,v,z)=>({start:m,soffset:h,finish:v,foffset:z}),Di=(m,h,v,z)=>({start:Ri.on(m,h),finish:Ri.on(v,z)}),dh=(m,h)=>{const v=fd(m,h);return pc(rt.fromDom(v.startContainer),v.startOffset,rt.fromDom(v.endContainer),v.endOffset)},md=Di,Zb=(m,h,v,z,N)=>Wn(v,z)?pe.none():Vf(v,z,h).bind(D=>{const F=D.boxes.getOr([]);return F.length>1?(N(m,F,D.start,D.finish),pe.some(Jm(pe.some(md(v,0,v,Ws(v))),!0))):pe.none()}),Wb=(m,h)=>({item:m,mode:h}),qb=(m,h,v,z=Qm)=>m.property().parent(h).map(N=>Wb(N,z)),Qm=(m,h,v,z=pd)=>v.sibling(m,h).map(N=>Wb(N,z)),pd=(m,h,v,z=pd)=>{const N=m.property().children(h);return v.first(N).map(D=>Wb(D,z))},I3=[{current:qb,next:Qm,fallback:pe.none()},{current:Qm,next:pd,fallback:pe.some(qb)},{current:pd,next:pd,fallback:pe.some(Qm)}],Gb=(m,h,v,z,N=I3)=>un(N,D=>D.current===v).bind(D=>D.current(m,h,z,D.next).orThunk(()=>D.fallback.bind(F=>Gb(m,h,F,z)))),lf=(m,h,v,z,N,D)=>Gb(m,h,z,N).bind(F=>D(F.item)?pe.none():v(F.item)?pe.some(F.item):lf(m,F.item,v,F.mode,N,D)),Y1=m=>h=>m.property().children(h).length===0,dg=(m,h,v,z)=>lf(m,h,v,Qm,{sibling:(N,D)=>N.query().prevSibling(D),first:N=>N.length>0?pe.some(N[N.length-1]):pe.none()},z),Ov=(m,h,v,z)=>lf(m,h,v,Qm,{sibling:(N,D)=>N.query().nextSibling(D),first:N=>N.length>0?pe.some(N[0]):pe.none()},z),uh=At(),Gi=(m,h)=>((v,z,N)=>dg(v,z,Y1(v),N))(uh,m,h),Kb=(m,h)=>((v,z,N)=>Ov(v,z,Y1(v),N))(uh,m,h),fh=Wf([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Av=m=>qn(m,"tr"),gc={...fh,verify:(m,h,v,z,N,D,F)=>qn(z,"td,th",F).bind($=>qn(h,"td,th",F).map(X=>Wn($,X)?Wn(z,$)&&Ws($)===N?D(X):fh.none("in same cell"):Bl(Av,[$,X]).fold(()=>((ie,ve,de)=>{const he=ie.getRect(ve),fe=ie.getRect(de);return fe.right>he.left&&fe.left<he.right})(m,X,$)?fh.success():D(X),ie=>D(X)))).getOr(fh.none("default")),cata:(m,h,v,z,N)=>m.fold(h,v,z,N)},X1=Fn("br"),_u=(m,h,v)=>h(m,v).bind(z=>Yn(z)&&Qs(z).trim().length===0?_u(z,h,v):pe.some(z)),J1=(m,h,v,z)=>((N,D)=>kc(N,D).filter(X1).orThunk(()=>kc(N,D-1).filter(X1)))(h,v).bind(N=>z.traverse(N).fold(()=>_u(N,z.gather,m).map(z.relative),D=>(F=>Oa(F).bind($=>{const X=Os($);return((ie,ve)=>Li(ie,et(Wn,ve)))(X,F).map(ie=>((ve,de,he,fe)=>({parent:ve,children:de,element:he,index:fe}))($,X,F,ie))}))(D).map(F=>Ri.on(F.parent,F.index)))),qd=(m,h)=>({left:m.left,top:m.top+h,right:m.right,bottom:m.bottom+h}),ku=(m,h)=>({left:m.left,top:m.top-h,right:m.right,bottom:m.bottom-h}),Nv=(m,h,v)=>({left:m.left+h,top:m.top+v,right:m.right+h,bottom:m.bottom+v}),Xf=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),_l=(m,h)=>pe.some(m.getRect(h)),mh=(m,h,v)=>Rn(h)?_l(m,h).map(Xf):Yn(h)?((z,N,D)=>D>=0&&D<Ws(N)?z.getRangedRect(N,D,N,D+1):D>0?z.getRangedRect(N,D-1,N,D):pe.none())(m,h,v).map(Xf):pe.none(),ph=(m,h)=>Rn(h)?_l(m,h).map(Xf):Yn(h)?m.getRangedRect(h,0,h,Ws(h)).map(Xf):pe.none(),Fl=Wf([{none:[]},{retry:["caret"]}]),cf=(m,h,v)=>cs(h,ng).fold(ue,z=>ph(m,z).exists(N=>((D,F)=>D.left<F.left||Math.abs(F.right-D.left)<1||D.left>F.right)(v,N))),df={point:m=>m.bottom,adjuster:(m,h,v,z,N)=>{const D=qd(N,5);return Math.abs(v.bottom-z.bottom)<1||v.top>N.bottom?Fl.retry(D):v.top===N.bottom?Fl.retry(qd(N,1)):cf(m,h,N)?Fl.retry(Nv(D,5,0)):Fl.none()},move:qd,gather:Kb},Gs=(m,h,v,z,N)=>N===0?pe.some(z):((D,F,$)=>D.elementFromPoint(F,$).filter(X=>to(X)==="table").isSome())(m,z.left,h.point(z))?((D,F,$,X,ie)=>Gs(D,F,$,F.move(X,5),ie))(m,h,v,z,N-1):m.situsFromPoint(z.left,h.point(z)).bind(D=>D.start.fold(pe.none,F=>ph(m,F).bind($=>h.adjuster(m,F,$,v,z).fold(pe.none,X=>Gs(m,h,v,X,N-1))).orThunk(()=>pe.some(z)),pe.none)),gh=(m,h,v)=>{const z=m.move(v,5),N=Gs(h,m,v,z,100).getOr(z);return((D,F,$)=>D.point(F)>$.getInnerHeight()?pe.some(D.point(F)-$.getInnerHeight()):D.point(F)<0?pe.some(-D.point(F)):pe.none())(m,N,h).fold(()=>h.situsFromPoint(N.left,m.point(N)),D=>(h.scrollBy(0,D),h.situsFromPoint(N.left,m.point(N)-D)))},Sa={tryUp:et(gh,{point:m=>m.top,adjuster:(m,h,v,z,N)=>{const D=ku(N,5);return Math.abs(v.top-z.top)<1||v.bottom<N.top?Fl.retry(D):v.bottom===N.top?Fl.retry(ku(N,1)):cf(m,h,N)?Fl.retry(Nv(D,5,0)):Fl.none()},move:ku,gather:Gi}),tryDown:et(gh,df),getJumpSize:Yt(5)},Yb=(m,h,v)=>m.getSelection().bind(z=>((N,D,F,$)=>(X1(D)?((ie,ve,de)=>de.traverse(ve).orThunk(()=>_u(ve,de.gather,ie)).map(de.relative))(N,D,$):J1(N,D,F,$)).map(ie=>({start:ie,finish:ie})))(h,z.finish,z.foffset,v).fold(()=>pe.some(Yu(z.finish,z.foffset)),N=>{const D=m.fromSitus(N);return F=gc.verify(m,z.finish,z.foffset,D.finish,D.foffset,v.failure,h),gc.cata(F,$=>pe.none(),()=>pe.none(),$=>pe.some(Yu($,0)),$=>pe.some(Yu($,Ws($))));var F})),Q1=(m,h,v,z,N,D)=>D===0?pe.none():Qf(m,h,v,z,N).bind(F=>{const $=m.fromSitus(F),X=gc.verify(m,v,z,$.finish,$.foffset,N.failure,h);return gc.cata(X,()=>pe.none(),()=>pe.some(F),ie=>Wn(v,ie)&&z===0?ep(m,v,z,ku,N):Q1(m,h,ie,0,N,D-1),ie=>Wn(v,ie)&&z===Ws(ie)?ep(m,v,z,qd,N):Q1(m,h,ie,Ws(ie),N,D-1))}),ep=(m,h,v,z,N)=>mh(m,h,v).bind(D=>Jf(m,N,z(D,Sa.getJumpSize()))),Jf=(m,h,v)=>{const z=Js().browser;return z.isChromium()||z.isSafari()||z.isFirefox()?h.retry(m,v):pe.none()},Qf=(m,h,v,z,N)=>mh(m,v,z).bind(D=>Jf(m,N,D)),hc=(m,h,v,z,N)=>qn(z,"td,th",h).bind(D=>qn(D,"table",h).bind(F=>(($,X)=>el($,ie=>Oa(ie).exists(ve=>Wn(ve,X)),void 0).isSome())(N,F)?(($,X,ie)=>Yb($,X,ie).bind(ve=>Q1($,X,ve.element,ve.offset,ie,20).map($.fromSitus)))(m,h,v).bind($=>qn($.finish,"td,th",h).map(X=>({start:D,finish:X,range:$}))):pe.none())),Xb=(m,h,v,z,N,D)=>D(z,h).orThunk(()=>hc(m,h,v,z,N).map(F=>{const $=F.range;return Jm(pe.some(md($.start,$.soffset,$.finish,$.foffset)),!0)})),Rv=(m,h)=>qn(m,"tr",h).bind(v=>qn(v,"table",h).bind(z=>{const N=Qa(z,"tr");return Wn(v,N[0])?((D,F,$)=>dg(uh,D,X=>jr(X).isSome(),$))(z,0,h).map(D=>{const F=Ws(D);return Jm(pe.some(md(D,F,D,F)),!0)}):pe.none()})),e0=(m,h)=>qn(m,"tr",h).bind(v=>qn(v,"table",h).bind(z=>{const N=Qa(z,"tr");return Wn(v,N[N.length-1])?((D,F,$)=>Ov(uh,D,X=>If(X).isSome(),$))(z,0,h).map(D=>Jm(pe.some(md(D,0,D,0)),!0)):pe.none()})),Jb=(m,h,v,z,N,D,F)=>hc(m,v,z,N,D).bind($=>Zb(h,v,$.start,$.finish,F)),Qb=m=>{let h=m;return{get:()=>h,set:v=>{h=v}}},uf=()=>{const m=(h=>{const v=Qb(pe.none()),z=()=>v.get().each(h);return{clear:()=>{z(),v.set(pe.none())},isSet:()=>v.get().isSome(),get:()=>v.get(),set:N=>{z(),v.set(pe.some(N))}}})(Ht);return{...m,on:h=>m.get().each(h)}},ug=(m,h)=>qn(m,"td,th",h),qw=m=>Tl(m).exists(Da),tp={traverse:Ya,gather:Kb,relative:Ri.before,retry:Sa.tryDown,failure:gc.failedDown},hh={traverse:go,gather:Gi,relative:Ri.before,retry:Sa.tryUp,failure:gc.failedUp},Gd=m=>h=>h===m,gd=Gd(38),ff=Gd(40),op=m=>m>=37&&m<=40,t0={isBackward:Gd(37),isForward:Gd(39)},fg={isBackward:Gd(39),isForward:Gd(37)},hd=Wf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),np={domRange:hd.domRange,relative:hd.relative,exact:hd.exact,exactFromRange:m=>hd.exact(m.start,m.soffset,m.finish,m.foffset),getWin:m=>{const h=(v=>v.match({domRange:z=>rt.fromDom(z.startContainer),relative:(z,N)=>Ri.getStart(z),exact:(z,N,D,F)=>z}))(m);return rt.fromDom(Ji(h).dom.defaultView)},range:pc},bh=(m,h)=>{const v=to(m);return v==="input"?Ri.after(m):Po(["br","img"],v)?h===0?Ri.before(m):Ri.after(m):Ri.on(m,h)},mg=m=>pe.from(m.getSelection()),Ki=(m,h)=>{mg(m).each(v=>{v.removeAllRanges(),v.addRange(h)})},rp=(m,h,v,z,N)=>{const D=K1(m,h,v,z,N);Ki(m,D)},mf=(m,h)=>cg(m,h).match({ltr:(v,z,N,D)=>{rp(m,v,z,N,D)},rtl:(v,z,N,D)=>{mg(m).each(F=>{if(F.setBaseAndExtent)F.setBaseAndExtent(v.dom,z,N.dom,D);else if(F.extend)try{(($,X,ie,ve,de,he)=>{X.collapse(ie.dom,ve),X.extend(de.dom,he)})(0,F,v,z,N,D)}catch{rp(m,N,D,v,z)}else rp(m,N,D,v,z)})}}),o0=(m,h,v,z,N)=>{const D=((F,$,X,ie)=>{const ve=bh(F,$),de=bh(X,ie);return np.relative(ve,de)})(h,v,z,N);mf(m,D)},Dv=(m,h,v)=>{const z=((N,D)=>{const F=N.fold(Ri.before,bh,Ri.after),$=D.fold(Ri.before,bh,Ri.after);return np.relative(F,$)})(h,v);mf(m,z)},pg=m=>{if(m.rangeCount>0){const h=m.getRangeAt(0),v=m.getRangeAt(m.rangeCount-1);return pe.some(pc(rt.fromDom(h.startContainer),h.startOffset,rt.fromDom(v.endContainer),v.endOffset))}return pe.none()},Mv=m=>{if(m.anchorNode===null||m.focusNode===null)return pg(m);{const h=rt.fromDom(m.anchorNode),v=rt.fromDom(m.focusNode);return((z,N,D,F)=>{const $=((ie,ve,de,he)=>{const fe=zl(ie).dom.createRange();return fe.setStart(ie.dom,ve),fe.setEnd(de.dom,he),fe})(z,N,D,F),X=Wn(z,D)&&N===F;return $.collapsed&&!X})(h,m.anchorOffset,v,m.focusOffset)?pe.some(pc(h,m.anchorOffset,v,m.focusOffset)):pg(m)}},ey=(m,h,v=!0)=>{const z=(v?jb:Ub)(m,h);Ki(m,z)},ty=m=>(h=>mg(h).filter(v=>v.rangeCount>0).bind(Mv))(m).map(h=>np.exact(h.start,h.soffset,h.finish,h.foffset)),Gw=(m,h,v)=>((z,N,D)=>((F,$,X)=>F.caretPositionFromPoint?((ie,ve,de)=>{var he;return pe.from((he=ie.caretPositionFromPoint)===null||he===void 0?void 0:he.call(ie,ve,de)).bind(fe=>{if(fe.offsetNode===null)return pe.none();const se=ie.createRange();return se.setStart(fe.offsetNode,fe.offset),se.collapse(),pe.some(se)})})(F,$,X):F.caretRangeFromPoint?((ie,ve,de)=>{var he;return pe.from((he=ie.caretRangeFromPoint)===null||he===void 0?void 0:he.call(ie,ve,de))})(F,$,X):pe.none())(z.document,N,D).map(F=>pc(rt.fromDom(F.startContainer),F.startOffset,rt.fromDom(F.endContainer),F.endOffset)))(m,h,v),gg=m=>({elementFromPoint:(h,v)=>rt.fromPoint(rt.fromDom(m.document),h,v),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,v,z,N)=>{const D=np.exact(h,v,z,N);return((F,$)=>(X=>{const ie=X.getClientRects(),ve=ie.length>0?ie[0]:X.getBoundingClientRect();return ve.width>0||ve.height>0?pe.some(ve).map(Il):pe.none()})(fd(F,$)))(m,D)},getSelection:()=>ty(m).map(h=>dh(m,h)),fromSitus:h=>{const v=np.relative(h.start,h.finish);return dh(m,v)},situsFromPoint:(h,v)=>Gw(m,h,v).map(z=>Di(z.start,z.soffset,z.finish,z.foffset)),clearSelection:()=>{(h=>{mg(h).each(v=>v.removeAllRanges())})(m)},collapseSelection:(h=!1)=>{ty(m).each(v=>v.fold(z=>z.collapse(h),(z,N)=>{const D=h?z:N;Dv(m,D,D)},(z,N,D,F)=>{const $=h?z:D,X=h?N:F;o0(m,$,X,$,X)}))},setSelection:h=>{o0(m,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,v)=>{Dv(m,h,v)},selectNode:h=>{ey(m,h,!1)},selectContents:h=>{ey(m,h)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>(h=>{const v=h!==void 0?h.dom:document,z=v.body.scrollLeft||v.documentElement.scrollLeft,N=v.body.scrollTop||v.documentElement.scrollTop;return re(z,N)})(rt.fromDom(m.document)).top,scrollBy:(h,v)=>{((z,N,D)=>{const F=(D!==void 0?D.dom:document).defaultView;F&&F.scrollBy(z,N)})(h,v,rt.fromDom(m.document))}}),sp=(m,h)=>({rows:m,cols:h}),n0=m=>cs(m,er).exists(Da),yh=(m,h)=>n0(m)||n0(h),r0=m=>m.dom.classList!==void 0,Bv=(m,h)=>((v,z,N)=>{const D=((F,$)=>{const X=ut(F,$);return X===void 0||X===""?[]:X.split(" ")})(v,z).concat([N]);return Yo(v,z,D.join(" ")),!0})(m,"class",h),nl=(m,h)=>{r0(m)?m.dom.classList.add(h):Bv(m,h)},oy=(m,h)=>r0(m)&&m.dom.classList.contains(h),ny=()=>({tag:"none"}),Pv=m=>({tag:"multiple",elements:m}),Lv=m=>({tag:"single",element:m}),Iv=m=>{const h=rt.fromDom(($=>{if(bn($.target)){const X=rt.fromDom($.target);if(Rn(X)&&bn(X.dom.shadowRoot)&&$.composed&&$.composedPath){const ie=$.composedPath();if(ie)return bo(ie)}}return pe.from($.target)})(m).getOr(m.target)),v=()=>m.stopPropagation(),z=()=>m.preventDefault(),N=(D=z,F=v,(...$)=>D(F.apply(null,$)));var D,F;return(($,X,ie,ve,de,he,fe)=>({target:$,x:X,y:ie,stop:ve,prevent:de,kill:he,raw:fe}))(h,m.clientX,m.clientY,v,z,N,m)},Fv=(m,h,v,z)=>{m.dom.removeEventListener(h,v,z)},Hv=Ct,hg=(m,h,v)=>((z,N,D,F)=>(($,X,ie,ve,de)=>{const he=((fe,se)=>ke=>{fe(ke)&&se(Iv(ke))})(ie,ve);return $.dom.addEventListener(X,he,de),{unbind:et(Fv,$,X,he,de)}})(z,N,D,F,!1))(m,h,Hv,v),bg=Iv,ry=m=>!oy(rt.fromDom(m.target),"ephox-snooker-resizer-bar"),xh=(m,h)=>{const v=(N=Zd.selectedSelector,{get:()=>Im(rt.fromDom(m.getBody()),N).fold(()=>Vo(hl(m),Ds(m)).fold(ny,Lv),Pv)}),z=((D,F,$)=>{const X=he=>{Io(he,D.selected),Io(he,D.firstSelected),Io(he,D.lastSelected)},ie=he=>{Yo(he,D.selected,"1")},ve=he=>{de(he),$()},de=he=>{const fe=Qa(he,`${D.selectedSelector},${D.firstSelectedSelector},${D.lastSelectedSelector}`);To(fe,X)};return{clearBeforeUpdate:de,clear:ve,selectRange:(he,fe,se,ke)=>{ve(he),To(fe,ie),Yo(se,D.firstSelected,"1"),Yo(ke,D.lastSelected,"1"),F(fe,se,ke)},selectedSelector:D.selectedSelector,firstSelectedSelector:D.firstSelectedSelector,lastSelectedSelector:D.lastSelectedSelector}})(Zd,(D,F,$)=>{Gr(F).each(X=>{const ie=O(D,fe=>fe.dom),ve=ea(m),de=Ee(Ht,rt.fromDom(m.getDoc()),ve),he=((fe,se,ke)=>{const We=Rs(fe);return cr(We,se).map(Fe=>{const Qe=ii(We,ke,!1),{rows:st}=Tn(Qe),ft=((xt,Pt)=>{const co=xt.slice(0,Pt[Pt.length-1].row+1),vn=dc(co);return Se(vn,Oo=>{const qo=Oo.cells.slice(0,Pt[Pt.length-1].column+1);return O(qo,Ao=>Ao.element)})})(st,Fe),ct=((xt,Pt)=>{const co=xt.slice(Pt[0].row+Pt[0].rowspan-1,xt.length),vn=dc(co);return Se(vn,Oo=>{const qo=Oo.cells.slice(Pt[0].column+Pt[0].colspan-1,Oo.cells.length);return O(qo,Ao=>Ao.element)})})(st,Fe);return{upOrLeftCells:ft,downOrRightCells:ct}})})(X,{selection:Vt(m)},de).map(fe=>gi(fe,se=>O(se,ke=>ke.dom))).getOrUndefined();((fe,se,ke,We,Fe)=>{fe.dispatch("TableSelectionChange",{cells:se,start:ke,finish:We,otherCells:Fe})})(m,ie,F.dom,$.dom,he)})},()=>(D=>{D.dispatch("TableSelectionClear")})(m));var N;return m.on("init",D=>{const F=m.getWin(),$=Ud(m),X=Ds(m),ie=((ke,We,Fe,Qe)=>{const st=((ft,ct,xt,Pt)=>{const co=uf(),vn=co.clear,Oo=qo=>{co.on(Ao=>{Pt.clearBeforeUpdate(ct),ug(qo.target,xt).each(Gn=>{Vf(Ao,Gn,xt).each(_s=>{const Wa=_s.boxes.getOr([]);if(Wa.length===1){const Ea=Wa[0],Yi=Bm(Ea)==="false",Su=ha(ai(qo.target),Ea,Wn);Yi&&Su&&Pt.selectRange(ct,Wa,Ea,Ea)}else Wa.length>1&&(Pt.selectRange(ct,Wa,_s.start,_s.finish),ft.selectContents(Gn))})})})};return{clearstate:vn,mousedown:qo=>{Pt.clear(ct),ug(qo.target,xt).filter(qw).each(co.set)},mouseover:qo=>{Oo(qo)},mouseup:qo=>{Oo(qo),vn()}}})(gg(ke),We,Fe,Qe);return{clearstate:st.clearstate,mousedown:st.mousedown,mouseover:st.mouseover,mouseup:st.mouseup}})(F,$,X,z),ve=((ke,We,Fe,Qe)=>{const st=gg(ke),ft=()=>(Qe.clear(We),pe.none());return{keydown:(ct,xt,Pt,co,vn,Oo)=>{const qo=ct.raw,Ao=qo.which,Gn=qo.shiftKey===!0;return ac(We,Qe.selectedSelector).fold(()=>(op(Ao)&&!Gn&&Qe.clearBeforeUpdate(We),op(Ao)&&Gn&&!yh(xt,co)?pe.none:ff(Ao)&&Gn?et(Jb,st,We,Fe,tp,co,xt,Qe.selectRange):gd(Ao)&&Gn?et(Jb,st,We,Fe,hh,co,xt,Qe.selectRange):ff(Ao)?et(Xb,st,Fe,tp,co,xt,e0):gd(Ao)?et(Xb,st,Fe,hh,co,xt,Rv):pe.none),Wa=>{const Ea=Yi=>()=>H(Yi,kl=>((lp,iy,ly,cy,_h)=>id(cy,lp,iy,_h.firstSelectedSelector,_h.lastSelectedSelector).map(cp=>(_h.clearBeforeUpdate(ly),_h.selectRange(ly,cp.boxes,cp.start,cp.finish),cp.boxes)))(kl.rows,kl.cols,We,Wa,Qe)).fold(()=>Cb(We,Qe.firstSelectedSelector,Qe.lastSelectedSelector).map(kl=>{const lp=ff(Ao)||Oo.isForward(Ao)?Ri.after:Ri.before;return st.setRelativeSelection(Ri.on(kl.first,0),lp(kl.table)),Qe.clear(We),Jm(pe.none(),!0)}),kl=>pe.some(Jm(pe.none(),!0)));return op(Ao)&&Gn&&!yh(xt,co)?pe.none:ff(Ao)&&Gn?Ea([sp(1,0)]):gd(Ao)&&Gn?Ea([sp(-1,0)]):Oo.isBackward(Ao)&&Gn?Ea([sp(0,-1),sp(-1,0)]):Oo.isForward(Ao)&&Gn?Ea([sp(0,1),sp(1,0)]):op(Ao)&&!Gn?ft:pe.none})()},keyup:(ct,xt,Pt,co,vn)=>ac(We,Qe.selectedSelector).fold(()=>{const Oo=ct.raw,qo=Oo.which;return Oo.shiftKey===!0&&op(qo)&&yh(xt,co)?((Ao,Gn,_s,Wa,Ea,Yi,Su)=>Wn(_s,Ea)&&Wa===Yi?pe.none():qn(_s,"td,th",Gn).bind(kl=>qn(Ea,"td,th",Gn).bind(lp=>Zb(Ao,Gn,kl,lp,Su))))(We,Fe,xt,Pt,co,vn,Qe.selectRange):pe.none()},pe.none)}})(F,$,X,z),de=((ke,We,Fe,Qe)=>{const st=gg(ke);return(ft,ct)=>{Qe.clearBeforeUpdate(We),Vf(ft,ct,Fe).each(xt=>{const Pt=xt.boxes.getOr([]);Qe.selectRange(We,Pt,xt.start,xt.finish),st.selectContents(ct),st.collapseSelection()})}})(F,$,X,z);m.on("TableSelectorChange",ke=>de(ke.start,ke.finish));const he=(ke,We)=>{(Fe=>Fe.raw.shiftKey===!0)(ke)&&(We.kill&&ke.kill(),We.selection.each(Fe=>{const Qe=np.relative(Fe.start,Fe.finish),st=fd(F,Qe);m.selection.setRng(st)}))},fe=ke=>ke.button===0,se=(()=>{const ke=Qb(rt.fromDom($)),We=Qb(0);return{touchEnd:Fe=>{const Qe=rt.fromDom(Fe.target);if(Fn("td")(Qe)||Fn("th")(Qe)){const st=ke.get(),ft=We.get();Wn(st,Qe)&&Fe.timeStamp-ft<300&&(Fe.preventDefault(),de(Qe,Qe))}ke.set(Qe),We.set(Fe.timeStamp)}}})();m.on("dragstart",ke=>{ie.clearstate()}),m.on("mousedown",ke=>{fe(ke)&&ry(ke)&&ie.mousedown(bg(ke))}),m.on("mouseover",ke=>{var We;((We=ke).buttons===void 0||1&We.buttons)&&ry(ke)&&ie.mouseover(bg(ke))}),m.on("mouseup",ke=>{fe(ke)&&ry(ke)&&ie.mouseup(bg(ke))}),m.on("touchend",se.touchEnd),m.on("keyup",ke=>{const We=bg(ke);if(We.raw.shiftKey&&op(We.raw.which)){const Fe=m.selection.getRng(),Qe=rt.fromDom(Fe.startContainer),st=rt.fromDom(Fe.endContainer);ve.keyup(We,Qe,Fe.startOffset,st,Fe.endOffset).each(ft=>{he(We,ft)})}}),m.on("keydown",ke=>{const We=bg(ke);h.hide();const Fe=m.selection.getRng(),Qe=rt.fromDom(Fe.startContainer),st=rt.fromDom(Fe.endContainer),ft=Fd(t0,fg)(rt.fromDom(m.selection.getStart()));ve.keydown(We,Qe,Fe.startOffset,st,Fe.endOffset,ft).each(ct=>{he(We,ct)}),h.show()}),m.on("NodeChange",()=>{const ke=m.selection,We=rt.fromDom(ke.getStart()),Fe=rt.fromDom(ke.getEnd());Bl(Gr,[We,Fe]).fold(()=>z.clear($),Ht)})}),m.on("PreInit",()=>{m.serializer.addTempAttr(Zd.firstSelected),m.serializer.addTempAttr(Zd.lastSelected)}),{getSelectedCells:()=>((D,F)=>{switch(D.tag){case"none":return F();case"single":return($=>[$.dom])(D.element);case"multiple":return($=>O($,X=>X.dom))(D.elements)}})(v.get(),Yt([])),clearSelectedCells:D=>z.clear(rt.fromDom(D))}},hs=m=>{let h=[];return{bind:v=>{if(v===void 0)throw new Error("Event bind error: undefined handler");h.push(v)},unbind:v=>{h=Do(h,z=>z!==v)},trigger:(...v)=>{const z={};To(m,(N,D)=>{z[N]=v[D]}),To(h,N=>{N(z)})}}},Bc=m=>({registry:gi(m,h=>({bind:h.bind,unbind:h.unbind})),trigger:gi(m,h=>h.trigger)}),Kd=m=>m.slice(0).sort(),yg=(m,h)=>{const v=Do(h,z=>!Po(m,z));v.length>0&&(z=>{throw new Error("Unsupported keys for object: "+Kd(z).join(", "))})(v)},ap=m=>((h,v)=>((z,N,D)=>{if(N.length===0)throw new Error("You must specify at least one required field.");return((F,$)=>{if(!So($))throw new Error("The "+F+" fields must be an array. Was: "+$+".");To($,X=>{if(!No(X))throw new Error("The value "+X+" in the "+F+" fields was not a string.")})})("required",N),(F=>{const $=Kd(F);un($,(X,ie)=>ie<$.length-1&&X===$[ie+1]).each(X=>{throw new Error("The field: "+X+" occurs more than once in the combined fields: ["+$.join(", ")+"].")})})(N),F=>{const $=ls(F);ot(N,ie=>Po($,ie))||((ie,ve)=>{throw new Error("All required keys ("+Kd(ie).join(", ")+") were not specified. Specified keys were: "+Kd(ve).join(", ")+".")})(N,$),z(N,$);const X=Do(N,ie=>!D.validate(F[ie],ie));return X.length>0&&((ie,ve)=>{throw new Error("All values need to be of type: "+ve+". Keys ("+Kd(ie).join(", ")+") were not.")})(X,D.label),F}})(h,v,{validate:hr,label:"function"}))(yg,m),vh=ap(["compare","extract","mutate","sink"]),sy=ap(["element","start","stop","destroy"]),em=ap(["forceDrop","drop","move","delayDrop"]),ay=()=>{const m=(()=>{const z=Bc({move:hs(["info"])});return{onEvent:Ht,reset:Ht,events:z.registry}})(),h=(()=>{let z=pe.none();const N=Bc({move:hs(["info"])});return{onEvent:(D,F)=>{F.extract(D).each($=>{((ie,ve)=>{const de=z.map(he=>ie.compare(he,ve));return z=pe.some(ve),de})(F,$).each(ie=>{N.trigger.move(ie)})})},reset:()=>{z=pe.none()},events:N.registry}})();let v=m;return{on:()=>{v.reset(),v=h},off:()=>{v.reset(),v=m},isOn:()=>v===h,onEvent:(z,N)=>{v.onEvent(z,N)},events:h.events}},s0=m=>{const h=m.replace(/\./g,"-");return{resolve:v=>h+"-"+v}},wu=s0("ephox-dragster").resolve;var a0=vh({compare:(m,h)=>re(h.left-m.left,h.top-m.top),extract:m=>pe.some(re(m.x,m.y)),sink:(m,h)=>{const v=($=>{const X={layerClass:wu("blocker"),...$},ie=rt.fromTag("div");return Yo(ie,"role","presentation"),ti(ie,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),nl(ie,wu("blocker")),nl(ie,X.layerClass),{element:Yt(ie),destroy:()=>{dr(ie)}}})(h),z=hg(v.element(),"mousedown",m.forceDrop),N=hg(v.element(),"mouseup",m.drop),D=hg(v.element(),"mousemove",m.move),F=hg(v.element(),"mouseout",m.delayDrop);return sy({element:v.element,start:$=>{Dr($,v.element())},stop:()=>{dr(v.element())},destroy:()=>{v.destroy(),N.unbind(),D.unbind(),F.unbind(),z.unbind()}})},mutate:(m,h)=>{m.mutate(h.left,h.top)}});const Pc=s0("ephox-snooker").resolve,bd=Pc("resizer-bar"),i0=Pc("resizer-rows"),Ve=Pc("resizer-cols"),ip=m=>{const h=Qa(m.parent(),"."+bd);To(h,dr)},l0=(m,h,v)=>{const z=m.origin();To(h,N=>{N.each(D=>{const F=v(z,D);nl(F,bd),Dr(m.parent(),F)})})},Vv=(m,h,v,z,N)=>{const D=Va(v),F=h.isResizable,$=z.length>0?ec.positions(z,v):[],X=$.length>0?((de,he)=>Se(de.all,(fe,se)=>he(fe.element)?[se]:[]))(m,F):[];((de,he,fe,se)=>{l0(de,he,(ke,We)=>{const Fe=((Qe,st,ft,ct)=>{const xt=rt.fromTag("div");return ti(xt,{position:"absolute",left:st+"px",top:ft-3.5+"px",height:"7px",width:ct+"px"}),Ys(xt,{"data-row":Qe,role:"presentation"}),xt})(We.row,fe.left-ke.left,We.y-ke.top,se);return nl(Fe,i0),Fe})})(h,Do($,(de,he)=>Le(X,fe=>he===fe)),D,cu(v));const ie=N.length>0?ml.positions(N,v):[],ve=ie.length>0?((de,he)=>{const fe=[];return jt(de.grid.columns,se=>{Jl(de,se).map(ke=>ke.element).forall(he)&&fe.push(se)}),Do(fe,se=>{const ke=ed(de,We=>We.column===se);return ot(ke,We=>he(We.element))})})(m,F):[];((de,he,fe,se)=>{l0(de,he,(ke,We)=>{const Fe=((Qe,st,ft,ct,xt)=>{const Pt=rt.fromTag("div");return ti(Pt,{position:"absolute",left:st-3.5+"px",top:ft+"px",height:xt+"px",width:"7px"}),Ys(Pt,{"data-column":Qe,role:"presentation"}),Pt})(We.col,We.x-ke.left,fe.top-ke.top,0,se);return nl(Fe,Ve),Fe})})(h,Do(ie,(de,he)=>Le(ve,fe=>he===fe)),D,Sc(v))},xg=(m,h)=>{if(ip(m),m.isResizable(h)){const v=Rs(h),z=Am(v),N=Wu(v);Vv(v,m,h,z,N)}},Lc=(m,h)=>{const v=Qa(m.parent(),"."+bd);To(v,h)},c0=m=>{Lc(m,h=>{Zt(h,"display","none")})},$v=m=>{Lc(m,h=>{Zt(h,"display","block")})},Uv=Pc("resizer-bar-dragging"),d0=m=>{const h=(()=>{const de=Bc({drag:hs(["xDelta","yDelta","target"])});let he=pe.none();const fe=(()=>{const se=Bc({drag:hs(["xDelta","yDelta"])});return{mutate:(ke,We)=>{se.trigger.drag(ke,We)},events:se.registry}})();return fe.events.drag.bind(se=>{he.each(ke=>{de.trigger.drag(se.xDelta,se.yDelta,ke)})}),{assign:se=>{he=pe.some(se)},get:()=>he,mutate:fe.mutate,events:de.registry}})(),v=((de,he={})=>{var fe;return((se,ke,We)=>{let Fe=!1;const Qe=Bc({start:hs([]),stop:hs([])}),st=ay(),ft=()=>{Pt.stop(),st.isOn()&&(st.off(),Qe.trigger.stop())},ct=(co=>{let vn=null;const Oo=()=>{Ro(vn)||(clearTimeout(vn),vn=null)};return{cancel:Oo,throttle:(...qo)=>{Oo(),vn=setTimeout(()=>{vn=null,co.apply(null,qo)},200)}}})(ft);st.events.move.bind(co=>{ke.mutate(se,co.info)});const xt=co=>(...vn)=>{Fe&&co.apply(null,vn)},Pt=ke.sink(em({forceDrop:ft,drop:xt(ft),move:xt(co=>{ct.cancel(),st.onEvent(co,ke)}),delayDrop:xt(ct.throttle)}),We);return{element:Pt.element,go:co=>{Pt.start(co),st.on(),Qe.trigger.start()},on:()=>{Fe=!0},off:()=>{Fe=!1},isActive:()=>Fe,destroy:()=>{Pt.destroy()},events:Qe.registry}})(de,(fe=he.mode)!==null&&fe!==void 0?fe:a0,he)})(h,{});let z=pe.none();const N=(de,he)=>pe.from(ut(de,he));h.events.drag.bind(de=>{N(de.target,"data-row").each(he=>{const fe=ul(de.target,"top");Zt(de.target,"top",fe+de.yDelta+"px")}),N(de.target,"data-column").each(he=>{const fe=ul(de.target,"left");Zt(de.target,"left",fe+de.xDelta+"px")})});const D=(de,he)=>ul(de,he)-$i(de,"data-initial-"+he,0);v.events.stop.bind(()=>{h.get().each(de=>{z.each(he=>{N(de,"data-row").each(fe=>{const se=D(de,"top");Io(de,"data-initial-top"),ve.trigger.adjustHeight(he,se,parseInt(fe,10))}),N(de,"data-column").each(fe=>{const se=D(de,"left");Io(de,"data-initial-left"),ve.trigger.adjustWidth(he,se,parseInt(fe,10))}),xg(m,he)})})});const F=(de,he)=>{ve.trigger.startAdjust(),h.assign(de),Yo(de,"data-initial-"+he,ul(de,he)),nl(de,Uv),Zt(de,"opacity","0.2"),v.go(m.dragContainer())},$=hg(m.parent(),"mousedown",de=>{var he;he=de.target,oy(he,i0)&&F(de.target,"top"),(fe=>oy(fe,Ve))(de.target)&&F(de.target,"left")}),X=de=>Wn(de,m.view()),ie=hg(m.view(),"mouseover",de=>{var he;(he=de.target,qn(he,"table",X).filter(Da)).fold(()=>{os(de.target)&&ip(m)},fe=>{v.isActive()&&(z=pe.some(fe),xg(m,fe))})}),ve=Bc({adjustHeight:hs(["table","delta","row"]),adjustWidth:hs(["table","delta","column"]),startAdjust:hs([])});return{destroy:()=>{$.unbind(),ie.unbind(),v.destroy(),ip(m)},refresh:de=>{xg(m,de)},on:v.on,off:v.off,hideBars:et(c0,m),showBars:et($v,m),events:ve.registry}};let jv=0;const xn=(m,h)=>{const v=(F=>!($=>$.inline&&(X=>{var ie;if(!X.inline)return pe.none();const ve=(ie=Ln(X))!==null&&ie!==void 0?ie:"";if(ve.length>0)return $s(yi(),ve);const de=ns(X);return bn(de)?pe.some(rt.fromDom(de)):pe.none()})($).isSome())(F)&&Wi(F)==="split")(m),z=rt.fromDom(m.getBody()),N=(F=>{const $=(ie=>{const ve=new Date().getTime(),de=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return jv++,ie+"_"+de+jv+String(ve)})("resizer-container"),X=rt.fromTag("div");return Yo(X,"id",$),ti(X,{position:F,height:"0",width:"0",padding:"0",margin:"0",border:"0"}),X})(v?"relative":"static"),D=yi();return v?(Qi(z,N),((F,$,X,ie)=>({parent:Yt($),view:Yt(F),dragContainer:Yt(X),origin:()=>Va($),isResizable:ie}))(z,N,D,h)):(Dr(D,N),((F,$,X)=>({parent:Yt($),view:Yt(F),dragContainer:Yt($),origin:Yt(re(0,0)),isResizable:X}))(z,N,h))},Cu=m=>bn(m)&&m.nodeName==="TABLE",pf="bar-",u0=m=>ut(m,"data-mce-resize")!=="false",Zv=m=>{const h=uf(),v=uf(),z=uf();let N,D,F,$;const X=fe=>Cv(m,fe),ie=()=>Ff(m)?Es():Pl(),ve=(fe,se,ke,We)=>{const Fe=(ft=>{return ds(ct=ft,"corner-")?(xt=>xt.substring(7))(ct):ct;var ct})(se),Qe=us(Fe,"e"),st=ds(Fe,"n");if(D===""&&Km(fe),$===""&&(ft=>{const ct=(xt=>Hd(xt)+"px")(ft);oa(ft,pe.none(),pe.some(ct)),Gm(ft)})(fe),ke!==N&&D!==""){Zt(fe,"width",D);const ft=ie(),ct=X(fe),xt=Ff(m)||Qe?(Pt=>Jn(Pt).columns)(fe)-1:0;th(fe,ke-N,xt,ft,ct)}else if((ft=>/^(\d+(\.\d+)?)%$/.test(ft))(D)){const ft=parseFloat(D.replace("%",""));Zt(fe,"width",ke*ft/N+"%")}if((ft=>/^(\d+(\.\d+)?)px$/.test(ft))(D)&&(ft=>{const ct=Rs(ft);du(ct)||To(Dn(ft),xt=>{const Pt=_i(xt,"width");Zt(xt,"width",Pt),Io(xt,"width")})})(fe),We!==F&&$!==""){Zt(fe,"height",$);const ft=st?0:(ct=>Jn(ct).rows)(fe)-1;M1(fe,We-F,ft)}};m.on("init",()=>{const fe=((se,ke)=>se.inline?xn(se,ke):((We,Fe)=>{const Qe=ts(We)?(st=>rt.fromDom(Ji(st).dom.documentElement))(We):We;return{parent:Yt(Qe),view:Yt(We),dragContainer:Yt(Qe),origin:Yt(re(0,0)),isResizable:Fe}})(rt.fromDom(se.getDoc()),ke))(m,u0);if(z.set(fe),(se=>{const ke=se.options.get("object_resizing");return Po(ke.split(","),"table")})(m)&&nt(m)){const se=((ke,We,Fe)=>{const Qe=ec,st=ml,ft=d0(ke),ct=Bc({beforeResize:hs(["table","type"]),afterResize:hs(["table","type"]),startDrag:hs([])});return ft.events.adjustHeight.bind(xt=>{const Pt=xt.table;ct.trigger.beforeResize(Pt,"row");const co=Qe.delta(xt.delta,Pt);M1(Pt,co,xt.row),ct.trigger.afterResize(Pt,"row")}),ft.events.startAdjust.bind(xt=>{ct.trigger.startDrag()}),ft.events.adjustWidth.bind(xt=>{const Pt=xt.table;ct.trigger.beforeResize(Pt,"col");const co=st.delta(xt.delta,Pt),vn=Fe(Pt);th(Pt,co,xt.column,We,vn),ct.trigger.afterResize(Pt,"col")}),{on:ft.on,off:ft.off,refreshBars:ft.refresh,hideBars:ft.hideBars,showBars:ft.showBars,destroy:ft.destroy,events:ct.registry}})(fe,ie(),X);m.mode.isReadOnly()||se.on(),se.events.startDrag.bind(ke=>{h.set(m.selection.getRng())}),se.events.beforeResize.bind(ke=>{const We=ke.table.dom;((Fe,Qe,st,ft,ct)=>{Fe.dispatch("ObjectResizeStart",{target:Qe,width:st,height:ft,origin:ct})})(m,We,Xp(We),Kr(We),pf+ke.type)}),se.events.afterResize.bind(ke=>{const We=ke.table,Fe=We.dom;Oi(We),h.on(Qe=>{m.selection.setRng(Qe),m.focus()}),((Qe,st,ft,ct,xt)=>{Qe.dispatch("ObjectResized",{target:st,width:ft,height:ct,origin:xt})})(m,Fe,Xp(Fe),Kr(Fe),pf+ke.type),m.undoManager.add()}),v.set(se)}}),m.on("ObjectResizeStart",fe=>{const se=fe.target;if(Cu(se)&&!m.mode.isReadOnly()){const ke=rt.fromDom(se);To(m.dom.select(".mce-clonedresizable"),We=>{m.dom.addClass(We,"mce-"+sc(m)+"-columns")}),!Mc(ke)&&le(m)?Yf(ke):!vu(ke)&&U(m)&&Km(ke),Hb(ke)&&ds(fe.origin,pf)&&Km(ke),N=fe.width,D=ge(m)?"":rs(m,se).getOr(""),F=fe.height,$=Tc(m,se).getOr("")}}),m.on("ObjectResized",fe=>{const se=fe.target;if(Cu(se)){const ke=rt.fromDom(se),We=fe.origin;(Fe=>ds(Fe,"corner-"))(We)&&ve(ke,We,fe.width,fe.height),Oi(ke),fc(m,ke.dom,Wm)}});const de=()=>{v.on(fe=>{fe.on(),fe.showBars()})},he=()=>{v.on(fe=>{fe.off(),fe.hideBars()})};return m.on("DisabledStateChange",fe=>{fe.state?he():de()}),m.on("SwitchMode",()=>{m.mode.isReadOnly()?he():de()}),m.on("dragstart dragend",fe=>{fe.type==="dragstart"?he():de()}),m.on("remove",()=>{v.on(fe=>{fe.destroy()}),z.on(fe=>{((se,ke)=>{se.inline&&dr(ke.parent())})(m,fe)})}),{refresh:fe=>{v.on(se=>se.refreshBars(rt.fromDom(fe)))},hide:()=>{v.on(fe=>fe.hideBars())},show:()=>{v.on(fe=>fe.showBars())}}},f0=m=>{(N=>{const D=N.options.register;D("table_clone_elements",{processor:"string[]"}),D("table_use_colgroups",{processor:"boolean",default:!0}),D("table_header_type",{processor:F=>{const $=Po(["section","cells","sectionCells","auto"],F);return $?{value:F,valid:$}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),D("table_sizing_mode",{processor:"string",default:"auto"}),D("table_default_attributes",{processor:"object",default:{border:"1"}}),D("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),D("table_column_resizing",{processor:F=>{const $=Po(["preservetable","resizetable"],F);return $?{value:F,valid:$}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),D("table_resize_bars",{processor:"boolean",default:!0}),D("table_style_by_css",{processor:"boolean",default:!0}),D("table_merge_content_on_paste",{processor:"boolean",default:!0})})(m);const h=Zv(m),v=xh(m,h),z=sh(m,h,v);return lg(m,z),((N,D)=>{const F=Ds(N),$=X=>Vo(hl(N)).bind(ie=>Gr(ie,F).map(ve=>{const de=Ai(Vt(N),ve,ie);return X(ve,de)})).getOr("");Go({mceTableRowType:()=>$(D.getTableRowType),mceTableCellType:()=>$(D.getTableCellType),mceTableColType:()=>$(D.getTableColType)},(X,ie)=>N.addQueryValueHandler(ie,X))})(m,z),qi(m,z),{getSelectedCells:v.getSelectedCells,clearSelectedCells:v.clearSelectedCells}};Tt.add("dom",m=>({table:f0(m)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:16px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:16px;margin-bottom:16px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var PF={},LF={},IF;function fG(){return IF||(IF=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(De,Se,ot)=>{const $o=Se==="UL"?"InsertUnorderedList":"InsertOrderedList";De.execCommand($o,!1,ot===!1?null:{"list-style-type":ot})},Lo=De=>{De.addCommand("ApplyUnorderedListStyle",(Se,ot)=>{zo(De,"UL",ot["list-style-type"])}),De.addCommand("ApplyOrderedListStyle",(Se,ot)=>{zo(De,"OL",ot["list-style-type"])})},Qo=De=>Se=>Se.options.get(De),No=De=>{const Se=De.options.register;Se("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Se("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},Ot=Qo("advlist_number_styles"),So=Qo("advlist_bullet_styles"),Ro=De=>De==null,uo=De=>!Ro(De);class qt{constructor(Se,ot){this.tag=Se,this.value=ot}static some(Se){return new qt(!0,Se)}static none(){return qt.singletonNone}fold(Se,ot){return this.tag?ot(this.value):Se()}isSome(){return this.tag}isNone(){return!this.tag}map(Se){return this.tag?qt.some(Se(this.value)):qt.none()}bind(Se){return this.tag?Se(this.value):qt.none()}exists(Se){return this.tag&&Se(this.value)}forall(Se){return!this.tag||Se(this.value)}filter(Se){return!this.tag||Se(this.value)?this:qt.none()}getOr(Se){return this.tag?this.value:Se}or(Se){return this.tag?this:Se}getOrThunk(Se){return this.tag?this.value:Se()}orThunk(Se){return this.tag?this:Se()}getOrDie(Se){if(this.tag)return this.value;throw new Error(Se??"Called getOrDie on None")}static from(Se){return uo(Se)?qt.some(Se):qt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Se){this.tag&&Se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qt.singletonNone=new qt(!1);const bn=Array.prototype.indexOf,hr=(De,Se)=>bn.call(De,Se),Vr=(De,Se)=>hr(De,Se)>-1,Ht=(De,Se,ot)=>{for(let $o=0,Eo=De.length;$o<Eo;$o++){const bo=De[$o];if(Se(bo,$o))return qt.some(bo);if(ot(bo,$o))break}return qt.none()},Yt=Object.keys,sn=(De,Se)=>{const ot=Yt(De);for(let $o=0,Eo=ot.length;$o<Eo;$o++){const bo=ot[$o],fo=De[bo];Se(fo,bo)}},Nn=(De,Se)=>et(De,(ot,$o)=>({k:$o,v:Se(ot,$o)})),et=(De,Se)=>{const ot={};return sn(De,($o,Eo)=>{const bo=Se($o,Eo);ot[bo.k]=bo.v}),ot};var Ut=tinymce.util.Tools.resolve("tinymce.util.Tools");const ht=De=>/\btox\-/.test(De.className),ue=(De,Se)=>De.dom.isChildOf(Se,De.getBody()),Ct=De=>Se=>uo(Se)&&De.test(Se.nodeName),pe=Ct(/^(OL|UL|DL)$/),qe=Ct(/^(TH|TD)$/),Zn=(De,Se,ot)=>Ht(Se,$o=>pe($o)&&!ht($o),qe).exists($o=>$o.nodeName===ot&&ue(De,$o)),ar=De=>{const Se=De.dom.getParent(De.selection.getNode(),"ol,ul"),ot=De.dom.getStyle(Se,"listStyleType");return qt.from(ot)},Po=(De,Se)=>Se!==null&&!De.dom.isEditable(Se),Le=(De,Se)=>{const ot=De.dom.getParent(Se,"ol,ul,dl");return Po(De,ot)||!De.selection.isEditable()},jt=(De,Se)=>{const ot=De.selection.getNode();return Se({parents:De.dom.getParents(ot),element:ot}),De.on("NodeChange",Se),()=>De.off("NodeChange",Se)},O=De=>De.replace(/\-/g," ").replace(/\b\w/g,Se=>Se.toUpperCase()),To=De=>Ro(De)||De==="default"?"":De,io=(De,Se)=>ot=>{const $o=(bo,fo)=>{const H=bo.selection.getStart(!0);ot.setActive(Zn(bo,fo,Se)),ot.setEnabled(!Le(bo,H))};return jt(De,bo=>$o(De,bo.parents))},Do=(De,Se,ot,$o,Eo,bo)=>{const fo={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},H=Nn(fo,ls=>Vr(bo,ls));De.ui.registry.addSplitButton(Se,{tooltip:ot,icon:Eo==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:ls=>{const ir=Ut.map(bo,Go=>{const gi=Eo==="OL"?"num":"bull",dl=Go==="disc"||Go==="decimal"?"default":Go,en=To(Go),Cn=O(Go);return{type:"choiceitem",value:en,icon:"list-"+gi+"-"+dl,text:Cn}});ls(ir)},onAction:()=>De.execCommand($o),onItemAction:(ls,ir)=>{zo(De,Eo,ir)},select:ls=>ar(De).exists(Go=>ls===Go||fo[Go]===ls&&!H[ls]),onSetup:io(De,Eo)})},qr=(De,Se,ot,$o,Eo,bo)=>{De.ui.registry.addToggleButton(Se,{active:!1,tooltip:ot,icon:Eo==="OL"?"ordered-list":"unordered-list",onSetup:io(De,Eo),onAction:()=>De.queryCommandState($o)||bo===""?De.execCommand($o):zo(De,Eo,bo)})},Je=(De,Se,ot,$o,Eo,bo)=>{bo.length>1?Do(De,Se,ot,$o,Eo,bo):qr(De,Se,ot,$o,Eo,To(bo[0]))},un=De=>{Je(De,"numlist","Numbered list","InsertOrderedList","OL",Ot(De)),Je(De,"bullist","Bullet list","InsertUnorderedList","UL",So(De))};var Li=()=>{Tt.add("advlist",De=>{De.hasPlugin("lists")?(No(De),un(De),Lo(De)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Li()}()),LF}var FF;function mG(){return FF||(FF=1,fG()),PF}mG();var HF={},VF={},$F;function pG(){return $F||($F=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(Ro,uo)=>{Ro.focus(),Ro.undoManager.transact(()=>{Ro.setContent(uo)}),Ro.selection.setCursorLocation(),Ro.nodeChanged()},Lo=Ro=>Ro.getContent({source_view:!0}),Qo=Ro=>{const uo=Lo(Ro);Ro.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:uo},onSubmit:qt=>{zo(Ro,qt.getData().code),qt.close()}})},No=Ro=>{Ro.addCommand("mceCodeEditor",()=>{Qo(Ro)})},Ot=Ro=>{const uo=()=>Ro.execCommand("mceCodeEditor");Ro.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:uo}),Ro.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:uo})};var So=()=>{Tt.add("code",Ro=>(No(Ro),Ot(Ro),{}))};So()}()),VF}var UF;function gG(){return UF||(UF=1,pG()),HF}gG();var jF={},ZF={},WF;function hG(){return WF||(WF=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=yt=>it=>yt===it,Lo=zo(null),Qo=zo(void 0),No=yt=>yt==null,Ot=yt=>!No(yt),So=()=>{},uo=(yt=>()=>yt)(!1);class qt{constructor(it,Ke){this.tag=it,this.value=Ke}static some(it){return new qt(!0,it)}static none(){return qt.singletonNone}fold(it,Ke){return this.tag?Ke(this.value):it()}isSome(){return this.tag}isNone(){return!this.tag}map(it){return this.tag?qt.some(it(this.value)):qt.none()}bind(it){return this.tag?it(this.value):qt.none()}exists(it){return this.tag&&it(this.value)}forall(it){return!this.tag||it(this.value)}filter(it){return!this.tag||it(this.value)?this:qt.none()}getOr(it){return this.tag?this.value:it}or(it){return this.tag?this:it}getOrThunk(it){return this.tag?this.value:it()}orThunk(it){return this.tag?this:it()}getOrDie(it){if(this.tag)return this.value;throw new Error(it??"Called getOrDie on None")}static from(it){return Ot(it)?qt.some(it):qt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(it){this.tag&&it(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qt.singletonNone=new qt(!1);const bn=(yt,it)=>{for(let Ke=0,to=yt.length;Ke<to;Ke++){const mo=yt[Ke];if(it(mo,Ke))return!0}return!1},hr=(yt,it)=>{const Ke=yt.length,to=new Array(Ke);for(let mo=0;mo<Ke;mo++){const Wo=yt[mo];to[mo]=it(Wo,mo)}return to},Vr=(yt,it)=>{for(let Ke=0,to=yt.length;Ke<to;Ke++){const mo=yt[Ke];it(mo,Ke)}},Ht=yt=>{let it=yt;return{get:()=>it,set:mo=>{it=mo}}},Yt=(yt,it)=>{let Ke=null;const to=()=>{Lo(Ke)||(clearTimeout(Ke),Ke=null)};return{cancel:to,throttle:(...Wo)=>{to(),Ke=setTimeout(()=>{Ke=null,yt.apply(null,Wo)},it)}}},sn=(yt,it)=>{yt.insertContent(it)},Nn=Object.keys,et=Object.hasOwnProperty,Ut=(yt,it)=>{const Ke=Nn(yt);for(let to=0,mo=Ke.length;to<mo;to++){const Wo=Ke[to],zn=yt[Wo];it(zn,Wo)}},ht=(yt,it)=>ue(yt,(Ke,to)=>({k:to,v:it(Ke,to)})),ue=(yt,it)=>{const Ke={};return Ut(yt,(to,mo)=>{const Wo=it(to,mo);Ke[Wo.k]=Wo.v}),Ke},Ct=(yt,it)=>et.call(yt,it),Zn=(yt=>(...it)=>{if(it.length===0)throw new Error("Can't merge zero objects");const Ke={};for(let to=0;to<it.length;to++){const mo=it[to];for(const Wo in mo)Ct(mo,Wo)&&(Ke[Wo]=yt(Ke[Wo],mo[Wo]))}return Ke})((yt,it)=>it),ar=yt=>{const it=Ht(qt.none()),Ke=()=>it.get().each(yt);return{clear:()=>{Ke(),it.set(qt.none())},isSet:()=>it.get().isSome(),get:()=>it.get(),set:er=>{Ke(),it.set(qt.some(er))}}},Po=()=>{const yt=ar(So);return{...yt,on:Ke=>yt.get().each(Ke)}},Le=(yt,it,Ke)=>it===""||yt.length>=it.length&&yt.substr(Ke,Ke+it.length)===it,jt=(yt,it,Ke=0,to)=>{const mo=yt.indexOf(it,Ke);return mo!==-1?Qo(to)?!0:mo+it.length<=to:!1},O=(yt,it)=>Le(yt,it,0);var To=tinymce.util.Tools.resolve("tinymce.Resource");const io="tinymce.plugins.emoticons",Do=yt=>it=>it.options.get(yt),qr=(yt,it)=>{const Ke=yt.options.register;Ke("emoticons_database",{processor:"string",default:"emojis"}),Ke("emoticons_database_url",{processor:"string",default:`${it}/js/${Je(yt)}${yt.suffix}.js`}),Ke("emoticons_database_id",{processor:"string",default:io}),Ke("emoticons_append",{processor:"object",default:{}}),Ke("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},Je=Do("emoticons_database"),un=Do("emoticons_database_url"),Li=Do("emoticons_database_id"),De=Do("emoticons_append"),Se=Do("emoticons_images_url"),ot="All",$o={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Eo=(yt,it)=>Ct(yt,it)?yt[it]:it,bo=yt=>{const it=De(yt);return ht(it,Ke=>({keywords:[],category:"user",...Ke}))},fo=(yt,it,Ke)=>{const to=Po(),mo=Po(),Wo=Se(yt),zn=$r=>O($r.char,"<img")?$r.char.replace(/src="([^"]+)"/,(Yo,Ys)=>`src="${Wo}${Ys}"`):$r.char,er=$r=>{const Yo={},Ys=[];Ut($r,(ut,ko)=>{const Io={title:ko,keywords:ut.keywords,char:zn(ut),category:Eo($o,ut.category)},Xs=Yo[Io.category]!==void 0?Yo[Io.category]:[];Yo[Io.category]=Xs.concat([Io]),Ys.push(Io)}),to.set(Yo),mo.set(Ys)};yt.on("init",()=>{To.load(Ke,it).then($r=>{const Yo=bo(yt);er(Zn($r,Yo))},$r=>{console.log(`Failed to load emojis: ${$r}`),to.set({}),mo.set([])})});const Rn=$r=>$r===ot?Yn():to.get().bind(Yo=>qt.from(Yo[$r])).getOr([]),Yn=()=>mo.get().getOr([]),ts=()=>[ot].concat(Nn(to.get().getOr({}))),Vs=()=>Fn()?Promise.resolve(!0):new Promise(($r,Yo)=>{let Ys=15;const ut=setInterval(()=>{Fn()?(clearInterval(ut),$r(!0)):(Ys--,Ys<0&&(console.log("Could not load emojis from url: "+it),clearInterval(ut),Yo(!1)))},100)}),Fn=()=>to.isSet()&&mo.isSet();return{listCategories:ts,hasLoaded:Fn,waitForLoad:Vs,listAll:Yn,listCategory:Rn}},H=(yt,it)=>jt(yt.title.toLowerCase(),it)||bn(yt.keywords,Ke=>jt(Ke.toLowerCase(),it)),ls=(yt,it,Ke)=>{const to=[],mo=it.toLowerCase(),Wo=Ke.fold(()=>uo,zn=>er=>er>=zn);for(let zn=0;zn<yt.length&&!((it.length===0||H(yt[zn],mo))&&(to.push({value:yt[zn].char,text:yt[zn].title,icon:yt[zn].char}),Wo(to.length)));zn++);return to},ir="pattern",Go=(yt,it)=>{const Ke={pattern:"",results:ls(it.listAll(),"",qt.some(300))},to=Ht(ot),mo=ts=>{const Vs=ts.getData(),Fn=to.get(),$r=it.listCategory(Fn),Yo=ls($r,Vs[ir],Fn===ot?qt.some(300):qt.none());ts.setData({results:Yo})},Wo=Yt(ts=>{mo(ts)},200),zn={label:"Search",type:"input",name:ir},er={type:"collection",name:"results"},Rn=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:hr(it.listCategories(),Vs=>({title:Vs,name:Vs,items:[zn,er]}))},initialData:Ke,onTabChange:(Vs,Fn)=>{to.set(Fn.newTabName),Wo.throttle(Vs)},onChange:Wo.throttle,onAction:(Vs,Fn)=>{Fn.name==="results"&&(sn(yt,Fn.value),Vs.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Yn=yt.windowManager.open(Rn());Yn.focus(ir),it.hasLoaded()||(Yn.block("Loading emojis..."),it.waitForLoad().then(()=>{Yn.redial(Rn()),Wo.throttle(Yn),Yn.focus(ir),Yn.unblock()}).catch(ts=>{Yn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Yn.focus(ir),Yn.unblock()}))},gi=(yt,it)=>{yt.addCommand("mceEmoticons",()=>Go(yt,it))},dl=yt=>{yt.on("PreInit",()=>{yt.parser.addAttributeFilter("data-emoticon",it=>{Vr(it,Ke=>{Ke.attr("data-mce-resize","false"),Ke.attr("data-mce-placeholder","1")})})})},en=(yt,it)=>{yt.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Ke,to)=>it.waitForLoad().then(()=>{const mo=it.listAll();return ls(mo,Ke,qt.some(to))}),onAction:(Ke,to,mo)=>{yt.selection.setRng(to),yt.insertContent(mo),Ke.hide()}})},Cn=yt=>it=>{const Ke=()=>{it.setEnabled(yt.selection.isEditable())};return yt.on("NodeChange",Ke),Ke(),()=>{yt.off("NodeChange",Ke)}},Ko=yt=>{const it=()=>yt.execCommand("mceEmoticons");yt.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:it,onSetup:Cn(yt)}),yt.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:it,onSetup:Cn(yt)})};var Ne=()=>{Tt.add("emoticons",(yt,it)=>{qr(yt,it);const Ke=un(yt),to=Li(yt),mo=fo(yt,Ke,to);return gi(yt,mo),Ko(yt),en(yt,mo),dl(yt),{getAllEmojis:()=>mo.waitForLoad().then(()=>mo.listAll())}})};Ne()}()),ZF}var qF;function bG(){return qF||(qF=1,hG()),jF}bG();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});var GF={},KF={},YF;function yG(){return YF||(YF=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(q,ae,_e)=>{var He;return _e(q,ae.prototype)?!0:((He=q.constructor)===null||He===void 0?void 0:He.name)===ae.name},Lo=q=>{const ae=typeof q;return q===null?"null":ae==="object"&&Array.isArray(q)?"array":ae==="object"&&zo(q,String,(_e,He)=>He.isPrototypeOf(_e))?"string":ae},Qo=q=>ae=>Lo(ae)===q,No=q=>ae=>typeof ae===q,Ot=q=>ae=>q===ae,So=Qo("string"),Ro=Qo("object"),uo=Qo("array"),qt=Ot(null),bn=No("boolean"),hr=q=>q==null,Vr=q=>!hr(q),Ht=No("function"),Yt=(q,ae)=>{if(uo(q)){for(let _e=0,He=q.length;_e<He;++_e)if(!ae(q[_e]))return!1;return!0}return!1},sn=()=>{},Nn=q=>()=>q,et=(q,ae)=>q===ae;class Ut{constructor(ae,_e){this.tag=ae,this.value=_e}static some(ae){return new Ut(!0,ae)}static none(){return Ut.singletonNone}fold(ae,_e){return this.tag?_e(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?Ut.some(ae(this.value)):Ut.none()}bind(ae){return this.tag?ae(this.value):Ut.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:Ut.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return Vr(ae)?Ut.some(ae):Ut.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ut.singletonNone=new Ut(!1);const ht=Array.prototype.indexOf,ue=Array.prototype.push,Ct=(q,ae)=>ht.call(q,ae),pe=(q,ae)=>Ct(q,ae)>-1,qe=(q,ae)=>{const _e=q.length,He=new Array(_e);for(let dt=0;dt<_e;dt++){const It=q[dt];He[dt]=ae(It,dt)}return He},Zn=(q,ae)=>{for(let _e=0,He=q.length;_e<He;_e++){const dt=q[_e];ae(dt,_e)}},ar=(q,ae,_e)=>(Zn(q,(He,dt)=>{_e=ae(_e,He,dt)}),_e),Po=q=>{const ae=[];for(let _e=0,He=q.length;_e<He;++_e){if(!uo(q[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+q);ue.apply(ae,q[_e])}return ae},Le=(q,ae)=>Po(qe(q,ae)),jt=(q,ae)=>{for(let _e=0;_e<q.length;_e++){const He=ae(q[_e],_e);if(He.isSome())return He}return Ut.none()},O=(q,ae,_e=et)=>q.exists(He=>_e(He,ae)),To=q=>{const ae=[],_e=He=>{ae.push(He)};for(let He=0;He<q.length;He++)q[He].each(_e);return ae},io=(q,ae)=>q?Ut.some(ae):Ut.none(),Do=q=>ae=>ae.options.get(q),qr=q=>{const ae=q.options.register;ae("link_assume_external_targets",{processor:_e=>{const He=So(_e)||bn(_e);return He?_e===!0?{value:1,valid:He}:_e==="http"||_e==="https"?{value:_e,valid:He}:{value:0,valid:He}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ae("link_context_toolbar",{processor:"boolean",default:!1}),ae("link_list",{processor:_e=>So(_e)||Ht(_e)||Yt(_e,Ro)}),ae("link_default_target",{processor:"string"}),ae("link_default_protocol",{processor:"string",default:"https"}),ae("link_target_list",{processor:_e=>bn(_e)||Yt(_e,Ro),default:!0}),ae("link_rel_list",{processor:"object[]",default:[]}),ae("link_class_list",{processor:"object[]",default:[]}),ae("link_title",{processor:"boolean",default:!0}),ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),ae("link_quicklink",{processor:"boolean",default:!1}),ae("link_attributes_postprocess",{processor:"function"})},Je=Do("link_assume_external_targets"),un=Do("link_context_toolbar"),Li=Do("link_list"),De=Do("link_default_target"),Se=Do("link_default_protocol"),ot=Do("link_target_list"),$o=Do("link_rel_list"),Eo=Do("link_class_list"),bo=Do("link_title"),fo=Do("allow_unsafe_link_target"),H=Do("link_quicklink"),ls=Do("link_attributes_postprocess"),ir=Object.keys,Go=Object.hasOwnProperty,gi=(q,ae)=>{const _e=ir(q);for(let He=0,dt=_e.length;He<dt;He++){const It=_e[He],Rt=q[It];ae(Rt,It)}},dl=q=>(ae,_e)=>{q[_e]=ae},en=(q,ae,_e,He)=>{gi(q,(dt,It)=>{(ae(dt,It)?_e:He)(dt,It)})},Cn=(q,ae)=>{const _e={};return en(q,ae,dl(_e),sn),_e},Ko=(q,ae)=>Go.call(q,ae),Ne=(q,ae)=>Ko(q,ae)&&q[ae]!==void 0&&q[ae]!==null;var yt=tinymce.util.Tools.resolve("tinymce.util.URI"),it=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ke=tinymce.util.Tools.resolve("tinymce.util.Tools");const to=q=>Vr(q)&&q.nodeName.toLowerCase()==="a",mo=q=>to(q)&&!!er(q),Wo=(q,ae)=>{if(q.collapsed)return[];{const _e=q.cloneContents(),He=_e.firstChild,dt=new it(He,_e),It=[];let Rt=He;do ae(Rt)&&It.push(Rt);while(Rt=dt.next());return It}},zn=q=>/^\w+:/i.test(q),er=q=>{var ae,_e;return(_e=(ae=q.getAttribute("data-mce-href"))!==null&&ae!==void 0?ae:q.getAttribute("href"))!==null&&_e!==void 0?_e:""},Rn=(q,ae)=>{const _e=["noopener"],He=q?q.split(/\s+/):[],dt=fn=>Ke.trim(fn.sort().join(" ")),It=fn=>(fn=Rt(fn),fn.length>0?fn.concat(_e):_e),Rt=fn=>fn.filter(xr=>Ke.inArray(_e,xr)===-1),Sr=ae?It(He):Rt(He);return Sr.length>0?dt(Sr):""},Yn=q=>q.replace(/\uFEFF/g,""),ts=(q,ae)=>(ae=ae||$r(q.selection.getRng())[0]||q.selection.getNode(),Io(ae)?Ut.from(q.dom.select("a[href]",ae)[0]):Ut.from(q.dom.getParent(ae,"a[href]"))),Vs=(q,ae)=>ts(q,ae).isSome(),Fn=(q,ae)=>{const _e=ae.fold(()=>q.getContent({format:"text"}),He=>He.innerText||He.textContent||"");return Yn(_e)},$r=q=>Wo(q,mo),Yo=q=>Ke.grep(q,mo),Ys=q=>Yo(q).length>0,ut=q=>$r(q).length>0,ko=q=>{const ae=q.schema.getTextInlineElements(),_e=It=>It.nodeType===1&&!to(It)&&!Ko(ae,It.nodeName.toLowerCase());if(ts(q).exists(It=>It.hasAttribute("data-mce-block")))return!1;const dt=q.selection.getRng();return dt.collapsed?!0:Wo(dt,_e).length===0},Io=q=>Vr(q)&&q.nodeName==="FIGURE"&&/\bimage\b/i.test(q.className),Xs=q=>ar(["title","rel","class","target"],(_e,He)=>(q[He].each(dt=>{_e[He]=dt.length>0?dt:null}),_e),{href:q.href}),hi=(q,ae)=>(ae==="http"||ae==="https")&&!zn(q)?ae+"://"+q:q,rt=(q,ae)=>{const _e={...ae};if($o(q).length===0&&!fo(q)){const He=Rn(_e.rel,_e.target==="_blank");_e.rel=He||null}return Ut.from(_e.target).isNone()&&ot(q)===!1&&(_e.target=De(q)),_e.href=hi(_e.href,Je(q)),_e},Ka=(q,ae,_e,He)=>{_e.each(It=>{Ko(ae,"innerText")?ae.innerText=It:ae.textContent=It}),q.dom.setAttribs(ae,He);const dt=q.dom.createRng();dt.setStartAfter(ae),dt.setEndAfter(ae),q.selection.setRng(dt)},Fo=(q,ae,_e,He)=>{const dt=q.dom;Io(ae)?Hn(dt,ae,He):_e.fold(()=>{q.execCommand("mceInsertLink",!1,He);const It=q.selection.getEnd(),Rt=dt.createRng();Rt.setStartAfter(It),Rt.setEndAfter(It),q.selection.setRng(Rt)},It=>{q.insertContent(dt.createHTML("a",He,dt.encode(It)))})},Ii=(q,ae,_e)=>{const He=q.selection.getNode(),dt=ts(q,He),It=rt(q,Xs(_e)),Rt=ls(q);Vr(Rt)&&Rt(It),q.undoManager.transact(()=>{_e.href===ae.href&&ae.attach(),dt.fold(()=>{Fo(q,He,_e.text,It)},Sr=>{q.focus(),Ka(q,Sr,_e.text,It)})})},Wn=q=>{const ae=q.dom,_e=q.selection,He=_e.getBookmark(),dt=_e.getRng().cloneRange(),It=ae.getParent(dt.startContainer,"a[href]",q.getBody()),Rt=ae.getParent(dt.endContainer,"a[href]",q.getBody());It&&dt.setStartBefore(It),Rt&&dt.setEndAfter(Rt),_e.setRng(dt),q.execCommand("unlink"),_e.moveToBookmark(He)},bs=q=>{q.undoManager.transact(()=>{const ae=q.selection.getNode();Io(ae)?Tl(q,ae):Wn(q),q.focus()})},El=q=>{const{class:ae,href:_e,rel:He,target:dt,text:It,title:Rt}=q;return Cn({class:ae.getOrNull(),href:_e,rel:He.getOrNull(),target:dt.getOrNull(),text:It.getOrNull(),title:Rt.getOrNull()},(Sr,fn)=>qt(Sr)===!1)},zl=(q,ae)=>{const _e=q.options.get,He={allow_html_data_urls:_e("allow_html_data_urls"),allow_script_urls:_e("allow_script_urls"),allow_svg_data_urls:_e("allow_svg_data_urls")},dt=ae.href;return{...ae,href:yt.isDomSafe(dt,"a",He)?dt:""}},Ji=(q,ae,_e)=>{const He=zl(q,_e);q.hasPlugin("rtc",!0)?q.execCommand("createlink",!1,El(He)):Ii(q,ae,He)},Oa=q=>{q.hasPlugin("rtc",!0)?q.execCommand("unlink"):bs(q)},Tl=(q,ae)=>{var _e;const He=q.dom.select("img",ae)[0];if(He){const dt=q.dom.getParents(He,"a[href]",ae)[0];dt&&((_e=dt.parentNode)===null||_e===void 0||_e.insertBefore(He,dt),q.dom.remove(dt))}},Hn=(q,ae,_e)=>{var He;const dt=q.select("img",ae)[0];if(dt){const It=q.create("a",_e);(He=dt.parentNode)===null||He===void 0||He.insertBefore(It,dt),It.appendChild(dt)}},go=q=>So(q.value)?q.value:"",Ya=q=>So(q.text)?q.text:So(q.title)?q.title:"",Os=(q,ae)=>{const _e=[];return Ke.each(q,He=>{const dt=Ya(He);if(He.menu!==void 0){const It=Os(He.menu,ae);_e.push({text:dt,items:It})}else{const It=ae(He);_e.push({text:dt,value:It})}}),_e},kc=(q=go)=>ae=>Ut.from(ae).map(_e=>Os(_e,q)),Xa={sanitize:q=>kc(go)(q),sanitizeWith:kc,createUi:(q,ae)=>_e=>({name:q,type:"listbox",label:ae,items:_e}),getValue:go},Dr=q=>Ne(q,"items"),Ad=(q,ae)=>jt(ae,_e=>Dr(_e)?Ad(q,_e.items):io(_e.value===q,_e)),Ia=(q,ae,_e,He)=>{const dt=He[ae],It=q.length>0;return dt!==void 0?Ad(dt,_e).map(Rt=>({url:{value:Rt.value,meta:{text:It?q:Rt.text,attach:sn}},text:It?q:Rt.text})):Ut.none()},bi=(q,ae)=>ae==="link"?q.link:ae==="anchor"?q.anchor:Ut.none(),dr={init:(q,ae)=>{const _e={text:q.text,title:q.title},He=fn=>{var xr;return io(_e.title.length<=0,Ut.from((xr=fn.meta)===null||xr===void 0?void 0:xr.title).getOr(""))},dt=fn=>{var xr;return io(_e.text.length<=0,Ut.from((xr=fn.meta)===null||xr===void 0?void 0:xr.text).getOr(fn.value))},It=fn=>{const xr=dt(fn.url),fr=He(fn.url);return xr.isSome()||fr.isSome()?Ut.some({...xr.map(Xc=>({text:Xc})).getOr({}),...fr.map(Xc=>({title:Xc})).getOr({})}):Ut.none()},Rt=(fn,xr)=>{const fr=bi(ae,xr).getOr([]);return Ia(_e.text,xr,fr,fn)};return{onChange:(fn,xr)=>{const fr=xr.name;return fr==="url"?It(fn()):pe(["anchor","link"],fr)?Rt(fn(),fr):((fr==="text"||fr==="title")&&(_e[fr]=fn()[fr]),Ut.none())}}},getDelta:Ia};var ma=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ja=(q,ae,_e)=>{const He=q.selection.getRng();ma.setEditorTimeout(q,()=>{q.windowManager.confirm(ae,dt=>{q.selection.setRng(He),_e(dt)})})},ru=q=>{const ae=q.href;return ae.indexOf("@")>0&&ae.indexOf("/")===-1&&ae.indexOf("mailto:")===-1?Ut.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:He=>({...He,href:"mailto:"+ae})}):Ut.none()},Gl=(q,ae)=>_e=>{const He=_e.href;return q===1&&!zn(He)||q===0&&/^\s*www(\.|\d\.)/i.test(He)?Ut.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ae}:// prefix?`,preprocess:It=>({...It,href:ae+"://"+He})}):Ut.none()},Nd={preprocess:(q,ae)=>jt([ru,Gl(Je(q),Se(q))],_e=>_e(ae)).fold(()=>Promise.resolve(ae),_e=>new Promise(He=>{Ja(q,_e.message,dt=>{He(dt?_e.preprocess(ae):ae)})}))},yn={getAnchors:q=>{const ae=q.dom.select("a:not([href])"),_e=Le(ae,He=>{const dt=He.name||He.id;return dt?[{text:dt,value:"#"+dt}]:[]});return _e.length>0?Ut.some([{text:"None",value:""}].concat(_e)):Ut.none()}},pa={getClasses:q=>{const ae=Eo(q);return ae.length>0?Xa.sanitize(ae):Ut.none()}},Dd=q=>{try{return Ut.some(JSON.parse(q))}catch{return Ut.none()}},Md={getLinks:q=>{const ae=He=>q.convertURL(He.value||He.url||"","href"),_e=Li(q);return new Promise(He=>{So(_e)?fetch(_e).then(dt=>dt.ok?dt.text().then(Dd):Promise.reject()).then(He,()=>He(Ut.none())):Ht(_e)?_e(dt=>He(Ut.some(dt))):He(Ut.from(_e))}).then(He=>He.bind(Xa.sanitizeWith(ae)).map(dt=>dt.length>0?[{text:"None",value:""}].concat(dt):dt))}},yi={getRels:(q,ae)=>{const _e=$o(q);if(_e.length>0){const He=O(ae,"_blank"),dt=fo(q)===!1,It=Sr=>Rn(Xa.getValue(Sr),He);return(dt?Xa.sanitizeWith(It):Xa.sanitize)(_e)}return Ut.none()}},xi=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ur={getTargets:q=>{const ae=ot(q);return uo(ae)?Xa.sanitize(ae).orThunk(()=>Ut.some(xi)):ae===!1?Ut.none():Ut.some(xi)}},Vi=(q,ae,_e)=>{const He=q.getAttrib(ae,_e);return He!==null&&He.length>0?Ut.some(He):Ut.none()},Qa=(q,ae)=>{const _e=q.dom,dt=ko(q)?Ut.some(Fn(q.selection,ae)):Ut.none(),It=ae.bind(fr=>Ut.from(_e.getAttrib(fr,"href"))),Rt=ae.bind(fr=>Ut.from(_e.getAttrib(fr,"target"))),Sr=ae.bind(fr=>Vi(_e,fr,"rel")),fn=ae.bind(fr=>Vi(_e,fr,"class")),xr=ae.bind(fr=>Vi(_e,fr,"title"));return{url:It,text:dt,title:xr,target:Rt,rel:Sr,linkClass:fn}},el={collect:(q,ae)=>Md.getLinks(q).then(_e=>{const He=Qa(q,ae);return{anchor:He,catalogs:{targets:ur.getTargets(q),rels:yi.getRels(q,He.target),classes:pa.getClasses(q),anchor:yn.getAnchors(q),link:_e},optNode:ae,flags:{titleEnabled:bo(q)}}})},cs=(q,ae)=>_e=>{const He=_e.getData();if(!He.url.value){Oa(q),_e.close();return}const dt=Sr=>Ut.from(He[Sr]).filter(fn=>!O(ae.anchor[Sr],fn)),It={href:He.url.value,text:dt("text"),target:dt("target"),rel:dt("rel"),class:dt("linkClass"),title:dt("title")},Rt={href:He.url.value,attach:He.url.meta!==void 0&&He.url.meta.attach?He.url.meta.attach:sn};Nd.preprocess(q,It).then(Sr=>{Ji(q,Rt,Sr)}),_e.close()},yr=q=>{const ae=ts(q);return el.collect(q,ae)},vi=(q,ae)=>{const _e=q.anchor,He=_e.url.getOr("");return{url:{value:He,meta:{original:{value:He}}},text:_e.text.getOr(""),title:_e.title.getOr(""),anchor:He,link:He,rel:_e.rel.getOr(""),target:_e.target.or(ae).getOr(""),linkClass:_e.linkClass.getOr("")}},$s=(q,ae,_e)=>{const He=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],dt=q.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),It=q.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Rt=Ut.from(De(_e)),Sr=vi(q,Rt),fn=q.catalogs,xr=dr.init(Sr,fn);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Po([He,dt,It,To([fn.anchor.map(Xa.createUi("anchor","Anchors")),fn.rels.map(Xa.createUi("rel","Rel")),fn.targets.map(Xa.createUi("target","Open link in...")),fn.link.map(Xa.createUi("link","Link list")),fn.classes.map(Xa.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Sr,onChange:(Xc,{name:oi})=>{xr.onChange(Xc.getData,{name:oi}).each(iu=>{Xc.setData(iu)})},onSubmit:ae}},qn=q=>{yr(q).then(_e=>{const He=cs(q,_e);return $s(_e,He,q)}).then(_e=>{q.windowManager.open(_e)})},ha=q=>{q.addCommand("mceLink",(ae,_e)=>{(_e==null?void 0:_e.dialog)===!0||!H(q)?qn(q):q.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},ei=q=>{q.addShortcut("Meta+K","",()=>{q.execCommand("mceLink")})},su=q=>{let ae=q;return{get:()=>ae,set:dt=>{ae=dt}}},lo=q=>{const ae=su(Ut.none()),_e=()=>ae.get().each(q);return{clear:()=>{_e(),ae.set(Ut.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:Sr=>{_e(),ae.set(Ut.some(Sr))}}},ws=()=>{const q=lo(sn);return{...q,on:_e=>q.get().each(_e)}},ds=(q,ae)=>q.substring(ae),us=(q,ae,_e)=>ae===""||q.length>=ae.length&&q.substr(_e,_e+ae.length)===ae,au=(q,ae)=>Ur(q,ae)?ds(q,ae.length):q,Ur=(q,ae)=>us(q,ae,0);var Kl=tinymce.util.Tools.resolve("tinymce.util.VK");const Ol=(q,ae)=>{document.body.appendChild(q),q.dispatchEvent(ae),document.body.removeChild(q)},Zt=q=>{const ae=document.createElement("a");ae.target="_blank",ae.href=q,ae.rel="noreferrer noopener";const _e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(_e),Ol(ae,_e)},ti=q=>q.altKey===!0&&q.shiftKey===!1&&q.ctrlKey===!1&&q.metaKey===!1,_i=(q,ae)=>{if(ae){const _e=er(ae);if(/^#/.test(_e)){const He=q.dom.select(`${_e},[name="${au(_e,"#")}"]`);He.length&&q.selection.scrollIntoView(He[0],!0)}else Zt(ae.href)}},Us=q=>{const ae=q.selection.getRng(),_e=ae.startContainer;return mo(_e)&&ae.startContainer===ae.endContainer&&q.dom.select("img",_e).length===1},wc=(q,ae)=>{const _e=Yo(q.dom.getParents(ae));return io(_e.length===1,_e[0])},wr=q=>{const ae=$r(q.selection.getRng());return io(ae.length>0,ae[0]).or(wc(q,q.selection.getNode()))},$i=q=>q.selection.isCollapsed()||Us(q)?wc(q,q.selection.getStart()):wr(q),ki=q=>{const ae=ws(),_e=()=>ae.get().or($i(q)),He=()=>_e().each(dt=>_i(q,dt));return q.on("contextmenu",dt=>{wc(q,dt.target).each(ae.set)}),q.on("SelectionChange",()=>{ae.isSet()||$i(q).each(ae.set)}),q.on("click",dt=>{ae.clear();const It=Yo(q.dom.getParents(dt.target));It.length===1&&Kl.metaKeyPressed(dt)&&(dt.preventDefault(),_i(q,It[0]))}),q.on("keydown",dt=>{ae.clear(),!dt.isDefaultPrevented()&&dt.keyCode===13&&ti(dt)&&_e().each(It=>{dt.preventDefault(),_i(q,It)})}),{gotoSelectedLink:He}},an=q=>()=>{q.execCommand("mceLink",!1,{dialog:!0})},ul=(q,ae)=>(q.on("NodeChange",ae),()=>q.off("NodeChange",ae)),Al=q=>ae=>{const _e=()=>{ae.setActive(!q.mode.isReadOnly()&&Vs(q,q.selection.getNode())),ae.setEnabled(q.selection.isEditable())};return _e(),ul(q,_e)},Bd=q=>ae=>{const _e=()=>{ae.setEnabled(q.selection.isEditable())};return _e(),ul(q,_e)},Cr=q=>ae=>{const _e=It=>Ys(It)||ut(q.selection.getRng()),He=q.dom.getParents(q.selection.getStart()),dt=It=>{ae.setEnabled(_e(It)&&q.selection.isEditable())};return dt(He),ul(q,It=>dt(It.parents))},Aa=(q,ae)=>{q.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:an(q),onSetup:Al(q)}),q.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ae.gotoSelectedLink,onSetup:Cr(q)}),q.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Oa(q),onSetup:Cr(q)})},ju=(q,ae)=>{q.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ae.gotoSelectedLink,onSetup:Cr(q)}),q.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:an(q),onSetup:Bd(q)}),q.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Oa(q),onSetup:Cr(q)})},Dn=q=>{const ae="link unlink openlink",_e="link";q.ui.registry.addContextMenu("link",{update:He=>q.dom.isEditable(He)?Ys(q.dom.getParents(He,"a"))?ae:_e:""})},Yl=(q,ae)=>{const _e=It=>{It.selection.collapse(!1)},He=It=>{const Rt=q.selection.getNode();return It.setEnabled(Vs(q,Rt)&&q.selection.isEditable()),sn},dt=It=>{const Rt=ts(q),Sr=ko(q);if(Rt.isNone()&&Sr){const fn=Fn(q.selection,Rt);return io(fn.length===0,It)}else return Ut.none()};q.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Al(q)},label:"Link",predicate:It=>un(q)&&Vs(q,It),initValue:()=>ts(q).fold(Nn(""),er),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:It=>{const Rt=q.selection.getNode();return It.setActive(Vs(q,Rt)),Al(q)(It)},onAction:It=>{const Rt=It.getValue(),Sr=dt(Rt);Ji(q,{href:Rt,attach:sn},{href:Rt,text:Sr,title:Ut.none(),rel:Ut.none(),target:Ut.from(De(q)),class:Ut.none()}),_e(q),It.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:He,onAction:It=>{Oa(q),It.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:He,onAction:It=>{ae.gotoSelectedLink(),It.hide()}}]})},Gr=q=>{const ae=ki(q);Aa(q,ae),ju(q,ae),Dn(q),Yl(q,ae)};var js=()=>{Tt.add("link",q=>{qr(q),ha(q),Gr(q),ei(q)})};js()}()),KF}var XF;function xG(){return XF||(XF=1,yG()),GF}xG();var JF={},QF={},e9;function vG(){return e9||(e9=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(S,M,U)=>{var le;return U(S,M.prototype)?!0:((le=S.constructor)===null||le===void 0?void 0:le.name)===M.name},Lo=S=>{const M=typeof S;return S===null?"null":M==="object"&&Array.isArray(S)?"array":M==="object"&&zo(S,String,(U,le)=>le.isPrototypeOf(U))?"string":M},Qo=S=>M=>Lo(M)===S,No=S=>M=>typeof M===S,Ot=Qo("string"),So=Qo("object"),Ro=Qo("array"),uo=No("boolean"),qt=S=>S==null,bn=S=>!qt(S),hr=No("function"),Vr=No("number"),Ht=()=>{},Yt=(S,M)=>U=>S(M(U)),sn=S=>()=>S,Nn=(S,M)=>S===M;function et(S,...M){return(...U)=>{const le=M.concat(U);return S.apply(null,le)}}const Ut=S=>M=>!S(M),ht=sn(!1);class ue{constructor(M,U){this.tag=M,this.value=U}static some(M){return new ue(!0,M)}static none(){return ue.singletonNone}fold(M,U){return this.tag?U(this.value):M()}isSome(){return this.tag}isNone(){return!this.tag}map(M){return this.tag?ue.some(M(this.value)):ue.none()}bind(M){return this.tag?M(this.value):ue.none()}exists(M){return this.tag&&M(this.value)}forall(M){return!this.tag||M(this.value)}filter(M){return!this.tag||M(this.value)?this:ue.none()}getOr(M){return this.tag?this.value:M}or(M){return this.tag?this:M}getOrThunk(M){return this.tag?this.value:M()}orThunk(M){return this.tag?this:M()}getOrDie(M){if(this.tag)return this.value;throw new Error(M??"Called getOrDie on None")}static from(M){return bn(M)?ue.some(M):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(M){this.tag&&M(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const Ct=Array.prototype.slice,pe=Array.prototype.indexOf,qe=Array.prototype.push,Zn=(S,M)=>pe.call(S,M),ar=(S,M)=>Zn(S,M)>-1,Po=(S,M)=>{for(let U=0,le=S.length;U<le;U++){const ge=S[U];if(M(ge,U))return!0}return!1},Le=(S,M)=>{const U=S.length,le=new Array(U);for(let ge=0;ge<U;ge++){const nt=S[ge];le[ge]=M(nt,ge)}return le},jt=(S,M)=>{for(let U=0,le=S.length;U<le;U++){const ge=S[U];M(ge,U)}},O=(S,M)=>{const U=[];for(let le=0,ge=S.length;le<ge;le++){const nt=S[le];M(nt,le)&&U.push(nt)}return U},To=(S,M)=>{if(S.length===0)return[];{let U=M(S[0]);const le=[];let ge=[];for(let nt=0,ro=S.length;nt<ro;nt++){const Ho=S[nt],_o=M(Ho);_o!==U&&(le.push(ge),ge=[]),U=_o,ge.push(Ho)}return ge.length!==0&&le.push(ge),le}},io=(S,M,U)=>(jt(S,(le,ge)=>{U=M(U,le,ge)}),U),Do=(S,M,U)=>{for(let le=0,ge=S.length;le<ge;le++){const nt=S[le];if(M(nt,le))return ue.some(nt);if(U(nt,le))break}return ue.none()},qr=(S,M)=>Do(S,M,ht),Je=S=>{const M=[];for(let U=0,le=S.length;U<le;++U){if(!Ro(S[U]))throw new Error("Arr.flatten item "+U+" was not an array, input: "+S);qe.apply(M,S[U])}return M},un=(S,M)=>Je(Le(S,M)),Li=S=>{const M=Ct.call(S,0);return M.reverse(),M},De=(S,M)=>M>=0&&M<S.length?ue.some(S[M]):ue.none(),Se=S=>De(S,0),ot=S=>De(S,S.length-1),$o=(S,M)=>{const U=[],le=hr(M)?ge=>Po(U,nt=>M(nt,ge)):ge=>ar(U,ge);for(let ge=0,nt=S.length;ge<nt;ge++){const ro=S[ge];le(ro)||U.push(ro)}return U},Eo=(S,M,U=Nn)=>S.exists(le=>U(le,M)),bo=(S,M,U=Nn)=>fo(S,M,U).getOr(S.isNone()&&M.isNone()),fo=(S,M,U)=>S.isSome()&&M.isSome()?ue.some(U(S.getOrDie(),M.getOrDie())):ue.none(),H=8,ls=11,ir=1,Go=3,gi=(S,M)=>{const le=(M||document).createElement("div");if(le.innerHTML=S,!le.hasChildNodes()||le.childNodes.length>1){const ge="HTML does not have a single root node";throw console.error(ge,S),new Error(ge)}return Cn(le.childNodes[0])},dl=(S,M)=>{const le=(M||document).createElement(S);return Cn(le)},en=(S,M)=>{const le=(M||document).createTextNode(S);return Cn(le)},Cn=S=>{if(S==null)throw new Error("Node cannot be null or undefined");return{dom:S}},Ne={fromHtml:gi,fromTag:dl,fromText:en,fromDom:Cn,fromPoint:(S,M,U)=>ue.from(S.dom.elementFromPoint(M,U)).map(Cn)},yt=(S,M)=>{const U=S.dom;if(U.nodeType!==ir)return!1;{const le=U;if(le.matches!==void 0)return le.matches(M);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(M);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(M);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(M);throw new Error("Browser lacks native selectors")}},it=(S,M)=>S.dom===M.dom,Ke=(S,M)=>{const U=S.dom,le=M.dom;return U===le?!1:U.contains(le)},to=yt,mo=typeof window<"u"?window:Function("return this;")(),Wo=(S,M)=>{let U=M??mo;for(let le=0;le<S.length&&U!==void 0&&U!==null;++le)U=U[S[le]];return U},zn=(S,M)=>{const U=S.split(".");return Wo(U,M)},er=(S,M)=>zn(S,M),Rn=(S,M)=>{const U=er(S,M);if(U==null)throw new Error(S+" not available on this browser");return U},Yn=Object.getPrototypeOf,ts=S=>Rn("HTMLElement",S),Vs=S=>{const M=zn("ownerDocument.defaultView",S);return So(S)&&(ts(M).prototype.isPrototypeOf(S)||/^HTML\w*Element$/.test(Yn(S).constructor.name))},Fn=S=>S.dom.nodeName.toLowerCase(),$r=S=>S.dom.nodeType,Yo=S=>M=>$r(M)===S,Ys=S=>$r(S)===H||Fn(S)==="#comment",ut=S=>ko(S)&&Vs(S.dom),ko=Yo(ir),Io=Yo(Go),Xs=Yo(ls),hi=S=>M=>ko(M)&&Fn(M)===S,rt=S=>ue.from(S.dom.parentNode).map(Ne.fromDom),Ka=S=>ue.from(S.dom.parentElement).map(Ne.fromDom),Fo=S=>ue.from(S.dom.nextSibling).map(Ne.fromDom),Ii=S=>Le(S.dom.childNodes,Ne.fromDom),Wn=(S,M)=>{const U=S.dom.childNodes;return ue.from(U[M]).map(Ne.fromDom)},bs=S=>Wn(S,0),El=S=>Wn(S,S.dom.childNodes.length-1),zl=S=>Xs(S)&&bn(S.dom.host),Ji=S=>Ne.fromDom(S.dom.getRootNode()),Oa=S=>{const M=Ji(S);return zl(M)?ue.some(M):ue.none()},Tl=S=>Ne.fromDom(S.dom.host),Hn=S=>{const M=Io(S)?S.dom.parentNode:S.dom;if(M==null||M.ownerDocument===null)return!1;const U=M.ownerDocument;return Oa(Ne.fromDom(M)).fold(()=>U.body.contains(M),Yt(Hn,Tl))};var go=(S,M,U,le,ge)=>S(U,le)?ue.some(U):hr(ge)&&ge(U)?ue.none():M(U,le,ge);const Ya=(S,M,U)=>{let le=S.dom;const ge=hr(U)?U:ht;for(;le.parentNode;){le=le.parentNode;const nt=Ne.fromDom(le);if(M(nt))return ue.some(nt);if(ge(nt))break}return ue.none()},Os=(S,M,U)=>go((ge,nt)=>nt(ge),Ya,S,M,U),kc=(S,M,U)=>Ya(S,le=>yt(le,M),U),_t=(S,M,U)=>go((ge,nt)=>yt(ge,nt),kc,S,M,U),Qi=S=>_t(S,"[contenteditable]"),Xa=(S,M=!1)=>Hn(S)?S.dom.isContentEditable:Qi(S).fold(sn(M),U=>Dr(U)==="true"),Dr=S=>S.dom.contentEditable,Ad=(S,M)=>{rt(S).each(le=>{le.dom.insertBefore(M.dom,S.dom)})},Ia=(S,M)=>{Fo(S).fold(()=>{rt(S).each(ge=>{Fi(ge,M)})},le=>{Ad(le,M)})},bi=(S,M)=>{bs(S).fold(()=>{Fi(S,M)},le=>{S.dom.insertBefore(M.dom,le.dom)})},Fi=(S,M)=>{S.dom.appendChild(M.dom)},dr=(S,M)=>{jt(M,U=>{Ad(S,U)})},ma=(S,M)=>{jt(M,U=>{Fi(S,U)})},Ja=S=>{S.dom.textContent="",jt(Ii(S),M=>{ru(M)})},ru=S=>{const M=S.dom;M.parentNode!==null&&M.parentNode.removeChild(M)};var Gl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Hi=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Nd=tinymce.util.Tools.resolve("tinymce.util.VK");const Rd=S=>Le(S,Ne.fromDom),yn=Object.keys,ys=(S,M)=>{const U=yn(S);for(let le=0,ge=U.length;le<ge;le++){const nt=U[le],ro=S[nt];M(ro,nt)}},pa=S=>(M,U)=>{S[U]=M},Dd=(S,M,U,le)=>{ys(S,(ge,nt)=>{(M(ge,nt)?U:le)(ge,nt)})},Uu=(S,M)=>{const U={};return Dd(S,M,pa(U),Ht),U},Md=(S,M,U)=>{if(Ot(U)||uo(U)||Vr(U))S.setAttribute(M,U+"");else throw console.error("Invalid call to Attribute.set. Key ",M,":: Value ",U,":: Element ",S),new Error("Attribute value was not simple")},os=(S,M)=>{const U=S.dom;ys(M,(le,ge)=>{Md(U,ge,le)})},yi=S=>io(S.dom.attributes,(M,U)=>(M[U.name]=U.value,M),{}),xi=(S,M)=>Ne.fromDom(S.dom.cloneNode(M)),br=S=>xi(S,!0),ur=(S,M)=>{const U=Ne.fromTag(M),le=yi(S);return os(U,le),U},Vi=(S,M)=>{const U=ur(S,M);Ia(S,U);const le=Ii(S);return ma(U,le),ru(S),U};var Qa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ga=tinymce.util.Tools.resolve("tinymce.util.Tools");const el=S=>M=>bn(M)&&M.nodeName.toLowerCase()===S,cs=S=>M=>bn(M)&&S.test(M.nodeName),yr=S=>bn(S)&&S.nodeType===3,vi=S=>bn(S)&&S.nodeType===1,$s=cs(/^(OL|UL|DL)$/),qn=cs(/^(OL|UL)$/),ha=el("ol"),ei=cs(/^(LI|DT|DD)$/),su=cs(/^(DT|DD)$/),lo=cs(/^(TH|TD)$/),ws=el("br"),ds=S=>{var M;return((M=S.parentNode)===null||M===void 0?void 0:M.firstChild)===S},us=(S,M)=>bn(M)&&M.nodeName in S.schema.getTextBlockElements(),au=(S,M)=>bn(S)&&S.nodeName in M,Ur=(S,M)=>bn(M)&&M.nodeName in S.schema.getVoidElements(),Kl=(S,M)=>ws(M)?S.isBlock(M.nextSibling)&&!ws(M.previousSibling):!1,Ol=(S,M,U)=>{const le=S.isEmpty(M);return U&&S.select("span[data-mce-type=bookmark]",M).length>0?!1:le},Zt=(S,M)=>S.isChildOf(M,S.getRoot()),ti=S=>M=>M.options.get(S),_i=S=>{const M=S.options.register;M("lists_indent_on_tab",{processor:"boolean",default:!0})},Us=ti("lists_indent_on_tab"),wc=ti("forced_root_block"),wr=ti("forced_root_block_attrs"),$i=(S,M,U={})=>{const le=S.dom,ge=S.schema.getBlockElements(),nt=le.createFragment(),ro=wc(S),Ho=wr(S);let _o,Dt,Ln=!1;for(Dt=le.create(ro,{...Ho,...U.style?{style:U.style}:{}}),au(M.firstChild,ge)||nt.appendChild(Dt);_o=M.firstChild;){const ns=_o.nodeName;!Ln&&(ns!=="SPAN"||_o.getAttribute("data-mce-type")!=="bookmark")&&(Ln=!0),au(_o,ge)?(nt.appendChild(_o),Dt=null):(Dt||(Dt=le.create(ro,Ho),nt.appendChild(Dt)),Dt.appendChild(_o))}return!Ln&&Dt&&Dt.appendChild(le.create("br",{"data-mce-bogus":"1"})),nt},ki=Qa.DOM,an=(S,M,U)=>{const le=Dt=>{const Ln=Dt.parentNode;Ln&&ga.each(ge,ns=>{Ln.insertBefore(ns,U.parentNode)}),ki.remove(Dt)},ge=ki.select('span[data-mce-type="bookmark"]',M),nt=$i(S,U),ro=ki.createRng();ro.setStartAfter(U),ro.setEndAfter(M);const Ho=ro.extractContents();for(let Dt=Ho.firstChild;Dt;Dt=Dt.firstChild)if(Dt.nodeName==="LI"&&S.dom.isEmpty(Dt)){ki.remove(Dt);break}S.dom.isEmpty(Ho)||ki.insertAfter(Ho,M),ki.insertAfter(nt,M);const _o=U.parentElement;_o&&Ol(S.dom,_o)&&le(_o),ki.remove(U),Ol(S.dom,M)&&ki.remove(M)},ul=hi("dd"),Al=hi("dt"),Bd=(S,M)=>{ul(M)?Vi(M,"dt"):Al(M)&&Ka(M).each(U=>an(S,U.dom,M.dom))},Cr=S=>{Al(S)&&Vi(S,"dd")},Aa=(S,M,U)=>{M==="Indent"?jt(U,Cr):jt(U,le=>Bd(S,le))},ju=(S,M)=>{if(yr(S))return{container:S,offset:M};const U=Gl.getNode(S,M);return yr(U)?{container:U,offset:M>=S.childNodes.length?U.data.length:0}:U.previousSibling&&yr(U.previousSibling)?{container:U.previousSibling,offset:U.previousSibling.data.length}:U.nextSibling&&yr(U.nextSibling)?{container:U.nextSibling,offset:0}:{container:S,offset:M}},Dn=S=>{const M=S.cloneRange(),U=ju(S.startContainer,S.startOffset);M.setStart(U.container,U.offset);const le=ju(S.endContainer,S.endOffset);return M.setEnd(le.container,le.offset),M},Yl=["OL","UL","DL"],Gr=Yl.join(","),js=(S,M)=>{const U=M||S.selection.getStart(!0);return S.dom.getParent(U,Gr,fn(S,U))},q=(S,M)=>bn(S)&&M.length===1&&M[0]===S,ae=S=>O(S.querySelectorAll(Gr),$s),_e=S=>{const M=js(S),U=S.selection.getSelectedBlocks();return q(M,U)?ae(M):O(U,le=>$s(le)&&M!==le)},He=(S,M)=>{const U=ga.map(M,le=>{const ge=S.dom.getParent(le,"li,dd,dt",fn(S,le));return ge||le});return $o(U)},dt=S=>{const M=S.selection.getSelectedBlocks();return O(He(S,M),ei)},It=S=>O(dt(S),su),Rt=(S,M)=>{const U=S.dom.getParents(M,"TD,TH");return U.length>0?U[0]:S.getBody()},Sr=(S,M)=>!$s(M)&&!ei(M)&&Po(Yl,U=>S.isValidChild(M.nodeName,U)),fn=(S,M)=>{const U=S.dom.getParents(M,S.dom.isBlock),le=nt=>nt.nodeName.toLowerCase()!==wc(S);return qr(U,nt=>le(nt)&&Sr(S.schema,nt)).getOr(S.getBody())},xr=S=>rt(S).exists(M=>ei(M.dom)&&bs(M).exists(U=>!$s(U.dom))&&El(M).exists(U=>!$s(U.dom))),fr=(S,M)=>{const U=S.dom.getParents(M,"ol,ul",fn(S,M));return ot(U)},Xc=S=>{const M=fr(S,S.selection.getStart()),U=O(S.selection.getSelectedBlocks(),qn);return M.toArray().concat(U)},oi=S=>{const M=S.selection.getStart();return S.dom.getParents(M,"ol,ul",fn(S,M))},iu=S=>{const M=Xc(S),U=oi(S);return qr(U,le=>xr(Ne.fromDom(le))).fold(()=>jg(S,M),le=>[le])},jg=(S,M)=>{const U=Le(M,le=>fr(S,le).getOr(le));return $o(U)},Df=S=>/\btox\-/.test(S.className),Zg=(S,M)=>Do(S,$s,lo).exists(U=>U.nodeName===M&&!Df(U)),gt=(S,M)=>M!==null&&!S.dom.isEditable(M),Pd=S=>{const M=js(S);return gt(S,M)||!S.selection.isEditable()},Jc=(S,M)=>{const U=S.dom.getParent(M,"ol,ul,dl");return gt(S,U)||!S.selection.isEditable()},Mf=(S,M)=>{const U=S.selection.getNode();return M({parents:S.dom.getParents(U),element:U}),S.on("NodeChange",M),()=>S.off("NodeChange",M)},ba=(S,M)=>{const le=document.createDocumentFragment();return jt(S,ge=>{le.appendChild(ge.dom)}),Ne.fromDom(le)},Ld=(S,M,U)=>S.dispatch("ListMutation",{action:M,element:U}),Wg=(S=>M=>M.replace(S,""))(/^\s+|\s+$/g),Yp=S=>S.length>0,qg=S=>!Yp(S),_b=S=>S.style!==void 0&&hr(S.style.getPropertyValue),Gg=(S,M,U)=>{if(!Ot(U))throw console.error("Invalid call to CSS.set. Property ",M,":: Value ",U,":: Element ",S),new Error("CSS value must be a string: "+U);_b(S)&&S.style.setProperty(M,U)},Kg=(S,M,U)=>{const le=S.dom;Gg(le,M,U)},Bf=S=>to(S,"OL,UL"),Cc=S=>to(S,"LI"),Id=S=>bs(S).exists(Bf),Zu=S=>El(S).exists(Bf),Js=S=>"listAttributes"in S,Qc=S=>"isComment"in S,Xl=S=>"isFragment"in S,mn=S=>S.depth>0,Fa=S=>S.isSelected,cu=S=>{const M=Ii(S),U=Zu(S)?M.slice(0,-1):M;return Le(U,br)},Om=(S,M,U)=>rt(S).filter(ko).map(le=>({depth:M,dirty:!1,isSelected:U,content:cu(S),itemAttributes:yi(S),listAttributes:yi(le),listType:Fn(le),isInPreviousLi:!1})),ya=(S,M)=>{Fi(S.item,M.list)},ni=S=>{for(let M=1;M<S.length;M++)ya(S[M-1],S[M])},Zs=(S,M)=>{fo(ot(S),Se(M),ya)},Nl=(S,M)=>{const U={list:Ne.fromTag(M,S),item:Ne.fromTag("li",S)};return Fi(U.list,U.item),U},xs=(S,M,U)=>{const le=[];for(let ge=0;ge<U;ge++)le.push(Nl(S,Js(M)?M.listType:M.parentListType));return le},ia=(S,M)=>{for(let U=0;U<S.length-1;U++)Kg(S[U].item,"list-style-type","none");ot(S).each(U=>{Js(M)&&(os(U.list,M.listAttributes),os(U.item,M.itemAttributes)),ma(U.item,M.content)})},wi=(S,M)=>{Fn(S.list)!==M.listType&&(S.list=Vi(S.list,M.listType)),os(S.list,M.listAttributes)},Tn=(S,M,U)=>{const le=Ne.fromTag("li",S);return os(le,M),ma(le,U),le},fl=(S,M)=>{Fi(S.list,M),S.item=M},xa=(S,M,U)=>{const le=M.slice(0,U.depth);return ot(le).each(ge=>{if(Js(U)){const nt=Tn(S,U.itemAttributes,U.content);fl(ge,nt),wi(ge,U)}else if(Xl(U))ma(ge.item,U.content);else{const nt=Ne.fromHtml(`<!--${U.content}-->`);Fi(ge.list,nt)}}),le},As=(S,M,U)=>{const le=xs(S,U,U.depth-M.length);return ni(le),ia(le,U),Zs(M,le),M.concat(le)},tl=(S,M)=>{let U=ue.none();const le=io(M,(ge,nt,ro)=>Qc(nt)?ro===0?(U=ue.some(nt),ge):xa(S,ge,nt):nt.depth>ge.length?As(S,ge,nt):xa(S,ge,nt),[]);return U.each(ge=>{const nt=Ne.fromHtml(`<!--${ge.content}-->`);Se(le).each(ro=>{bi(ro.list,nt)})}),Se(le).map(ge=>ge.list)},Sn=(S,M)=>{switch(S){case"Indent":M.depth++;break;case"Outdent":M.depth--;break;case"Flatten":M.depth=0}M.dirty=!0},Ns=(S,M)=>{Js(S)&&Js(M)&&(S.listType=M.listType,S.listAttributes={...M.listAttributes})},Rl=S=>{S.listAttributes=Uu(S.listAttributes,(M,U)=>U!=="start")},Rs=(S,M)=>{const U=S[M].depth,le=nt=>nt.depth===U&&!nt.dirty,ge=nt=>nt.depth<U;return Do(Li(S.slice(0,M)),le,ge).orThunk(()=>Do(S.slice(M+1),le,ge))},Cs=S=>(jt(S,(M,U)=>{Rs(S,U).fold(()=>{M.dirty&&Js(M)&&Rl(M)},le=>Ns(M,le))}),S),Mt=S=>{let M=S;return{get:()=>M,set:ge=>{M=ge}}},Dl=(S,M,U,le)=>{var ge;if(Ys(le))return[{depth:S+1,content:(ge=le.dom.nodeValue)!==null&&ge!==void 0?ge:"",dirty:!1,isSelected:!1,isComment:!0}];M.each(Ho=>{it(Ho.start,le)&&U.set(!0)});const nt=Om(le,S,U.get());M.each(Ho=>{it(Ho.end,le)&&U.set(!1)});const ro=El(le).filter(Bf).map(Ho=>cn(S,M,U,Ho)).getOr([]);return nt.toArray().concat(ro)},ed=(S,M,U,le)=>bs(le).filter(Bf).fold(()=>Dl(S,M,U,le),ge=>{const nt=io(Ii(le),(ro,Ho,_o)=>{if(_o===0)return ro;if(Cc(Ho))return ro.concat(Dl(S,M,U,Ho));{const Dt={isFragment:!0,depth:S,content:[Ho],isSelected:!1,dirty:!1,parentListType:Fn(ge)};return ro.concat(Dt)}},[]);return cn(S,M,U,ge).concat(nt)}),cn=(S,M,U,le)=>un(Ii(le),ge=>{const nt=Bf(ge)?cn:ed,ro=S+1;return nt(ro,M,U,ge)}),td=(S,M)=>{const U=Mt(!1),le=0;return Le(S,ge=>({sourceList:ge,entries:cn(le,M,U,ge)}))},du=(S,M)=>{const U=Cs(M);return Le(U,le=>{const ge=Qc(le)?ba([Ne.fromHtml(`<!--${le.content}-->`)]):ba(le.content),nt=Js(le)?le.itemAttributes:{};return Ne.fromDom($i(S,ge.dom,nt))})},Jl=(S,M)=>{const U=Cs(M);return tl(S.contentDocument,U).toArray()},Wu=(S,M)=>un(To(M,mn),U=>Se(U).exists(mn)?Jl(S,U):du(S,U)),Ha=(S,M)=>{jt(O(S,Fa),U=>Sn(M,U))},Am=S=>{const M=Le(dt(S),Ne.fromDom);return fo(qr(M,Ut(Id)),qr(Li(M),Ut(Id)),(U,le)=>({start:U,end:le}))},Fd=(S,M,U)=>{const le=td(M,Am(S));jt(le,ge=>{Ha(ge.entries,U);const nt=Wu(S,ge.entries);jt(nt,ro=>{Ld(S,U==="Indent"?"IndentList":"OutdentList",ro.dom)}),dr(ge.sourceList,nt),ru(ge.sourceList)})},Vn=(S,M)=>{const U=Rd(iu(S)),le=Rd(It(S));let ge=!1;if(U.length||le.length){const nt=S.selection.getBookmark();Fd(S,U,M),Aa(S,M,le),S.selection.moveToBookmark(nt),S.selection.setRng(Dn(S.selection.getRng())),S.nodeChanged(),ge=!0}return ge},Ui=(S,M)=>!Pd(S)&&Vn(S,M),Hd=S=>Ui(S,"Indent"),Sc=S=>Ui(S,"Outdent"),qu=S=>Ui(S,"Flatten"),re="\uFEFF",va=S=>S===re,Va=(S,M,U)=>Ya(S,M,U).isSome(),Nm=(S,M)=>Va(S,et(it,M));var Rm=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Ci=Qa.DOM,Xo=S=>{const M={},U=le=>{let ge=S[le?"startContainer":"endContainer"],nt=S[le?"startOffset":"endOffset"];if(vi(ge)){const ro=Ci.create("span",{"data-mce-type":"bookmark"});ge.hasChildNodes()?(nt=Math.min(nt,ge.childNodes.length-1),le?ge.insertBefore(ro,ge.childNodes[nt]):Ci.insertAfter(ro,ge.childNodes[nt])):ge.appendChild(ro),ge=ro,nt=0}M[le?"startContainer":"endContainer"]=ge,M[le?"startOffset":"endOffset"]=nt};return U(!0),S.collapsed||U(),M},$a=S=>{const M=le=>{const ge=Ho=>{var _o;let Dt=(_o=Ho.parentNode)===null||_o===void 0?void 0:_o.firstChild,Ln=0;for(;Dt;){if(Dt===Ho)return Ln;(!vi(Dt)||Dt.getAttribute("data-mce-type")!=="bookmark")&&Ln++,Dt=Dt.nextSibling}return-1};let nt=S[le?"startContainer":"endContainer"],ro=S[le?"startOffset":"endOffset"];if(nt){if(vi(nt)&&nt.parentNode){const Ho=nt;ro=ge(nt),nt=nt.parentNode,Ci.remove(Ho),!nt.hasChildNodes()&&Ci.isBlock(nt)&&nt.appendChild(Ci.create("br"))}S[le?"startContainer":"endContainer"]=nt,S[le?"startOffset":"endOffset"]=ro}};M(!0),M();const U=Ci.createRng();return U.setStart(S.startContainer,S.startOffset),S.endContainer&&U.setEnd(S.endContainer,S.endOffset),Dn(U)},ol=S=>{switch(S){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ml=(S,M,U)=>{const le=U["list-style-type"]?U["list-style-type"]:null;S.setStyle(M,"list-style-type",le)},uu=(S,M)=>{ga.each(M,(U,le)=>{S.setAttribute(le,U)})},Er=(S,M,U)=>{uu(M,U["list-attributes"]),ga.each(S.select("li",M),le=>{uu(le,U["list-item-attributes"])})},ri=(S,M,U)=>{Ml(S,M,U),Er(S,M,U)},Ql=(S,M,U)=>{ga.each(U,le=>S.setStyle(M,le,""))},ec=(S,M)=>bn(M)&&!au(M,S.schema.getBlockElements()),od=(S,M,U,le)=>{let ge=M[U?"startContainer":"endContainer"];const nt=M[U?"startOffset":"endOffset"];vi(ge)&&(ge=ge.childNodes[Math.min(nt,ge.childNodes.length-1)]||ge),!U&&ws(ge.nextSibling)&&(ge=ge.nextSibling);const ro=_o=>{for(;!S.dom.isBlock(_o)&&_o.parentNode&&le!==_o;)_o=_o.parentNode;return _o},Ho=(_o,Dt)=>{var Ln;const ns=new Hi(_o,ro(_o)),Wi=Dt?"next":"prev";let ai;for(;ai=ns[Wi]();)if(!(Ur(S,ai)||va(ai.textContent)||((Ln=ai.textContent)===null||Ln===void 0?void 0:Ln.length)===0))return ue.some(ai);return ue.none()};if(U&&yr(ge))if(va(ge.textContent))ge=Ho(ge,!1).getOr(ge);else for(ge.parentNode!==null&&ec(S,ge.parentNode)&&(ge=ge.parentNode);ge.previousSibling!==null&&(ec(S,ge.previousSibling)||yr(ge.previousSibling));)ge=ge.previousSibling;if(!U&&yr(ge))if(va(ge.textContent))ge=Ho(ge,!0).getOr(ge);else for(ge.parentNode!==null&&ec(S,ge.parentNode)&&(ge=ge.parentNode);ge.nextSibling!==null&&(ec(S,ge.nextSibling)||yr(ge.nextSibling));)ge=ge.nextSibling;for(;ge.parentNode!==le;){const _o=ge.parentNode;if(us(S,ge)||/^(TD|TH)$/.test(_o.nodeName))return ge;ge=_o}return ge},ml=(S,M,U)=>{const le=[],ge=S.dom,nt=od(S,M,!0,U),ro=od(S,M,!1,U);let Ho;const _o=[];for(let Dt=nt;Dt&&(_o.push(Dt),Dt!==ro);Dt=Dt.nextSibling);return ga.each(_o,Dt=>{var Ln;if(us(S,Dt)){le.push(Dt),Ho=null;return}if(ge.isBlock(Dt)||ws(Dt)){ws(Dt)&&ge.remove(Dt),Ho=null;return}const ns=Dt.nextSibling;if(Rm.isBookmarkNode(Dt)&&($s(ns)||us(S,ns)||!ns&&Dt.parentNode===U)){Ho=null;return}Ho||(Ho=ge.create("p"),(Ln=Dt.parentNode)===null||Ln===void 0||Ln.insertBefore(Ho,Dt),le.push(Ho)),Ho.appendChild(Dt)}),le},Vd=(S,M,U)=>{const le=S.getStyle(M,"list-style-type");let ge=U?U["list-style-type"]:"";return ge=ge===null?"":ge,le===ge},fu=(S,M)=>{const U=S.selection.getStart(!0),le=od(S,M,!0,S.getBody());return Nm(Ne.fromDom(le),Ne.fromDom(M.commonAncestorContainer))?M.commonAncestorContainer:U},tc=(S,M,U)=>{const le=S.selection.getRng();let ge="LI";const nt=fn(S,fu(S,le)),ro=S.dom;if(ro.getContentEditable(S.selection.getNode())==="false")return;M=M.toUpperCase(),M==="DL"&&(ge="DT");const Ho=Xo(le),_o=O(ml(S,le,nt),S.dom.isEditable);ga.each(_o,Dt=>{let Ln;const ns=Dt.previousSibling,Wi=Dt.parentNode;ei(Wi)||(ns&&$s(ns)&&ns.nodeName===M&&Vd(ro,ns,U)?(Ln=ns,Dt=ro.rename(Dt,ge),ns.appendChild(Dt)):(Ln=ro.create(M),Wi.insertBefore(Ln,Dt),Ln.appendChild(Dt),Dt=ro.rename(Dt,ge)),Ql(ro,Dt,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ri(ro,Ln,U),pu(S.dom,Ln))}),S.selection.setRng($a(Ho))},_a=(S,M)=>$s(S)&&S.nodeName===(M==null?void 0:M.nodeName),$d=(S,M,U)=>{const le=S.getStyle(M,"list-style-type",!0),ge=S.getStyle(U,"list-style-type",!0);return le===ge},Dm=(S,M)=>S.className===M.className,mu=(S,M,U)=>_a(M,U)&&$d(S,M,U)&&Dm(M,U),pu=(S,M)=>{let U,le=M.nextSibling;if(mu(S,M,le)){const ge=le;for(;U=ge.firstChild;)M.appendChild(U);S.remove(ge)}if(le=M.previousSibling,mu(S,M,le)){const ge=le;for(;U=ge.lastChild;)M.insertBefore(U,M.firstChild);S.remove(ge)}},Si=(S,M,U,le)=>{if(M.nodeName!==U){const ge=S.dom.rename(M,U);ri(S.dom,ge,le),Ld(S,ol(U),ge)}else ri(S.dom,M,le),Ld(S,ol(U),M)},no=(S,M,U,le)=>{if(M.classList.forEach((ge,nt,ro)=>{ge.startsWith("tox-")&&(ro.remove(ge),ro.length===0&&M.removeAttribute("class"))}),M.nodeName!==U){const ge=S.dom.rename(M,U);ri(S.dom,ge,le),Ld(S,ol(U),ge)}else ri(S.dom,M,le),Ld(S,ol(U),M)},Ei=(S,M,U,le,ge)=>{const nt=$s(M);if(nt&&M.nodeName===le&&!nd(ge)&&!Df(M))qu(S);else{tc(S,le,ge);const ro=Xo(S.selection.getRng()),Ho=nt?[M,...U]:U,_o=nt&&Df(M)?no:Si;ga.each(Ho,Dt=>{_o(S,Dt,le,ge)}),S.selection.setRng($a(ro))}},nd=S=>"list-style-type"in S,gu=(S,M,U,le)=>{if(M!==S.getBody())if(M)if(M.nodeName===U&&!nd(le)&&!Df(M))qu(S);else{const ge=Xo(S.selection.getRng());Df(M)&&M.classList.forEach((ro,Ho,_o)=>{ro.startsWith("tox-")&&(_o.remove(ro),_o.length===0&&M.removeAttribute("class"))}),ri(S.dom,M,le);const nt=S.dom.rename(M,U);pu(S.dom,nt),S.selection.setRng($a(ge)),tc(S,U,le),Ld(S,ol(U),nt)}else tc(S,U,le),Ld(S,ol(U),M)},hu=(S,M,U)=>{const le=js(S);if(Jc(S,le))return;const ge=_e(S),nt=So(U)?U:{};ge.length>0?Ei(S,le,ge,M,nt):gu(S,le,M,nt)},ji=Qa.DOM,rd=(S,M)=>{const U=M.parentElement;if(U&&U.nodeName==="LI"&&U.firstChild===M){const le=U.previousSibling;le&&le.nodeName==="LI"?(le.appendChild(M),Ol(S,U)&&ji.remove(U)):ji.setStyle(U,"listStyleType","none")}if($s(U)){const le=U.previousSibling;le&&le.nodeName==="LI"&&le.appendChild(M)}},bu=(S,M)=>{const U=ga.grep(S.select("ol,ul",M));ga.each(U,le=>{rd(S,le)})},Mr=(S,M,U,le)=>{let ge=M.startContainer;const nt=M.startOffset;if(yr(ge)&&(U?nt<ge.data.length:nt>0))return ge;const ro=S.schema.getNonEmptyElements();vi(ge)&&(ge=Gl.getNode(ge,nt));const Ho=new Hi(ge,le);U&&Kl(S.dom,ge)&&Ho.next();const _o=U?Ho.next.bind(Ho):Ho.prev2.bind(Ho);for(;ge=_o();)if(ge.nodeName==="LI"&&!ge.hasChildNodes()||ro[ge.nodeName]||yr(ge)&&ge.data.length>0)return ge;return null},yu=(S,M)=>{const U=M.childNodes;return U.length===1&&!$s(U[0])&&S.isBlock(U[0])},pl=S=>ue.from(S).map(Ne.fromDom).filter(ut).exists(M=>Xa(M)&&!ar(["details"],Fn(M))),Ec=(S,M)=>{yu(S,M)&&pl(M.firstChild)&&S.remove(M.firstChild,!0)},Pf=(S,M,U)=>{let le;const ge=yu(S,U)?U.firstChild:U;if(Ec(S,M),!Ol(S,M,!0))for(;le=M.firstChild;)ge.appendChild(le)},oc=(S,M,U)=>{let le;const ge=M.parentNode;if(!Zt(S,M)||!Zt(S,U))return;$s(U.lastChild)&&(le=U.lastChild),ge===U.lastChild&&ws(ge.previousSibling)&&S.remove(ge.previousSibling);const nt=U.lastChild;nt&&ws(nt)&&M.hasChildNodes()&&S.remove(nt),Ol(S,U,!0)&&Ja(Ne.fromDom(U)),Pf(S,M,U),le&&U.appendChild(le);const Ho=Ke(Ne.fromDom(U),Ne.fromDom(M))?S.getParents(M,$s,U):[];S.remove(M),jt(Ho,_o=>{Ol(S,_o)&&_o!==S.getRoot()&&S.remove(_o)})},nc=(S,M,U)=>{Ja(Ne.fromDom(U)),oc(S.dom,M,U),S.selection.setCursorLocation(U,0)},sd=(S,M,U,le)=>{const ge=S.dom;if(ge.isEmpty(le))nc(S,U,le);else{const nt=Xo(M);oc(ge,U,le),S.selection.setRng($a(nt))}},tr=(S,M,U,le)=>{const ge=Xo(M);oc(S.dom,U,le);const nt=$a(ge);S.selection.setRng(nt)},la=(S,M)=>{const U=S.dom,le=S.selection,ge=le.getStart(),nt=Rt(S,ge),ro=U.getParent(le.getStart(),"LI",nt);if(ro){const Ho=ro.parentElement;if(Ho===S.getBody()&&Ol(U,Ho))return!0;const _o=Dn(le.getRng()),Dt=U.getParent(Mr(S,_o,M,nt),"LI",nt),Ln=Dt&&(M?U.isChildOf(ro,Dt):U.isChildOf(Dt,ro));if(Dt&&Dt!==ro&&!Ln)return S.undoManager.transact(()=>{M?sd(S,_o,Dt,ro):ds(ro)?Sc(S):tr(S,_o,ro,Dt)}),!0;if(Ln&&!M&&Dt!==ro){const ns=_o.commonAncestorContainer.parentElement;return!ns||U.isChildOf(Dt,ns)?!1:(S.undoManager.transact(()=>{const Wi=Xo(_o);Pf(U,ns,Dt),ns.remove();const ai=$a(Wi);S.selection.setRng(ai)}),!0)}else if(!Dt&&!M&&_o.startOffset===0&&_o.endOffset===0)return S.undoManager.transact(()=>{qu(S)}),!0}return!1},ka=(S,M,U)=>{const le=S.getParent(M.parentNode,S.isBlock,U);S.remove(M),le&&S.isEmpty(le)&&S.remove(le)},si=(S,M)=>{const U=S.dom,le=S.selection.getStart(),ge=Rt(S,le),nt=U.getParent(le,U.isBlock,ge);if(nt&&U.isEmpty(nt,void 0,{checkRootAsContent:!0})){const ro=Dn(S.selection.getRng()),Ho=Mr(S,ro,M,ge),_o=U.getParent(Ho,"LI",ge);if(Ho&&_o){const Dt=ai=>ar(["td","th","caption"],Fn(ai)),Ln=ai=>ai.dom===ge,ns=Os(Ne.fromDom(_o),Dt,Ln),Wi=Os(Ne.fromDom(ro.startContainer),Dt,Ln);return bo(ns,Wi,it)?(S.undoManager.transact(()=>{const ai=_o.parentNode;ka(U,nt,ge),pu(U,ai),S.selection.select(Ho,!0),S.selection.collapse(M)}),!0):!1}}return!1},Ua=(S,M)=>la(S,M)||si(S,M),zc=S=>{const M=S.selection.getStart(),U=Rt(S,M);return S.dom.getParent(M,"LI,DT,DD",U)||dt(S).length>0},Ss=S=>zc(S)?(S.undoManager.transact(()=>{let M=!0;const U=()=>M=!1;S.on("input",U),S.execCommand("Delete"),S.off("input",U),M&&S.dispatch("input"),bu(S.dom,S.getBody())}),!0):!1,ca=(S,M)=>{const U=S.selection;return!Jc(S,U.getNode())&&(U.isCollapsed()?Ua(S,M):Ss(S))},Lf=S=>{S.on("ExecCommand",M=>{const U=M.command.toLowerCase();(U==="delete"||U==="forwarddelete")&&zc(S)&&bu(S.dom,S.getBody())}),S.on("keydown",M=>{M.keyCode===Nd.BACKSPACE?ca(S,!1)&&M.preventDefault():M.keyCode===Nd.DELETE&&ca(S,!0)&&M.preventDefault()})},Ge=S=>({backspaceDelete:M=>{ca(S,M)}}),Qs=(S,M)=>{const U=js(S);U===null||Jc(S,U)||S.undoManager.transact(()=>{So(M.styles)&&S.dom.setStyles(U,M.styles),So(M.attrs)&&ys(M.attrs,(le,ge)=>S.dom.setAttrib(U,ge,le))})},zi=S=>{const M=Li(Wg(S).split("")),U=Le(M,(le,ge)=>{const nt=le.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ge)*nt});return io(U,(le,ge)=>le+ge,0)},ms=S=>{if(S--,S<0)return"";{const M=S%26,U=Math.floor(S/26),le=ms(U),ge=String.fromCharCode(65+M);return le+ge}},Ws=S=>/^[A-Z]+$/.test(S),Ti=S=>/^[a-z]+$/.test(S),gl=S=>/^[0-9]+$/.test(S),If=S=>gl(S)?2:Ws(S)?0:Ti(S)?1:qg(S)?3:4,jr=S=>{switch(If(S)){case 2:return ue.some({listStyleType:ue.none(),start:S});case 0:return ue.some({listStyleType:ue.some("upper-alpha"),start:zi(S).toString()});case 1:return ue.some({listStyleType:ue.some("lower-alpha"),start:zi(S).toString()});case 3:return ue.some({listStyleType:ue.none(),start:""});case 4:return ue.none()}},Jo=S=>{const M=parseInt(S.start,10);return Eo(S.listStyleType,"upper-alpha")?ms(M):Eo(S.listStyleType,"lower-alpha")?ms(M).toLowerCase():S.start},Zi=S=>{const M=js(S);!ha(M)||Jc(S,M)||S.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Jo({start:S.dom.getAttrib(M,"start","1"),listStyleType:ue.from(S.dom.getStyle(M,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:U=>{const le=U.getData();jr(le.start).each(ge=>{S.execCommand("mceListUpdate",!1,{attrs:{start:ge.start==="1"?"":ge.start},styles:{"list-style-type":ge.listStyleType.getOr("")}})}),U.close()}})},Br=(S,M)=>()=>{const U=js(S);return bn(U)&&U.nodeName===M},Zr=S=>{S.addCommand("mceListProps",()=>{Zi(S)})},Mm=S=>{S.on("BeforeExecCommand",M=>{const U=M.command.toLowerCase();U==="indent"?Hd(S):U==="outdent"&&Sc(S)}),S.addCommand("InsertUnorderedList",(M,U)=>{hu(S,"UL",U)}),S.addCommand("InsertOrderedList",(M,U)=>{hu(S,"OL",U)}),S.addCommand("InsertDefinitionList",(M,U)=>{hu(S,"DL",U)}),S.addCommand("RemoveList",()=>{qu(S)}),Zr(S),S.addCommand("mceListUpdate",(M,U)=>{So(U)&&Qs(S,U)}),S.addQueryStateHandler("InsertUnorderedList",Br(S,"UL")),S.addQueryStateHandler("InsertOrderedList",Br(S,"OL")),S.addQueryStateHandler("InsertDefinitionList",Br(S,"DL"))};var Na=tinymce.util.Tools.resolve("tinymce.html.Node");const rc=S=>S.type===3,dn=S=>S.length===0,Ee=S=>{const M=(ge,nt)=>{const ro=Na.create("li");jt(ge,Ho=>ro.append(Ho)),nt?S.insert(ro,nt,!0):S.append(ro)},U=(ge,nt)=>rc(nt)?[...ge,nt]:!dn(ge)&&!rc(nt)?(M(ge,nt),[]):ge,le=io(S.children(),U,[]);dn(le)||M(le)},wa=S=>{S.on("PreInit",()=>{const{parser:M}=S;M.addNodeFilter("ul,ol",U=>jt(U,Ee))})},Ra=S=>{S.on("keydown",M=>{M.keyCode!==Nd.TAB||Nd.metaKeyPressed(M)||S.undoManager.transact(()=>{(M.shiftKey?Sc(S):Hd(S))&&M.preventDefault()})})},or=S=>{Us(S)&&Ra(S),Lf(S)},Ca=(S,M)=>U=>{const le=ge=>{U.setActive(Zg(ge.parents,M)),U.setEnabled(!Jc(S,ge.element)&&S.selection.isEditable())};return U.setEnabled(S.selection.isEditable()),Mf(S,le)},ea=S=>{const M=U=>()=>S.execCommand(U);S.hasPlugin("advlist")||(S.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:M("InsertOrderedList"),onSetup:Ca(S,"OL")}),S.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:M("InsertUnorderedList"),onSetup:Ca(S,"UL")}))},Xn=(S,M)=>U=>Mf(S,ge=>U.setEnabled(Zg(ge.parents,M)&&!Jc(S,ge.element))),sc=S=>{const M={text:"List properties...",icon:"ordered-list",onAction:()=>S.execCommand("mceListProps"),onSetup:Xn(S,"OL")};S.ui.registry.addMenuItem("listprops",M),S.ui.registry.addContextMenu("lists",{update:U=>{const le=js(S,U);return ha(le)?["listprops"]:[]}})};var Ff=()=>{Tt.add("lists",S=>(_i(S),wa(S),S.hasPlugin("rtc",!0)?Zr(S):(or(S),Mm(S)),ea(S),sc(S),Ge(S)))};Ff()}()),QF}var t9;function _G(){return t9||(t9=1,vG()),JF}_G();var o9={},n9={},r9;function kG(){return r9||(r9=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(k,T,V)=>{var Q;return V(k,T.prototype)?!0:((Q=k.constructor)===null||Q===void 0?void 0:Q.name)===T.name},Lo=k=>{const T=typeof k;return k===null?"null":T==="object"&&Array.isArray(k)?"array":T==="object"&&zo(k,String,(V,Q)=>Q.isPrototypeOf(V))?"string":T},Qo=k=>T=>Lo(T)===k,No=k=>T=>typeof T===k,Ot=k=>T=>k===T,So=Qo("string"),Ro=Qo("array"),uo=No("boolean"),qt=Ot(void 0),bn=k=>k==null,hr=k=>!bn(k),Vr=No("function"),Ht=No("number"),Yt=()=>{},sn=(k,T)=>V=>k(T(V)),Nn=k=>()=>k,et=k=>k,Ut=(k,T)=>k===T;function ht(k,...T){return(...V)=>{const Q=T.concat(V);return k.apply(null,Q)}}const ue=k=>{k()},Ct=Nn(!1),pe=Nn(!0);class qe{constructor(T,V){this.tag=T,this.value=V}static some(T){return new qe(!0,T)}static none(){return qe.singletonNone}fold(T,V){return this.tag?V(this.value):T()}isSome(){return this.tag}isNone(){return!this.tag}map(T){return this.tag?qe.some(T(this.value)):qe.none()}bind(T){return this.tag?T(this.value):qe.none()}exists(T){return this.tag&&T(this.value)}forall(T){return!this.tag||T(this.value)}filter(T){return!this.tag||T(this.value)?this:qe.none()}getOr(T){return this.tag?this.value:T}or(T){return this.tag?this:T}getOrThunk(T){return this.tag?this.value:T()}orThunk(T){return this.tag?this:T()}getOrDie(T){if(this.tag)return this.value;throw new Error(T??"Called getOrDie on None")}static from(T){return hr(T)?qe.some(T):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(T){this.tag&&T(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qe.singletonNone=new qe(!1);const Zn=Object.keys,ar=Object.hasOwnProperty,Po=(k,T)=>{const V=Zn(k);for(let Q=0,ye=V.length;Q<ye;Q++){const Ie=V[Q],xe=k[Ie];T(xe,Ie)}},Le=k=>(T,V)=>{k[V]=T},jt=(k,T,V,Q)=>{Po(k,(ye,Ie)=>{(T(ye,Ie)?V:Q)(ye,Ie)})},O=(k,T)=>{const V={};return jt(k,T,Le(V),Yt),V},To=(k,T)=>{const V=[];return Po(k,(Q,ye)=>{V.push(T(Q,ye))}),V},io=k=>To(k,et),Do=k=>Zn(k).length,qr=(k,T)=>Je(k,T)?qe.from(k[T]):qe.none(),Je=(k,T)=>ar.call(k,T),un=(k,T)=>Je(k,T)&&k[T]!==void 0&&k[T]!==null,Li=k=>{for(const T in k)if(ar.call(k,T))return!1;return!0},De=Array.prototype.indexOf,Se=Array.prototype.push,ot=(k,T)=>De.call(k,T),$o=(k,T)=>ot(k,T)>-1,Eo=(k,T)=>{for(let V=0,Q=k.length;V<Q;V++){const ye=k[V];if(T(ye,V))return!0}return!1},bo=(k,T)=>{const V=[];for(let Q=0;Q<k;Q++)V.push(T(Q));return V},fo=(k,T)=>{const V=k.length,Q=new Array(V);for(let ye=0;ye<V;ye++){const Ie=k[ye];Q[ye]=T(Ie,ye)}return Q},H=(k,T)=>{for(let V=0,Q=k.length;V<Q;V++){const ye=k[V];T(ye,V)}},ls=(k,T)=>{for(let V=k.length-1;V>=0;V--){const Q=k[V];T(Q,V)}},ir=(k,T)=>{const V=[],Q=[];for(let ye=0,Ie=k.length;ye<Ie;ye++){const xe=k[ye];(T(xe,ye)?V:Q).push(xe)}return{pass:V,fail:Q}},Go=(k,T)=>{const V=[];for(let Q=0,ye=k.length;Q<ye;Q++){const Ie=k[Q];T(Ie,Q)&&V.push(Ie)}return V},gi=(k,T,V)=>(ls(k,(Q,ye)=>{V=T(V,Q,ye)}),V),dl=(k,T,V)=>(H(k,(Q,ye)=>{V=T(V,Q,ye)}),V),en=(k,T,V)=>{for(let Q=0,ye=k.length;Q<ye;Q++){const Ie=k[Q];if(T(Ie,Q))return qe.some(Ie);if(V(Ie,Q))break}return qe.none()},Cn=(k,T)=>en(k,T,Ct),Ko=k=>{const T=[];for(let V=0,Q=k.length;V<Q;++V){if(!Ro(k[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+k);Se.apply(T,k[V])}return T},Ne=(k,T)=>Ko(fo(k,T)),yt=(k,T)=>{for(let V=0,Q=k.length;V<Q;++V){const ye=k[V];if(T(ye,V)!==!0)return!1}return!0},it=(k,T)=>{const V={};for(let Q=0,ye=k.length;Q<ye;Q++){const Ie=k[Q];V[String(Ie)]=T(Ie,Q)}return V},Ke=(k,T)=>T>=0&&T<k.length?qe.some(k[T]):qe.none(),to=k=>Ke(k,0),mo=k=>Ke(k,k.length-1),Wo=(k,T)=>{for(let V=0;V<k.length;V++){const Q=T(k[V],V);if(Q.isSome())return Q}return qe.none()},zn=8,er=9,Rn=11,Yn=1,ts=3,Vs=(k,T)=>{const Q=(T||document).createElement("div");if(Q.innerHTML=k,!Q.hasChildNodes()||Q.childNodes.length>1){const ye="HTML does not have a single root node";throw console.error(ye,k),new Error(ye)}return Yo(Q.childNodes[0])},Fn=(k,T)=>{const Q=(T||document).createElement(k);return Yo(Q)},$r=(k,T)=>{const Q=(T||document).createTextNode(k);return Yo(Q)},Yo=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},ut={fromHtml:Vs,fromTag:Fn,fromText:$r,fromDom:Yo,fromPoint:(k,T,V)=>qe.from(k.dom.elementFromPoint(T,V)).map(Yo)},ko=(k,T)=>{const V=k.dom;if(V.nodeType!==Yn)return!1;{const Q=V;if(Q.matches!==void 0)return Q.matches(T);if(Q.msMatchesSelector!==void 0)return Q.msMatchesSelector(T);if(Q.webkitMatchesSelector!==void 0)return Q.webkitMatchesSelector(T);if(Q.mozMatchesSelector!==void 0)return Q.mozMatchesSelector(T);throw new Error("Browser lacks native selectors")}},Io=k=>k.nodeType!==Yn&&k.nodeType!==er&&k.nodeType!==Rn||k.childElementCount===0,Xs=(k,T)=>{const V=T===void 0?document:T.dom;return Io(V)?[]:fo(V.querySelectorAll(k),ut.fromDom)},hi=(k,T)=>{const V=T===void 0?document:T.dom;return Io(V)?qe.none():qe.from(V.querySelector(k)).map(ut.fromDom)},rt=(k,T)=>k.dom===T.dom,Ka=ko;typeof window<"u"||Function("return this;")();const Fo=k=>k.dom.nodeName.toLowerCase(),Ii=k=>k.dom.nodeType,Wn=k=>T=>Ii(T)===k,bs=k=>Ii(k)===zn||Fo(k)==="#comment",El=Wn(Yn),zl=Wn(ts),Ji=Wn(er),Oa=Wn(Rn),Tl=k=>T=>El(T)&&Fo(T)===k,Hn=k=>ut.fromDom(k.dom.ownerDocument),go=k=>Ji(k)?k:Hn(k),Ya=k=>qe.from(k.dom.parentNode).map(ut.fromDom),Os=(k,T)=>{const V=Vr(T)?T:Ct;let Q=k.dom;const ye=[];for(;Q.parentNode!==null&&Q.parentNode!==void 0;){const Ie=Q.parentNode,xe=ut.fromDom(Ie);if(ye.push(xe),V(xe)===!0)break;Q=Ie}return ye},kc=k=>qe.from(k.dom.previousSibling).map(ut.fromDom),_t=k=>qe.from(k.dom.nextSibling).map(ut.fromDom),Qi=k=>fo(k.dom.childNodes,ut.fromDom),Xa=(k,T)=>{const V=k.dom.childNodes;return qe.from(V[T]).map(ut.fromDom)},Dr=k=>Xa(k,0),Ad=k=>Oa(k)&&hr(k.dom.host),Ia=k=>ut.fromDom(k.dom.getRootNode()),bi=k=>{const T=Ia(k);return Ad(T)?qe.some(T):qe.none()},Fi=k=>ut.fromDom(k.dom.host),dr=k=>{const T=zl(k)?k.dom.parentNode:k.dom;if(T==null||T.ownerDocument===null)return!1;const V=T.ownerDocument;return bi(ut.fromDom(T)).fold(()=>V.body.contains(T),sn(dr,Fi))};var ma=(k,T,V,Q,ye)=>k(V,Q)?qe.some(V):Vr(ye)&&ye(V)?qe.none():T(V,Q,ye);const Ja=(k,T,V)=>{let Q=k.dom;const ye=Vr(V)?V:Ct;for(;Q.parentNode;){Q=Q.parentNode;const Ie=ut.fromDom(Q);if(T(Ie))return qe.some(Ie);if(ye(Ie))break}return qe.none()},ru=(k,T,V)=>ma((ye,Ie)=>Ie(ye),Ja,k,T,V),Gl=(k,T)=>{const V=ye=>T(ut.fromDom(ye));return Cn(k.dom.childNodes,V).map(ut.fromDom)},Hi=(k,T,V)=>Ja(k,Q=>ko(Q,T),V),Nd=(k,T)=>Gl(k,V=>ko(V,T)),Rd=(k,T)=>hi(T,k),yn=(k,T,V)=>ma((ye,Ie)=>ko(ye,Ie),Hi,k,T,V),ys=k=>yn(k,"[contenteditable]"),pa=(k,T=!1)=>dr(k)?k.dom.isContentEditable:ys(k).fold(Nn(T),V=>Dd(V)==="true"),Dd=k=>k.dom.contentEditable,Uu=k=>k.nodeName.toLowerCase(),Md=k=>ut.fromDom(k.getBody()),os=k=>T=>rt(T,Md(k)),yi=k=>k?k.replace(/px$/,""):"",xi=k=>/^\d+(\.\d+)?$/.test(k)?k+"px":k,br=k=>ut.fromDom(k.selection.getStart()),ur=k=>ut.fromDom(k.selection.getEnd()),Vi=k=>ru(k,Tl("table")).forall(pa),Qa=(k,T)=>Go(Qi(k),T),ga=(k,T)=>{let V=[];return H(Qi(k),Q=>{T(Q)&&(V=V.concat([Q])),V=V.concat(ga(Q,T))}),V},el=(k,T)=>Qa(k,V=>ko(V,T)),cs=(k,T)=>Xs(T,k),yr=(k,T,V)=>{if(So(V)||uo(V)||Ht(V))k.setAttribute(T,V+"");else throw console.error("Invalid call to Attribute.set. Key ",T,":: Value ",V,":: Element ",k),new Error("Attribute value was not simple")},vi=(k,T,V)=>{yr(k.dom,T,V)},$s=(k,T)=>{const V=k.dom;Po(T,(Q,ye)=>{yr(V,ye,Q)})},qn=(k,T)=>{const V=k.dom.getAttribute(T);return V===null?void 0:V},ha=(k,T)=>qe.from(qn(k,T)),ei=(k,T)=>{k.dom.removeAttribute(T)},su=k=>dl(k.dom.attributes,(T,V)=>(T[V.name]=V.value,T),{}),lo=(k,T,V=Ut)=>k.exists(Q=>V(Q,T)),ws=k=>{const T=[],V=Q=>{T.push(Q)};for(let Q=0;Q<k.length;Q++)k[Q].each(V);return T},ds=(k,T,V)=>k.isSome()&&T.isSome()?qe.some(V(k.getOrDie(),T.getOrDie())):qe.none(),us=k=>k.bind(et),au=(k,T)=>k?qe.some(T):qe.none(),Ur=(k,T)=>k.substring(T),Kl=(k,T,V)=>T===""||k.length>=T.length&&k.substr(V,V+T.length)===T,Ol=(k,T)=>Zt(k,T)?Ur(k,T.length):k,Zt=(k,T)=>Kl(k,T,0),_i=(k=>T=>T.replace(k,""))(/^\s+|\s+$/g),Us=k=>k.length>0,wc=k=>!Us(k),wr=(k,T=10)=>{const V=parseInt(k,T);return isNaN(V)?qe.none():qe.some(V)},$i=k=>{const T=parseFloat(k);return isNaN(T)?qe.none():qe.some(T)},ki=k=>k.style!==void 0&&Vr(k.style.getPropertyValue),an=(k,T,V)=>{if(!So(V))throw console.error("Invalid call to CSS.set. Property ",T,":: Value ",V,":: Element ",k),new Error("CSS value must be a string: "+V);ki(k)&&k.style.setProperty(T,V)},ul=(k,T)=>{ki(k)&&k.style.removeProperty(T)},Al=(k,T,V)=>{const Q=k.dom;an(Q,T,V)},Bd=(k,T)=>{const V=k.dom,ye=window.getComputedStyle(V).getPropertyValue(T);return ye===""&&!dr(k)?Cr(V,T):ye},Cr=(k,T)=>ki(k)?k.style.getPropertyValue(T):"",Aa=(k,T)=>{const V=k.dom,Q=Cr(V,T);return qe.from(Q).filter(ye=>ye.length>0)},ju=(k,T)=>{const V=k.dom;ul(V,T),lo(ha(k,"style").map(_i),"")&&ei(k,"style")},Dn=(k,T,V=0)=>ha(k,T).map(Q=>parseInt(Q,10)).getOr(V),Yl=(k,T)=>Gr(k,T,pe),Gr=(k,T,V)=>Ne(Qi(k),Q=>ko(Q,T)?V(Q)?[Q]:[]:Gr(Q,T,V)),js=["tfoot","thead","tbody","colgroup"],q=k=>$o(js,k),ae=(k,T)=>({rows:k,columns:T}),_e=(k,T,V)=>({element:k,rowspan:T,colspan:V}),He=(k,T,V,Q,ye,Ie)=>({element:k,rowspan:T,colspan:V,row:Q,column:ye,isLocked:Ie}),dt=(k,T,V)=>({element:k,cells:T,section:V}),It=(k,T,V,Q)=>({startRow:k,startCol:T,finishRow:V,finishCol:Q}),Rt=(k,T,V)=>({element:k,colspan:T,column:V}),Sr=(k,T)=>({element:k,columns:T}),fn=(k,T,V=Ct)=>{if(V(T))return qe.none();if($o(k,Fo(T)))return qe.some(T);const Q=ye=>ko(ye,"table")||V(ye);return Hi(T,k.join(","),Q)},xr=(k,T)=>fn(["td","th"],k,T),fr=k=>Yl(k,"th,td"),Xc=k=>ko(k,"colgroup")?el(k,"col"):Ne(jg(k),T=>el(T,"col")),oi=(k,T)=>yn(k,"table",T),iu=k=>Yl(k,"tr"),jg=k=>oi(k).fold(Nn([]),T=>el(T,"colgroup")),Df=(k,T)=>fo(k,V=>{if(Fo(V)==="colgroup"){const Q=fo(Xc(V),ye=>{const Ie=Dn(ye,"span",1);return _e(ye,1,Ie)});return dt(V,Q,"colgroup")}else{const Q=fo(fr(V),ye=>{const Ie=Dn(ye,"rowspan",1),xe=Dn(ye,"colspan",1);return _e(ye,Ie,xe)});return dt(V,Q,T(V))}}),Zg=k=>Ya(k).map(T=>{const V=Fo(T);return q(V)?V:"tbody"}).getOr("tbody"),gt=k=>{const T=iu(k),Q=[...jg(k),...T];return Df(Q,Zg)},Pd="data-snooker-locked-cols",Jc=k=>ha(k,Pd).bind(T=>qe.from(T.match(/\d+/g))).map(T=>it(T,pe)),Mf=(k,T)=>k+","+T,ba=(k,T,V)=>qe.from(k.access[Mf(T,V)]),Ld=(k,T,V)=>{const Q=lu(k,ye=>V(T,ye.element));return Q.length>0?qe.some(Q[0]):qe.none()},lu=(k,T)=>{const V=Ne(k.all,Q=>Q.cells);return Go(V,T)},Wg=k=>{const T={};let V=0;return H(k.cells,Q=>{const ye=Q.colspan;bo(ye,Ie=>{const xe=V+Ie;T[xe]=Rt(Q.element,ye,xe)}),V+=ye}),T},Yp=k=>{const T={},V=[],ye=to(k).map(ja=>ja.element).bind(oi).bind(Jc).getOr({});let Ie=0,xe=0,Bt=0;const{pass:Gt,fail:Mo}=ir(k,ja=>ja.section==="colgroup");H(Mo,ja=>{const ii=[];H(ja.cells,dc=>{let dd=0;for(;T[Mf(Bt,dd)]!==void 0;)dd++;const Tr=un(ye,dd.toString()),zs=He(dc.element,dc.rowspan,dc.colspan,Bt,dd,Tr);for(let lr=0;lr<dc.colspan;lr++)for(let cr=0;cr<dc.rowspan;cr++){const yl=Bt+cr,li=dd+lr,jf=Mf(yl,li);T[jf]=zs,xe=Math.max(xe,li+1)}ii.push(zs)}),Ie++,V.push(dt(ja.element,ii,ja.section)),Bt++});const{columns:nr,colgroups:rr}=mo(Gt).map(ja=>{const ii=Wg(ja);return{colgroups:[Sr(ja.element,io(ii))],columns:ii}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ae(Ie,xe),access:T,all:V,columns:nr,colgroups:rr}},Cc={fromTable:k=>{const T=gt(k);return Yp(T)},generate:Yp,getAt:ba,findItem:Ld,filterItems:lu,justCells:k=>Ne(k.all,T=>T.cells),justColumns:k=>io(k.columns),hasColumns:k=>Zn(k.columns).length>0,getColumnAt:(k,T)=>qe.from(k.columns[T])};var Id=tinymce.util.Tools.resolve("tinymce.util.Tools");const Zu=(k,T,V)=>{const Q=k.select("td,th",T);let ye;for(let Ie=0;Ie<Q.length;Ie++){const xe=k.getStyle(Q[Ie],V);if(qt(ye)&&(ye=xe),ye!==xe)return""}return ye},Js=(k,T,V)=>{Id.each("left center right".split(" "),Q=>{Q!==V&&k.formatter.remove("align"+Q,{},T)}),V&&k.formatter.apply("align"+V,{},T)},Qc=(k,T,V)=>{Id.each("top middle bottom".split(" "),Q=>{Q!==V&&k.formatter.remove("valign"+Q,{},T)}),V&&k.formatter.apply("valign"+V,{},T)},Xl=(k,T,V)=>{k.dispatch("TableModified",{...V,table:T})},mn=(k,T)=>$i(k).getOr(T),Fa=(k,T,V)=>mn(Bd(k,T),V),cu=(k,T,V,Q)=>{const ye=Fa(k,`padding-${V}`,0),Ie=Fa(k,`padding-${Q}`,0),xe=Fa(k,`border-${V}-width`,0),Bt=Fa(k,`border-${Q}-width`,0);return T-ye-Ie-xe-Bt},Om=(k,T)=>{const V=k.dom,Q=V.getBoundingClientRect().width||V.offsetWidth;return cu(k,Q,"left","right")},ni=k=>Om(k);var Zs=tinymce.util.Tools.resolve("tinymce.Env");const Nl="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",xs=bo(5,k=>{const T=`${k+1}px`;return{title:T,value:T}}),ia=fo(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],k=>({title:k,value:k.toLowerCase()})),wi="100%",Tn=k=>{var T;const V=k.dom,Q=(T=V.getParent(k.selection.getStart(),V.isBlock))!==null&&T!==void 0?T:k.getBody();return ni(ut.fromDom(Q))+"px"},fl=(k,T)=>Vn(k)||!cn(k)?T:Fd(k)?{...T,width:Tn(k)}:{...T,width:wi},xa=(k,T)=>Vn(k)||cn(k)?T:Fd(k)?{...T,width:Tn(k)}:{...T,width:wi},As=k=>T=>T.options.get(k),tl=k=>{const T=k.options.register;T("table_border_widths",{processor:"object[]",default:xs}),T("table_border_styles",{processor:"object[]",default:ia}),T("table_cell_advtab",{processor:"boolean",default:!0}),T("table_row_advtab",{processor:"boolean",default:!0}),T("table_advtab",{processor:"boolean",default:!0}),T("table_appearance_options",{processor:"boolean",default:!0}),T("table_grid",{processor:"boolean",default:!Zs.deviceType.isTouch()}),T("table_cell_class_list",{processor:"object[]",default:[]}),T("table_row_class_list",{processor:"object[]",default:[]}),T("table_class_list",{processor:"object[]",default:[]}),T("table_toolbar",{processor:"string",default:Nl}),T("table_background_color_map",{processor:"object[]",default:[]}),T("table_border_color_map",{processor:"object[]",default:[]})},Sn=As("table_sizing_mode"),Ns=As("table_border_widths"),Rl=As("table_border_styles"),Rs=As("table_cell_advtab"),Cs=As("table_row_advtab"),Mt=As("table_advtab"),Dl=As("table_appearance_options"),ed=As("table_grid"),cn=As("table_style_by_css"),td=As("table_cell_class_list"),du=As("table_row_class_list"),Jl=As("table_class_list"),Wu=As("table_toolbar"),Ha=As("table_background_color_map"),Am=As("table_border_color_map"),Fd=k=>Sn(k)==="fixed",Vn=k=>Sn(k)==="responsive",Ui=k=>{const T=k.options,V=T.get("table_default_styles");return T.isSet("table_default_styles")?V:fl(k,V)},Hd=k=>{const T=k.options,V=T.get("table_default_attributes");return T.isSet("table_default_attributes")?V:xa(k,V)},Sc=(k,T)=>T.column>=k.startCol&&T.column+T.colspan-1<=k.finishCol&&T.row>=k.startRow&&T.row+T.rowspan-1<=k.finishRow,qu=(k,T)=>{let V=!0;const Q=ht(Sc,T);for(let ye=T.startRow;ye<=T.finishRow;ye++)for(let Ie=T.startCol;Ie<=T.finishCol;Ie++)V=V&&Cc.getAt(k,ye,Ie).exists(Q);return V?qe.some(T):qe.none()},re=(k,T)=>It(Math.min(k.row,T.row),Math.min(k.column,T.column),Math.max(k.row+k.rowspan-1,T.row+T.rowspan-1),Math.max(k.column+k.colspan-1,T.column+T.colspan-1)),va=(k,T,V)=>{const Q=Cc.findItem(k,T,rt),ye=Cc.findItem(k,V,rt);return Q.bind(Ie=>ye.map(xe=>re(Ie,xe)))},Va=(k,T,V)=>va(k,T,V).bind(Q=>qu(k,Q)),Nm=(k,T,V)=>{const Q=Rm(k);return Va(Q,T,V)},Rm=Cc.fromTable,Ci=(k,T)=>{Ya(k).each(Q=>{Q.dom.insertBefore(T.dom,k.dom)})},Xo=(k,T)=>{_t(k).fold(()=>{Ya(k).each(ye=>{ol(ye,T)})},Q=>{Ci(Q,T)})},$a=(k,T)=>{Dr(k).fold(()=>{ol(k,T)},Q=>{k.dom.insertBefore(T.dom,Q.dom)})},ol=(k,T)=>{k.dom.appendChild(T.dom)},Ml=(k,T)=>{Ci(k,T),ol(T,k)},uu=(k,T)=>{H(T,(V,Q)=>{const ye=Q===0?k:T[Q-1];Xo(ye,V)})},Er=(k,T)=>{H(T,V=>{ol(k,V)})},ri=k=>{const T=k.dom;T.parentNode!==null&&T.parentNode.removeChild(T)},Ql=k=>{const T=Qi(k);T.length>0&&uu(k,T),ri(k)},od=((k,T)=>{const V=Ie=>{if(!k(Ie))throw new Error("Can only get "+T+" value of a "+T+" node");return Q(Ie).getOr("")},Q=Ie=>k(Ie)?qe.from(Ie.dom.nodeValue):qe.none();return{get:V,getOption:Q,set:(Ie,xe)=>{if(!k(Ie))throw new Error("Can only set raw "+T+" value of a "+T+" node");Ie.dom.nodeValue=xe}}})(zl,"text"),ml=k=>od.get(k),Vd=(k,T)=>od.set(k,T);var fu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],tc=()=>{const k=Mo=>ut.fromDom(Mo.dom.cloneNode(!1)),T=Mo=>go(Mo).dom,V=Mo=>El(Mo)?Fo(Mo)==="body"?!0:$o(fu,Fo(Mo)):!1,Q=Mo=>El(Mo)?$o(["br","img","hr","input"],Fo(Mo)):!1,ye=Mo=>El(Mo)&&qn(Mo,"contenteditable")==="false",Ie=(Mo,nr)=>Mo.dom.compareDocumentPosition(nr.dom),xe=(Mo,nr)=>{const rr=su(Mo);$s(nr,rr)},Bt=Mo=>{const nr=Fo(Mo);return $o(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],nr)},Gt=Mo=>El(Mo)?ha(Mo,"lang"):qe.none();return{up:Nn({selector:Hi,closest:yn,predicate:Ja,all:Os}),down:Nn({selector:cs,predicate:ga}),styles:Nn({get:Bd,getRaw:Aa,set:Al,remove:ju}),attrs:Nn({get:qn,set:vi,remove:ei,copyTo:xe}),insert:Nn({before:Ci,after:Xo,afterAll:uu,append:ol,appendAll:Er,prepend:$a,wrap:Ml}),remove:Nn({unwrap:Ql,remove:ri}),create:Nn({nu:ut.fromTag,clone:k,text:ut.fromText}),query:Nn({comparePosition:Ie,prevSibling:kc,nextSibling:_t}),property:Nn({children:Qi,name:Fo,parent:Ya,document:T,isText:zl,isComment:bs,isElement:El,isSpecial:Bt,getLanguage:Gt,getText:ml,setText:Vd,isBoundary:V,isEmptyTag:Q,isNonEditable:ye}),eq:rt,is:Ka}};const _a=(k,T,V,Q)=>{const ye=V[0],Ie=V.slice(1);return Q(k,T,ye,Ie)},$d=(k,T,V)=>V.length>0?_a(k,T,V,Dm):qe.none(),Dm=(k,T,V,Q)=>{const ye=T(k,V);return gi(Q,(Ie,xe)=>{const Bt=T(k,xe);return mu(k,Ie,Bt)},ye)},mu=(k,T,V)=>T.bind(Q=>V.filter(ht(k.eq,Q))),pu=$d,Si=tc(),no=(k,T)=>pu(Si,(V,Q)=>k(Q),T),Ei=k=>Hi(k,"table"),nd=(k,T)=>{const V=cs(k,T);return V.length>0?qe.some(V):qe.none()},gu=(k,T,V)=>Rd(k,T).bind(Q=>Rd(k,V).bind(ye=>no(Ei,[Q,ye]).map(Ie=>({first:Q,last:ye,table:Ie})))),hu=(k,T)=>nd(k,T),ji=(k,T,V)=>gu(k,T,V).bind(Q=>{const ye=Gt=>rt(k,Gt),Ie="thead,tfoot,tbody,table",xe=Hi(Q.first,Ie,ye),Bt=Hi(Q.last,Ie,ye);return xe.bind(Gt=>Bt.bind(Mo=>rt(Gt,Mo)?Nm(Q.table,Q.first,Q.last):qe.none()))}),rd=k=>fo(k,ut.fromDom),bu="data-mce-selected",Mr="data-mce-first-selected",yu="td["+Mr+"],th["+Mr+"]",pl="data-mce-last-selected",Ec="td["+pl+"],th["+pl+"]",Pf={selected:bu,firstSelectedSelector:yu,lastSelectedSelector:Ec},oc=k=>oi(k).bind(T=>hu(T,Pf.firstSelectedSelector)).fold(Nn(k),T=>T[0]),nc=k=>(T,V)=>{const Q=Fo(T),ye=Q==="col"||Q==="colgroup"?oc(T):T;return yn(ye,k,V)},sd=nc("th,td,caption"),tr=nc("th,td"),la=k=>rd(k.model.table.getSelectedCells()),ka=(k,T)=>{const V=tr(k),Q=V.bind(ye=>oi(ye)).map(ye=>iu(ye));return ds(V,Q,(ye,Ie)=>Go(Ie,xe=>Eo(rd(xe.dom.cells),Bt=>qn(Bt,T)==="1"||rt(Bt,ye)))).getOr([])},si=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Ua=k=>({value:Lf(k)}),zc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ss=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ca=k=>zc.test(k)||Ss.test(k),Lf=k=>Ol(k,"#").toUpperCase(),Ge=k=>ca(k)?qe.some({value:Lf(k)}):qe.none(),Qs=k=>{const T=k.toString(16);return(T.length===1?"0"+T:T).toUpperCase()},zi=k=>{const T=Qs(k.red)+Qs(k.green)+Qs(k.blue);return Ua(T)},ms=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ws=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ti=(k,T,V,Q)=>({red:k,green:T,blue:V,alpha:Q}),gl=(k,T,V,Q)=>{const ye=parseInt(k,10),Ie=parseInt(T,10),xe=parseInt(V,10),Bt=parseFloat(Q);return Ti(ye,Ie,xe,Bt)},If=k=>{const T=ms.exec(k);if(T!==null)return qe.some(gl(T[1],T[2],T[3],"1"));const V=Ws.exec(k);return V!==null?qe.some(gl(V[1],V[2],V[3],V[4])):qe.none()},jr=k=>Ge(k).orThunk(()=>If(k).map(zi)).getOrThunk(()=>{const T=document.createElement("canvas");T.height=1,T.width=1;const V=T.getContext("2d");V.clearRect(0,0,T.width,T.height),V.fillStyle="#FFFFFF",V.fillStyle=k,V.fillRect(0,0,1,1);const Q=V.getImageData(0,0,1,1).data,ye=Q[0],Ie=Q[1],xe=Q[2],Bt=Q[3];return zi(Ti(ye,Ie,xe,Bt))}),Jo=k=>If(k).map(zi).map(T=>"#"+T.value).getOr(k),Zi=k=>{let T=k;return{get:()=>T,set:ye=>{T=ye}}},Br=k=>{const T=Zi(qe.none()),V=()=>T.get().each(k);return{clear:()=>{V(),T.set(qe.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:Bt=>{V(),T.set(qe.some(Bt))}}},Zr=()=>Br(k=>k.unbind()),Mm=(k,T,V)=>Q=>{const ye=Zr(),Ie=wc(V),xe=()=>{const Bt=la(k),Gt=Mo=>k.formatter.match(T,{value:V},Mo.dom,Ie);Ie?(Q.setActive(!Eo(Bt,Gt)),ye.set(k.formatter.formatChanged(T,Mo=>Q.setActive(!Mo),!0))):(Q.setActive(yt(Bt,Gt)),ye.set(k.formatter.formatChanged(T,Q.setActive,!1,{value:V})))};return k.initialized?xe():k.on("init",xe),ye.clear},Na=k=>un(k,"menu"),rc=k=>fo(k,T=>{const V=T.text||T.title||"";return Na(T)?{text:V,items:rc(T.menu)}:{text:V,value:T.value}}),dn=k=>k.length?qe.some(rc([{text:"Select...",value:"mce-no-match"},...k])):qe.none(),Ee=(k,T,V,Q)=>fo(T,ye=>{const Ie=ye.text||ye.title;return Na(ye)?{type:"nestedmenuitem",text:Ie,getSubmenuItems:()=>Ee(k,ye.menu,V,Q)}:{text:Ie,type:"togglemenuitem",onAction:()=>Q(ye.value),onSetup:Mm(k,V,ye.value)}}),wa=(k,T)=>V=>{k.execCommand("mceTableApplyCellStyle",!1,{[T]:V})},Ra=k=>Ne(k,T=>Na(T)?[{...T,menu:Ra(T.menu)}]:Us(T.value)?[T]:[]),or=(k,T,V,Q)=>ye=>ye(Ee(k,T,V,Q)),Ca=(k,T,V)=>{const Q=fo(T,ye=>({text:ye.title,value:"#"+jr(ye.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Q.length>0?Q:void 0,allowCustomColors:!1},onAction:ye=>{const Ie=ye.value==="remove"?"":ye.value;k.execCommand("mceTableApplyCellStyle",!1,{[V]:Ie})}}]},ea=k=>()=>{const V=k.queryCommandValue("mceTableRowType")==="header"?"body":"header";k.execCommand("mceTableRowType",!1,{type:V})},Xn=k=>()=>{const V=k.queryCommandValue("mceTableColType")==="th"?"td":"th";k.execCommand("mceTableColType",!1,{type:V})},sc=k=>dn(td(k)).map(T=>({name:"class",type:"listbox",label:"Class",items:T})),Ff=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:si}],S=k=>Ff.concat(sc(k).toArray()),M=(k,T)=>{const Q=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(rc(Rl(k)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:T==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Q):Q}},le={normal:(k,T)=>{const V=k.dom;return{setAttrib:(xe,Bt)=>{V.setAttrib(T,xe,Bt)},setStyle:(xe,Bt)=>{V.setStyle(T,xe,Bt)},setFormat:(xe,Bt)=>{Bt===""?k.formatter.remove(xe,{value:null},T,!0):k.formatter.apply(xe,{value:Bt},T)}}}},ge=Tl("th"),nt=(k,T)=>k&&T?"sectionCells":k?"section":"cells",ro=k=>{const T=k.section==="thead",V=lo(Ho(k.cells),"th");return k.section==="tfoot"?{type:"footer"}:T||V?{type:"header",subType:nt(T,V)}:{type:"body"}},Ho=k=>{const T=Go(k,V=>ge(V.element));return T.length===0?qe.some("td"):T.length===k.length?qe.some("th"):qe.none()},_o=k=>{const T=fo(k,ye=>ro(ye).type),V=$o(T,"header"),Q=$o(T,"footer");if(!V&&!Q)return qe.some("body");{const ye=$o(T,"body");return V&&!ye&&!Q?qe.some("header"):!V&&!ye&&Q?qe.some("footer"):qe.none()}},Dt=k=>{let T=!1,V;return(...Q)=>(T||(T=!0,V=k.apply(null,Q)),V)},Ln=(k,T)=>Wo(k.all,V=>Cn(V.cells,Q=>rt(T,Q.element))),ns=(k,T,V)=>{const Q=fo(T.selection,Ie=>xr(Ie).bind(xe=>Ln(k,xe)).filter(V)),ye=ws(Q);return au(ye.length>0,ye)},Wi=(k,T)=>T.mergable,ai=(k,T)=>T.unmergable,Da=(k,T)=>ns(k,T,pe),Bm=(k,T)=>Ln(k,T).exists(V=>!V.isLocked),Ud=(k,T)=>yt(T,V=>Bm(k,V)),Ds=(k,T)=>Wi(k,T).filter(V=>Ud(k,V.cells)),Oi=(k,T)=>ai(k,T).filter(V=>Ud(k,V));({...{generate:k=>{if(!Ro(k))throw new Error("cases must be an array");if(k.length===0)throw new Error("there must be at least one case");const T=[],V={};return H(k,(Q,ye)=>{const Ie=Zn(Q);if(Ie.length!==1)throw new Error("one and only one name per case");const xe=Ie[0],Bt=Q[xe];if(V[xe]!==void 0)throw new Error("duplicate key detected:"+xe);if(xe==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ro(Bt))throw new Error("case arguments must be an array");T.push(xe),V[xe]=(...Gt)=>{const Mo=Gt.length;if(Mo!==Bt.length)throw new Error("Wrong number of arguments to case "+xe+". Expected "+Bt.length+" ("+Bt+"), got "+Mo);return{fold:(...rr)=>{if(rr.length!==k.length)throw new Error("Wrong number of arguments to fold. Expected "+k.length+", got "+rr.length);return rr[ye].apply(null,Gt)},match:rr=>{const Pr=Zn(rr);if(T.length!==Pr.length)throw new Error("Wrong number of arguments to match. Expected: "+T.join(",")+`
Actual: `+Pr.join(","));if(!yt(T,ii=>$o(Pr,ii)))throw new Error("Not all branches were specified when using match. Specified: "+Pr.join(", ")+`
Required: `+T.join(", "));return rr[xe].apply(null,Gt)},log:rr=>{console.log(rr,{constructors:T,constructor:xe,params:Gt})}}}}),V}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const rs=(k,T)=>{const V=Cc.fromTable(k);return Da(V,T).bind(ye=>{const Ie=ye[ye.length-1],xe=ye[0].row,Bt=Ie.row+Ie.rowspan,Gt=V.all.slice(xe,Bt);return _o(Gt)}).getOr("")},Tc=k=>Zt(k,"rgb")?Jo(k):k,Oc=k=>{const T=ut.fromDom(k);return{borderwidth:Aa(T,"border-width").getOr(""),borderstyle:Aa(T,"border-style").getOr(""),bordercolor:Aa(T,"border-color").map(Tc).getOr(""),backgroundcolor:Aa(T,"background-color").map(Tc).getOr("")}},kb=k=>{const T=k[0],V=k.slice(1);return H(V,Q=>{H(Zn(T),ye=>{Po(Q,(Ie,xe)=>{const Bt=T[ye];Bt!==""&&ye===xe&&Bt!==Ie&&(T[ye]=ye==="class"?"mce-no-match":"")})})}),T},Ac=(k,T,V,Q)=>Cn(k,ye=>!qt(V.formatter.matchNode(Q,T+ye))).getOr(""),Jp=ht(Ac,["left","center","right"],"align"),wb=ht(Ac,["top","middle","bottom"],"valign"),ps=(k,T)=>{const V=Ui(k),Q=Hd(k),ye=()=>({borderstyle:qr(V,"border-style").getOr(""),bordercolor:Tc(qr(V,"border-color").getOr("")),backgroundcolor:Tc(qr(V,"background-color").getOr(""))}),Ie={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},xe=()=>{const nr=V["border-width"];return cn(k)&&nr?{border:nr}:qr(Q,"border").fold(()=>({}),rr=>({border:rr}))},Bt=T?ye():{},Gt=()=>{const nr=qr(V,"border-spacing").or(qr(Q,"cellspacing")).fold(()=>({}),Pr=>({cellspacing:Pr})),rr=qr(V,"border-padding").or(qr(Q,"cellpadding")).fold(()=>({}),Pr=>({cellpadding:Pr}));return{...nr,...rr}};return{...Ie,...V,...Q,...Bt,...xe(),...Gt()}},O1=k=>oi(ut.fromDom(k)).map(T=>{const V={selection:rd(k.cells)};return rs(T,V)}).getOr(""),Nc=(k,T,V)=>{const Q=(Bt,Gt)=>{const Mo=Aa(ut.fromDom(Gt),"border-width");return cn(k)&&Mo.isSome()?Mo.getOr(""):Bt.getAttrib(Gt,"border")||Zu(k.dom,Gt,"border-width")||Zu(k.dom,Gt,"border")||""},ye=k.dom,Ie=cn(k)?ye.getStyle(T,"border-spacing")||ye.getAttrib(T,"cellspacing"):ye.getAttrib(T,"cellspacing")||ye.getStyle(T,"border-spacing"),xe=cn(k)?Zu(ye,T,"padding")||ye.getAttrib(T,"cellpadding"):ye.getAttrib(T,"cellpadding")||Zu(ye,T,"padding");return{width:ye.getStyle(T,"width")||ye.getAttrib(T,"width"),height:ye.getStyle(T,"height")||ye.getAttrib(T,"height"),cellspacing:Ie??"",cellpadding:xe??"",border:Q(ye,T),caption:!!ye.select("caption",T)[0],class:ye.getAttrib(T,"class",""),align:Jp(k,T),...V?Oc(T):{}}},bl=(k,T,V)=>{const Q=k.dom;return{height:Q.getStyle(T,"height")||Q.getAttrib(T,"height"),class:Q.getAttrib(T,"class",""),type:O1(T),align:Jp(k,T),...V?Oc(T):{}}},Hf=(k,T,V,Q)=>{const ye=k.dom,Ie=Q.getOr(T);return{width:((Bt,Gt)=>ye.getStyle(Bt,Gt)||ye.getAttrib(Bt,Gt))(Ie,"width"),scope:ye.getAttrib(T,"scope"),celltype:Uu(T),class:ye.getAttrib(T,"class",""),halign:Jp(k,T),valign:wb(k,T),...V?Oc(T):{}}},At=(k,T)=>{const V=Cc.fromTable(k),Q=Cc.justCells(V),ye=Go(Q,Ie=>Eo(T,xe=>rt(Ie.element,xe)));return fo(ye,Ie=>({element:Ie.element.dom,column:Cc.getColumnAt(V,Ie.column).map(xe=>xe.element.dom)}))},ta=(k,T,V,Q)=>{Q("scope")&&k.setAttrib("scope",V.scope),Q("class")&&V.class!=="mce-no-match"&&k.setAttrib("class",V.class),Q("width")&&T.setStyle("width",xi(V.width))},Lm=(k,T,V)=>{V("backgroundcolor")&&k.setFormat("tablecellbackgroundcolor",T.backgroundcolor),V("bordercolor")&&k.setFormat("tablecellbordercolor",T.bordercolor),V("borderstyle")&&k.setFormat("tablecellborderstyle",T.borderstyle),V("borderwidth")&&k.setFormat("tablecellborderwidth",xi(T.borderwidth))},ad=(k,T,V,Q)=>{const ye=T.length===1;H(T,Ie=>{const xe=Ie.element,Bt=ye?pe:Q,Gt=le.normal(k,xe),Mo=Ie.column.map(nr=>le.normal(k,nr)).getOr(Gt);ta(Gt,Mo,V,Bt),Rs(k)&&Lm(Gt,V,Bt),Q("halign")&&Js(k,xe,V.halign),Q("valign")&&Qc(k,xe,V.valign)})},Bl=(k,T)=>{k.execCommand("mceTableCellType",!1,{type:T.celltype,no_events:!0})},jd=(k,T,V,Q)=>{const ye=O(Q,(Ie,xe)=>V[xe]!==Ie);Do(ye)>0&&T.length>=1&&oi(T[0]).each(Ie=>{const xe=At(Ie,T),Bt=Do(O(ye,(Mo,nr)=>nr!=="scope"&&nr!=="celltype"))>0,Gt=Je(ye,"celltype");(Bt||Je(ye,"scope"))&&ad(k,xe,Q,ht(Je,ye)),Gt&&Bl(k,Q),Xl(k,Ie.dom,{structure:Gt,style:Bt})})},Vf=(k,T,V,Q)=>{const ye=Q.getData();Q.close(),k.undoManager.transact(()=>{jd(k,T,V,ye),k.focus()})},ac=(k,T)=>{const V=oi(T[0]).map(Q=>fo(At(Q,T),ye=>Hf(k,ye.element,Rs(k),ye.column)));return kb(V.getOrDie())},Cb=k=>{const T=la(k);if(T.length===0)return;const V=ac(k,T),Q={type:"tabpanel",tabs:[{title:"General",name:"general",items:S(k)},M(k,"cell")]},ye={type:"panel",items:[{type:"grid",columns:2,items:S(k)}]};k.windowManager.open({title:"Cell Properties",size:"normal",body:Rs(k)?Q:ye,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:V,onSubmit:ht(Vf,k,T,V)})},id=k=>dn(du(k)).map(T=>({name:"class",type:"listbox",label:"Class",items:T})),Im=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],xu=k=>Im.concat(id(k).toArray()),lt=(k,T,V)=>{V("class")&&T.class!=="mce-no-match"&&k.setAttrib("class",T.class),V("height")&&k.setStyle("height",xi(T.height))},ld=(k,T,V)=>{V("backgroundcolor")&&k.setStyle("background-color",T.backgroundcolor),V("bordercolor")&&k.setStyle("border-color",T.bordercolor),V("borderstyle")&&k.setStyle("border-style",T.borderstyle)},Gu=(k,T,V,Q)=>{const Ie=T.length===1?pe:Q;H(T,xe=>{const Bt=el(ut.fromDom(xe),"td,th"),Gt=le.normal(k,xe);lt(Gt,V,Ie),Cs(k)&&ld(Gt,V,Ie),Q("height")&&H(Bt,Mo=>{k.dom.setStyle(Mo.dom,"height",null)}),Q("align")&&Js(k,xe,V.align)})},ic=(k,T)=>{k.execCommand("mceTableRowType",!1,{type:T.type,no_events:!0})},cd=(k,T,V,Q)=>{const ye=O(Q,(Ie,xe)=>V[xe]!==Ie);if(Do(ye)>0){const Ie=Je(ye,"type"),xe=Ie?Do(ye)>1:!0;xe&&Gu(k,T,Q,ht(Je,ye)),Ie&&ic(k,Q),oi(ut.fromDom(T[0])).each(Bt=>Xl(k,Bt.dom,{structure:Ie,style:xe}))}},Ku=(k,T,V,Q)=>{const ye=Q.getData();Q.close(),k.undoManager.transact(()=>{cd(k,T,V,ye),k.focus()})},ss=k=>{const T=ka(br(k),Pf.selected);if(T.length===0)return;const V=fo(T,xe=>bl(k,xe.dom,Cs(k))),Q=kb(V),ye={type:"tabpanel",tabs:[{title:"General",name:"general",items:xu(k)},M(k,"row")]},Ie={type:"panel",items:[{type:"grid",columns:2,items:xu(k)}]};k.windowManager.open({title:"Row Properties",size:"normal",body:Cs(k)?ye:Ie,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:ht(Ku,k,fo(T,xe=>xe.dom),Q)})},Zd=(k,T,V)=>{const Q=V?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ye=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ie=Dl(k)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],xe=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Bt=T.length>0?[{name:"class",type:"listbox",label:"Class",items:T}]:[];return Q.concat(ye).concat(Ie).concat(xe).concat(Bt)},Ai=(k,T,V,Q)=>{if(T.tagName==="TD"||T.tagName==="TH")So(V)&&hr(Q)?k.setStyle(T,V,Q):k.setStyles(T,V);else if(T.children)for(let ye=0;ye<T.children.length;ye++)Ai(k,T.children[ye],V,Q)},vr=(k,T,V,Q)=>{const ye=k.dom,Ie={},xe={},Bt=cn(k),Gt=Mt(k),Mo=parseFloat(V.border)===0;if(!qt(V.class)&&V.class!=="mce-no-match"&&(Ie.class=V.class),xe.height=xi(V.height),Bt?xe.width=xi(V.width):ye.getAttrib(T,"width")&&(Ie.width=yi(V.width)),Bt?(Mo?(Ie.border=0,xe["border-width"]=""):(xe["border-width"]=xi(V.border),Ie.border=1),xe["border-spacing"]=xi(V.cellspacing)):(Ie.border=Mo?0:V.border,Ie.cellpadding=V.cellpadding,Ie.cellspacing=V.cellspacing),Bt&&T.children){const nr={};if(Mo?nr["border-width"]="":Q.border&&(nr["border-width"]=xi(V.border)),Q.cellpadding&&(nr.padding=xi(V.cellpadding)),Gt&&Q.bordercolor&&(nr["border-color"]=V.bordercolor),!Li(nr))for(let rr=0;rr<T.children.length;rr++)Ai(ye,T.children[rr],nr)}if(Gt){const nr=V;xe["background-color"]=nr.backgroundcolor,xe["border-color"]=nr.bordercolor,xe["border-style"]=nr.borderstyle}ye.setStyles(T,{...Ui(k),...xe}),ye.setAttribs(T,{...Hd(k),...Ie})},Fm=(k,T,V,Q)=>{const ye=k.dom,Ie=Q.getData(),xe=O(Ie,(Bt,Gt)=>V[Gt]!==Bt);Q.close(),k.undoManager.transact(()=>{if(!T){const Bt=wr(Ie.cols).getOr(1),Gt=wr(Ie.rows).getOr(1);k.execCommand("mceInsertTable",!1,{rows:Gt,columns:Bt}),T=tr(br(k),os(k)).bind(Mo=>oi(Mo,os(k))).map(Mo=>Mo.dom).getOrDie()}if(Do(xe)>0){const Bt={border:Je(xe,"border"),bordercolor:Je(xe,"bordercolor"),cellpadding:Je(xe,"cellpadding")};vr(k,T,Ie,Bt);const Gt=ye.select("caption",T)[0];(Gt&&!Ie.caption||!Gt&&Ie.caption)&&k.execCommand("mceTableToggleCaption"),Js(k,T,Ie.align)}if(k.focus(),k.addVisual(),Do(xe)>0){const Bt=Je(xe,"caption"),Gt=Bt?Do(xe)>1:!0;Xl(k,T,{structure:Bt,style:Gt})}})},Vo=(k,T)=>{const V=k.dom;let Q,ye=ps(k,Mt(k));T?(ye.cols="1",ye.rows="1",Mt(k)&&(ye.borderstyle="",ye.bordercolor="",ye.backgroundcolor="")):(Q=V.getParent(k.selection.getStart(),"table",k.getBody()),Q?ye=Nc(k,Q,Mt(k)):Mt(k)&&(ye.borderstyle="",ye.bordercolor="",ye.backgroundcolor=""));const Ie=dn(Jl(k));Ie.isSome()&&ye.class&&(ye.class=ye.class.replace(/\s*mce\-item\-table\s*/g,""));const xe={type:"grid",columns:2,items:Zd(k,Ie.getOr([]),T)},Bt=()=>({type:"panel",items:[xe]}),Gt=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[xe]},M(k,"table")]}),Mo=Mt(k)?Gt():Bt();k.windowManager.open({title:"Table Properties",size:"normal",body:Mo,onSubmit:ht(Fm,k,Q,ye),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ye})},Vt=k=>{const T=V=>{Vi(br(k))&&V()};Po({mceTableProps:ht(Vo,k,!1),mceTableRowProps:ht(ss,k),mceTableCellProps:ht(Cb,k),mceInsertTableDialog:ht(Vo,k,!0)},(V,Q)=>k.addCommand(Q,()=>T(V)))},qi=(k,T)=>Nd(k,T).isSome(),Yu=et,$f=k=>{const T=(Q,ye)=>ha(Q,ye).exists(Ie=>parseInt(Ie,10)>1),V=Q=>T(Q,"rowspan")||T(Q,"colspan");return k.length>0&&yt(k,V)?qe.some(k):qe.none()},Yg=(k,T,V)=>T.length<=1?qe.none():ji(k,V.firstSelectedSelector,V.lastSelectedSelector).map(Q=>({bounds:Q,cells:T})),mr=k=>({element:k,mergable:qe.none(),unmergable:qe.none(),selection:[k]}),Sb=(k,T,V)=>({element:V,mergable:Yg(T,k,Pf),unmergable:$f(k),selection:Yu(k)}),A1=k=>{const T=Zi(qe.none()),V=Zi([]);let Q=qe.none();const ye=Tl("caption"),Ie=pn=>Q.forall(as=>!as[pn]),xe=()=>sd(br(k),os(k)),Bt=()=>sd(ur(k),os(k)),Gt=()=>xe().bind(pn=>us(ds(oi(pn),Bt().bind(oi),(as,ci)=>rt(as,ci)?ye(pn)?qe.some(mr(pn)):qe.some(Sb(la(k),as,pn)):qe.none()))),Mo=pn=>oi(pn.element).map(ci=>{const vl=Cc.fromTable(ci),Jg=Da(vl,pn).getOr([]),Eb=dl(Jg,(Rc,Zf)=>(Zf.isLocked&&(Rc.onAny=!0,Zf.column===0?Rc.onFirst=!0:Zf.column+Zf.colspan>=vl.grid.columns&&(Rc.onLast=!0)),Rc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Ds(vl,pn).isSome(),unmergeable:Oi(vl,pn).isSome(),locked:Eb}}),nr=()=>{T.set(Dt(Gt)()),Q=T.get().bind(Mo),H(V.get(),ue)},rr=pn=>(pn(),V.set(V.get().concat([pn])),()=>{V.set(Go(V.get(),as=>as!==pn))}),Pr=(pn,as)=>rr(()=>T.get().fold(()=>{pn.setEnabled(!1)},ci=>{pn.setEnabled(!as(ci)&&k.selection.isEditable())})),ja=(pn,as,ci)=>rr(()=>T.get().fold(()=>{pn.setEnabled(!1),pn.setActive(!1)},vl=>{pn.setEnabled(!as(vl)&&k.selection.isEditable()),pn.setActive(ci(vl))})),ii=pn=>Q.exists(as=>as.locked[pn]),dc=pn=>Pr(pn,as=>!1),dd=pn=>Pr(pn,as=>ye(as.element)),Tr=pn=>as=>Pr(as,ci=>ye(ci.element)||ii(pn)),zs=pn=>as=>Pr(as,ci=>ye(ci.element)||pn().isNone()),lr=(pn,as)=>ci=>Pr(ci,vl=>ye(vl.element)||pn().isNone()||ii(as)),cr=pn=>Pr(pn,as=>Ie("mergeable")),yl=pn=>Pr(pn,as=>Ie("unmergeable")),li=pn=>ja(pn,Ct,as=>oi(as.element,os(k)).exists(vl=>qi(vl,"caption"))),jf=(pn,as)=>ci=>ja(ci,vl=>ye(vl.element),()=>k.queryCommandValue(pn)===as),xl=jf("mceTableRowType","header"),Xg=jf("mceTableColType","th");return k.on("NodeChange ExecCommand TableSelectorChange",nr),{onSetupTable:dc,onSetupCellOrRow:dd,onSetupColumn:Tr,onSetupPasteable:zs,onSetupPasteableColumn:lr,onSetupMergeable:cr,onSetupUnmergeable:yl,resetTargets:nr,onSetupTableWithCaption:li,onSetupTableRowHeaders:xl,onSetupTableColumnHeaders:Xg,targets:T.get}};var je=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Xu="x-tinymce/dom-table-",Hm=Xu+"rows",Ju=Xu+"columns",Qu=k=>{var T;const V=(T=je.read())!==null&&T!==void 0?T:[];return Wo(V,Q=>qe.from(Q.getType(k)))},lc=()=>Qu(Hm),Pl=()=>Qu(Ju),Es=k=>T=>{const V=()=>{T.setEnabled(k.selection.isEditable())};return k.on("NodeChange",V),V(),()=>{k.off("NodeChange",V)}},Jn=(k,T)=>{k.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Es(k),fetch:Bt=>Bt("inserttable | cell row column | advtablesort | tableprops deletetable")});const V=Bt=>()=>k.execCommand(Bt),Q=(Bt,Gt)=>{k.queryCommandSupported(Gt.command)&&k.ui.registry.addButton(Bt,{...Gt,onAction:Vr(Gt.onAction)?Gt.onAction:V(Gt.command)})},ye=(Bt,Gt)=>{k.queryCommandSupported(Gt.command)&&k.ui.registry.addToggleButton(Bt,{...Gt,onAction:Vr(Gt.onAction)?Gt.onAction:V(Gt.command)})};Q("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:T.onSetupTable}),Q("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:T.onSetupTable}),Q("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:T.onSetupCellOrRow}),Q("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:T.onSetupMergeable}),Q("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:T.onSetupUnmergeable}),Q("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:T.onSetupCellOrRow}),Q("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:T.onSetupCellOrRow}),Q("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:T.onSetupCellOrRow}),Q("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:T.onSetupCellOrRow}),Q("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:T.onSetupColumn("onFirst")}),Q("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:T.onSetupColumn("onLast")}),Q("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:T.onSetupColumn("onAny")}),Q("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:T.onSetupCellOrRow}),Q("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:T.onSetupCellOrRow}),Q("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:T.onSetupPasteable(lc)}),Q("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:T.onSetupPasteable(lc)}),Q("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:T.onSetupColumn("onAny")}),Q("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:T.onSetupColumn("onAny")}),Q("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:T.onSetupPasteableColumn(Pl,"onFirst")}),Q("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:T.onSetupPasteableColumn(Pl,"onLast")}),Q("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Es(k)});const Ie=Ra(Jl(k));Ie.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:or(k,Ie,"tableclass",Bt=>k.execCommand("mceTableToggleClass",!1,Bt)),onSetup:T.onSetupTable});const xe=Ra(td(k));xe.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:or(k,xe,"tablecellclass",Bt=>k.execCommand("mceTableCellToggleClass",!1,Bt)),onSetup:T.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:or(k,si,"tablecellverticalalign",wa(k,"vertical-align")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:or(k,Ns(k),"tablecellborderwidth",wa(k,"border-width")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:or(k,Rl(k),"tablecellborderstyle",wa(k,"border-style")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Bt=>Bt(Ca(k,Ha(k),"background-color")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Bt=>Bt(Ca(k,Am(k),"border-color")),onSetup:T.onSetupCellOrRow})),ye("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),ye("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ea(k),onSetup:T.onSetupTableRowHeaders}),ye("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Xn(k),onSetup:T.onSetupTableColumnHeaders})},zr=k=>{const T=Q=>k.dom.is(Q,"table")&&k.getBody().contains(Q)&&k.dom.isEditable(Q.parentNode),V=Wu(k);V.length>0&&k.ui.registry.addContextToolbar("table",{predicate:T,items:V,scope:"node",position:"node"})},ef=k=>T=>{const V=()=>{T.setEnabled(k.selection.isEditable())};return k.on("NodeChange",V),V(),()=>{k.off("NodeChange",V)}},Wd=(k,T)=>{const V=rr=>()=>k.execCommand(rr),Q=(rr,Pr)=>k.queryCommandSupported(Pr.command)?(k.ui.registry.addMenuItem(rr,{...Pr,onAction:Vr(Pr.onAction)?Pr.onAction:V(Pr.command)}),!0):!1,ye=(rr,Pr)=>{k.queryCommandSupported(Pr.command)&&k.ui.registry.addToggleMenuItem(rr,{...Pr,onAction:Vr(Pr.onAction)?Pr.onAction:V(Pr.command)})},Ie=rr=>{k.execCommand("mceInsertTable",!1,{rows:rr.numRows,columns:rr.numColumns})},xe=[Q("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:T.onSetupCellOrRow}),Q("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:T.onSetupCellOrRow}),Q("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:T.onSetupCellOrRow}),Q("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:T.onSetupCellOrRow}),Q("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:T.onSetupCellOrRow}),Q("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:T.onSetupCellOrRow}),Q("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:T.onSetupPasteable(lc)}),Q("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:T.onSetupPasteable(lc)})],Bt=[Q("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:T.onSetupColumn("onFirst")}),Q("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:T.onSetupColumn("onLast")}),Q("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:T.onSetupColumn("onAny")}),Q("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:T.onSetupColumn("onAny")}),Q("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:T.onSetupColumn("onAny")}),Q("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:T.onSetupPasteableColumn(Pl,"onFirst")}),Q("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:T.onSetupPasteableColumn(Pl,"onLast")})],Gt=[Q("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:T.onSetupCellOrRow}),Q("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:T.onSetupMergeable}),Q("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:T.onSetupUnmergeable})];ed(k)?k.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ie}],onSetup:ef(k)}):k.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:V("mceInsertTableDialog"),onSetup:ef(k)}),k.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:V("mceInsertTableDialog"),onSetup:ef(k)}),Q("tableprops",{text:"Table properties",onSetup:T.onSetupTable,command:"mceTableProps"}),Q("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:T.onSetupTable,command:"mceTableDelete"}),$o(xe,!0)&&k.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Nn("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),$o(Bt,!0)&&k.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Nn("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),$o(Gt,!0)&&k.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Nn("tablecellprops tablemergecells tablesplitcells")}),k.ui.registry.addContextMenu("table",{update:()=>(T.resetTargets(),T.targets().fold(Nn(""),rr=>Fo(rr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Mo=Ra(Jl(k));Mo.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ee(k,Mo,"tableclass",rr=>k.execCommand("mceTableToggleClass",!1,rr)),onSetup:T.onSetupTable});const nr=Ra(td(k));nr.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ee(k,nr,"tablecellclass",rr=>k.execCommand("mceTableCellToggleClass",!1,rr)),onSetup:T.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ee(k,si,"tablecellverticalalign",wa(k,"vertical-align")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ee(k,Ns(k),"tablecellborderwidth",wa(k,"border-width")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ee(k,Rl(k),"tablecellborderstyle",wa(k,"border-style")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Ca(k,Ha(k),"background-color"),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Ca(k,Am(k),"border-color"),onSetup:T.onSetupCellOrRow})),ye("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),ye("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ea(k),onSetup:T.onSetupTableRowHeaders}),ye("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Xn(k),onSetup:T.onSetupTableRowHeaders})},cc=k=>{const T=A1(k);tl(k),Vt(k),Wd(k,T),Jn(k,T),zr(k)};var Uf=()=>{Tt.add("table",cc)};Uf()}()),n9}var s9;function wG(){return s9||(s9=1,kG()),o9}wG();var CG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],SG=function(Tt){return CG.map(function(zo){return zo.toLowerCase()}).indexOf(Tt.toLowerCase())!==-1},EG=function(Tt,zo,Lo){Object.keys(zo).filter(SG).forEach(function(Qo){var No=zo[Qo];typeof No=="function"&&(Qo==="onInit"?No(Tt,Lo):Lo.on(Qo.substring(2),function(Ot){return No(Ot,Lo)}))})},zG=function(Tt,zo,Lo,Qo){var No=Tt.modelEvents?Tt.modelEvents:null,Ot=Array.isArray(No)?No.join(" "):No;wP(Qo,function(So,Ro){Lo&&typeof So=="string"&&So!==Ro&&So!==Lo.getContent({format:Tt.outputFormat})&&Lo.setContent(So)}),Lo.on(Ot||"change input undo redo",function(){zo.emit("update:modelValue",Lo.getContent({format:Tt.outputFormat}))})},TG=function(Tt,zo,Lo,Qo,No,Ot){Qo.setContent(Ot()),Lo.attrs["onUpdate:modelValue"]&&zG(zo,Lo,Qo,No),EG(Tt,Lo.attrs,Qo)},a9=0,m9=function(Tt){var zo=Date.now(),Lo=Math.floor(Math.random()*1e9);return a9++,Tt+"_"+Lo+a9+String(zo)},OG=function(Tt){return Tt!==null&&Tt.tagName.toLowerCase()==="textarea"},i9=function(Tt){return typeof Tt>"u"||Tt===""?[]:Array.isArray(Tt)?Tt:Tt.split(" ")},AG=function(Tt,zo){return i9(Tt).concat(i9(zo))},NG=function(Tt){return Tt==null},l9=function(){return{listeners:[],scriptId:m9("tiny-script"),scriptLoaded:!1}},RG=function(){var Tt=l9(),zo=function(No,Ot,So,Ro){var uo=Ot.createElement("script");uo.referrerPolicy="origin",uo.type="application/javascript",uo.id=No,uo.src=So;var qt=function(){uo.removeEventListener("load",qt),Ro()};uo.addEventListener("load",qt),Ot.head&&Ot.head.appendChild(uo)},Lo=function(No,Ot,So){Tt.scriptLoaded?So():(Tt.listeners.push(So),No.getElementById(Tt.scriptId)||zo(Tt.scriptId,No,Ot,function(){Tt.listeners.forEach(function(Ro){return Ro()}),Tt.scriptLoaded=!0}))},Qo=function(){Tt=l9()};return{load:Lo,reinitialize:Qo}},DG=RG(),MG=function(){return typeof window<"u"?window:global},pv=function(){var Tt=MG();return Tt&&Tt.tinymce?Tt.tinymce:null},BG={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(Tt){return Tt==="html"||Tt==="text"}}},Ug=function(){return Ug=Object.assign||function(Tt){for(var zo,Lo=1,Qo=arguments.length;Lo<Qo;Lo++){zo=arguments[Lo];for(var No in zo)Object.prototype.hasOwnProperty.call(zo,No)&&(Tt[No]=zo[No])}return Tt},Ug.apply(this,arguments)},PG=function(Tt,zo,Lo,Qo){return Tt(Qo||"div",{id:zo,ref:Lo})},LG=function(Tt,zo,Lo){return Tt("textarea",{id:zo,visibility:"hidden",ref:Lo})},kP={selector:void 0,target:void 0},IG=CP({props:BG,setup:function(Tt,zo){var Lo=Tt.init?Ug(Ug({},Tt.init),kP):Ug({},kP),Qo=Vq(Tt),No=Qo.disabled,Ot=Qo.modelValue,So=Qo.tagName,Ro=Kp(null),uo=null,qt=Tt.id||m9("tiny-vue"),bn=Tt.init&&Tt.init.inline||Tt.inline,hr=!!zo.attrs["onUpdate:modelValue"],Vr=!0,Ht=Tt.initialValue?Tt.initialValue:"",Yt="",sn=function(Ut){return hr?function(){return Ot!=null&&Ot.value?Ot.value:""}:function(){return Ut?Ht:Yt}},Nn=function(){var Ut=sn(Vr),ht=Ug(Ug({},Lo),{readonly:Tt.disabled,target:Ro.value,plugins:AG(Lo.plugins,Tt.plugins),toolbar:Tt.toolbar||Lo.toolbar,inline:bn,license_key:Tt.licenseKey,setup:function(ue){uo=ue,ue.on("init",function(Ct){return TG(Ct,Tt,zo,ue,Ot,Ut)}),typeof Lo.setup=="function"&&Lo.setup(ue)}});OG(Ro.value)&&(Ro.value.style.visibility=""),pv().init(ht),Vr=!1};wP(No,function(Ut){var ht;uo!==null&&(typeof((ht=uo.mode)===null||ht===void 0?void 0:ht.set)=="function"?uo.mode.set(Ut?"readonly":"design"):uo.setMode(Ut?"readonly":"design"))}),wP(So,function(Ut){var ht;hr||(Yt=uo.getContent()),(ht=pv())===null||ht===void 0||ht.remove(uo),OF(function(){return Nn()})}),$q(function(){if(pv()!==null)Nn();else if(Ro.value&&Ro.value.ownerDocument){var Ut=Tt.cloudChannel?Tt.cloudChannel:"7",ht=Tt.apiKey?Tt.apiKey:"no-api-key",ue=NG(Tt.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(ht,"/tinymce/").concat(Ut,"/tinymce.min.js"):Tt.tinymceScriptSrc;DG.load(Ro.value.ownerDocument,ue,Nn)}}),Uq(function(){pv()!==null&&pv().remove(uo)}),bn||(jq(function(){Vr||Nn()}),Zq(function(){var Ut;hr||(Yt=uo.getContent()),(Ut=pv())===null||Ut===void 0||Ut.remove(uo)}));var et=function(Ut){var ht;Yt=uo.getContent(),(ht=pv())===null||ht===void 0||ht.remove(uo),Lo=Ug(Ug(Ug({},Lo),Ut),kP),OF(function(){return Nn()})};return zo.expose({rerender:et,getEditor:function(){return uo}}),function(){return bn?PG(AF,qt,Ro,Tt.tagName):LG(AF,qt,Ro)}}});const FG=CP({__name:"HTMLEditor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(Tt,{expose:zo}){const Lo={license_key:"gpl",content_style:"body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }",relative_urls:!1,convert_urls:!1},Qo=uR(Tt,"modelValue"),No=d9("editBox");return zo({insertText:So=>{No.value&&No.value.getEditor().execCommand("mceInsertContent",!1,So)}}),(So,Ro)=>(fR(),SP(u9(IG),{modelValue:Qo.value,"onUpdate:modelValue":Ro[0]||(Ro[0]=uo=>Qo.value=uo),"license-key":"gpl",plugins:"advlist code emoticons link lists table",init:Lo,ref:"editBox"},null,8,["modelValue"]))}}),HG={__name:"DateOffset",props:{modelValue:{},modelModifiers:{}},emits:f9(["insert"],["update:modelValue"]),setup(Tt,{emit:zo}){const Lo=zo,Qo=uR(Tt,"modelValue"),No=Kp([{title:"Hours",value:"HOURS"},{title:"Days",value:"DAYS"},{title:"Weeks",value:"WEEKS"},{title:"Months",value:"MONTHS"},{title:"Years",value:"YEARS"}]),Ot=Kp(""),So=Kp(0);return(Ro,uo)=>(fR(),SP(aG,{modelValue:Qo.value,"onUpdate:modelValue":uo[4]||(uo[4]=qt=>Qo.value=qt)},{default:Ks(()=>[Wr(Jq,null,{default:Ks(()=>[Wr(Qq,{class:"bg-primary mb-5"},{default:Ks(()=>[Wr(eG,null,{default:Ks(()=>uo[5]||(uo[5]=[P3(" Add Date ")])),_:1}),Wr(tG,null,{default:Ks(()=>uo[6]||(uo[6]=[P3(" Add a dynamically generated date to the email. ")])),_:1})]),_:1}),Wr(oG,null,{default:Ks(()=>[Wr(B3,null,{default:Ks(()=>[Wr(vb,null,{default:Ks(()=>[Wr(rG,{modelValue:So.value,"onUpdate:modelValue":uo[0]||(uo[0]=qt=>So.value=qt),modelModifiers:{number:!0},type:"number",label:"Quantity",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),Wr(vb,null,{default:Ks(()=>[Wr(dR,{modelValue:Ot.value,"onUpdate:modelValue":uo[1]||(uo[1]=qt=>Ot.value=qt),label:"Period",items:No.value,"item-title":"title","item-value":"value",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),Wr(nG,null,{default:Ks(()=>[Wr(L3,{text:"Cancel",color:"warning",variant:"elevated",onClick:uo[2]||(uo[2]=qt=>Qo.value=!1)}),Wr(sG),Wr(L3,{text:"Insert",color:"primary",variant:"elevated",onClick:uo[3]||(uo[3]=qt=>{Lo("insert",`DATE_OFFSET_${So.value}_${Ot.value}`),Qo.value=!1})})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},bK=CP({__name:"EmailEditor",props:f9({ownerType:{default:()=>Rf.TARGET_TYPE_SYSTEM},ownerUuid:{default:""}},{modelValue:{},modelModifiers:{},convention:{required:!1,default:void 0},conventionModifiers:{}}),emits:["update:modelValue","update:convention"],async setup(Tt){var ht,ue;let zo,Lo;const{getConvention:Qo}=Yq(),No=uR(Tt,"modelValue"),Ot=uR(Tt,"convention");Ot.value||(Ot.value=([zo,Lo]=NF(()=>Qo()),zo=await zo,Lo(),zo));const So=d9("editor"),Ro=Kp(!1),uo=Kp(),qt=Kp(),bn=Kp(),hr=Kp([{title:"Date Offset",subtitle:"Produce a date offset from today",value:"DATE_OFFSET"}]),Vr=Kp([]),Ht=Kp([{title:"Account Display Name",subtitle:"The users current profile name",value:"ACCOUNT_DISPLAY_NAME"},{title:"Email Login Recovery URL",subtitle:"One use URL for a user to access their account.",value:"ACCOUNT_RECOVERY_URL"},{title:"Convention Name",subtitle:"The convention's name",value:"CONVENTION_NAME"},{title:"Email Verification URL",subtitle:"URL used to confirm a users email address",value:"EMAIL_VERIFICATION_URL"},{title:"Organisation Name",subtitle:"The organisation's name",value:"ORGANISATION_NAME"},{title:"Payment Details",subtitle:"A list of the items being charged for and the total",value:"PAYMENT_DETAILS"},{title:"Form Name",subtitle:"Name of the form that triggered this email",value:"SUBMISSION_FORM_NAME"},{title:"Registration Reference",subtitle:"Unique reference for this registration. E.g. Badge number",value:"REGISTRATION_REFERENCE"},{title:"Submission Details",subtitle:"Auto-generated details of ticket, accommodation, cost etc.",value:"SUBMISSION_DETAILS"}]);if(Ot&&Tt.ownerType===Rf.TARGET_TYPE_CONVENTION&&((ht=Ot.value)!=null&&ht.ConventionUUID||Tt.ownerUuid)){let Ct=((ue=Ot.value)==null?void 0:ue.ConventionUUID)||Tt.ownerUuid;const pe=([zo,Lo]=NF(()=>Kq(Ct)),zo=await zo,Lo(),zo);pe&&pe.length>0&&(pe.forEach(qe=>qe.Sections.forEach(Zn=>Zn.Fields&&Vr.value.push(...Zn.Fields.map(ar=>{var Le;return{subtitle:`${qe.Name} - ${Zn.Name}`,title:`${(Le=ar.Field)==null?void 0:Le.Name}`,value:ar.SectionFieldUUID,object:ar}})))),Vr.value.sort(Xq("title")))}const Yt=()=>{uo.value!==void 0&&uo.value.value==="DATE_OFFSET"&&(Ro.value=!0)},sn=Ct=>{Ut(`[%DYNAMIC_${Ct}%]`)},Nn=()=>{qt.value!==void 0&&Ut(`[%FORM_${qt.value.title}_${qt.value.value}%]`)},et=()=>{bn.value!==void 0&&Ut(`[%${bn.value.value}%]`)},Ut=Ct=>{So.value&&So.value.insertText(Ct)};return(Ct,pe)=>(fR(),Wq(qq,null,[Wr(B3,null,{default:Ks(()=>[Wr(vb,{cols:"12"},{default:Ks(()=>[Wr(FG,{modelValue:No.value,"onUpdate:modelValue":pe[0]||(pe[0]=qe=>No.value=qe),ref_key:"editor",ref:So},null,8,["modelValue"])]),_:1})]),_:1}),Wr(B3,null,{default:Ks(()=>[Wr(vb,{cols:"9",sm:"9"},{default:Ks(()=>[Wr(dR,{modelValue:bn.value,"onUpdate:modelValue":pe[1]||(pe[1]=qe=>bn.value=qe),label:"Other Data",items:Ht.value,"item-title":"title","item-value":qe=>qe,variant:"outlined","hide-details":"",density:"compact",clearable:""},{item:Ks(({props:qe,item:Zn})=>[Wr(vP,yP(qe,{subtitle:Zn.raw.subtitle}),null,16,["subtitle"])]),selection:Ks(({item:qe,index:Zn})=>[Tm("div",null,[P3($w(qe.title)+" ",1),pe[5]||(pe[5]=Tm("br",null,null,-1)),Tm("small",null,$w(qe.raw.subtitle),1)])]),_:1},8,["modelValue","items","item-value"])]),_:1}),Wr(vb,{cols:"3",sm:"3",class:"text-right"},{default:Ks(()=>[Wr(L3,{color:"primary",style:{"min-width":"40px"},onClick:et},{default:Ks(()=>[Wr(xP,{icon:"mdi:mdi-plus",class:"d-sm-none"}),pe[6]||(pe[6]=Tm("span",{class:"d-none d-sm-inline"},"Add Item",-1))]),_:1})]),_:1})]),_:1}),Wr(B3,null,{default:Ks(()=>[Wr(vb,{cols:"9",sm:"9"},{default:Ks(()=>[Wr(dR,{modelValue:uo.value,"onUpdate:modelValue":pe[2]||(pe[2]=qe=>uo.value=qe),label:"Dynamic Data",items:hr.value,"item-title":"title","item-value":qe=>qe,variant:"outlined","hide-details":"",density:"compact",clearable:""},{item:Ks(({props:qe,item:Zn})=>[Wr(vP,yP(qe,{subtitle:Zn.raw.subtitle}),null,16,["subtitle"])]),selection:Ks(({item:qe,index:Zn})=>[Tm("div",null,[P3($w(qe.title)+" ",1),pe[7]||(pe[7]=Tm("br",null,null,-1)),Tm("small",null,$w(qe.raw.subtitle),1)])]),_:1},8,["modelValue","items","item-value"])]),_:1}),Wr(vb,{cols:"3",sm:"3",class:"text-right"},{default:Ks(()=>[Wr(L3,{color:"primary",style:{"min-width":"40px"},onClick:Yt},{default:Ks(()=>[Wr(xP,{icon:"mdi:mdi-plus",class:"d-sm-none"}),pe[8]||(pe[8]=Tm("span",{class:"d-none d-sm-inline"},"Add Item",-1))]),_:1})]),_:1})]),_:1}),Ct.ownerType===u9(Rf).TARGET_TYPE_CONVENTION?(fR(),SP(B3,{key:0},{default:Ks(()=>[Wr(vb,{cols:"9",sm:"9"},{default:Ks(()=>[Wr(dR,{modelValue:qt.value,"onUpdate:modelValue":pe[3]||(pe[3]=qe=>qt.value=qe),label:"Form Data",items:Vr.value,"item-title":"title","item-value":qe=>qe,variant:"outlined","hide-details":"",density:"compact",clearable:""},{item:Ks(({props:qe,item:Zn})=>[Wr(vP,yP(qe,{subtitle:Zn.raw.subtitle}),null,16,["subtitle"])]),selection:Ks(({item:qe,index:Zn})=>[Tm("div",null,[P3($w(qe.title)+" ",1),pe[9]||(pe[9]=Tm("br",null,null,-1)),Tm("small",null,$w(qe.raw.subtitle),1)])]),_:1},8,["modelValue","items","item-value"])]),_:1}),Wr(vb,{cols:"3",sm:"3",class:"text-right"},{default:Ks(()=>[Wr(L3,{color:"primary",style:{"min-width":"40px"},onClick:Nn},{default:Ks(()=>[Wr(xP,{icon:"mdi:mdi-plus",class:"d-sm-none"}),pe[10]||(pe[10]=Tm("span",{class:"d-none d-sm-inline"},"Add Field",-1))]),_:1})]),_:1})]),_:1})):Gq("",!0),Wr(HG,{modelValue:Ro.value,"onUpdate:modelValue":pe[4]||(pe[4]=qe=>Ro.value=qe),onInsert:sn},null,8,["modelValue"])],64))}});export{Rf as T,bK as _,gK as a,hK as u};
