import{p as M,u as R,t as d,s as w,r as c,w as B,ab as k,ai as D,c as m,bj as E}from"./index-D1IdJcDr.js";const y=Symbol.for("vuetify:form"),j=M({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function x(t){const i=R(t,"modelValue"),f=d(()=>t.disabled),v=d(()=>t.readonly),o=w(!1),a=c([]),n=c([]);async function g(){const e=[];let l=!0;n.value=[],o.value=!0;for(const r of a.value){const s=await r.validate();if(s.length>0&&(l=!1,e.push({id:r.id,errorMessages:s})),!l&&t.fastFail)break}return n.value=e,o.value=!1,{valid:l,errors:n.value}}function V(){a.value.forEach(e=>e.reset())}function b(){a.value.forEach(e=>e.resetValidation())}return B(a,()=>{let e=0,l=0;const r=[];for(const s of a.value)s.isValid===!1?(l++,r.push({id:s.id,errorMessages:s.errorMessages})):s.isValid===!0&&e++;n.value=r,i.value=l>0?!1:e===a.value.length?!0:null},{deep:!0,flush:"post"}),k(y,{register:e=>{let{id:l,vm:r,validate:s,reset:u,resetValidation:h}=e;a.value.some(F=>F.id===l),a.value.push({id:l,validate:s,reset:u,resetValidation:h,vm:E(r),isValid:null,errorMessages:[]})},unregister:e=>{a.value=a.value.filter(l=>l.id!==e)},update:(e,l,r)=>{const s=a.value.find(u=>u.id===e);s&&(s.isValid=l,s.errorMessages=r)},isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validateOn:d(()=>t.validateOn)}),{errors:n,isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validate:g,reset:V,resetValidation:b}}function P(t){const i=D(y,null);return{...i,isReadonly:m(()=>!!((t==null?void 0:t.readonly)??(i==null?void 0:i.isReadonly.value))),isDisabled:m(()=>!!((t==null?void 0:t.disabled)??(i==null?void 0:i.isDisabled.value)))}}export{x as c,j as m,P as u};
